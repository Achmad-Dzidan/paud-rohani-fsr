(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function By(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var _p={exports:{}},Qc={};var xE;function gI(){if(xE)return Qc;xE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var l=null;if(o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),"key"in r){o={};for(var u in r)u!=="key"&&(o[u]=r[u])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:o}}return Qc.Fragment=t,Qc.jsx=e,Qc.jsxs=e,Qc}var wE;function pI(){return wE||(wE=1,_p.exports=gI()),_p.exports}var M=pI(),vp={exports:{}},Mt={};var AE;function yI(){if(AE)return Mt;AE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),v=Symbol.iterator;function T(j){return j===null||typeof j!="object"?null:(j=v&&j[v]||j["@@iterator"],typeof j=="function"?j:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,A={};function D(j,et,at){this.props=j,this.context=et,this.refs=A,this.updater=at||x}D.prototype.isReactComponent={},D.prototype.setState=function(j,et){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,et,"setState")},D.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function z(){}z.prototype=D.prototype;function B(j,et,at){this.props=j,this.context=et,this.refs=A,this.updater=at||x}var q=B.prototype=new z;q.constructor=B,w(q,D.prototype),q.isPureReactComponent=!0;var H=Array.isArray;function K(){}var I={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function N(j,et,at){var ct=at.ref;return{$$typeof:n,type:j,key:et,ref:ct!==void 0?ct:null,props:at}}function V(j,et){return N(j.type,et,j.props)}function k(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function L(j){var et={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(at){return et[at]})}var P=/\/+/g;function Et(j,et){return typeof j=="object"&&j!==null&&j.key!=null?L(""+j.key):et.toString(36)}function yt(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(K,K):(j.status="pending",j.then(function(et){j.status==="pending"&&(j.status="fulfilled",j.value=et)},function(et){j.status==="pending"&&(j.status="rejected",j.reason=et)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function Y(j,et,at,ct,ft){var _t=typeof j;(_t==="undefined"||_t==="boolean")&&(j=null);var Lt=!1;if(j===null)Lt=!0;else switch(_t){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(j.$$typeof){case n:case t:Lt=!0;break;case p:return Lt=j._init,Y(Lt(j._payload),et,at,ct,ft)}}if(Lt)return ft=ft(j),Lt=ct===""?"."+Et(j,0):ct,H(ft)?(at="",Lt!=null&&(at=Lt.replace(P,"$&/")+"/"),Y(ft,et,at,"",function(hi){return hi})):ft!=null&&(k(ft)&&(ft=V(ft,at+(ft.key==null||j&&j.key===ft.key?"":(""+ft.key).replace(P,"$&/")+"/")+Lt)),et.push(ft)),1;Lt=0;var Dt=ct===""?".":ct+":";if(H(j))for(var Jt=0;Jt<j.length;Jt++)ct=j[Jt],_t=Dt+Et(ct,Jt),Lt+=Y(ct,et,at,_t,ft);else if(Jt=T(j),typeof Jt=="function")for(j=Jt.call(j),Jt=0;!(ct=j.next()).done;)ct=ct.value,_t=Dt+Et(ct,Jt++),Lt+=Y(ct,et,at,_t,ft);else if(_t==="object"){if(typeof j.then=="function")return Y(yt(j),et,at,ct,ft);throw et=String(j),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function rt(j,et,at){if(j==null)return j;var ct=[],ft=0;return Y(j,ct,"","",function(_t){return et.call(at,_t,ft++)}),ct}function dt(j){if(j._status===-1){var et=j._result;et=et(),et.then(function(at){(j._status===0||j._status===-1)&&(j._status=1,j._result=at)},function(at){(j._status===0||j._status===-1)&&(j._status=2,j._result=at)}),j._status===-1&&(j._status=0,j._result=et)}if(j._status===1)return j._result.default;throw j._result}var bt=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Ct={map:rt,forEach:function(j,et,at){rt(j,function(){et.apply(this,arguments)},at)},count:function(j){var et=0;return rt(j,function(){et++}),et},toArray:function(j){return rt(j,function(et){return et})||[]},only:function(j){if(!k(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Mt.Activity=y,Mt.Children=Ct,Mt.Component=D,Mt.Fragment=e,Mt.Profiler=r,Mt.PureComponent=B,Mt.StrictMode=i,Mt.Suspense=f,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Mt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return I.H.useMemoCache(j)}},Mt.cache=function(j){return function(){return j.apply(null,arguments)}},Mt.cacheSignal=function(){return null},Mt.cloneElement=function(j,et,at){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ct=w({},j.props),ft=j.key;if(et!=null)for(_t in et.key!==void 0&&(ft=""+et.key),et)!C.call(et,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&et.ref===void 0||(ct[_t]=et[_t]);var _t=arguments.length-2;if(_t===1)ct.children=at;else if(1<_t){for(var Lt=Array(_t),Dt=0;Dt<_t;Dt++)Lt[Dt]=arguments[Dt+2];ct.children=Lt}return N(j.type,ft,ct)},Mt.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},Mt.createElement=function(j,et,at){var ct,ft={},_t=null;if(et!=null)for(ct in et.key!==void 0&&(_t=""+et.key),et)C.call(et,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(ft[ct]=et[ct]);var Lt=arguments.length-2;if(Lt===1)ft.children=at;else if(1<Lt){for(var Dt=Array(Lt),Jt=0;Jt<Lt;Jt++)Dt[Jt]=arguments[Jt+2];ft.children=Dt}if(j&&j.defaultProps)for(ct in Lt=j.defaultProps,Lt)ft[ct]===void 0&&(ft[ct]=Lt[ct]);return N(j,_t,ft)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(j){return{$$typeof:u,render:j}},Mt.isValidElement=k,Mt.lazy=function(j){return{$$typeof:p,_payload:{_status:-1,_result:j},_init:dt}},Mt.memo=function(j,et){return{$$typeof:d,type:j,compare:et===void 0?null:et}},Mt.startTransition=function(j){var et=I.T,at={};I.T=at;try{var ct=j(),ft=I.S;ft!==null&&ft(at,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(K,bt)}catch(_t){bt(_t)}finally{et!==null&&at.types!==null&&(et.types=at.types),I.T=et}},Mt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Mt.use=function(j){return I.H.use(j)},Mt.useActionState=function(j,et,at){return I.H.useActionState(j,et,at)},Mt.useCallback=function(j,et){return I.H.useCallback(j,et)},Mt.useContext=function(j){return I.H.useContext(j)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(j,et){return I.H.useDeferredValue(j,et)},Mt.useEffect=function(j,et){return I.H.useEffect(j,et)},Mt.useEffectEvent=function(j){return I.H.useEffectEvent(j)},Mt.useId=function(){return I.H.useId()},Mt.useImperativeHandle=function(j,et,at){return I.H.useImperativeHandle(j,et,at)},Mt.useInsertionEffect=function(j,et){return I.H.useInsertionEffect(j,et)},Mt.useLayoutEffect=function(j,et){return I.H.useLayoutEffect(j,et)},Mt.useMemo=function(j,et){return I.H.useMemo(j,et)},Mt.useOptimistic=function(j,et){return I.H.useOptimistic(j,et)},Mt.useReducer=function(j,et,at){return I.H.useReducer(j,et,at)},Mt.useRef=function(j){return I.H.useRef(j)},Mt.useState=function(j){return I.H.useState(j)},Mt.useSyncExternalStore=function(j,et,at){return I.H.useSyncExternalStore(j,et,at)},Mt.useTransition=function(){return I.H.useTransition()},Mt.version="19.2.0",Mt}var RE;function Fy(){return RE||(RE=1,vp.exports=yI()),vp.exports}var X=Fy();const ht=By(X);var bp={exports:{}},Jc={},Ep={exports:{}},Tp={};var CE;function _I(){return CE||(CE=1,(function(n){function t(Y,rt){var dt=Y.length;Y.push(rt);t:for(;0<dt;){var bt=dt-1>>>1,Ct=Y[bt];if(0<r(Ct,rt))Y[bt]=rt,Y[dt]=Ct,dt=bt;else break t}}function e(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var rt=Y[0],dt=Y.pop();if(dt!==rt){Y[0]=dt;t:for(var bt=0,Ct=Y.length,j=Ct>>>1;bt<j;){var et=2*(bt+1)-1,at=Y[et],ct=et+1,ft=Y[ct];if(0>r(at,dt))ct<Ct&&0>r(ft,at)?(Y[bt]=ft,Y[ct]=dt,bt=ct):(Y[bt]=at,Y[et]=dt,bt=et);else if(ct<Ct&&0>r(ft,dt))Y[bt]=ft,Y[ct]=dt,bt=ct;else break t}}return rt}function r(Y,rt){var dt=Y.sortIndex-rt.sortIndex;return dt!==0?dt:Y.id-rt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var f=[],d=[],p=1,y=null,v=3,T=!1,x=!1,w=!1,A=!1,D=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function q(Y){for(var rt=e(d);rt!==null;){if(rt.callback===null)i(d);else if(rt.startTime<=Y)i(d),rt.sortIndex=rt.expirationTime,t(f,rt);else break;rt=e(d)}}function H(Y){if(w=!1,q(Y),!x)if(e(f)!==null)x=!0,K||(K=!0,L());else{var rt=e(d);rt!==null&&yt(H,rt.startTime-Y)}}var K=!1,I=-1,C=5,N=-1;function V(){return A?!0:!(n.unstable_now()-N<C)}function k(){if(A=!1,K){var Y=n.unstable_now();N=Y;var rt=!0;try{t:{x=!1,w&&(w=!1,z(I),I=-1),T=!0;var dt=v;try{e:{for(q(Y),y=e(f);y!==null&&!(y.expirationTime>Y&&V());){var bt=y.callback;if(typeof bt=="function"){y.callback=null,v=y.priorityLevel;var Ct=bt(y.expirationTime<=Y);if(Y=n.unstable_now(),typeof Ct=="function"){y.callback=Ct,q(Y),rt=!0;break e}y===e(f)&&i(f),q(Y)}else i(f);y=e(f)}if(y!==null)rt=!0;else{var j=e(d);j!==null&&yt(H,j.startTime-Y),rt=!1}}break t}finally{y=null,v=dt,T=!1}rt=void 0}}finally{rt?L():K=!1}}}var L;if(typeof B=="function")L=function(){B(k)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,Et=P.port2;P.port1.onmessage=k,L=function(){Et.postMessage(null)}}else L=function(){D(k,0)};function yt(Y,rt){I=D(function(){Y(n.unstable_now())},rt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(Y){switch(v){case 1:case 2:case 3:var rt=3;break;default:rt=v}var dt=v;v=rt;try{return Y()}finally{v=dt}},n.unstable_requestPaint=function(){A=!0},n.unstable_runWithPriority=function(Y,rt){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var dt=v;v=Y;try{return rt()}finally{v=dt}},n.unstable_scheduleCallback=function(Y,rt,dt){var bt=n.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?bt+dt:bt):dt=bt,Y){case 1:var Ct=-1;break;case 2:Ct=250;break;case 5:Ct=1073741823;break;case 4:Ct=1e4;break;default:Ct=5e3}return Ct=dt+Ct,Y={id:p++,callback:rt,priorityLevel:Y,startTime:dt,expirationTime:Ct,sortIndex:-1},dt>bt?(Y.sortIndex=dt,t(d,Y),e(f)===null&&Y===e(d)&&(w?(z(I),I=-1):w=!0,yt(H,dt-bt))):(Y.sortIndex=Ct,t(f,Y),x||T||(x=!0,K||(K=!0,L()))),Y},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(Y){var rt=v;return function(){var dt=v;v=rt;try{return Y.apply(this,arguments)}finally{v=dt}}}})(Tp)),Tp}var IE;function vI(){return IE||(IE=1,Ep.exports=_I()),Ep.exports}var Sp={exports:{}},Tn={};var DE;function bI(){if(DE)return Tn;DE=1;var n=Fy();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,d,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:f,containerInfo:d,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Tn.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,p)},Tn.flushSync=function(f){var d=l.T,p=i.p;try{if(l.T=null,i.p=2,f)return f()}finally{l.T=d,i.p=p,i.d.f()}},Tn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},Tn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Tn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,y=u(p,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,T=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:T}):p==="script"&&i.d.X(f,{crossOrigin:y,integrity:v,fetchPriority:T,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Tn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=u(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},Tn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,y=u(p,d.crossOrigin);i.d.L(f,p,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Tn.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=u(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},Tn.requestFormReset=function(f){i.d.r(f)},Tn.unstable_batchedUpdates=function(f,d){return f(d)},Tn.useFormState=function(f,d,p){return l.H.useFormState(f,d,p)},Tn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Tn.version="19.2.0",Tn}var ME;function Hx(){if(ME)return Sp.exports;ME=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Sp.exports=bI(),Sp.exports}var OE;function EI(){if(OE)return Jc;OE=1;var n=vI(),t=Fy(),e=Hx();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function l(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function u(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function f(s){if(o(s)!==s)throw Error(i(188))}function d(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var c=s,h=a;;){var g=c.return;if(g===null)break;var _=g.alternate;if(_===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===c)return f(g),s;if(_===h)return f(g),a;_=_.sibling}throw Error(i(188))}if(c.return!==h.return)c=g,h=_;else{for(var E=!1,R=g.child;R;){if(R===c){E=!0,c=g,h=_;break}if(R===h){E=!0,h=g,c=_;break}R=R.sibling}if(!E){for(R=_.child;R;){if(R===c){E=!0,c=_,h=g;break}if(R===h){E=!0,h=_,c=g;break}R=R.sibling}if(!E)throw Error(i(189))}}if(c.alternate!==h)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?s:a}function p(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=p(s),a!==null)return a;s=s.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),B=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function L(s){return s===null||typeof s!="object"?null:(s=k&&s[k]||s["@@iterator"],typeof s=="function"?s:null)}var P=Symbol.for("react.client.reference");function Et(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===P?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case D:return"Profiler";case A:return"StrictMode";case H:return"Suspense";case K:return"SuspenseList";case N:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case x:return"Portal";case B:return s.displayName||"Context";case z:return(s._context.displayName||"Context")+".Consumer";case q:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case I:return a=s.displayName||null,a!==null?a:Et(s.type)||"Memo";case C:a=s._payload,s=s._init;try{return Et(s(a))}catch{}}return null}var yt=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},bt=[],Ct=-1;function j(s){return{current:s}}function et(s){0>Ct||(s.current=bt[Ct],bt[Ct]=null,Ct--)}function at(s,a){Ct++,bt[Ct]=s.current,s.current=a}var ct=j(null),ft=j(null),_t=j(null),Lt=j(null);function Dt(s,a){switch(at(_t,a),at(ft,s),at(ct,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?Wb(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=Wb(a),s=Kb(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}et(ct),at(ct,s)}function Jt(){et(ct),et(ft),et(_t)}function hi(s){s.memoizedState!==null&&at(Lt,s);var a=ct.current,c=Kb(a,s.type);a!==c&&(at(ft,s),at(ct,c))}function Ii(s){ft.current===s&&(et(ct),et(ft)),Lt.current===s&&(et(Lt),Wc._currentValue=dt)}var Xn,_r;function Ln(s){if(Xn===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Xn=a&&a[1]||"",_r=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xn+s+_r}var Ma=!1;function Qi(s,a){if(!s||Ma)return"";Ma=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var ot=function(){throw Error()};if(Object.defineProperty(ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ot,[])}catch(tt){var J=tt}Reflect.construct(s,[],ot)}else{try{ot.call()}catch(tt){J=tt}s.call(ot.prototype)}}else{try{throw Error()}catch(tt){J=tt}(ot=s())&&typeof ot.catch=="function"&&ot.catch(function(){})}}catch(tt){if(tt&&J&&typeof tt.stack=="string")return[tt.stack,J.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),E=_[0],R=_[1];if(E&&R){var U=E.split(`
`),Q=R.split(`
`);for(g=h=0;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;for(;g<Q.length&&!Q[g].includes("DetermineComponentFrameRoot");)g++;if(h===U.length||g===Q.length)for(h=U.length-1,g=Q.length-1;1<=h&&0<=g&&U[h]!==Q[g];)g--;for(;1<=h&&0<=g;h--,g--)if(U[h]!==Q[g]){if(h!==1||g!==1)do if(h--,g--,0>g||U[h]!==Q[g]){var nt=`
`+U[h].replace(" at new "," at ");return s.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",s.displayName)),nt}while(1<=h&&0<=g);break}}}finally{Ma=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?Ln(c):""}function Di(s,a){switch(s.tag){case 26:case 27:case 5:return Ln(s.type);case 16:return Ln("Lazy");case 13:return s.child!==a&&a!==null?Ln("Suspense Fallback"):Ln("Suspense");case 19:return Ln("SuspenseList");case 0:case 15:return Qi(s.type,!1);case 11:return Qi(s.type.render,!1);case 1:return Qi(s.type,!0);case 31:return Ln("Activity");default:return""}}function vr(s){try{var a="",c=null;do a+=Di(s,c),c=s,s=s.return;while(s);return a}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var ee=Object.prototype.hasOwnProperty,Oe=n.unstable_scheduleCallback,Ji=n.unstable_cancelCallback,ln=n.unstable_shouldYield,Mi=n.unstable_requestPaint,cn=n.unstable_now,ks=n.unstable_getCurrentPriorityLevel,Zi=n.unstable_ImmediatePriority,Oa=n.unstable_UserBlockingPriority,Oi=n.unstable_NormalPriority,Na=n.unstable_LowPriority,Ni=n.unstable_IdlePriority,ka=n.log,ki=n.unstable_setDisableYieldValue,Qn=null,Xe=null;function Mn(s){if(typeof ka=="function"&&ki(s),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(Qn,s)}catch{}}var be=Math.clz32?Math.clz32:Jn,Mo=Math.log,ts=Math.LN2;function Jn(s){return s>>>=0,s===0?32:31-(Mo(s)/ts|0)|0}var fi=256,Ps=262144,we=4194304;function Zn(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function xt(s,a,c){var h=s.pendingLanes;if(h===0)return 0;var g=0,_=s.suspendedLanes,E=s.pingedLanes;s=s.warmLanes;var R=h&134217727;return R!==0?(h=R&~_,h!==0?g=Zn(h):(E&=R,E!==0?g=Zn(E):c||(c=R&~s,c!==0&&(g=Zn(c))))):(R=h&~_,R!==0?g=Zn(R):E!==0?g=Zn(E):c||(c=h&~s,c!==0&&(g=Zn(c)))),g===0?0:a!==0&&a!==g&&(a&_)===0&&(_=g&-g,c=a&-a,_>=c||_===32&&(c&4194048)!==0)?a:g}function ne(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function ze(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function en(){var s=we;return we<<=1,(we&62914560)===0&&(we=4194304),s}function On(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function ge(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function En(s,a,c,h,g,_){var E=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var R=s.entanglements,U=s.expirationTimes,Q=s.hiddenUpdates;for(c=E&~c;0<c;){var nt=31-be(c),ot=1<<nt;R[nt]=0,U[nt]=-1;var J=Q[nt];if(J!==null)for(Q[nt]=null,nt=0;nt<J.length;nt++){var tt=J[nt];tt!==null&&(tt.lane&=-536870913)}c&=~ot}h!==0&&di(s,h,0),_!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=_&~(E&~a))}function di(s,a,c){s.pendingLanes|=a,s.suspendedLanes&=~a;var h=31-be(a);s.entangledLanes|=a,s.entanglements[h]=s.entanglements[h]|1073741824|c&261930}function un(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var h=31-be(c),g=1<<h;g&a|s[h]&a&&(s[h]|=a),c&=~g}}function hn(s,a){var c=a&-a;return c=(c&42)!==0?1:es(c),(c&(s.suspendedLanes|a))!==0?0:c}function es(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function fn(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Zl(){var s=rt.p;return s!==0?s:(s=window.event,s===void 0?32:yE(s.type))}function Pi(s,a){var c=rt.p;try{return rt.p=s,a()}finally{rt.p=c}}var Li=Math.random().toString(36).slice(2),Ue="__reactFiber$"+Li,nn="__reactProps$"+Li,ns="__reactContainer$"+Li,Oo="__reactEvents$"+Li,xm="__reactListeners$"+Li,fh="__reactHandles$"+Li,dh="__reactResources$"+Li,is="__reactMarker$"+Li;function No(s){delete s[Ue],delete s[nn],delete s[Oo],delete s[xm],delete s[fh]}function ss(s){var a=s[Ue];if(a)return a;for(var c=s.parentNode;c;){if(a=c[ns]||c[Ue]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=eE(s);s!==null;){if(c=s[Ue])return c;s=eE(s)}return a}s=c,c=s.parentNode}return null}function mi(s){if(s=s[Ue]||s[ns]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function ti(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function rs(s){var a=s[dh];return a||(a=s[dh]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function je(s){s[is]=!0}var tc=new Set,ec={};function as(s,a){os(s,a),os(s+"Capture",a)}function os(s,a){for(ec[s]=a,s=0;s<a.length;s++)tc.add(a[s])}var nc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ic={},sc={};function mh(s){return ee.call(sc,s)?!0:ee.call(ic,s)?!1:nc.test(s)?sc[s]=!0:(ic[s]=!0,!1)}function ko(s,a,c){if(mh(a))if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+c)}}function ei(s,a,c){if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+c)}}function Be(s,a,c,h){if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(a,c,""+h)}}function sn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function br(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function rc(s,a,c){var h=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var g=h.get,_=h.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(E){c=""+E,_.call(this,E)}}),Object.defineProperty(s,a,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function se(s){if(!s._valueTracker){var a=br(s)?"checked":"value";s._valueTracker=rc(s,a,""+s[a])}}function Pa(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return s&&(h=br(s)?s.checked?"true":"false":s.value),s=h,s!==c?(a.setValue(s),!0):!1}function ls(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var La=/[\n"\\]/g;function Vn(s){return s.replace(La,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Po(s,a,c,h,g,_,E,R){s.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?s.type=E:s.removeAttribute("type"),a!=null?E==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+sn(a)):s.value!==""+sn(a)&&(s.value=""+sn(a)):E!=="submit"&&E!=="reset"||s.removeAttribute("value"),a!=null?ac(s,E,sn(a)):c!=null?ac(s,E,sn(c)):h!=null&&s.removeAttribute("value"),g==null&&_!=null&&(s.defaultChecked=!!_),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?s.name=""+sn(R):s.removeAttribute("name")}function gh(s,a,c,h,g,_,E,R){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.type=_),a!=null||c!=null){if(!(_!=="submit"&&_!=="reset"||a!=null)){se(s);return}c=c!=null?""+sn(c):"",a=a!=null?""+sn(a):c,R||a===s.value||(s.value=a),s.defaultValue=a}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=R?s.checked:!!h,s.defaultChecked=!!h,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.name=E),se(s)}function ac(s,a,c){a==="number"&&ls(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Er(s,a,c,h){if(s=s.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=a.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&h&&(s[c].defaultSelected=!0)}else{for(c=""+sn(c),a=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function ph(s,a,c){if(a!=null&&(a=""+sn(a),a!==s.value&&(s.value=a),c==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=c!=null?""+sn(c):""}function Tr(s,a,c,h){if(a==null){if(h!=null){if(c!=null)throw Error(i(92));if(yt(h)){if(1<h.length)throw Error(i(93));h=h[0]}c=h}c==null&&(c=""),a=c}c=sn(a),s.defaultValue=c,h=s.textContent,h===c&&h!==""&&h!==null&&(s.value=h),se(s)}function zn(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var yh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oc(s,a,c){var h=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":h?s.setProperty(a,c):typeof c!="number"||c===0||yh.has(a)?a==="float"?s.cssFloat=c:s[a]=(""+c).trim():s[a]=c+"px"}function lc(s,a,c){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var g in a)h=a[g],a.hasOwnProperty(g)&&c[g]!==h&&oc(s,g,h)}else for(var _ in a)a.hasOwnProperty(_)&&oc(s,_,a[_])}function Lo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _h=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vo(s){return Sr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Vi(){}var cc=null;function gi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var xr=null,cs=null;function Va(s){var a=mi(s);if(a&&(s=a.stateNode)){var c=s[nn]||null;t:switch(s=a.stateNode,a.type){case"input":if(Po(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Vn(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==s&&h.form===s.form){var g=h[nn]||null;if(!g)throw Error(i(90));Po(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<c.length;a++)h=c[a],h.form===s.form&&Pa(h)}break t;case"textarea":ph(s,c.value,c.defaultValue);break t;case"select":a=c.value,a!=null&&Er(s,!!c.multiple,a,!1)}}}var zo=!1;function wr(s,a,c){if(zo)return s(a,c);zo=!0;try{var h=s(a);return h}finally{if(zo=!1,(xr!==null||cs!==null)&&(ff(),xr&&(a=xr,s=cs,cs=xr=null,Va(a),s)))for(a=0;a<s.length;a++)Va(s[a])}}function zi(s,a){var c=s.stateNode;if(c===null)return null;var h=c[nn]||null;if(h===null)return null;c=h[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break t;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(i(231,a,typeof c));return c}var pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),za=!1;if(pi)try{var le={};Object.defineProperty(le,"passive",{get:function(){za=!0}}),window.addEventListener("test",le,le),window.removeEventListener("test",le,le)}catch{za=!1}var us=null,uc=null,Ua=null;function hc(){if(Ua)return Ua;var s,a=uc,c=a.length,h,g="value"in us?us.value:us.textContent,_=g.length;for(s=0;s<c&&a[s]===g[s];s++);var E=c-s;for(h=1;h<=E&&a[c-h]===g[_-h];h++);return Ua=g.slice(s,1<h?1-h:void 0)}function ja(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Ls(){return!0}function Ui(){return!1}function dn(s){function a(c,h,g,_,E){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=_,this.target=E,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(c=s[R],this[R]=c?c(_):_[R]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ls:Ui,this.isPropagationStopped=Ui,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ls)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ls)},persist:function(){},isPersistent:Ls}),a}var Vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hs=dn(Vs),Ar=y({},Vs,{view:0,detail:0}),fc=dn(Ar),Rr,Uo,fs,jo=y({},Ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==fs&&(fs&&s.type==="mousemove"?(Rr=s.screenX-fs.screenX,Uo=s.screenY-fs.screenY):Uo=Rr=0,fs=s),Rr)},movementY:function(s){return"movementY"in s?s.movementY:Uo}}),dc=dn(jo),Ba=y({},jo,{dataTransfer:0}),vh=dn(Ba),bh=y({},Ar,{relatedTarget:0}),Fa=dn(bh),mc=y({},Vs,{animationName:0,elapsedTime:0,pseudoElement:0}),Eh=dn(mc),Bo=y({},Vs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Th=dn(Bo),Sh=y({},Vs,{data:0}),ds=dn(Sh),xh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ah={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rh(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Ah[s])?!!a[s]:!1}function Cr(){return Rh}var Nn=y({},Ar,{key:function(s){if(s.key){var a=xh[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=ja(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?wh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(s){return s.type==="keypress"?ja(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ja(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ch=dn(Nn),Ih=y({},jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zs=dn(Ih),m=y({},Ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr}),b=dn(m),S=y({},Vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),O=dn(S),W=y({},jo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Z=dn(W),ut=y({},Vs,{newState:0,oldState:0}),kt=dn(ut),Ne=[9,13,27,32],Zt=pi&&"CompositionEvent"in window,Ee=null;pi&&"documentMode"in document&&(Ee=document.documentMode);var yi=pi&&"TextEvent"in window&&!Ee,ms=pi&&(!Zt||Ee&&8<Ee&&11>=Ee),ji=" ",Bi=!1;function Ha(s,a){switch(s){case"keyup":return Ne.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ho=!1;function UR(s,a){switch(s){case"compositionend":return Fo(a);case"keypress":return a.which!==32?null:(Bi=!0,ji);case"textInput":return s=a.data,s===ji&&Bi?null:s;default:return null}}function jR(s,a){if(Ho)return s==="compositionend"||!Zt&&Ha(s,a)?(s=hc(),Ua=uc=us=null,Ho=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ms&&a.locale!=="ko"?null:a.data;default:return null}}var BR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sv(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!BR[s.type]:a==="textarea"}function rv(s,a,c,h){xr?cs?cs.push(h):cs=[h]:xr=h,a=vf(a,"onChange"),0<a.length&&(c=new hs("onChange","change",null,c,h),s.push({event:c,listeners:a}))}var gc=null,pc=null;function FR(s){Bb(s,0)}function Dh(s){var a=ti(s);if(Pa(a))return s}function av(s,a){if(s==="change")return a}var ov=!1;if(pi){var wm;if(pi){var Am="oninput"in document;if(!Am){var lv=document.createElement("div");lv.setAttribute("oninput","return;"),Am=typeof lv.oninput=="function"}wm=Am}else wm=!1;ov=wm&&(!document.documentMode||9<document.documentMode)}function cv(){gc&&(gc.detachEvent("onpropertychange",uv),pc=gc=null)}function uv(s){if(s.propertyName==="value"&&Dh(pc)){var a=[];rv(a,pc,s,gi(s)),wr(FR,a)}}function HR(s,a,c){s==="focusin"?(cv(),gc=a,pc=c,gc.attachEvent("onpropertychange",uv)):s==="focusout"&&cv()}function qR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Dh(pc)}function GR(s,a){if(s==="click")return Dh(a)}function YR(s,a){if(s==="input"||s==="change")return Dh(a)}function WR(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var ni=typeof Object.is=="function"?Object.is:WR;function yc(s,a){if(ni(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!ee.call(a,g)||!ni(s[g],a[g]))return!1}return!0}function hv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function fv(s,a){var c=hv(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=a&&h>=a)return{node:c,offset:a-s};s=h}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=hv(c)}}function dv(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?dv(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function mv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=ls(s.document);a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=ls(s.document)}return a}function Rm(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var KR=pi&&"documentMode"in document&&11>=document.documentMode,qo=null,Cm=null,_c=null,Im=!1;function gv(s,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Im||qo==null||qo!==ls(h)||(h=qo,"selectionStart"in h&&Rm(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),_c&&yc(_c,h)||(_c=h,h=vf(Cm,"onSelect"),0<h.length&&(a=new hs("onSelect","select",null,a,c),s.push({event:a,listeners:h}),a.target=qo)))}function qa(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Go={animationend:qa("Animation","AnimationEnd"),animationiteration:qa("Animation","AnimationIteration"),animationstart:qa("Animation","AnimationStart"),transitionrun:qa("Transition","TransitionRun"),transitionstart:qa("Transition","TransitionStart"),transitioncancel:qa("Transition","TransitionCancel"),transitionend:qa("Transition","TransitionEnd")},Dm={},pv={};pi&&(pv=document.createElement("div").style,"AnimationEvent"in window||(delete Go.animationend.animation,delete Go.animationiteration.animation,delete Go.animationstart.animation),"TransitionEvent"in window||delete Go.transitionend.transition);function Ga(s){if(Dm[s])return Dm[s];if(!Go[s])return s;var a=Go[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in pv)return Dm[s]=a[c];return s}var yv=Ga("animationend"),_v=Ga("animationiteration"),vv=Ga("animationstart"),$R=Ga("transitionrun"),XR=Ga("transitionstart"),QR=Ga("transitioncancel"),bv=Ga("transitionend"),Ev=new Map,Mm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mm.push("scrollEnd");function Fi(s,a){Ev.set(s,a),as(a,[s])}var Mh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},_i=[],Yo=0,Om=0;function Oh(){for(var s=Yo,a=Om=Yo=0;a<s;){var c=_i[a];_i[a++]=null;var h=_i[a];_i[a++]=null;var g=_i[a];_i[a++]=null;var _=_i[a];if(_i[a++]=null,h!==null&&g!==null){var E=h.pending;E===null?g.next=g:(g.next=E.next,E.next=g),h.pending=g}_!==0&&Tv(c,g,_)}}function Nh(s,a,c,h){_i[Yo++]=s,_i[Yo++]=a,_i[Yo++]=c,_i[Yo++]=h,Om|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function Nm(s,a,c,h){return Nh(s,a,c,h),kh(s)}function Ya(s,a){return Nh(s,null,null,a),kh(s)}function Tv(s,a,c){s.lanes|=c;var h=s.alternate;h!==null&&(h.lanes|=c);for(var g=!1,_=s.return;_!==null;)_.childLanes|=c,h=_.alternate,h!==null&&(h.childLanes|=c),_.tag===22&&(s=_.stateNode,s===null||s._visibility&1||(g=!0)),s=_,_=_.return;return s.tag===3?(_=s.stateNode,g&&a!==null&&(g=31-be(c),s=_.hiddenUpdates,h=s[g],h===null?s[g]=[a]:h.push(a),a.lane=c|536870912),_):null}function kh(s){if(50<jc)throw jc=0,Fg=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Wo={};function JR(s,a,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(s,a,c,h){return new JR(s,a,c,h)}function km(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Us(s,a){var c=s.alternate;return c===null?(c=ii(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function Sv(s,a){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,a=c.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Ph(s,a,c,h,g,_){var E=0;if(h=s,typeof s=="function")km(s)&&(E=1);else if(typeof s=="string")E=iI(s,c,ct.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case N:return s=ii(31,c,a,g),s.elementType=N,s.lanes=_,s;case w:return Wa(c.children,g,_,a);case A:E=8,g|=24;break;case D:return s=ii(12,c,a,g|2),s.elementType=D,s.lanes=_,s;case H:return s=ii(13,c,a,g),s.elementType=H,s.lanes=_,s;case K:return s=ii(19,c,a,g),s.elementType=K,s.lanes=_,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case B:E=10;break t;case z:E=9;break t;case q:E=11;break t;case I:E=14;break t;case C:E=16,h=null;break t}E=29,c=Error(i(130,s===null?"null":typeof s,"")),h=null}return a=ii(E,c,a,g),a.elementType=s,a.type=h,a.lanes=_,a}function Wa(s,a,c,h){return s=ii(7,s,h,a),s.lanes=c,s}function Pm(s,a,c){return s=ii(6,s,null,a),s.lanes=c,s}function xv(s){var a=ii(18,null,null,0);return a.stateNode=s,a}function Lm(s,a,c){return a=ii(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var wv=new WeakMap;function vi(s,a){if(typeof s=="object"&&s!==null){var c=wv.get(s);return c!==void 0?c:(a={value:s,source:a,stack:vr(a)},wv.set(s,a),a)}return{value:s,source:a,stack:vr(a)}}var Ko=[],$o=0,Lh=null,vc=0,bi=[],Ei=0,Ir=null,gs=1,ps="";function js(s,a){Ko[$o++]=vc,Ko[$o++]=Lh,Lh=s,vc=a}function Av(s,a,c){bi[Ei++]=gs,bi[Ei++]=ps,bi[Ei++]=Ir,Ir=s;var h=gs;s=ps;var g=32-be(h)-1;h&=~(1<<g),c+=1;var _=32-be(a)+g;if(30<_){var E=g-g%5;_=(h&(1<<E)-1).toString(32),h>>=E,g-=E,gs=1<<32-be(a)+g|c<<g|h,ps=_+s}else gs=1<<_|c<<g|h,ps=s}function Vm(s){s.return!==null&&(js(s,1),Av(s,1,0))}function zm(s){for(;s===Lh;)Lh=Ko[--$o],Ko[$o]=null,vc=Ko[--$o],Ko[$o]=null;for(;s===Ir;)Ir=bi[--Ei],bi[Ei]=null,ps=bi[--Ei],bi[Ei]=null,gs=bi[--Ei],bi[Ei]=null}function Rv(s,a){bi[Ei++]=gs,bi[Ei++]=ps,bi[Ei++]=Ir,gs=a.id,ps=a.overflow,Ir=s}var mn=null,pe=null,Wt=!1,Dr=null,Ti=!1,Um=Error(i(519));function Mr(s){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bc(vi(a,s)),Um}function Cv(s){var a=s.stateNode,c=s.type,h=s.memoizedProps;switch(a[Ue]=s,a[nn]=h,c){case"dialog":Ut("cancel",a),Ut("close",a);break;case"iframe":case"object":case"embed":Ut("load",a);break;case"video":case"audio":for(c=0;c<Fc.length;c++)Ut(Fc[c],a);break;case"source":Ut("error",a);break;case"img":case"image":case"link":Ut("error",a),Ut("load",a);break;case"details":Ut("toggle",a);break;case"input":Ut("invalid",a),gh(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Ut("invalid",a);break;case"textarea":Ut("invalid",a),Tr(a,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||h.suppressHydrationWarning===!0||Gb(a.textContent,c)?(h.popover!=null&&(Ut("beforetoggle",a),Ut("toggle",a)),h.onScroll!=null&&Ut("scroll",a),h.onScrollEnd!=null&&Ut("scrollend",a),h.onClick!=null&&(a.onclick=Vi),a=!0):a=!1,a||Mr(s,!0)}function Iv(s){for(mn=s.return;mn;)switch(mn.tag){case 5:case 31:case 13:Ti=!1;return;case 27:case 3:Ti=!0;return;default:mn=mn.return}}function Xo(s){if(s!==mn)return!1;if(!Wt)return Iv(s),Wt=!0,!1;var a=s.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||ip(s.type,s.memoizedProps)),c=!c),c&&pe&&Mr(s),Iv(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));pe=tE(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));pe=tE(s)}else a===27?(a=pe,Gr(s.type)?(s=lp,lp=null,pe=s):pe=a):pe=mn?xi(s.stateNode.nextSibling):null;return!0}function Ka(){pe=mn=null,Wt=!1}function jm(){var s=Dr;return s!==null&&(Fn===null?Fn=s:Fn.push.apply(Fn,s),Dr=null),s}function bc(s){Dr===null?Dr=[s]:Dr.push(s)}var Bm=j(null),$a=null,Bs=null;function Or(s,a,c){at(Bm,a._currentValue),a._currentValue=c}function Fs(s){s._currentValue=Bm.current,et(Bm)}function Fm(s,a,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===c)break;s=s.return}}function Hm(s,a,c,h){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var _=g.dependencies;if(_!==null){var E=g.child;_=_.firstContext;t:for(;_!==null;){var R=_;_=g;for(var U=0;U<a.length;U++)if(R.context===a[U]){_.lanes|=c,R=_.alternate,R!==null&&(R.lanes|=c),Fm(_.return,c,s),h||(E=null);break t}_=R.next}}else if(g.tag===18){if(E=g.return,E===null)throw Error(i(341));E.lanes|=c,_=E.alternate,_!==null&&(_.lanes|=c),Fm(E,c,s),E=null}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}}function Qo(s,a,c,h){s=null;for(var g=a,_=!1;g!==null;){if(!_){if((g.flags&524288)!==0)_=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var E=g.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var R=g.type;ni(g.pendingProps.value,E.value)||(s!==null?s.push(R):s=[R])}}else if(g===Lt.current){if(E=g.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(Wc):s=[Wc])}g=g.return}s!==null&&Hm(a,s,c,h),a.flags|=262144}function Vh(s){for(s=s.firstContext;s!==null;){if(!ni(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Xa(s){$a=s,Bs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function gn(s){return Dv($a,s)}function zh(s,a){return $a===null&&Xa(s),Dv(s,a)}function Dv(s,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},Bs===null){if(s===null)throw Error(i(308));Bs=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Bs=Bs.next=a;return c}var ZR=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(c,h){s.push(h)}};this.abort=function(){a.aborted=!0,s.forEach(function(c){return c()})}},tC=n.unstable_scheduleCallback,eC=n.unstable_NormalPriority,Fe={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qm(){return{controller:new ZR,data:new Map,refCount:0}}function Ec(s){s.refCount--,s.refCount===0&&tC(eC,function(){s.controller.abort()})}var Tc=null,Gm=0,Jo=0,Zo=null;function nC(s,a){if(Tc===null){var c=Tc=[];Gm=0,Jo=Kg(),Zo={status:"pending",value:void 0,then:function(h){c.push(h)}}}return Gm++,a.then(Mv,Mv),a}function Mv(){if(--Gm===0&&Tc!==null){Zo!==null&&(Zo.status="fulfilled");var s=Tc;Tc=null,Jo=0,Zo=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function iC(s,a){var c=[],h={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return s.then(function(){h.status="fulfilled",h.value=a;for(var g=0;g<c.length;g++)(0,c[g])(a)},function(g){for(h.status="rejected",h.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),h}var Ov=Y.S;Y.S=function(s,a){gb=cn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&nC(s,a),Ov!==null&&Ov(s,a)};var Qa=j(null);function Ym(){var s=Qa.current;return s!==null?s:fe.pooledCache}function Uh(s,a){a===null?at(Qa,Qa.current):at(Qa,a.pool)}function Nv(){var s=Ym();return s===null?null:{parent:Fe._currentValue,pool:s}}var tl=Error(i(460)),Wm=Error(i(474)),jh=Error(i(542)),Bh={then:function(){}};function kv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Pv(s,a,c){switch(c=s[c],c===void 0?s.push(a):c!==a&&(a.then(Vi,Vi),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Vv(s),s;default:if(typeof a.status=="string")a.then(Vi,Vi);else{if(s=fe,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(h){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=h}},function(h){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Vv(s),s}throw Za=a,tl}}function Ja(s){try{var a=s._init;return a(s._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Za=c,tl):c}}var Za=null;function Lv(){if(Za===null)throw Error(i(459));var s=Za;return Za=null,s}function Vv(s){if(s===tl||s===jh)throw Error(i(483))}var el=null,Sc=0;function Fh(s){var a=Sc;return Sc+=1,el===null&&(el=[]),Pv(el,s,a)}function xc(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Hh(s,a){throw a.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function zv(s){function a(G,F){if(s){var $=G.deletions;$===null?(G.deletions=[F],G.flags|=16):$.push(F)}}function c(G,F){if(!s)return null;for(;F!==null;)a(G,F),F=F.sibling;return null}function h(G){for(var F=new Map;G!==null;)G.key!==null?F.set(G.key,G):F.set(G.index,G),G=G.sibling;return F}function g(G,F){return G=Us(G,F),G.index=0,G.sibling=null,G}function _(G,F,$){return G.index=$,s?($=G.alternate,$!==null?($=$.index,$<F?(G.flags|=67108866,F):$):(G.flags|=67108866,F)):(G.flags|=1048576,F)}function E(G){return s&&G.alternate===null&&(G.flags|=67108866),G}function R(G,F,$,it){return F===null||F.tag!==6?(F=Pm($,G.mode,it),F.return=G,F):(F=g(F,$),F.return=G,F)}function U(G,F,$,it){var Tt=$.type;return Tt===w?nt(G,F,$.props.children,it,$.key):F!==null&&(F.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===C&&Ja(Tt)===F.type)?(F=g(F,$.props),xc(F,$),F.return=G,F):(F=Ph($.type,$.key,$.props,null,G.mode,it),xc(F,$),F.return=G,F)}function Q(G,F,$,it){return F===null||F.tag!==4||F.stateNode.containerInfo!==$.containerInfo||F.stateNode.implementation!==$.implementation?(F=Lm($,G.mode,it),F.return=G,F):(F=g(F,$.children||[]),F.return=G,F)}function nt(G,F,$,it,Tt){return F===null||F.tag!==7?(F=Wa($,G.mode,it,Tt),F.return=G,F):(F=g(F,$),F.return=G,F)}function ot(G,F,$){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Pm(""+F,G.mode,$),F.return=G,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case T:return $=Ph(F.type,F.key,F.props,null,G.mode,$),xc($,F),$.return=G,$;case x:return F=Lm(F,G.mode,$),F.return=G,F;case C:return F=Ja(F),ot(G,F,$)}if(yt(F)||L(F))return F=Wa(F,G.mode,$,null),F.return=G,F;if(typeof F.then=="function")return ot(G,Fh(F),$);if(F.$$typeof===B)return ot(G,zh(G,F),$);Hh(G,F)}return null}function J(G,F,$,it){var Tt=F!==null?F.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return Tt!==null?null:R(G,F,""+$,it);if(typeof $=="object"&&$!==null){switch($.$$typeof){case T:return $.key===Tt?U(G,F,$,it):null;case x:return $.key===Tt?Q(G,F,$,it):null;case C:return $=Ja($),J(G,F,$,it)}if(yt($)||L($))return Tt!==null?null:nt(G,F,$,it,null);if(typeof $.then=="function")return J(G,F,Fh($),it);if($.$$typeof===B)return J(G,F,zh(G,$),it);Hh(G,$)}return null}function tt(G,F,$,it,Tt){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return G=G.get($)||null,R(F,G,""+it,Tt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case T:return G=G.get(it.key===null?$:it.key)||null,U(F,G,it,Tt);case x:return G=G.get(it.key===null?$:it.key)||null,Q(F,G,it,Tt);case C:return it=Ja(it),tt(G,F,$,it,Tt)}if(yt(it)||L(it))return G=G.get($)||null,nt(F,G,it,Tt,null);if(typeof it.then=="function")return tt(G,F,$,Fh(it),Tt);if(it.$$typeof===B)return tt(G,F,$,zh(F,it),Tt);Hh(F,it)}return null}function pt(G,F,$,it){for(var Tt=null,$t=null,vt=F,Vt=F=0,Ft=null;vt!==null&&Vt<$.length;Vt++){vt.index>Vt?(Ft=vt,vt=null):Ft=vt.sibling;var Xt=J(G,vt,$[Vt],it);if(Xt===null){vt===null&&(vt=Ft);break}s&&vt&&Xt.alternate===null&&a(G,vt),F=_(Xt,F,Vt),$t===null?Tt=Xt:$t.sibling=Xt,$t=Xt,vt=Ft}if(Vt===$.length)return c(G,vt),Wt&&js(G,Vt),Tt;if(vt===null){for(;Vt<$.length;Vt++)vt=ot(G,$[Vt],it),vt!==null&&(F=_(vt,F,Vt),$t===null?Tt=vt:$t.sibling=vt,$t=vt);return Wt&&js(G,Vt),Tt}for(vt=h(vt);Vt<$.length;Vt++)Ft=tt(vt,G,Vt,$[Vt],it),Ft!==null&&(s&&Ft.alternate!==null&&vt.delete(Ft.key===null?Vt:Ft.key),F=_(Ft,F,Vt),$t===null?Tt=Ft:$t.sibling=Ft,$t=Ft);return s&&vt.forEach(function(Xr){return a(G,Xr)}),Wt&&js(G,Vt),Tt}function wt(G,F,$,it){if($==null)throw Error(i(151));for(var Tt=null,$t=null,vt=F,Vt=F=0,Ft=null,Xt=$.next();vt!==null&&!Xt.done;Vt++,Xt=$.next()){vt.index>Vt?(Ft=vt,vt=null):Ft=vt.sibling;var Xr=J(G,vt,Xt.value,it);if(Xr===null){vt===null&&(vt=Ft);break}s&&vt&&Xr.alternate===null&&a(G,vt),F=_(Xr,F,Vt),$t===null?Tt=Xr:$t.sibling=Xr,$t=Xr,vt=Ft}if(Xt.done)return c(G,vt),Wt&&js(G,Vt),Tt;if(vt===null){for(;!Xt.done;Vt++,Xt=$.next())Xt=ot(G,Xt.value,it),Xt!==null&&(F=_(Xt,F,Vt),$t===null?Tt=Xt:$t.sibling=Xt,$t=Xt);return Wt&&js(G,Vt),Tt}for(vt=h(vt);!Xt.done;Vt++,Xt=$.next())Xt=tt(vt,G,Vt,Xt.value,it),Xt!==null&&(s&&Xt.alternate!==null&&vt.delete(Xt.key===null?Vt:Xt.key),F=_(Xt,F,Vt),$t===null?Tt=Xt:$t.sibling=Xt,$t=Xt);return s&&vt.forEach(function(mI){return a(G,mI)}),Wt&&js(G,Vt),Tt}function he(G,F,$,it){if(typeof $=="object"&&$!==null&&$.type===w&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case T:t:{for(var Tt=$.key;F!==null;){if(F.key===Tt){if(Tt=$.type,Tt===w){if(F.tag===7){c(G,F.sibling),it=g(F,$.props.children),it.return=G,G=it;break t}}else if(F.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===C&&Ja(Tt)===F.type){c(G,F.sibling),it=g(F,$.props),xc(it,$),it.return=G,G=it;break t}c(G,F);break}else a(G,F);F=F.sibling}$.type===w?(it=Wa($.props.children,G.mode,it,$.key),it.return=G,G=it):(it=Ph($.type,$.key,$.props,null,G.mode,it),xc(it,$),it.return=G,G=it)}return E(G);case x:t:{for(Tt=$.key;F!==null;){if(F.key===Tt)if(F.tag===4&&F.stateNode.containerInfo===$.containerInfo&&F.stateNode.implementation===$.implementation){c(G,F.sibling),it=g(F,$.children||[]),it.return=G,G=it;break t}else{c(G,F);break}else a(G,F);F=F.sibling}it=Lm($,G.mode,it),it.return=G,G=it}return E(G);case C:return $=Ja($),he(G,F,$,it)}if(yt($))return pt(G,F,$,it);if(L($)){if(Tt=L($),typeof Tt!="function")throw Error(i(150));return $=Tt.call($),wt(G,F,$,it)}if(typeof $.then=="function")return he(G,F,Fh($),it);if($.$$typeof===B)return he(G,F,zh(G,$),it);Hh(G,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,F!==null&&F.tag===6?(c(G,F.sibling),it=g(F,$),it.return=G,G=it):(c(G,F),it=Pm($,G.mode,it),it.return=G,G=it),E(G)):c(G,F)}return function(G,F,$,it){try{Sc=0;var Tt=he(G,F,$,it);return el=null,Tt}catch(vt){if(vt===tl||vt===jh)throw vt;var $t=ii(29,vt,null,G.mode);return $t.lanes=it,$t.return=G,$t}finally{}}}var to=zv(!0),Uv=zv(!1),Nr=!1;function Km(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $m(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function kr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Pr(s,a,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(te&2)!==0){var g=h.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),h.pending=a,a=kh(s),Tv(s,null,c),a}return Nh(s,h,a,c),kh(s)}function wc(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,un(s,c)}}function Xm(s,a){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var E={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};_===null?g=_=E:_=_.next=E,c=c.next}while(c!==null);_===null?g=_=a:_=_.next=a}else g=_=a;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}var Qm=!1;function Ac(){if(Qm){var s=Zo;if(s!==null)throw s}}function Rc(s,a,c,h){Qm=!1;var g=s.updateQueue;Nr=!1;var _=g.firstBaseUpdate,E=g.lastBaseUpdate,R=g.shared.pending;if(R!==null){g.shared.pending=null;var U=R,Q=U.next;U.next=null,E===null?_=Q:E.next=Q,E=U;var nt=s.alternate;nt!==null&&(nt=nt.updateQueue,R=nt.lastBaseUpdate,R!==E&&(R===null?nt.firstBaseUpdate=Q:R.next=Q,nt.lastBaseUpdate=U))}if(_!==null){var ot=g.baseState;E=0,nt=Q=U=null,R=_;do{var J=R.lane&-536870913,tt=J!==R.lane;if(tt?(Bt&J)===J:(h&J)===J){J!==0&&J===Jo&&(Qm=!0),nt!==null&&(nt=nt.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var pt=s,wt=R;J=a;var he=c;switch(wt.tag){case 1:if(pt=wt.payload,typeof pt=="function"){ot=pt.call(he,ot,J);break t}ot=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=wt.payload,J=typeof pt=="function"?pt.call(he,ot,J):pt,J==null)break t;ot=y({},ot,J);break t;case 2:Nr=!0}}J=R.callback,J!==null&&(s.flags|=64,tt&&(s.flags|=8192),tt=g.callbacks,tt===null?g.callbacks=[J]:tt.push(J))}else tt={lane:J,tag:R.tag,payload:R.payload,callback:R.callback,next:null},nt===null?(Q=nt=tt,U=ot):nt=nt.next=tt,E|=J;if(R=R.next,R===null){if(R=g.shared.pending,R===null)break;tt=R,R=tt.next,tt.next=null,g.lastBaseUpdate=tt,g.shared.pending=null}}while(!0);nt===null&&(U=ot),g.baseState=U,g.firstBaseUpdate=Q,g.lastBaseUpdate=nt,_===null&&(g.shared.lanes=0),jr|=E,s.lanes=E,s.memoizedState=ot}}function jv(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function Bv(s,a){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)jv(c[s],a)}var nl=j(null),qh=j(0);function Fv(s,a){s=Qs,at(qh,s),at(nl,a),Qs=s|a.baseLanes}function Jm(){at(qh,Qs),at(nl,nl.current)}function Zm(){Qs=qh.current,et(nl),et(qh)}var si=j(null),Si=null;function Lr(s){var a=s.alternate;at(ke,ke.current&1),at(si,s),Si===null&&(a===null||nl.current!==null||a.memoizedState!==null)&&(Si=s)}function tg(s){at(ke,ke.current),at(si,s),Si===null&&(Si=s)}function Hv(s){s.tag===22?(at(ke,ke.current),at(si,s),Si===null&&(Si=s)):Vr()}function Vr(){at(ke,ke.current),at(si,si.current)}function ri(s){et(si),Si===s&&(Si=null),et(ke)}var ke=j(0);function Gh(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||ap(c)||op(c)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Hs=0,Pt=null,ce=null,He=null,Yh=!1,il=!1,eo=!1,Wh=0,Cc=0,sl=null,sC=0;function Ie(){throw Error(i(321))}function eg(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!ni(s[c],a[c]))return!1;return!0}function ng(s,a,c,h,g,_){return Hs=_,Pt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Y.H=s===null||s.memoizedState===null?A0:yg,eo=!1,_=c(h,g),eo=!1,il&&(_=Gv(a,c,h,g)),qv(s),_}function qv(s){Y.H=Mc;var a=ce!==null&&ce.next!==null;if(Hs=0,He=ce=Pt=null,Yh=!1,Cc=0,sl=null,a)throw Error(i(300));s===null||qe||(s=s.dependencies,s!==null&&Vh(s)&&(qe=!0))}function Gv(s,a,c,h){Pt=s;var g=0;do{if(il&&(sl=null),Cc=0,il=!1,25<=g)throw Error(i(301));if(g+=1,He=ce=null,s.updateQueue!=null){var _=s.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}Y.H=R0,_=a(c,h)}while(il);return _}function rC(){var s=Y.H,a=s.useState()[0];return a=typeof a.then=="function"?Ic(a):a,s=s.useState()[0],(ce!==null?ce.memoizedState:null)!==s&&(Pt.flags|=1024),a}function ig(){var s=Wh!==0;return Wh=0,s}function sg(s,a,c){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~c}function rg(s){if(Yh){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Yh=!1}Hs=0,He=ce=Pt=null,il=!1,Cc=Wh=0,sl=null}function kn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Pt.memoizedState=He=s:He=He.next=s,He}function Pe(){if(ce===null){var s=Pt.alternate;s=s!==null?s.memoizedState:null}else s=ce.next;var a=He===null?Pt.memoizedState:He.next;if(a!==null)He=a,ce=s;else{if(s===null)throw Pt.alternate===null?Error(i(467)):Error(i(310));ce=s,s={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},He===null?Pt.memoizedState=He=s:He=He.next=s}return He}function Kh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ic(s){var a=Cc;return Cc+=1,sl===null&&(sl=[]),s=Pv(sl,s,a),a=Pt,(He===null?a.memoizedState:He.next)===null&&(a=a.alternate,Y.H=a===null||a.memoizedState===null?A0:yg),s}function $h(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Ic(s);if(s.$$typeof===B)return gn(s)}throw Error(i(438,String(s)))}function ag(s){var a=null,c=Pt.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var h=Pt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=Kh(),Pt.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(s),h=0;h<s;h++)c[h]=V;return a.index++,c}function qs(s,a){return typeof a=="function"?a(s):a}function Xh(s){var a=Pe();return og(a,ce,s)}function og(s,a,c){var h=s.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=c;var g=s.baseQueue,_=h.pending;if(_!==null){if(g!==null){var E=g.next;g.next=_.next,_.next=E}a.baseQueue=g=_,h.pending=null}if(_=s.baseState,g===null)s.memoizedState=_;else{a=g.next;var R=E=null,U=null,Q=a,nt=!1;do{var ot=Q.lane&-536870913;if(ot!==Q.lane?(Bt&ot)===ot:(Hs&ot)===ot){var J=Q.revertLane;if(J===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ot===Jo&&(nt=!0);else if((Hs&J)===J){Q=Q.next,J===Jo&&(nt=!0);continue}else ot={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(R=U=ot,E=_):U=U.next=ot,Pt.lanes|=J,jr|=J;ot=Q.action,eo&&c(_,ot),_=Q.hasEagerState?Q.eagerState:c(_,ot)}else J={lane:ot,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(R=U=J,E=_):U=U.next=J,Pt.lanes|=ot,jr|=ot;Q=Q.next}while(Q!==null&&Q!==a);if(U===null?E=_:U.next=R,!ni(_,s.memoizedState)&&(qe=!0,nt&&(c=Zo,c!==null)))throw c;s.memoizedState=_,s.baseState=E,s.baseQueue=U,h.lastRenderedState=_}return g===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function lg(s){var a=Pe(),c=a.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=s;var h=c.dispatch,g=c.pending,_=a.memoizedState;if(g!==null){c.pending=null;var E=g=g.next;do _=s(_,E.action),E=E.next;while(E!==g);ni(_,a.memoizedState)||(qe=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),c.lastRenderedState=_}return[_,h]}function Yv(s,a,c){var h=Pt,g=Pe(),_=Wt;if(_){if(c===void 0)throw Error(i(407));c=c()}else c=a();var E=!ni((ce||g).memoizedState,c);if(E&&(g.memoizedState=c,qe=!0),g=g.queue,hg($v.bind(null,h,g,s),[s]),g.getSnapshot!==a||E||He!==null&&He.memoizedState.tag&1){if(h.flags|=2048,rl(9,{destroy:void 0},Kv.bind(null,h,g,c,a),null),fe===null)throw Error(i(349));_||(Hs&127)!==0||Wv(h,a,c)}return c}function Wv(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=Pt.updateQueue,a===null?(a=Kh(),Pt.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function Kv(s,a,c,h){a.value=c,a.getSnapshot=h,Xv(a)&&Qv(s)}function $v(s,a,c){return c(function(){Xv(a)&&Qv(s)})}function Xv(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!ni(s,c)}catch{return!0}}function Qv(s){var a=Ya(s,2);a!==null&&Hn(a,s,2)}function cg(s){var a=kn();if(typeof s=="function"){var c=s;if(s=c(),eo){Mn(!0);try{c()}finally{Mn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:s},a}function Jv(s,a,c,h){return s.baseState=c,og(s,ce,typeof h=="function"?h:qs)}function aC(s,a,c,h,g){if(Zh(s))throw Error(i(485));if(s=a.action,s!==null){var _={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){_.listeners.push(E)}};Y.T!==null?c(!0):_.isTransition=!1,h(_),c=a.pending,c===null?(_.next=a.pending=_,Zv(a,_)):(_.next=c.next,a.pending=c.next=_)}}function Zv(s,a){var c=a.action,h=a.payload,g=s.state;if(a.isTransition){var _=Y.T,E={};Y.T=E;try{var R=c(g,h),U=Y.S;U!==null&&U(E,R),t0(s,a,R)}catch(Q){ug(s,a,Q)}finally{_!==null&&E.types!==null&&(_.types=E.types),Y.T=_}}else try{_=c(g,h),t0(s,a,_)}catch(Q){ug(s,a,Q)}}function t0(s,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){e0(s,a,h)},function(h){return ug(s,a,h)}):e0(s,a,c)}function e0(s,a,c){a.status="fulfilled",a.value=c,n0(a),s.state=c,a=s.pending,a!==null&&(c=a.next,c===a?s.pending=null:(c=c.next,a.next=c,Zv(s,c)))}function ug(s,a,c){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=c,n0(a),a=a.next;while(a!==h)}s.action=null}function n0(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function i0(s,a){return a}function s0(s,a){if(Wt){var c=fe.formState;if(c!==null){t:{var h=Pt;if(Wt){if(pe){e:{for(var g=pe,_=Ti;g.nodeType!==8;){if(!_){g=null;break e}if(g=xi(g.nextSibling),g===null){g=null;break e}}_=g.data,g=_==="F!"||_==="F"?g:null}if(g){pe=xi(g.nextSibling),h=g.data==="F!";break t}}Mr(h)}h=!1}h&&(a=c[0])}}return c=kn(),c.memoizedState=c.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i0,lastRenderedState:a},c.queue=h,c=S0.bind(null,Pt,h),h.dispatch=c,h=cg(!1),_=pg.bind(null,Pt,!1,h.queue),h=kn(),g={state:a,dispatch:null,action:s,pending:null},h.queue=g,c=aC.bind(null,Pt,g,_,c),g.dispatch=c,h.memoizedState=s,[a,c,!1]}function r0(s){var a=Pe();return a0(a,ce,s)}function a0(s,a,c){if(a=og(s,a,i0)[0],s=Xh(qs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=Ic(a)}catch(E){throw E===tl?jh:E}else h=a;a=Pe();var g=a.queue,_=g.dispatch;return c!==a.memoizedState&&(Pt.flags|=2048,rl(9,{destroy:void 0},oC.bind(null,g,c),null)),[h,_,s]}function oC(s,a){s.action=a}function o0(s){var a=Pe(),c=ce;if(c!==null)return a0(a,c,s);Pe(),a=a.memoizedState,c=Pe();var h=c.queue.dispatch;return c.memoizedState=s,[a,h,!1]}function rl(s,a,c,h){return s={tag:s,create:c,deps:h,inst:a,next:null},a=Pt.updateQueue,a===null&&(a=Kh(),Pt.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,a.lastEffect=s),s}function l0(){return Pe().memoizedState}function Qh(s,a,c,h){var g=kn();Pt.flags|=s,g.memoizedState=rl(1|a,{destroy:void 0},c,h===void 0?null:h)}function Jh(s,a,c,h){var g=Pe();h=h===void 0?null:h;var _=g.memoizedState.inst;ce!==null&&h!==null&&eg(h,ce.memoizedState.deps)?g.memoizedState=rl(a,_,c,h):(Pt.flags|=s,g.memoizedState=rl(1|a,_,c,h))}function c0(s,a){Qh(8390656,8,s,a)}function hg(s,a){Jh(2048,8,s,a)}function lC(s){Pt.flags|=4;var a=Pt.updateQueue;if(a===null)a=Kh(),Pt.updateQueue=a,a.events=[s];else{var c=a.events;c===null?a.events=[s]:c.push(s)}}function u0(s){var a=Pe().memoizedState;return lC({ref:a,nextImpl:s}),function(){if((te&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function h0(s,a){return Jh(4,2,s,a)}function f0(s,a){return Jh(4,4,s,a)}function d0(s,a){if(typeof a=="function"){s=s();var c=a(s);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function m0(s,a,c){c=c!=null?c.concat([s]):null,Jh(4,4,d0.bind(null,a,s),c)}function fg(){}function g0(s,a){var c=Pe();a=a===void 0?null:a;var h=c.memoizedState;return a!==null&&eg(a,h[1])?h[0]:(c.memoizedState=[s,a],s)}function p0(s,a){var c=Pe();a=a===void 0?null:a;var h=c.memoizedState;if(a!==null&&eg(a,h[1]))return h[0];if(h=s(),eo){Mn(!0);try{s()}finally{Mn(!1)}}return c.memoizedState=[h,a],h}function dg(s,a,c){return c===void 0||(Hs&1073741824)!==0&&(Bt&261930)===0?s.memoizedState=a:(s.memoizedState=c,s=yb(),Pt.lanes|=s,jr|=s,c)}function y0(s,a,c,h){return ni(c,a)?c:nl.current!==null?(s=dg(s,c,h),ni(s,a)||(qe=!0),s):(Hs&42)===0||(Hs&1073741824)!==0&&(Bt&261930)===0?(qe=!0,s.memoizedState=c):(s=yb(),Pt.lanes|=s,jr|=s,a)}function _0(s,a,c,h,g){var _=rt.p;rt.p=_!==0&&8>_?_:8;var E=Y.T,R={};Y.T=R,pg(s,!1,a,c);try{var U=g(),Q=Y.S;if(Q!==null&&Q(R,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var nt=iC(U,h);Dc(s,a,nt,li(s))}else Dc(s,a,h,li(s))}catch(ot){Dc(s,a,{then:function(){},status:"rejected",reason:ot},li())}finally{rt.p=_,E!==null&&R.types!==null&&(E.types=R.types),Y.T=E}}function cC(){}function mg(s,a,c,h){if(s.tag!==5)throw Error(i(476));var g=v0(s).queue;_0(s,g,a,dt,c===null?cC:function(){return b0(s),c(h)})}function v0(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:dt},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:c},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function b0(s){var a=v0(s);a.next===null&&(a=s.alternate.memoizedState),Dc(s,a.next.queue,{},li())}function gg(){return gn(Wc)}function E0(){return Pe().memoizedState}function T0(){return Pe().memoizedState}function uC(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var c=li();s=kr(c);var h=Pr(a,s,c);h!==null&&(Hn(h,a,c),wc(h,a,c)),a={cache:qm()},s.payload=a;return}a=a.return}}function hC(s,a,c){var h=li();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Zh(s)?x0(a,c):(c=Nm(s,a,c,h),c!==null&&(Hn(c,s,h),w0(c,a,h)))}function S0(s,a,c){var h=li();Dc(s,a,c,h)}function Dc(s,a,c,h){var g={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Zh(s))x0(a,g);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var E=a.lastRenderedState,R=_(E,c);if(g.hasEagerState=!0,g.eagerState=R,ni(R,E))return Nh(s,a,g,0),fe===null&&Oh(),!1}catch{}finally{}if(c=Nm(s,a,g,h),c!==null)return Hn(c,s,h),w0(c,a,h),!0}return!1}function pg(s,a,c,h){if(h={lane:2,revertLane:Kg(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Zh(s)){if(a)throw Error(i(479))}else a=Nm(s,c,h,2),a!==null&&Hn(a,s,2)}function Zh(s){var a=s.alternate;return s===Pt||a!==null&&a===Pt}function x0(s,a){il=Yh=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function w0(s,a,c){if((c&4194048)!==0){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,un(s,c)}}var Mc={readContext:gn,use:$h,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie,useHostTransitionStatus:Ie,useFormState:Ie,useActionState:Ie,useOptimistic:Ie,useMemoCache:Ie,useCacheRefresh:Ie};Mc.useEffectEvent=Ie;var A0={readContext:gn,use:$h,useCallback:function(s,a){return kn().memoizedState=[s,a===void 0?null:a],s},useContext:gn,useEffect:c0,useImperativeHandle:function(s,a,c){c=c!=null?c.concat([s]):null,Qh(4194308,4,d0.bind(null,a,s),c)},useLayoutEffect:function(s,a){return Qh(4194308,4,s,a)},useInsertionEffect:function(s,a){Qh(4,2,s,a)},useMemo:function(s,a){var c=kn();a=a===void 0?null:a;var h=s();if(eo){Mn(!0);try{s()}finally{Mn(!1)}}return c.memoizedState=[h,a],h},useReducer:function(s,a,c){var h=kn();if(c!==void 0){var g=c(a);if(eo){Mn(!0);try{c(a)}finally{Mn(!1)}}}else g=a;return h.memoizedState=h.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},h.queue=s,s=s.dispatch=hC.bind(null,Pt,s),[h.memoizedState,s]},useRef:function(s){var a=kn();return s={current:s},a.memoizedState=s},useState:function(s){s=cg(s);var a=s.queue,c=S0.bind(null,Pt,a);return a.dispatch=c,[s.memoizedState,c]},useDebugValue:fg,useDeferredValue:function(s,a){var c=kn();return dg(c,s,a)},useTransition:function(){var s=cg(!1);return s=_0.bind(null,Pt,s.queue,!0,!1),kn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,c){var h=Pt,g=kn();if(Wt){if(c===void 0)throw Error(i(407));c=c()}else{if(c=a(),fe===null)throw Error(i(349));(Bt&127)!==0||Wv(h,a,c)}g.memoizedState=c;var _={value:c,getSnapshot:a};return g.queue=_,c0($v.bind(null,h,_,s),[s]),h.flags|=2048,rl(9,{destroy:void 0},Kv.bind(null,h,_,c,a),null),c},useId:function(){var s=kn(),a=fe.identifierPrefix;if(Wt){var c=ps,h=gs;c=(h&~(1<<32-be(h)-1)).toString(32)+c,a="_"+a+"R_"+c,c=Wh++,0<c&&(a+="H"+c.toString(32)),a+="_"}else c=sC++,a="_"+a+"r_"+c.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:gg,useFormState:s0,useActionState:s0,useOptimistic:function(s){var a=kn();a.memoizedState=a.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=pg.bind(null,Pt,!0,c),c.dispatch=a,[s,a]},useMemoCache:ag,useCacheRefresh:function(){return kn().memoizedState=uC.bind(null,Pt)},useEffectEvent:function(s){var a=kn(),c={impl:s};return a.memoizedState=c,function(){if((te&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}},yg={readContext:gn,use:$h,useCallback:g0,useContext:gn,useEffect:hg,useImperativeHandle:m0,useInsertionEffect:h0,useLayoutEffect:f0,useMemo:p0,useReducer:Xh,useRef:l0,useState:function(){return Xh(qs)},useDebugValue:fg,useDeferredValue:function(s,a){var c=Pe();return y0(c,ce.memoizedState,s,a)},useTransition:function(){var s=Xh(qs)[0],a=Pe().memoizedState;return[typeof s=="boolean"?s:Ic(s),a]},useSyncExternalStore:Yv,useId:E0,useHostTransitionStatus:gg,useFormState:r0,useActionState:r0,useOptimistic:function(s,a){var c=Pe();return Jv(c,ce,s,a)},useMemoCache:ag,useCacheRefresh:T0};yg.useEffectEvent=u0;var R0={readContext:gn,use:$h,useCallback:g0,useContext:gn,useEffect:hg,useImperativeHandle:m0,useInsertionEffect:h0,useLayoutEffect:f0,useMemo:p0,useReducer:lg,useRef:l0,useState:function(){return lg(qs)},useDebugValue:fg,useDeferredValue:function(s,a){var c=Pe();return ce===null?dg(c,s,a):y0(c,ce.memoizedState,s,a)},useTransition:function(){var s=lg(qs)[0],a=Pe().memoizedState;return[typeof s=="boolean"?s:Ic(s),a]},useSyncExternalStore:Yv,useId:E0,useHostTransitionStatus:gg,useFormState:o0,useActionState:o0,useOptimistic:function(s,a){var c=Pe();return ce!==null?Jv(c,ce,s,a):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:ag,useCacheRefresh:T0};R0.useEffectEvent=u0;function _g(s,a,c,h){a=s.memoizedState,c=c(h,a),c=c==null?a:y({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var vg={enqueueSetState:function(s,a,c){s=s._reactInternals;var h=li(),g=kr(h);g.payload=a,c!=null&&(g.callback=c),a=Pr(s,g,h),a!==null&&(Hn(a,s,h),wc(a,s,h))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var h=li(),g=kr(h);g.tag=1,g.payload=a,c!=null&&(g.callback=c),a=Pr(s,g,h),a!==null&&(Hn(a,s,h),wc(a,s,h))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=li(),h=kr(c);h.tag=2,a!=null&&(h.callback=a),a=Pr(s,h,c),a!==null&&(Hn(a,s,c),wc(a,s,c))}};function C0(s,a,c,h,g,_,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,_,E):a.prototype&&a.prototype.isPureReactComponent?!yc(c,h)||!yc(g,_):!0}function I0(s,a,c,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==s&&vg.enqueueReplaceState(a,a.state,null)}function no(s,a){var c=a;if("ref"in a){c={};for(var h in a)h!=="ref"&&(c[h]=a[h])}if(s=s.defaultProps){c===a&&(c=y({},c));for(var g in s)c[g]===void 0&&(c[g]=s[g])}return c}function D0(s){Mh(s)}function M0(s){console.error(s)}function O0(s){Mh(s)}function tf(s,a){try{var c=s.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function N0(s,a,c){try{var h=s.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function bg(s,a,c){return c=kr(c),c.tag=3,c.payload={element:null},c.callback=function(){tf(s,a)},c}function k0(s){return s=kr(s),s.tag=3,s}function P0(s,a,c,h){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var _=h.value;s.payload=function(){return g(_)},s.callback=function(){N0(a,c,h)}}var E=c.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(s.callback=function(){N0(a,c,h),typeof g!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var R=h.stack;this.componentDidCatch(h.value,{componentStack:R!==null?R:""})})}function fC(s,a,c,h,g){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=c.alternate,a!==null&&Qo(a,c,g,!0),c=si.current,c!==null){switch(c.tag){case 31:case 13:return Si===null?df():c.alternate===null&&De===0&&(De=3),c.flags&=-257,c.flags|=65536,c.lanes=g,h===Bh?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([h]):a.add(h),Gg(s,h,g)),!1;case 22:return c.flags|=65536,h===Bh?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([h]):c.add(h)),Gg(s,h,g)),!1}throw Error(i(435,c.tag))}return Gg(s,h,g),df(),!1}if(Wt)return a=si.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,h!==Um&&(s=Error(i(422),{cause:h}),bc(vi(s,c)))):(h!==Um&&(a=Error(i(423),{cause:h}),bc(vi(a,c))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,h=vi(h,c),g=bg(s.stateNode,h,g),Xm(s,g),De!==4&&(De=2)),!1;var _=Error(i(520),{cause:h});if(_=vi(_,c),Uc===null?Uc=[_]:Uc.push(_),De!==4&&(De=2),a===null)return!0;h=vi(h,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,s=g&-g,c.lanes|=s,s=bg(c.stateNode,h,s),Xm(c,s),!1;case 1:if(a=c.type,_=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Br===null||!Br.has(_))))return c.flags|=65536,g&=-g,c.lanes|=g,g=k0(g),P0(g,s,c,h),Xm(c,g),!1}c=c.return}while(c!==null);return!1}var Eg=Error(i(461)),qe=!1;function pn(s,a,c,h){a.child=s===null?Uv(a,null,c,h):to(a,s.child,c,h)}function L0(s,a,c,h,g){c=c.render;var _=a.ref;if("ref"in h){var E={};for(var R in h)R!=="ref"&&(E[R]=h[R])}else E=h;return Xa(a),h=ng(s,a,c,E,_,g),R=ig(),s!==null&&!qe?(sg(s,a,g),Gs(s,a,g)):(Wt&&R&&Vm(a),a.flags|=1,pn(s,a,h,g),a.child)}function V0(s,a,c,h,g){if(s===null){var _=c.type;return typeof _=="function"&&!km(_)&&_.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=_,z0(s,a,_,h,g)):(s=Ph(c.type,null,h,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(_=s.child,!Ig(s,g)){var E=_.memoizedProps;if(c=c.compare,c=c!==null?c:yc,c(E,h)&&s.ref===a.ref)return Gs(s,a,g)}return a.flags|=1,s=Us(_,h),s.ref=a.ref,s.return=a,a.child=s}function z0(s,a,c,h,g){if(s!==null){var _=s.memoizedProps;if(yc(_,h)&&s.ref===a.ref)if(qe=!1,a.pendingProps=h=_,Ig(s,g))(s.flags&131072)!==0&&(qe=!0);else return a.lanes=s.lanes,Gs(s,a,g)}return Tg(s,a,c,h,g)}function U0(s,a,c,h){var g=h.children,_=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((a.flags&128)!==0){if(_=_!==null?_.baseLanes|c:c,s!==null){for(h=a.child=s.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;h=g&~_}else h=0,a.child=null;return j0(s,a,_,c,h)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Uh(a,_!==null?_.cachePool:null),_!==null?Fv(a,_):Jm(),Hv(a);else return h=a.lanes=536870912,j0(s,a,_!==null?_.baseLanes|c:c,c,h)}else _!==null?(Uh(a,_.cachePool),Fv(a,_),Vr(),a.memoizedState=null):(s!==null&&Uh(a,null),Jm(),Vr());return pn(s,a,g,c),a.child}function Oc(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function j0(s,a,c,h,g){var _=Ym();return _=_===null?null:{parent:Fe._currentValue,pool:_},a.memoizedState={baseLanes:c,cachePool:_},s!==null&&Uh(a,null),Jm(),Hv(a),s!==null&&Qo(s,a,h,!0),a.childLanes=g,null}function ef(s,a){return a=sf({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function B0(s,a,c){return to(a,s.child,null,c),s=ef(a,a.pendingProps),s.flags|=2,ri(a),a.memoizedState=null,s}function dC(s,a,c){var h=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(Wt){if(h.mode==="hidden")return s=ef(a,h),a.lanes=536870912,Oc(null,s);if(tg(a),(s=pe)?(s=Zb(s,Ti),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Ir!==null?{id:gs,overflow:ps}:null,retryLane:536870912,hydrationErrors:null},c=xv(s),c.return=a,a.child=c,mn=a,pe=null)):s=null,s===null)throw Mr(a);return a.lanes=536870912,null}return ef(a,h)}var _=s.memoizedState;if(_!==null){var E=_.dehydrated;if(tg(a),g)if(a.flags&256)a.flags&=-257,a=B0(s,a,c);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(i(558));else if(qe||Qo(s,a,c,!1),g=(c&s.childLanes)!==0,qe||g){if(h=fe,h!==null&&(E=hn(h,c),E!==0&&E!==_.retryLane))throw _.retryLane=E,Ya(s,E),Hn(h,s,E),Eg;df(),a=B0(s,a,c)}else s=_.treeContext,pe=xi(E.nextSibling),mn=a,Wt=!0,Dr=null,Ti=!1,s!==null&&Rv(a,s),a=ef(a,h),a.flags|=4096;return a}return s=Us(s.child,{mode:h.mode,children:h.children}),s.ref=a.ref,a.child=s,s.return=a,s}function nf(s,a){var c=a.ref;if(c===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(s===null||s.ref!==c)&&(a.flags|=4194816)}}function Tg(s,a,c,h,g){return Xa(a),c=ng(s,a,c,h,void 0,g),h=ig(),s!==null&&!qe?(sg(s,a,g),Gs(s,a,g)):(Wt&&h&&Vm(a),a.flags|=1,pn(s,a,c,g),a.child)}function F0(s,a,c,h,g,_){return Xa(a),a.updateQueue=null,c=Gv(a,h,c,g),qv(s),h=ig(),s!==null&&!qe?(sg(s,a,_),Gs(s,a,_)):(Wt&&h&&Vm(a),a.flags|=1,pn(s,a,c,_),a.child)}function H0(s,a,c,h,g){if(Xa(a),a.stateNode===null){var _=Wo,E=c.contextType;typeof E=="object"&&E!==null&&(_=gn(E)),_=new c(h,_),a.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=vg,a.stateNode=_,_._reactInternals=a,_=a.stateNode,_.props=h,_.state=a.memoizedState,_.refs={},Km(a),E=c.contextType,_.context=typeof E=="object"&&E!==null?gn(E):Wo,_.state=a.memoizedState,E=c.getDerivedStateFromProps,typeof E=="function"&&(_g(a,c,E,h),_.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(E=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),E!==_.state&&vg.enqueueReplaceState(_,_.state,null),Rc(a,h,_,g),Ac(),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(s===null){_=a.stateNode;var R=a.memoizedProps,U=no(c,R);_.props=U;var Q=_.context,nt=c.contextType;E=Wo,typeof nt=="object"&&nt!==null&&(E=gn(nt));var ot=c.getDerivedStateFromProps;nt=typeof ot=="function"||typeof _.getSnapshotBeforeUpdate=="function",R=a.pendingProps!==R,nt||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R||Q!==E)&&I0(a,_,h,E),Nr=!1;var J=a.memoizedState;_.state=J,Rc(a,h,_,g),Ac(),Q=a.memoizedState,R||J!==Q||Nr?(typeof ot=="function"&&(_g(a,c,ot,h),Q=a.memoizedState),(U=Nr||C0(a,c,U,h,J,Q,E))?(nt||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(a.flags|=4194308)):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=Q),_.props=h,_.state=Q,_.context=E,h=U):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{_=a.stateNode,$m(s,a),E=a.memoizedProps,nt=no(c,E),_.props=nt,ot=a.pendingProps,J=_.context,Q=c.contextType,U=Wo,typeof Q=="object"&&Q!==null&&(U=gn(Q)),R=c.getDerivedStateFromProps,(Q=typeof R=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(E!==ot||J!==U)&&I0(a,_,h,U),Nr=!1,J=a.memoizedState,_.state=J,Rc(a,h,_,g),Ac();var tt=a.memoizedState;E!==ot||J!==tt||Nr||s!==null&&s.dependencies!==null&&Vh(s.dependencies)?(typeof R=="function"&&(_g(a,c,R,h),tt=a.memoizedState),(nt=Nr||C0(a,c,nt,h,J,tt,U)||s!==null&&s.dependencies!==null&&Vh(s.dependencies))?(Q||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,tt,U),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,tt,U)),typeof _.componentDidUpdate=="function"&&(a.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof _.componentDidUpdate!="function"||E===s.memoizedProps&&J===s.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&J===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=tt),_.props=h,_.state=tt,_.context=U,h=nt):(typeof _.componentDidUpdate!="function"||E===s.memoizedProps&&J===s.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&J===s.memoizedState||(a.flags|=1024),h=!1)}return _=h,nf(s,a),h=(a.flags&128)!==0,_||h?(_=a.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:_.render(),a.flags|=1,s!==null&&h?(a.child=to(a,s.child,null,g),a.child=to(a,null,c,g)):pn(s,a,c,g),a.memoizedState=_.state,s=a.child):s=Gs(s,a,g),s}function q0(s,a,c,h){return Ka(),a.flags|=256,pn(s,a,c,h),a.child}var Sg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xg(s){return{baseLanes:s,cachePool:Nv()}}function wg(s,a,c){return s=s!==null?s.childLanes&~c:0,a&&(s|=oi),s}function G0(s,a,c){var h=a.pendingProps,g=!1,_=(a.flags&128)!==0,E;if((E=_)||(E=s!==null&&s.memoizedState===null?!1:(ke.current&2)!==0),E&&(g=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,s===null){if(Wt){if(g?Lr(a):Vr(),(s=pe)?(s=Zb(s,Ti),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Ir!==null?{id:gs,overflow:ps}:null,retryLane:536870912,hydrationErrors:null},c=xv(s),c.return=a,a.child=c,mn=a,pe=null)):s=null,s===null)throw Mr(a);return op(s)?a.lanes=32:a.lanes=536870912,null}var R=h.children;return h=h.fallback,g?(Vr(),g=a.mode,R=sf({mode:"hidden",children:R},g),h=Wa(h,g,c,null),R.return=a,h.return=a,R.sibling=h,a.child=R,h=a.child,h.memoizedState=xg(c),h.childLanes=wg(s,E,c),a.memoizedState=Sg,Oc(null,h)):(Lr(a),Ag(a,R))}var U=s.memoizedState;if(U!==null&&(R=U.dehydrated,R!==null)){if(_)a.flags&256?(Lr(a),a.flags&=-257,a=Rg(s,a,c)):a.memoizedState!==null?(Vr(),a.child=s.child,a.flags|=128,a=null):(Vr(),R=h.fallback,g=a.mode,h=sf({mode:"visible",children:h.children},g),R=Wa(R,g,c,null),R.flags|=2,h.return=a,R.return=a,h.sibling=R,a.child=h,to(a,s.child,null,c),h=a.child,h.memoizedState=xg(c),h.childLanes=wg(s,E,c),a.memoizedState=Sg,a=Oc(null,h));else if(Lr(a),op(R)){if(E=R.nextSibling&&R.nextSibling.dataset,E)var Q=E.dgst;E=Q,h=Error(i(419)),h.stack="",h.digest=E,bc({value:h,source:null,stack:null}),a=Rg(s,a,c)}else if(qe||Qo(s,a,c,!1),E=(c&s.childLanes)!==0,qe||E){if(E=fe,E!==null&&(h=hn(E,c),h!==0&&h!==U.retryLane))throw U.retryLane=h,Ya(s,h),Hn(E,s,h),Eg;ap(R)||df(),a=Rg(s,a,c)}else ap(R)?(a.flags|=192,a.child=s.child,a=null):(s=U.treeContext,pe=xi(R.nextSibling),mn=a,Wt=!0,Dr=null,Ti=!1,s!==null&&Rv(a,s),a=Ag(a,h.children),a.flags|=4096);return a}return g?(Vr(),R=h.fallback,g=a.mode,U=s.child,Q=U.sibling,h=Us(U,{mode:"hidden",children:h.children}),h.subtreeFlags=U.subtreeFlags&65011712,Q!==null?R=Us(Q,R):(R=Wa(R,g,c,null),R.flags|=2),R.return=a,h.return=a,h.sibling=R,a.child=h,Oc(null,h),h=a.child,R=s.child.memoizedState,R===null?R=xg(c):(g=R.cachePool,g!==null?(U=Fe._currentValue,g=g.parent!==U?{parent:U,pool:U}:g):g=Nv(),R={baseLanes:R.baseLanes|c,cachePool:g}),h.memoizedState=R,h.childLanes=wg(s,E,c),a.memoizedState=Sg,Oc(s.child,h)):(Lr(a),c=s.child,s=c.sibling,c=Us(c,{mode:"visible",children:h.children}),c.return=a,c.sibling=null,s!==null&&(E=a.deletions,E===null?(a.deletions=[s],a.flags|=16):E.push(s)),a.child=c,a.memoizedState=null,c)}function Ag(s,a){return a=sf({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function sf(s,a){return s=ii(22,s,null,a),s.lanes=0,s}function Rg(s,a,c){return to(a,s.child,null,c),s=Ag(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Y0(s,a,c){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),Fm(s.return,a,c)}function Cg(s,a,c,h,g,_){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g,treeForkCount:_}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=h,E.tail=c,E.tailMode=g,E.treeForkCount=_)}function W0(s,a,c){var h=a.pendingProps,g=h.revealOrder,_=h.tail;h=h.children;var E=ke.current,R=(E&2)!==0;if(R?(E=E&1|2,a.flags|=128):E&=1,at(ke,E),pn(s,a,h,c),h=Wt?vc:0,!R&&s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Y0(s,c,a);else if(s.tag===19)Y0(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(c=a.child,g=null;c!==null;)s=c.alternate,s!==null&&Gh(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),Cg(a,!1,g,c,_,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Gh(s)===null){a.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}Cg(a,!0,c,null,_,h);break;case"together":Cg(a,!1,null,null,void 0,h);break;default:a.memoizedState=null}return a.child}function Gs(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),jr|=a.lanes,(c&a.childLanes)===0)if(s!==null){if(Qo(s,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,c=Us(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Us(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function Ig(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Vh(s)))}function mC(s,a,c){switch(a.tag){case 3:Dt(a,a.stateNode.containerInfo),Or(a,Fe,s.memoizedState.cache),Ka();break;case 27:case 5:hi(a);break;case 4:Dt(a,a.stateNode.containerInfo);break;case 10:Or(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,tg(a),null;break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Lr(a),a.flags|=128,null):(c&a.child.childLanes)!==0?G0(s,a,c):(Lr(a),s=Gs(s,a,c),s!==null?s.sibling:null);Lr(a);break;case 19:var g=(s.flags&128)!==0;if(h=(c&a.childLanes)!==0,h||(Qo(s,a,c,!1),h=(c&a.childLanes)!==0),g){if(h)return W0(s,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),at(ke,ke.current),h)break;return null;case 22:return a.lanes=0,U0(s,a,c,a.pendingProps);case 24:Or(a,Fe,s.memoizedState.cache)}return Gs(s,a,c)}function K0(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps)qe=!0;else{if(!Ig(s,c)&&(a.flags&128)===0)return qe=!1,mC(s,a,c);qe=(s.flags&131072)!==0}else qe=!1,Wt&&(a.flags&1048576)!==0&&Av(a,vc,a.index);switch(a.lanes=0,a.tag){case 16:t:{var h=a.pendingProps;if(s=Ja(a.elementType),a.type=s,typeof s=="function")km(s)?(h=no(s,h),a.tag=1,a=H0(null,a,s,h,c)):(a.tag=0,a=Tg(null,a,s,h,c));else{if(s!=null){var g=s.$$typeof;if(g===q){a.tag=11,a=L0(null,a,s,h,c);break t}else if(g===I){a.tag=14,a=V0(null,a,s,h,c);break t}}throw a=Et(s)||s,Error(i(306,a,""))}}return a;case 0:return Tg(s,a,a.type,a.pendingProps,c);case 1:return h=a.type,g=no(h,a.pendingProps),H0(s,a,h,g,c);case 3:t:{if(Dt(a,a.stateNode.containerInfo),s===null)throw Error(i(387));h=a.pendingProps;var _=a.memoizedState;g=_.element,$m(s,a),Rc(a,h,null,c);var E=a.memoizedState;if(h=E.cache,Or(a,Fe,h),h!==_.cache&&Hm(a,[Fe],c,!0),Ac(),h=E.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){a=q0(s,a,h,c);break t}else if(h!==g){g=vi(Error(i(424)),a),bc(g),a=q0(s,a,h,c);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(pe=xi(s.firstChild),mn=a,Wt=!0,Dr=null,Ti=!0,c=Uv(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Ka(),h===g){a=Gs(s,a,c);break t}pn(s,a,h,c)}a=a.child}return a;case 26:return nf(s,a),s===null?(c=rE(a.type,null,a.pendingProps,null))?a.memoizedState=c:Wt||(c=a.type,s=a.pendingProps,h=bf(_t.current).createElement(c),h[Ue]=a,h[nn]=s,yn(h,c,s),je(h),a.stateNode=h):a.memoizedState=rE(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return hi(a),s===null&&Wt&&(h=a.stateNode=nE(a.type,a.pendingProps,_t.current),mn=a,Ti=!0,g=pe,Gr(a.type)?(lp=g,pe=xi(h.firstChild)):pe=g),pn(s,a,a.pendingProps.children,c),nf(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Wt&&((g=h=pe)&&(h=qC(h,a.type,a.pendingProps,Ti),h!==null?(a.stateNode=h,mn=a,pe=xi(h.firstChild),Ti=!1,g=!0):g=!1),g||Mr(a)),hi(a),g=a.type,_=a.pendingProps,E=s!==null?s.memoizedProps:null,h=_.children,ip(g,_)?h=null:E!==null&&ip(g,E)&&(a.flags|=32),a.memoizedState!==null&&(g=ng(s,a,rC,null,null,c),Wc._currentValue=g),nf(s,a),pn(s,a,h,c),a.child;case 6:return s===null&&Wt&&((s=c=pe)&&(c=GC(c,a.pendingProps,Ti),c!==null?(a.stateNode=c,mn=a,pe=null,s=!0):s=!1),s||Mr(a)),null;case 13:return G0(s,a,c);case 4:return Dt(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=to(a,null,h,c):pn(s,a,h,c),a.child;case 11:return L0(s,a,a.type,a.pendingProps,c);case 7:return pn(s,a,a.pendingProps,c),a.child;case 8:return pn(s,a,a.pendingProps.children,c),a.child;case 12:return pn(s,a,a.pendingProps.children,c),a.child;case 10:return h=a.pendingProps,Or(a,a.type,h.value),pn(s,a,h.children,c),a.child;case 9:return g=a.type._context,h=a.pendingProps.children,Xa(a),g=gn(g),h=h(g),a.flags|=1,pn(s,a,h,c),a.child;case 14:return V0(s,a,a.type,a.pendingProps,c);case 15:return z0(s,a,a.type,a.pendingProps,c);case 19:return W0(s,a,c);case 31:return dC(s,a,c);case 22:return U0(s,a,c,a.pendingProps);case 24:return Xa(a),h=gn(Fe),s===null?(g=Ym(),g===null&&(g=fe,_=qm(),g.pooledCache=_,_.refCount++,_!==null&&(g.pooledCacheLanes|=c),g=_),a.memoizedState={parent:h,cache:g},Km(a),Or(a,Fe,g)):((s.lanes&c)!==0&&($m(s,a),Rc(a,null,null,c),Ac()),g=s.memoizedState,_=a.memoizedState,g.parent!==h?(g={parent:h,cache:h},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Or(a,Fe,h)):(h=_.cache,Or(a,Fe,h),h!==g.cache&&Hm(a,[Fe],c,!0))),pn(s,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Ys(s){s.flags|=4}function Dg(s,a,c,h,g){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(Eb())s.flags|=8192;else throw Za=Bh,Wm}else s.flags&=-16777217}function $0(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!uE(a))if(Eb())s.flags|=8192;else throw Za=Bh,Wm}function rf(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?en():536870912,s.lanes|=a,cl|=a)}function Nc(s,a){if(!Wt)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function ye(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(a)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=c,a}function gC(s,a,c){var h=a.pendingProps;switch(zm(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(a),null;case 1:return ye(a),null;case 3:return c=a.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),Fs(Fe),Jt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(Xo(a)?Ys(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,jm())),ye(a),null;case 26:var g=a.type,_=a.memoizedState;return s===null?(Ys(a),_!==null?(ye(a),$0(a,_)):(ye(a),Dg(a,g,null,h,c))):_?_!==s.memoizedState?(Ys(a),ye(a),$0(a,_)):(ye(a),a.flags&=-16777217):(s=s.memoizedProps,s!==h&&Ys(a),ye(a),Dg(a,g,s,h,c)),null;case 27:if(Ii(a),c=_t.current,g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Ys(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return ye(a),null}s=ct.current,Xo(a)?Cv(a):(s=nE(g,h,c),a.stateNode=s,Ys(a))}return ye(a),null;case 5:if(Ii(a),g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Ys(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return ye(a),null}if(_=ct.current,Xo(a))Cv(a);else{var E=bf(_t.current);switch(_){case 1:_=E.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:_=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":_=E.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":_=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":_=E.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof h.is=="string"?E.createElement("select",{is:h.is}):E.createElement("select"),h.multiple?_.multiple=!0:h.size&&(_.size=h.size);break;default:_=typeof h.is=="string"?E.createElement(g,{is:h.is}):E.createElement(g)}}_[Ue]=a,_[nn]=h;t:for(E=a.child;E!==null;){if(E.tag===5||E.tag===6)_.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===a)break t;for(;E.sibling===null;){if(E.return===null||E.return===a)break t;E=E.return}E.sibling.return=E.return,E=E.sibling}a.stateNode=_;t:switch(yn(_,g,h),g){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break t;case"img":h=!0;break t;default:h=!1}h&&Ys(a)}}return ye(a),Dg(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,c),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==h&&Ys(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(i(166));if(s=_t.current,Xo(a)){if(s=a.stateNode,c=a.memoizedProps,h=null,g=mn,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}s[Ue]=a,s=!!(s.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||Gb(s.nodeValue,c)),s||Mr(a,!0)}else s=bf(s).createTextNode(h),s[Ue]=a,a.stateNode=s}return ye(a),null;case 31:if(c=a.memoizedState,s===null||s.memoizedState!==null){if(h=Xo(a),c!==null){if(s===null){if(!h)throw Error(i(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Ue]=a}else Ka(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ye(a),s=!1}else c=jm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=c),s=!0;if(!s)return a.flags&256?(ri(a),a):(ri(a),null);if((a.flags&128)!==0)throw Error(i(558))}return ye(a),null;case 13:if(h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=Xo(a),h!==null&&h.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Ue]=a}else Ka(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ye(a),g=!1}else g=jm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(ri(a),a):(ri(a),null)}return ri(a),(a.flags&128)!==0?(a.lanes=c,a):(c=h!==null,s=s!==null&&s.memoizedState!==null,c&&(h=a.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool),_=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==g&&(h.flags|=2048)),c!==s&&c&&(a.child.flags|=8192),rf(a,a.updateQueue),ye(a),null);case 4:return Jt(),s===null&&Jg(a.stateNode.containerInfo),ye(a),null;case 10:return Fs(a.type),ye(a),null;case 19:if(et(ke),h=a.memoizedState,h===null)return ye(a),null;if(g=(a.flags&128)!==0,_=h.rendering,_===null)if(g)Nc(h,!1);else{if(De!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(_=Gh(s),_!==null){for(a.flags|=128,Nc(h,!1),s=_.updateQueue,a.updateQueue=s,rf(a,s),a.subtreeFlags=0,s=c,c=a.child;c!==null;)Sv(c,s),c=c.sibling;return at(ke,ke.current&1|2),Wt&&js(a,h.treeForkCount),a.child}s=s.sibling}h.tail!==null&&cn()>uf&&(a.flags|=128,g=!0,Nc(h,!1),a.lanes=4194304)}else{if(!g)if(s=Gh(_),s!==null){if(a.flags|=128,g=!0,s=s.updateQueue,a.updateQueue=s,rf(a,s),Nc(h,!0),h.tail===null&&h.tailMode==="hidden"&&!_.alternate&&!Wt)return ye(a),null}else 2*cn()-h.renderingStartTime>uf&&c!==536870912&&(a.flags|=128,g=!0,Nc(h,!1),a.lanes=4194304);h.isBackwards?(_.sibling=a.child,a.child=_):(s=h.last,s!==null?s.sibling=_:a.child=_,h.last=_)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=cn(),s.sibling=null,c=ke.current,at(ke,g?c&1|2:c&1),Wt&&js(a,h.treeForkCount),s):(ye(a),null);case 22:case 23:return ri(a),Zm(),h=a.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(c&536870912)!==0&&(a.flags&128)===0&&(ye(a),a.subtreeFlags&6&&(a.flags|=8192)):ye(a),c=a.updateQueue,c!==null&&rf(a,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==c&&(a.flags|=2048),s!==null&&et(Qa),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Fs(Fe),ye(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function pC(s,a){switch(zm(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Fs(Fe),Jt(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Ii(a),null;case 31:if(a.memoizedState!==null){if(ri(a),a.alternate===null)throw Error(i(340));Ka()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(ri(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Ka()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return et(ke),null;case 4:return Jt(),null;case 10:return Fs(a.type),null;case 22:case 23:return ri(a),Zm(),s!==null&&et(Qa),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Fs(Fe),null;case 25:return null;default:return null}}function X0(s,a){switch(zm(a),a.tag){case 3:Fs(Fe),Jt();break;case 26:case 27:case 5:Ii(a);break;case 4:Jt();break;case 31:a.memoizedState!==null&&ri(a);break;case 13:ri(a);break;case 19:et(ke);break;case 10:Fs(a.type);break;case 22:case 23:ri(a),Zm(),s!==null&&et(Qa);break;case 24:Fs(Fe)}}function kc(s,a){try{var c=a.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next;c=g;do{if((c.tag&s)===s){h=void 0;var _=c.create,E=c.inst;h=_(),E.destroy=h}c=c.next}while(c!==g)}}catch(R){ae(a,a.return,R)}}function zr(s,a,c){try{var h=a.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var _=g.next;h=_;do{if((h.tag&s)===s){var E=h.inst,R=E.destroy;if(R!==void 0){E.destroy=void 0,g=a;var U=c,Q=R;try{Q()}catch(nt){ae(g,U,nt)}}}h=h.next}while(h!==_)}}catch(nt){ae(a,a.return,nt)}}function Q0(s){var a=s.updateQueue;if(a!==null){var c=s.stateNode;try{Bv(a,c)}catch(h){ae(s,s.return,h)}}}function J0(s,a,c){c.props=no(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(h){ae(s,a,h)}}function Pc(s,a){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof c=="function"?s.refCleanup=c(h):c.current=h}}catch(g){ae(s,a,g)}}function ys(s,a){var c=s.ref,h=s.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(g){ae(s,a,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){ae(s,a,g)}else c.current=null}function Z0(s){var a=s.type,c=s.memoizedProps,h=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break t;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(g){ae(s,s.return,g)}}function Mg(s,a,c){try{var h=s.stateNode;zC(h,s.type,c,a),h[nn]=a}catch(g){ae(s,s.return,g)}}function tb(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Gr(s.type)||s.tag===4}function Og(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||tb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Gr(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ng(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(s),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Vi));else if(h!==4&&(h===27&&Gr(s.type)&&(c=s.stateNode,a=null),s=s.child,s!==null))for(Ng(s,a,c),s=s.sibling;s!==null;)Ng(s,a,c),s=s.sibling}function af(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(h!==4&&(h===27&&Gr(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(af(s,a,c),s=s.sibling;s!==null;)af(s,a,c),s=s.sibling}function eb(s){var a=s.stateNode,c=s.memoizedProps;try{for(var h=s.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);yn(a,h,c),a[Ue]=s,a[nn]=c}catch(_){ae(s,s.return,_)}}var Ws=!1,Ge=!1,kg=!1,nb=typeof WeakSet=="function"?WeakSet:Set,rn=null;function yC(s,a){if(s=s.containerInfo,ep=Rf,s=mv(s),Rm(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else t:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break t}var E=0,R=-1,U=-1,Q=0,nt=0,ot=s,J=null;e:for(;;){for(var tt;ot!==c||g!==0&&ot.nodeType!==3||(R=E+g),ot!==_||h!==0&&ot.nodeType!==3||(U=E+h),ot.nodeType===3&&(E+=ot.nodeValue.length),(tt=ot.firstChild)!==null;)J=ot,ot=tt;for(;;){if(ot===s)break e;if(J===c&&++Q===g&&(R=E),J===_&&++nt===h&&(U=E),(tt=ot.nextSibling)!==null)break;ot=J,J=ot.parentNode}ot=tt}c=R===-1||U===-1?null:{start:R,end:U}}else c=null}c=c||{start:0,end:0}}else c=null;for(np={focusedElem:s,selectionRange:c},Rf=!1,rn=a;rn!==null;)if(a=rn,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,rn=s;else for(;rn!==null;){switch(a=rn,_=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(c=0;c<s.length;c++)g=s[c],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&_!==null){s=void 0,c=a,g=_.memoizedProps,_=_.memoizedState,h=c.stateNode;try{var pt=no(c.type,g);s=h.getSnapshotBeforeUpdate(pt,_),h.__reactInternalSnapshotBeforeUpdate=s}catch(wt){ae(c,c.return,wt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,c=s.nodeType,c===9)rp(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":rp(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,rn=s;break}rn=a.return}}function ib(s,a,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:$s(s,c),h&4&&kc(5,c);break;case 1:if($s(s,c),h&4)if(s=c.stateNode,a===null)try{s.componentDidMount()}catch(E){ae(c,c.return,E)}else{var g=no(c.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(g,a,s.__reactInternalSnapshotBeforeUpdate)}catch(E){ae(c,c.return,E)}}h&64&&Q0(c),h&512&&Pc(c,c.return);break;case 3:if($s(s,c),h&64&&(s=c.updateQueue,s!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{Bv(s,a)}catch(E){ae(c,c.return,E)}}break;case 27:a===null&&h&4&&eb(c);case 26:case 5:$s(s,c),a===null&&h&4&&Z0(c),h&512&&Pc(c,c.return);break;case 12:$s(s,c);break;case 31:$s(s,c),h&4&&ab(s,c);break;case 13:$s(s,c),h&4&&ob(s,c),h&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=AC.bind(null,c),YC(s,c))));break;case 22:if(h=c.memoizedState!==null||Ws,!h){a=a!==null&&a.memoizedState!==null||Ge,g=Ws;var _=Ge;Ws=h,(Ge=a)&&!_?Xs(s,c,(c.subtreeFlags&8772)!==0):$s(s,c),Ws=g,Ge=_}break;case 30:break;default:$s(s,c)}}function sb(s){var a=s.alternate;a!==null&&(s.alternate=null,sb(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&No(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Te=null,Un=!1;function Ks(s,a,c){for(c=c.child;c!==null;)rb(s,a,c),c=c.sibling}function rb(s,a,c){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(Qn,c)}catch{}switch(c.tag){case 26:Ge||ys(c,a),Ks(s,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Ge||ys(c,a);var h=Te,g=Un;Gr(c.type)&&(Te=c.stateNode,Un=!1),Ks(s,a,c),qc(c.stateNode),Te=h,Un=g;break;case 5:Ge||ys(c,a);case 6:if(h=Te,g=Un,Te=null,Ks(s,a,c),Te=h,Un=g,Te!==null)if(Un)try{(Te.nodeType===9?Te.body:Te.nodeName==="HTML"?Te.ownerDocument.body:Te).removeChild(c.stateNode)}catch(_){ae(c,a,_)}else try{Te.removeChild(c.stateNode)}catch(_){ae(c,a,_)}break;case 18:Te!==null&&(Un?(s=Te,Qb(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),yl(s)):Qb(Te,c.stateNode));break;case 4:h=Te,g=Un,Te=c.stateNode.containerInfo,Un=!0,Ks(s,a,c),Te=h,Un=g;break;case 0:case 11:case 14:case 15:zr(2,c,a),Ge||zr(4,c,a),Ks(s,a,c);break;case 1:Ge||(ys(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"&&J0(c,a,h)),Ks(s,a,c);break;case 21:Ks(s,a,c);break;case 22:Ge=(h=Ge)||c.memoizedState!==null,Ks(s,a,c),Ge=h;break;default:Ks(s,a,c)}}function ab(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{yl(s)}catch(c){ae(a,a.return,c)}}}function ob(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{yl(s)}catch(c){ae(a,a.return,c)}}function _C(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new nb),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new nb),a;default:throw Error(i(435,s.tag))}}function of(s,a){var c=_C(s);a.forEach(function(h){if(!c.has(h)){c.add(h);var g=RC.bind(null,s,h);h.then(g,g)}})}function jn(s,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h],_=s,E=a,R=E;t:for(;R!==null;){switch(R.tag){case 27:if(Gr(R.type)){Te=R.stateNode,Un=!1;break t}break;case 5:Te=R.stateNode,Un=!1;break t;case 3:case 4:Te=R.stateNode.containerInfo,Un=!0;break t}R=R.return}if(Te===null)throw Error(i(160));rb(_,E,g),Te=null,Un=!1,_=g.alternate,_!==null&&(_.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)lb(a,s),a=a.sibling}var Hi=null;function lb(s,a){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:jn(a,s),Bn(s),h&4&&(zr(3,s,s.return),kc(3,s),zr(5,s,s.return));break;case 1:jn(a,s),Bn(s),h&512&&(Ge||c===null||ys(c,c.return)),h&64&&Ws&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var g=Hi;if(jn(a,s),Bn(s),h&512&&(Ge||c===null||ys(c,c.return)),h&4){var _=c!==null?c.memoizedState:null;if(h=s.memoizedState,c===null)if(h===null)if(s.stateNode===null){t:{h=s.type,c=s.memoizedProps,g=g.ownerDocument||g;e:switch(h){case"title":_=g.getElementsByTagName("title")[0],(!_||_[is]||_[Ue]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=g.createElement(h),g.head.insertBefore(_,g.querySelector("head > title"))),yn(_,h,c),_[Ue]=s,je(_),h=_;break t;case"link":var E=lE("link","href",g).get(h+(c.href||""));if(E){for(var R=0;R<E.length;R++)if(_=E[R],_.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&_.getAttribute("rel")===(c.rel==null?null:c.rel)&&_.getAttribute("title")===(c.title==null?null:c.title)&&_.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){E.splice(R,1);break e}}_=g.createElement(h),yn(_,h,c),g.head.appendChild(_);break;case"meta":if(E=lE("meta","content",g).get(h+(c.content||""))){for(R=0;R<E.length;R++)if(_=E[R],_.getAttribute("content")===(c.content==null?null:""+c.content)&&_.getAttribute("name")===(c.name==null?null:c.name)&&_.getAttribute("property")===(c.property==null?null:c.property)&&_.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&_.getAttribute("charset")===(c.charSet==null?null:c.charSet)){E.splice(R,1);break e}}_=g.createElement(h),yn(_,h,c),g.head.appendChild(_);break;default:throw Error(i(468,h))}_[Ue]=s,je(_),h=_}s.stateNode=h}else cE(g,s.type,s.stateNode);else s.stateNode=oE(g,h,s.memoizedProps);else _!==h?(_===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):_.count--,h===null?cE(g,s.type,s.stateNode):oE(g,h,s.memoizedProps)):h===null&&s.stateNode!==null&&Mg(s,s.memoizedProps,c.memoizedProps)}break;case 27:jn(a,s),Bn(s),h&512&&(Ge||c===null||ys(c,c.return)),c!==null&&h&4&&Mg(s,s.memoizedProps,c.memoizedProps);break;case 5:if(jn(a,s),Bn(s),h&512&&(Ge||c===null||ys(c,c.return)),s.flags&32){g=s.stateNode;try{zn(g,"")}catch(pt){ae(s,s.return,pt)}}h&4&&s.stateNode!=null&&(g=s.memoizedProps,Mg(s,g,c!==null?c.memoizedProps:g)),h&1024&&(kg=!0);break;case 6:if(jn(a,s),Bn(s),h&4){if(s.stateNode===null)throw Error(i(162));h=s.memoizedProps,c=s.stateNode;try{c.nodeValue=h}catch(pt){ae(s,s.return,pt)}}break;case 3:if(Sf=null,g=Hi,Hi=Ef(a.containerInfo),jn(a,s),Hi=g,Bn(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{yl(a.containerInfo)}catch(pt){ae(s,s.return,pt)}kg&&(kg=!1,cb(s));break;case 4:h=Hi,Hi=Ef(s.stateNode.containerInfo),jn(a,s),Bn(s),Hi=h;break;case 12:jn(a,s),Bn(s);break;case 31:jn(a,s),Bn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,of(s,h)));break;case 13:jn(a,s),Bn(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(cf=cn()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,of(s,h)));break;case 22:g=s.memoizedState!==null;var U=c!==null&&c.memoizedState!==null,Q=Ws,nt=Ge;if(Ws=Q||g,Ge=nt||U,jn(a,s),Ge=nt,Ws=Q,Bn(s),h&8192)t:for(a=s.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(c===null||U||Ws||Ge||io(s)),c=null,a=s;;){if(a.tag===5||a.tag===26){if(c===null){U=c=a;try{if(_=U.stateNode,g)E=_.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{R=U.stateNode;var ot=U.memoizedProps.style,J=ot!=null&&ot.hasOwnProperty("display")?ot.display:null;R.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(pt){ae(U,U.return,pt)}}}else if(a.tag===6){if(c===null){U=a;try{U.stateNode.nodeValue=g?"":U.memoizedProps}catch(pt){ae(U,U.return,pt)}}}else if(a.tag===18){if(c===null){U=a;try{var tt=U.stateNode;g?Jb(tt,!0):Jb(U.stateNode,!1)}catch(pt){ae(U,U.return,pt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=s.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,of(s,c))));break;case 19:jn(a,s),Bn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,of(s,h)));break;case 30:break;case 21:break;default:jn(a,s),Bn(s)}}function Bn(s){var a=s.flags;if(a&2){try{for(var c,h=s.return;h!==null;){if(tb(h)){c=h;break}h=h.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var g=c.stateNode,_=Og(s);af(s,_,g);break;case 5:var E=c.stateNode;c.flags&32&&(zn(E,""),c.flags&=-33);var R=Og(s);af(s,R,E);break;case 3:case 4:var U=c.stateNode.containerInfo,Q=Og(s);Ng(s,Q,U);break;default:throw Error(i(161))}}catch(nt){ae(s,s.return,nt)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function cb(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;cb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function $s(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)ib(s,a.alternate,a),a=a.sibling}function io(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:zr(4,a,a.return),io(a);break;case 1:ys(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&J0(a,a.return,c),io(a);break;case 27:qc(a.stateNode);case 26:case 5:ys(a,a.return),io(a);break;case 22:a.memoizedState===null&&io(a);break;case 30:io(a);break;default:io(a)}s=s.sibling}}function Xs(s,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,g=s,_=a,E=_.flags;switch(_.tag){case 0:case 11:case 15:Xs(g,_,c),kc(4,_);break;case 1:if(Xs(g,_,c),h=_,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Q){ae(h,h.return,Q)}if(h=_,g=h.updateQueue,g!==null){var R=h.stateNode;try{var U=g.shared.hiddenCallbacks;if(U!==null)for(g.shared.hiddenCallbacks=null,g=0;g<U.length;g++)jv(U[g],R)}catch(Q){ae(h,h.return,Q)}}c&&E&64&&Q0(_),Pc(_,_.return);break;case 27:eb(_);case 26:case 5:Xs(g,_,c),c&&h===null&&E&4&&Z0(_),Pc(_,_.return);break;case 12:Xs(g,_,c);break;case 31:Xs(g,_,c),c&&E&4&&ab(g,_);break;case 13:Xs(g,_,c),c&&E&4&&ob(g,_);break;case 22:_.memoizedState===null&&Xs(g,_,c),Pc(_,_.return);break;case 30:break;default:Xs(g,_,c)}a=a.sibling}}function Pg(s,a){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&Ec(c))}function Lg(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Ec(s))}function qi(s,a,c,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)ub(s,a,c,h),a=a.sibling}function ub(s,a,c,h){var g=a.flags;switch(a.tag){case 0:case 11:case 15:qi(s,a,c,h),g&2048&&kc(9,a);break;case 1:qi(s,a,c,h);break;case 3:qi(s,a,c,h),g&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Ec(s)));break;case 12:if(g&2048){qi(s,a,c,h),s=a.stateNode;try{var _=a.memoizedProps,E=_.id,R=_.onPostCommit;typeof R=="function"&&R(E,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(U){ae(a,a.return,U)}}else qi(s,a,c,h);break;case 31:qi(s,a,c,h);break;case 13:qi(s,a,c,h);break;case 23:break;case 22:_=a.stateNode,E=a.alternate,a.memoizedState!==null?_._visibility&2?qi(s,a,c,h):Lc(s,a):_._visibility&2?qi(s,a,c,h):(_._visibility|=2,al(s,a,c,h,(a.subtreeFlags&10256)!==0||!1)),g&2048&&Pg(E,a);break;case 24:qi(s,a,c,h),g&2048&&Lg(a.alternate,a);break;default:qi(s,a,c,h)}}function al(s,a,c,h,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var _=s,E=a,R=c,U=h,Q=E.flags;switch(E.tag){case 0:case 11:case 15:al(_,E,R,U,g),kc(8,E);break;case 23:break;case 22:var nt=E.stateNode;E.memoizedState!==null?nt._visibility&2?al(_,E,R,U,g):Lc(_,E):(nt._visibility|=2,al(_,E,R,U,g)),g&&Q&2048&&Pg(E.alternate,E);break;case 24:al(_,E,R,U,g),g&&Q&2048&&Lg(E.alternate,E);break;default:al(_,E,R,U,g)}a=a.sibling}}function Lc(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=s,h=a,g=h.flags;switch(h.tag){case 22:Lc(c,h),g&2048&&Pg(h.alternate,h);break;case 24:Lc(c,h),g&2048&&Lg(h.alternate,h);break;default:Lc(c,h)}a=a.sibling}}var Vc=8192;function ol(s,a,c){if(s.subtreeFlags&Vc)for(s=s.child;s!==null;)hb(s,a,c),s=s.sibling}function hb(s,a,c){switch(s.tag){case 26:ol(s,a,c),s.flags&Vc&&s.memoizedState!==null&&sI(c,Hi,s.memoizedState,s.memoizedProps);break;case 5:ol(s,a,c);break;case 3:case 4:var h=Hi;Hi=Ef(s.stateNode.containerInfo),ol(s,a,c),Hi=h;break;case 22:s.memoizedState===null&&(h=s.alternate,h!==null&&h.memoizedState!==null?(h=Vc,Vc=16777216,ol(s,a,c),Vc=h):ol(s,a,c));break;default:ol(s,a,c)}}function fb(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function zc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];rn=h,mb(h,s)}fb(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)db(s),s=s.sibling}function db(s){switch(s.tag){case 0:case 11:case 15:zc(s),s.flags&2048&&zr(9,s,s.return);break;case 3:zc(s);break;case 12:zc(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,lf(s)):zc(s);break;default:zc(s)}}function lf(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];rn=h,mb(h,s)}fb(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:zr(8,a,a.return),lf(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,lf(a));break;default:lf(a)}s=s.sibling}}function mb(s,a){for(;rn!==null;){var c=rn;switch(c.tag){case 0:case 11:case 15:zr(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Ec(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,rn=h;else t:for(c=s;rn!==null;){h=rn;var g=h.sibling,_=h.return;if(sb(h),h===c){rn=null;break t}if(g!==null){g.return=_,rn=g;break t}rn=_}}}var vC={getCacheForType:function(s){var a=gn(Fe),c=a.data.get(s);return c===void 0&&(c=s(),a.data.set(s,c)),c},cacheSignal:function(){return gn(Fe).controller.signal}},bC=typeof WeakMap=="function"?WeakMap:Map,te=0,fe=null,zt=null,Bt=0,re=0,ai=null,Ur=!1,ll=!1,Vg=!1,Qs=0,De=0,jr=0,so=0,zg=0,oi=0,cl=0,Uc=null,Fn=null,Ug=!1,cf=0,gb=0,uf=1/0,hf=null,Br=null,Qe=0,Fr=null,ul=null,Js=0,jg=0,Bg=null,pb=null,jc=0,Fg=null;function li(){return(te&2)!==0&&Bt!==0?Bt&-Bt:Y.T!==null?Kg():Zl()}function yb(){if(oi===0)if((Bt&536870912)===0||Wt){var s=Ps;Ps<<=1,(Ps&3932160)===0&&(Ps=262144),oi=s}else oi=536870912;return s=si.current,s!==null&&(s.flags|=32),oi}function Hn(s,a,c){(s===fe&&(re===2||re===9)||s.cancelPendingCommit!==null)&&(hl(s,0),Hr(s,Bt,oi,!1)),ge(s,c),((te&2)===0||s!==fe)&&(s===fe&&((te&2)===0&&(so|=c),De===4&&Hr(s,Bt,oi,!1)),_s(s))}function _b(s,a,c){if((te&6)!==0)throw Error(i(327));var h=!c&&(a&127)===0&&(a&s.expiredLanes)===0||ne(s,a),g=h?SC(s,a):qg(s,a,!0),_=h;do{if(g===0){ll&&!h&&Hr(s,a,0,!1);break}else{if(c=s.current.alternate,_&&!EC(c)){g=qg(s,a,!1),_=!1;continue}if(g===2){if(_=a,s.errorRecoveryDisabledLanes&_)var E=0;else E=s.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;t:{var R=s;g=Uc;var U=R.current.memoizedState.isDehydrated;if(U&&(hl(R,E).flags|=256),E=qg(R,E,!1),E!==2){if(Vg&&!U){R.errorRecoveryDisabledLanes|=_,so|=_,g=4;break t}_=Fn,Fn=g,_!==null&&(Fn===null?Fn=_:Fn.push.apply(Fn,_))}g=E}if(_=!1,g!==2)continue}}if(g===1){hl(s,0),Hr(s,a,0,!0);break}t:{switch(h=s,_=g,_){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Hr(h,a,oi,!Ur);break t;case 2:Fn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(g=cf+300-cn(),10<g)){if(Hr(h,a,oi,!Ur),xt(h,0,!0)!==0)break t;Js=a,h.timeoutHandle=$b(vb.bind(null,h,c,Fn,hf,Ug,a,oi,so,cl,Ur,_,"Throttled",-0,0),g);break t}vb(h,c,Fn,hf,Ug,a,oi,so,cl,Ur,_,null,-0,0)}}break}while(!0);_s(s)}function vb(s,a,c,h,g,_,E,R,U,Q,nt,ot,J,tt){if(s.timeoutHandle=-1,ot=a.subtreeFlags,ot&8192||(ot&16785408)===16785408){ot={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Vi},hb(a,_,ot);var pt=(_&62914560)===_?cf-cn():(_&4194048)===_?gb-cn():0;if(pt=rI(ot,pt),pt!==null){Js=_,s.cancelPendingCommit=pt(Rb.bind(null,s,a,_,c,h,g,E,R,U,nt,ot,null,J,tt)),Hr(s,_,E,!Q);return}}Rb(s,a,_,c,h,g,E,R,U)}function EC(s){for(var a=s;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var g=c[h],_=g.getSnapshot;g=g.value;try{if(!ni(_(),g))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Hr(s,a,c,h){a&=~zg,a&=~so,s.suspendedLanes|=a,s.pingedLanes&=~a,h&&(s.warmLanes|=a),h=s.expirationTimes;for(var g=a;0<g;){var _=31-be(g),E=1<<_;h[_]=-1,g&=~E}c!==0&&di(s,c,a)}function ff(){return(te&6)===0?(Bc(0),!1):!0}function Hg(){if(zt!==null){if(re===0)var s=zt.return;else s=zt,Bs=$a=null,rg(s),el=null,Sc=0,s=zt;for(;s!==null;)X0(s.alternate,s),s=s.return;zt=null}}function hl(s,a){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,BC(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),Js=0,Hg(),fe=s,zt=c=Us(s.current,null),Bt=a,re=0,ai=null,Ur=!1,ll=ne(s,a),Vg=!1,cl=oi=zg=so=jr=De=0,Fn=Uc=null,Ug=!1,(a&8)!==0&&(a|=a&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=a;0<h;){var g=31-be(h),_=1<<g;a|=s[g],h&=~_}return Qs=a,Oh(),c}function bb(s,a){Pt=null,Y.H=Mc,a===tl||a===jh?(a=Lv(),re=3):a===Wm?(a=Lv(),re=4):re=a===Eg?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ai=a,zt===null&&(De=1,tf(s,vi(a,s.current)))}function Eb(){var s=si.current;return s===null?!0:(Bt&4194048)===Bt?Si===null:(Bt&62914560)===Bt||(Bt&536870912)!==0?s===Si:!1}function Tb(){var s=Y.H;return Y.H=Mc,s===null?Mc:s}function Sb(){var s=Y.A;return Y.A=vC,s}function df(){De=4,Ur||(Bt&4194048)!==Bt&&si.current!==null||(ll=!0),(jr&134217727)===0&&(so&134217727)===0||fe===null||Hr(fe,Bt,oi,!1)}function qg(s,a,c){var h=te;te|=2;var g=Tb(),_=Sb();(fe!==s||Bt!==a)&&(hf=null,hl(s,a)),a=!1;var E=De;t:do try{if(re!==0&&zt!==null){var R=zt,U=ai;switch(re){case 8:Hg(),E=6;break t;case 3:case 2:case 9:case 6:si.current===null&&(a=!0);var Q=re;if(re=0,ai=null,fl(s,R,U,Q),c&&ll){E=0;break t}break;default:Q=re,re=0,ai=null,fl(s,R,U,Q)}}TC(),E=De;break}catch(nt){bb(s,nt)}while(!0);return a&&s.shellSuspendCounter++,Bs=$a=null,te=h,Y.H=g,Y.A=_,zt===null&&(fe=null,Bt=0,Oh()),E}function TC(){for(;zt!==null;)xb(zt)}function SC(s,a){var c=te;te|=2;var h=Tb(),g=Sb();fe!==s||Bt!==a?(hf=null,uf=cn()+500,hl(s,a)):ll=ne(s,a);t:do try{if(re!==0&&zt!==null){a=zt;var _=ai;e:switch(re){case 1:re=0,ai=null,fl(s,a,_,1);break;case 2:case 9:if(kv(_)){re=0,ai=null,wb(a);break}a=function(){re!==2&&re!==9||fe!==s||(re=7),_s(s)},_.then(a,a);break t;case 3:re=7;break t;case 4:re=5;break t;case 7:kv(_)?(re=0,ai=null,wb(a)):(re=0,ai=null,fl(s,a,_,7));break;case 5:var E=null;switch(zt.tag){case 26:E=zt.memoizedState;case 5:case 27:var R=zt;if(E?uE(E):R.stateNode.complete){re=0,ai=null;var U=R.sibling;if(U!==null)zt=U;else{var Q=R.return;Q!==null?(zt=Q,mf(Q)):zt=null}break e}}re=0,ai=null,fl(s,a,_,5);break;case 6:re=0,ai=null,fl(s,a,_,6);break;case 8:Hg(),De=6;break t;default:throw Error(i(462))}}xC();break}catch(nt){bb(s,nt)}while(!0);return Bs=$a=null,Y.H=h,Y.A=g,te=c,zt!==null?0:(fe=null,Bt=0,Oh(),De)}function xC(){for(;zt!==null&&!ln();)xb(zt)}function xb(s){var a=K0(s.alternate,s,Qs);s.memoizedProps=s.pendingProps,a===null?mf(s):zt=a}function wb(s){var a=s,c=a.alternate;switch(a.tag){case 15:case 0:a=F0(c,a,a.pendingProps,a.type,void 0,Bt);break;case 11:a=F0(c,a,a.pendingProps,a.type.render,a.ref,Bt);break;case 5:rg(a);default:X0(c,a),a=zt=Sv(a,Qs),a=K0(c,a,Qs)}s.memoizedProps=s.pendingProps,a===null?mf(s):zt=a}function fl(s,a,c,h){Bs=$a=null,rg(a),el=null,Sc=0;var g=a.return;try{if(fC(s,g,a,c,Bt)){De=1,tf(s,vi(c,s.current)),zt=null;return}}catch(_){if(g!==null)throw zt=g,_;De=1,tf(s,vi(c,s.current)),zt=null;return}a.flags&32768?(Wt||h===1?s=!0:ll||(Bt&536870912)!==0?s=!1:(Ur=s=!0,(h===2||h===9||h===3||h===6)&&(h=si.current,h!==null&&h.tag===13&&(h.flags|=16384))),Ab(a,s)):mf(a)}function mf(s){var a=s;do{if((a.flags&32768)!==0){Ab(a,Ur);return}s=a.return;var c=gC(a.alternate,a,Qs);if(c!==null){zt=c;return}if(a=a.sibling,a!==null){zt=a;return}zt=a=s}while(a!==null);De===0&&(De=5)}function Ab(s,a){do{var c=pC(s.alternate,s);if(c!==null){c.flags&=32767,zt=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(s=s.sibling,s!==null)){zt=s;return}zt=s=c}while(s!==null);De=6,zt=null}function Rb(s,a,c,h,g,_,E,R,U){s.cancelPendingCommit=null;do gf();while(Qe!==0);if((te&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(_=a.lanes|a.childLanes,_|=Om,En(s,c,_,E,R,U),s===fe&&(zt=fe=null,Bt=0),ul=a,Fr=s,Js=c,jg=_,Bg=g,pb=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,CC(Oi,function(){return Ob(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=Y.T,Y.T=null,g=rt.p,rt.p=2,E=te,te|=4;try{yC(s,a,c)}finally{te=E,rt.p=g,Y.T=h}}Qe=1,Cb(),Ib(),Db()}}function Cb(){if(Qe===1){Qe=0;var s=Fr,a=ul,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=Y.T,Y.T=null;var h=rt.p;rt.p=2;var g=te;te|=4;try{lb(a,s);var _=np,E=mv(s.containerInfo),R=_.focusedElem,U=_.selectionRange;if(E!==R&&R&&R.ownerDocument&&dv(R.ownerDocument.documentElement,R)){if(U!==null&&Rm(R)){var Q=U.start,nt=U.end;if(nt===void 0&&(nt=Q),"selectionStart"in R)R.selectionStart=Q,R.selectionEnd=Math.min(nt,R.value.length);else{var ot=R.ownerDocument||document,J=ot&&ot.defaultView||window;if(J.getSelection){var tt=J.getSelection(),pt=R.textContent.length,wt=Math.min(U.start,pt),he=U.end===void 0?wt:Math.min(U.end,pt);!tt.extend&&wt>he&&(E=he,he=wt,wt=E);var G=fv(R,wt),F=fv(R,he);if(G&&F&&(tt.rangeCount!==1||tt.anchorNode!==G.node||tt.anchorOffset!==G.offset||tt.focusNode!==F.node||tt.focusOffset!==F.offset)){var $=ot.createRange();$.setStart(G.node,G.offset),tt.removeAllRanges(),wt>he?(tt.addRange($),tt.extend(F.node,F.offset)):($.setEnd(F.node,F.offset),tt.addRange($))}}}}for(ot=[],tt=R;tt=tt.parentNode;)tt.nodeType===1&&ot.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ot.length;R++){var it=ot[R];it.element.scrollLeft=it.left,it.element.scrollTop=it.top}}Rf=!!ep,np=ep=null}finally{te=g,rt.p=h,Y.T=c}}s.current=a,Qe=2}}function Ib(){if(Qe===2){Qe=0;var s=Fr,a=ul,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=Y.T,Y.T=null;var h=rt.p;rt.p=2;var g=te;te|=4;try{ib(s,a.alternate,a)}finally{te=g,rt.p=h,Y.T=c}}Qe=3}}function Db(){if(Qe===4||Qe===3){Qe=0,Mi();var s=Fr,a=ul,c=Js,h=pb;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Qe=5:(Qe=0,ul=Fr=null,Mb(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(Br=null),fn(c),a=a.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(Qn,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=Y.T,g=rt.p,rt.p=2,Y.T=null;try{for(var _=s.onRecoverableError,E=0;E<h.length;E++){var R=h[E];_(R.value,{componentStack:R.stack})}}finally{Y.T=a,rt.p=g}}(Js&3)!==0&&gf(),_s(s),g=s.pendingLanes,(c&261930)!==0&&(g&42)!==0?s===Fg?jc++:(jc=0,Fg=s):jc=0,Bc(0)}}function Mb(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Ec(a)))}function gf(){return Cb(),Ib(),Db(),Ob()}function Ob(){if(Qe!==5)return!1;var s=Fr,a=jg;jg=0;var c=fn(Js),h=Y.T,g=rt.p;try{rt.p=32>c?32:c,Y.T=null,c=Bg,Bg=null;var _=Fr,E=Js;if(Qe=0,ul=Fr=null,Js=0,(te&6)!==0)throw Error(i(331));var R=te;if(te|=4,db(_.current),ub(_,_.current,E,c),te=R,Bc(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(Qn,_)}catch{}return!0}finally{rt.p=g,Y.T=h,Mb(s,a)}}function Nb(s,a,c){a=vi(c,a),a=bg(s.stateNode,a,2),s=Pr(s,a,2),s!==null&&(ge(s,2),_s(s))}function ae(s,a,c){if(s.tag===3)Nb(s,s,c);else for(;a!==null;){if(a.tag===3){Nb(a,s,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Br===null||!Br.has(h))){s=vi(c,s),c=k0(2),h=Pr(a,c,2),h!==null&&(P0(c,h,a,s),ge(h,2),_s(h));break}}a=a.return}}function Gg(s,a,c){var h=s.pingCache;if(h===null){h=s.pingCache=new bC;var g=new Set;h.set(a,g)}else g=h.get(a),g===void 0&&(g=new Set,h.set(a,g));g.has(c)||(Vg=!0,g.add(c),s=wC.bind(null,s,a,c),a.then(s,s))}function wC(s,a,c){var h=s.pingCache;h!==null&&h.delete(a),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,fe===s&&(Bt&c)===c&&(De===4||De===3&&(Bt&62914560)===Bt&&300>cn()-cf?(te&2)===0&&hl(s,0):zg|=c,cl===Bt&&(cl=0)),_s(s)}function kb(s,a){a===0&&(a=en()),s=Ya(s,a),s!==null&&(ge(s,a),_s(s))}function AC(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),kb(s,c)}function RC(s,a){var c=0;switch(s.tag){case 31:case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(a),kb(s,c)}function CC(s,a){return Oe(s,a)}var pf=null,dl=null,Yg=!1,yf=!1,Wg=!1,qr=0;function _s(s){s!==dl&&s.next===null&&(dl===null?pf=dl=s:dl=dl.next=s),yf=!0,Yg||(Yg=!0,DC())}function Bc(s,a){if(!Wg&&yf){Wg=!0;do for(var c=!1,h=pf;h!==null;){if(s!==0){var g=h.pendingLanes;if(g===0)var _=0;else{var E=h.suspendedLanes,R=h.pingedLanes;_=(1<<31-be(42|s)+1)-1,_&=g&~(E&~R),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(c=!0,zb(h,_))}else _=Bt,_=xt(h,h===fe?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||ne(h,_)||(c=!0,zb(h,_));h=h.next}while(c);Wg=!1}}function IC(){Pb()}function Pb(){yf=Yg=!1;var s=0;qr!==0&&jC()&&(s=qr);for(var a=cn(),c=null,h=pf;h!==null;){var g=h.next,_=Lb(h,a);_===0?(h.next=null,c===null?pf=g:c.next=g,g===null&&(dl=c)):(c=h,(s!==0||(_&3)!==0)&&(yf=!0)),h=g}Qe!==0&&Qe!==5||Bc(s),qr!==0&&(qr=0)}function Lb(s,a){for(var c=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,_=s.pendingLanes&-62914561;0<_;){var E=31-be(_),R=1<<E,U=g[E];U===-1?((R&c)===0||(R&h)!==0)&&(g[E]=ze(R,a)):U<=a&&(s.expiredLanes|=R),_&=~R}if(a=fe,c=Bt,c=xt(s,s===a?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,c===0||s===a&&(re===2||re===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&Ji(h),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||ne(s,c)){if(a=c&-c,a===s.callbackPriority)return a;switch(h!==null&&Ji(h),fn(c)){case 2:case 8:c=Oa;break;case 32:c=Oi;break;case 268435456:c=Ni;break;default:c=Oi}return h=Vb.bind(null,s),c=Oe(c,h),s.callbackPriority=a,s.callbackNode=c,a}return h!==null&&h!==null&&Ji(h),s.callbackPriority=2,s.callbackNode=null,2}function Vb(s,a){if(Qe!==0&&Qe!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(gf()&&s.callbackNode!==c)return null;var h=Bt;return h=xt(s,s===fe?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(_b(s,h,a),Lb(s,cn()),s.callbackNode!=null&&s.callbackNode===c?Vb.bind(null,s):null)}function zb(s,a){if(gf())return null;_b(s,a,!0)}function DC(){FC(function(){(te&6)!==0?Oe(Zi,IC):Pb()})}function Kg(){if(qr===0){var s=Jo;s===0&&(s=fi,fi<<=1,(fi&261888)===0&&(fi=256)),qr=s}return qr}function Ub(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Vo(""+s)}function jb(s,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,s.id&&c.setAttribute("form",s.id),a.parentNode.insertBefore(c,a),s=new FormData(s),c.parentNode.removeChild(c),s}function MC(s,a,c,h,g){if(a==="submit"&&c&&c.stateNode===g){var _=Ub((g[nn]||null).action),E=h.submitter;E&&(a=(a=E[nn]||null)?Ub(a.formAction):E.getAttribute("formAction"),a!==null&&(_=a,E=null));var R=new hs("action","action",null,h,g);s.push({event:R,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(qr!==0){var U=E?jb(g,E):new FormData(g);mg(c,{pending:!0,data:U,method:g.method,action:_},null,U)}}else typeof _=="function"&&(R.preventDefault(),U=E?jb(g,E):new FormData(g),mg(c,{pending:!0,data:U,method:g.method,action:_},_,U))},currentTarget:g}]})}}for(var $g=0;$g<Mm.length;$g++){var Xg=Mm[$g],OC=Xg.toLowerCase(),NC=Xg[0].toUpperCase()+Xg.slice(1);Fi(OC,"on"+NC)}Fi(yv,"onAnimationEnd"),Fi(_v,"onAnimationIteration"),Fi(vv,"onAnimationStart"),Fi("dblclick","onDoubleClick"),Fi("focusin","onFocus"),Fi("focusout","onBlur"),Fi($R,"onTransitionRun"),Fi(XR,"onTransitionStart"),Fi(QR,"onTransitionCancel"),Fi(bv,"onTransitionEnd"),os("onMouseEnter",["mouseout","mouseover"]),os("onMouseLeave",["mouseout","mouseover"]),os("onPointerEnter",["pointerout","pointerover"]),os("onPointerLeave",["pointerout","pointerover"]),as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),as("onBeforeInput",["compositionend","keypress","textInput","paste"]),as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fc));function Bb(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],g=h.event;h=h.listeners;t:{var _=void 0;if(a)for(var E=h.length-1;0<=E;E--){var R=h[E],U=R.instance,Q=R.currentTarget;if(R=R.listener,U!==_&&g.isPropagationStopped())break t;_=R,g.currentTarget=Q;try{_(g)}catch(nt){Mh(nt)}g.currentTarget=null,_=U}else for(E=0;E<h.length;E++){if(R=h[E],U=R.instance,Q=R.currentTarget,R=R.listener,U!==_&&g.isPropagationStopped())break t;_=R,g.currentTarget=Q;try{_(g)}catch(nt){Mh(nt)}g.currentTarget=null,_=U}}}}function Ut(s,a){var c=a[Oo];c===void 0&&(c=a[Oo]=new Set);var h=s+"__bubble";c.has(h)||(Fb(a,s,2,!1),c.add(h))}function Qg(s,a,c){var h=0;a&&(h|=4),Fb(c,s,h,a)}var _f="_reactListening"+Math.random().toString(36).slice(2);function Jg(s){if(!s[_f]){s[_f]=!0,tc.forEach(function(c){c!=="selectionchange"&&(kC.has(c)||Qg(c,!1,s),Qg(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[_f]||(a[_f]=!0,Qg("selectionchange",!1,a))}}function Fb(s,a,c,h){switch(yE(a)){case 2:var g=lI;break;case 8:g=cI;break;default:g=dp}c=g.bind(null,a,c,s),g=void 0,!za||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(a,c,{capture:!0,passive:g}):s.addEventListener(a,c,!0):g!==void 0?s.addEventListener(a,c,{passive:g}):s.addEventListener(a,c,!1)}function Zg(s,a,c,h,g){var _=h;if((a&1)===0&&(a&2)===0&&h!==null)t:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var R=h.stateNode.containerInfo;if(R===g)break;if(E===4)for(E=h.return;E!==null;){var U=E.tag;if((U===3||U===4)&&E.stateNode.containerInfo===g)return;E=E.return}for(;R!==null;){if(E=ss(R),E===null)return;if(U=E.tag,U===5||U===6||U===26||U===27){h=_=E;continue t}R=R.parentNode}}h=h.return}wr(function(){var Q=_,nt=gi(c),ot=[];t:{var J=Ev.get(s);if(J!==void 0){var tt=hs,pt=s;switch(s){case"keypress":if(ja(c)===0)break t;case"keydown":case"keyup":tt=Ch;break;case"focusin":pt="focus",tt=Fa;break;case"focusout":pt="blur",tt=Fa;break;case"beforeblur":case"afterblur":tt=Fa;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=dc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=vh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=b;break;case yv:case _v:case vv:tt=Eh;break;case bv:tt=O;break;case"scroll":case"scrollend":tt=fc;break;case"wheel":tt=Z;break;case"copy":case"cut":case"paste":tt=Th;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=zs;break;case"toggle":case"beforetoggle":tt=kt}var wt=(a&4)!==0,he=!wt&&(s==="scroll"||s==="scrollend"),G=wt?J!==null?J+"Capture":null:J;wt=[];for(var F=Q,$;F!==null;){var it=F;if($=it.stateNode,it=it.tag,it!==5&&it!==26&&it!==27||$===null||G===null||(it=zi(F,G),it!=null&&wt.push(Hc(F,it,$))),he)break;F=F.return}0<wt.length&&(J=new tt(J,pt,null,c,nt),ot.push({event:J,listeners:wt}))}}if((a&7)===0){t:{if(J=s==="mouseover"||s==="pointerover",tt=s==="mouseout"||s==="pointerout",J&&c!==cc&&(pt=c.relatedTarget||c.fromElement)&&(ss(pt)||pt[ns]))break t;if((tt||J)&&(J=nt.window===nt?nt:(J=nt.ownerDocument)?J.defaultView||J.parentWindow:window,tt?(pt=c.relatedTarget||c.toElement,tt=Q,pt=pt?ss(pt):null,pt!==null&&(he=o(pt),wt=pt.tag,pt!==he||wt!==5&&wt!==27&&wt!==6)&&(pt=null)):(tt=null,pt=Q),tt!==pt)){if(wt=dc,it="onMouseLeave",G="onMouseEnter",F="mouse",(s==="pointerout"||s==="pointerover")&&(wt=zs,it="onPointerLeave",G="onPointerEnter",F="pointer"),he=tt==null?J:ti(tt),$=pt==null?J:ti(pt),J=new wt(it,F+"leave",tt,c,nt),J.target=he,J.relatedTarget=$,it=null,ss(nt)===Q&&(wt=new wt(G,F+"enter",pt,c,nt),wt.target=$,wt.relatedTarget=he,it=wt),he=it,tt&&pt)e:{for(wt=PC,G=tt,F=pt,$=0,it=G;it;it=wt(it))$++;it=0;for(var Tt=F;Tt;Tt=wt(Tt))it++;for(;0<$-it;)G=wt(G),$--;for(;0<it-$;)F=wt(F),it--;for(;$--;){if(G===F||F!==null&&G===F.alternate){wt=G;break e}G=wt(G),F=wt(F)}wt=null}else wt=null;tt!==null&&Hb(ot,J,tt,wt,!1),pt!==null&&he!==null&&Hb(ot,he,pt,wt,!0)}}t:{if(J=Q?ti(Q):window,tt=J.nodeName&&J.nodeName.toLowerCase(),tt==="select"||tt==="input"&&J.type==="file")var $t=av;else if(sv(J))if(ov)$t=YR;else{$t=qR;var vt=HR}else tt=J.nodeName,!tt||tt.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Q&&Lo(Q.elementType)&&($t=av):$t=GR;if($t&&($t=$t(s,Q))){rv(ot,$t,c,nt);break t}vt&&vt(s,J,Q),s==="focusout"&&Q&&J.type==="number"&&Q.memoizedProps.value!=null&&ac(J,"number",J.value)}switch(vt=Q?ti(Q):window,s){case"focusin":(sv(vt)||vt.contentEditable==="true")&&(qo=vt,Cm=Q,_c=null);break;case"focusout":_c=Cm=qo=null;break;case"mousedown":Im=!0;break;case"contextmenu":case"mouseup":case"dragend":Im=!1,gv(ot,c,nt);break;case"selectionchange":if(KR)break;case"keydown":case"keyup":gv(ot,c,nt)}var Vt;if(Zt)t:{switch(s){case"compositionstart":var Ft="onCompositionStart";break t;case"compositionend":Ft="onCompositionEnd";break t;case"compositionupdate":Ft="onCompositionUpdate";break t}Ft=void 0}else Ho?Ha(s,c)&&(Ft="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Ft="onCompositionStart");Ft&&(ms&&c.locale!=="ko"&&(Ho||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&Ho&&(Vt=hc()):(us=nt,uc="value"in us?us.value:us.textContent,Ho=!0)),vt=vf(Q,Ft),0<vt.length&&(Ft=new ds(Ft,s,null,c,nt),ot.push({event:Ft,listeners:vt}),Vt?Ft.data=Vt:(Vt=Fo(c),Vt!==null&&(Ft.data=Vt)))),(Vt=yi?UR(s,c):jR(s,c))&&(Ft=vf(Q,"onBeforeInput"),0<Ft.length&&(vt=new ds("onBeforeInput","beforeinput",null,c,nt),ot.push({event:vt,listeners:Ft}),vt.data=Vt)),MC(ot,s,Q,c,nt)}Bb(ot,a)})}function Hc(s,a,c){return{instance:s,listener:a,currentTarget:c}}function vf(s,a){for(var c=a+"Capture",h=[];s!==null;){var g=s,_=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||_===null||(g=zi(s,c),g!=null&&h.unshift(Hc(s,g,_)),g=zi(s,a),g!=null&&h.push(Hc(s,g,_))),s.tag===3)return h;s=s.return}return[]}function PC(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Hb(s,a,c,h,g){for(var _=a._reactName,E=[];c!==null&&c!==h;){var R=c,U=R.alternate,Q=R.stateNode;if(R=R.tag,U!==null&&U===h)break;R!==5&&R!==26&&R!==27||Q===null||(U=Q,g?(Q=zi(c,_),Q!=null&&E.unshift(Hc(c,Q,U))):g||(Q=zi(c,_),Q!=null&&E.push(Hc(c,Q,U)))),c=c.return}E.length!==0&&s.push({event:a,listeners:E})}var LC=/\r\n?/g,VC=/\u0000|\uFFFD/g;function qb(s){return(typeof s=="string"?s:""+s).replace(LC,`
`).replace(VC,"")}function Gb(s,a){return a=qb(a),qb(s)===a}function ue(s,a,c,h,g,_){switch(c){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||zn(s,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&zn(s,""+h);break;case"className":ei(s,"class",h);break;case"tabIndex":ei(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ei(s,c,h);break;case"style":lc(s,h,_);break;case"data":if(a!=="object"){ei(s,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||c!=="href")){s.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=Vo(""+h),s.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(c==="formAction"?(a!=="input"&&ue(s,a,"name",g.name,g,null),ue(s,a,"formEncType",g.formEncType,g,null),ue(s,a,"formMethod",g.formMethod,g,null),ue(s,a,"formTarget",g.formTarget,g,null)):(ue(s,a,"encType",g.encType,g,null),ue(s,a,"method",g.method,g,null),ue(s,a,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=Vo(""+h),s.setAttribute(c,h);break;case"onClick":h!=null&&(s.onclick=Vi);break;case"onScroll":h!=null&&Ut("scroll",s);break;case"onScrollEnd":h!=null&&Ut("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}c=Vo(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""+h):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":h===!0?s.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,h):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(c,h):s.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(c):s.setAttribute(c,h);break;case"popover":Ut("beforetoggle",s),Ut("toggle",s),ko(s,"popover",h);break;case"xlinkActuate":Be(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Be(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Be(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Be(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Be(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Be(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Be(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Be(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Be(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":ko(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=_h.get(c)||c,ko(s,c,h))}}function tp(s,a,c,h,g,_){switch(c){case"style":lc(s,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"children":typeof h=="string"?zn(s,h):(typeof h=="number"||typeof h=="bigint")&&zn(s,""+h);break;case"onScroll":h!=null&&Ut("scroll",s);break;case"onScrollEnd":h!=null&&Ut("scrollend",s);break;case"onClick":h!=null&&(s.onclick=Vi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ec.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),a=c.slice(2,g?c.length-7:void 0),_=s[nn]||null,_=_!=null?_[c]:null,typeof _=="function"&&s.removeEventListener(a,_,g),typeof h=="function")){typeof _!="function"&&_!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(a,h,g);break t}c in s?s[c]=h:h===!0?s.setAttribute(c,""):ko(s,c,h)}}}function yn(s,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",s),Ut("load",s);var h=!1,g=!1,_;for(_ in c)if(c.hasOwnProperty(_)){var E=c[_];if(E!=null)switch(_){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ue(s,a,_,E,c,null)}}g&&ue(s,a,"srcSet",c.srcSet,c,null),h&&ue(s,a,"src",c.src,c,null);return;case"input":Ut("invalid",s);var R=_=E=g=null,U=null,Q=null;for(h in c)if(c.hasOwnProperty(h)){var nt=c[h];if(nt!=null)switch(h){case"name":g=nt;break;case"type":E=nt;break;case"checked":U=nt;break;case"defaultChecked":Q=nt;break;case"value":_=nt;break;case"defaultValue":R=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(i(137,a));break;default:ue(s,a,h,nt,c,null)}}gh(s,_,R,U,Q,E,g,!1);return;case"select":Ut("invalid",s),h=E=_=null;for(g in c)if(c.hasOwnProperty(g)&&(R=c[g],R!=null))switch(g){case"value":_=R;break;case"defaultValue":E=R;break;case"multiple":h=R;default:ue(s,a,g,R,c,null)}a=_,c=E,s.multiple=!!h,a!=null?Er(s,!!h,a,!1):c!=null&&Er(s,!!h,c,!0);return;case"textarea":Ut("invalid",s),_=g=h=null;for(E in c)if(c.hasOwnProperty(E)&&(R=c[E],R!=null))switch(E){case"value":h=R;break;case"defaultValue":g=R;break;case"children":_=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:ue(s,a,E,R,c,null)}Tr(s,h,g,_);return;case"option":for(U in c)if(c.hasOwnProperty(U)&&(h=c[U],h!=null))switch(U){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ue(s,a,U,h,c,null)}return;case"dialog":Ut("beforetoggle",s),Ut("toggle",s),Ut("cancel",s),Ut("close",s);break;case"iframe":case"object":Ut("load",s);break;case"video":case"audio":for(h=0;h<Fc.length;h++)Ut(Fc[h],s);break;case"image":Ut("error",s),Ut("load",s);break;case"details":Ut("toggle",s);break;case"embed":case"source":case"link":Ut("error",s),Ut("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in c)if(c.hasOwnProperty(Q)&&(h=c[Q],h!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ue(s,a,Q,h,c,null)}return;default:if(Lo(a)){for(nt in c)c.hasOwnProperty(nt)&&(h=c[nt],h!==void 0&&tp(s,a,nt,h,c,void 0));return}}for(R in c)c.hasOwnProperty(R)&&(h=c[R],h!=null&&ue(s,a,R,h,c,null))}function zC(s,a,c,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,_=null,E=null,R=null,U=null,Q=null,nt=null;for(tt in c){var ot=c[tt];if(c.hasOwnProperty(tt)&&ot!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":U=ot;default:h.hasOwnProperty(tt)||ue(s,a,tt,null,h,ot)}}for(var J in h){var tt=h[J];if(ot=c[J],h.hasOwnProperty(J)&&(tt!=null||ot!=null))switch(J){case"type":_=tt;break;case"name":g=tt;break;case"checked":Q=tt;break;case"defaultChecked":nt=tt;break;case"value":E=tt;break;case"defaultValue":R=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(i(137,a));break;default:tt!==ot&&ue(s,a,J,tt,h,ot)}}Po(s,E,R,U,Q,nt,_,g);return;case"select":tt=E=R=J=null;for(_ in c)if(U=c[_],c.hasOwnProperty(_)&&U!=null)switch(_){case"value":break;case"multiple":tt=U;default:h.hasOwnProperty(_)||ue(s,a,_,null,h,U)}for(g in h)if(_=h[g],U=c[g],h.hasOwnProperty(g)&&(_!=null||U!=null))switch(g){case"value":J=_;break;case"defaultValue":R=_;break;case"multiple":E=_;default:_!==U&&ue(s,a,g,_,h,U)}a=R,c=E,h=tt,J!=null?Er(s,!!c,J,!1):!!h!=!!c&&(a!=null?Er(s,!!c,a,!0):Er(s,!!c,c?[]:"",!1));return;case"textarea":tt=J=null;for(R in c)if(g=c[R],c.hasOwnProperty(R)&&g!=null&&!h.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:ue(s,a,R,null,h,g)}for(E in h)if(g=h[E],_=c[E],h.hasOwnProperty(E)&&(g!=null||_!=null))switch(E){case"value":J=g;break;case"defaultValue":tt=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==_&&ue(s,a,E,g,h,_)}ph(s,J,tt);return;case"option":for(var pt in c)if(J=c[pt],c.hasOwnProperty(pt)&&J!=null&&!h.hasOwnProperty(pt))switch(pt){case"selected":s.selected=!1;break;default:ue(s,a,pt,null,h,J)}for(U in h)if(J=h[U],tt=c[U],h.hasOwnProperty(U)&&J!==tt&&(J!=null||tt!=null))switch(U){case"selected":s.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:ue(s,a,U,J,h,tt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var wt in c)J=c[wt],c.hasOwnProperty(wt)&&J!=null&&!h.hasOwnProperty(wt)&&ue(s,a,wt,null,h,J);for(Q in h)if(J=h[Q],tt=c[Q],h.hasOwnProperty(Q)&&J!==tt&&(J!=null||tt!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:ue(s,a,Q,J,h,tt)}return;default:if(Lo(a)){for(var he in c)J=c[he],c.hasOwnProperty(he)&&J!==void 0&&!h.hasOwnProperty(he)&&tp(s,a,he,void 0,h,J);for(nt in h)J=h[nt],tt=c[nt],!h.hasOwnProperty(nt)||J===tt||J===void 0&&tt===void 0||tp(s,a,nt,J,h,tt);return}}for(var G in c)J=c[G],c.hasOwnProperty(G)&&J!=null&&!h.hasOwnProperty(G)&&ue(s,a,G,null,h,J);for(ot in h)J=h[ot],tt=c[ot],!h.hasOwnProperty(ot)||J===tt||J==null&&tt==null||ue(s,a,ot,J,h,tt)}function Yb(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function UC(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var g=c[h],_=g.transferSize,E=g.initiatorType,R=g.duration;if(_&&R&&Yb(E)){for(E=0,R=g.responseEnd,h+=1;h<c.length;h++){var U=c[h],Q=U.startTime;if(Q>R)break;var nt=U.transferSize,ot=U.initiatorType;nt&&Yb(ot)&&(U=U.responseEnd,E+=nt*(U<R?1:(R-Q)/(U-Q)))}if(--h,a+=8*(_+E)/(g.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var ep=null,np=null;function bf(s){return s.nodeType===9?s:s.ownerDocument}function Wb(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kb(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function ip(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var sp=null;function jC(){var s=window.event;return s&&s.type==="popstate"?s===sp?!1:(sp=s,!0):(sp=null,!1)}var $b=typeof setTimeout=="function"?setTimeout:void 0,BC=typeof clearTimeout=="function"?clearTimeout:void 0,Xb=typeof Promise=="function"?Promise:void 0,FC=typeof queueMicrotask=="function"?queueMicrotask:typeof Xb<"u"?function(s){return Xb.resolve(null).then(s).catch(HC)}:$b;function HC(s){setTimeout(function(){throw s})}function Gr(s){return s==="head"}function Qb(s,a){var c=a,h=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"||c==="/&"){if(h===0){s.removeChild(g),yl(a);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")qc(s.ownerDocument.documentElement);else if(c==="head"){c=s.ownerDocument.head,qc(c);for(var _=c.firstChild;_;){var E=_.nextSibling,R=_.nodeName;_[is]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&_.rel.toLowerCase()==="stylesheet"||c.removeChild(_),_=E}}else c==="body"&&qc(s.ownerDocument.body);c=g}while(c);yl(a)}function Jb(s,a){var c=s;s=0;do{var h=c.nextSibling;if(c.nodeType===1?a?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(a?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(s===0)break;s--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||s++;c=h}while(c)}function rp(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":rp(c),No(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function qC(s,a,c,h){for(;s.nodeType===1;){var g=c;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[is])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(_=s.getAttribute("rel"),_==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(_!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(_=s.getAttribute("src"),(_!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&_&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var _=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===_)return s}else return s;if(s=xi(s.nextSibling),s===null)break}return null}function GC(s,a,c){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=xi(s.nextSibling),s===null))return null;return s}function Zb(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=xi(s.nextSibling),s===null))return null;return s}function ap(s){return s.data==="$?"||s.data==="$~"}function op(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function YC(s,a){var c=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||c.readyState!=="loading")a();else{var h=function(){a(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function xi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var lp=null;function tE(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"||c==="/&"){if(a===0)return xi(s.nextSibling);a--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||a++}s=s.nextSibling}return null}function eE(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(a===0)return s;a--}else c!=="/$"&&c!=="/&"||a++}s=s.previousSibling}return null}function nE(s,a,c){switch(a=bf(c),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function qc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);No(s)}var wi=new Map,iE=new Set;function Ef(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Zs=rt.d;rt.d={f:WC,r:KC,D:$C,C:XC,L:QC,m:JC,X:tI,S:ZC,M:eI};function WC(){var s=Zs.f(),a=ff();return s||a}function KC(s){var a=mi(s);a!==null&&a.tag===5&&a.type==="form"?b0(a):Zs.r(s)}var ml=typeof document>"u"?null:document;function sE(s,a,c){var h=ml;if(h&&typeof a=="string"&&a){var g=Vn(a);g='link[rel="'+s+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),iE.has(g)||(iE.add(g),s={rel:s,crossOrigin:c,href:a},h.querySelector(g)===null&&(a=h.createElement("link"),yn(a,"link",s),je(a),h.head.appendChild(a)))}}function $C(s){Zs.D(s),sE("dns-prefetch",s,null)}function XC(s,a){Zs.C(s,a),sE("preconnect",s,a)}function QC(s,a,c){Zs.L(s,a,c);var h=ml;if(h&&s&&a){var g='link[rel="preload"][as="'+Vn(a)+'"]';a==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+Vn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+Vn(c.imageSizes)+'"]')):g+='[href="'+Vn(s)+'"]';var _=g;switch(a){case"style":_=gl(s);break;case"script":_=pl(s)}wi.has(_)||(s=y({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:s,as:a},c),wi.set(_,s),h.querySelector(g)!==null||a==="style"&&h.querySelector(Gc(_))||a==="script"&&h.querySelector(Yc(_))||(a=h.createElement("link"),yn(a,"link",s),je(a),h.head.appendChild(a)))}}function JC(s,a){Zs.m(s,a);var c=ml;if(c&&s){var h=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+Vn(h)+'"][href="'+Vn(s)+'"]',_=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=pl(s)}if(!wi.has(_)&&(s=y({rel:"modulepreload",href:s},a),wi.set(_,s),c.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Yc(_)))return}h=c.createElement("link"),yn(h,"link",s),je(h),c.head.appendChild(h)}}}function ZC(s,a,c){Zs.S(s,a,c);var h=ml;if(h&&s){var g=rs(h).hoistableStyles,_=gl(s);a=a||"default";var E=g.get(_);if(!E){var R={loading:0,preload:null};if(E=h.querySelector(Gc(_)))R.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":a},c),(c=wi.get(_))&&cp(s,c);var U=E=h.createElement("link");je(U),yn(U,"link",s),U._p=new Promise(function(Q,nt){U.onload=Q,U.onerror=nt}),U.addEventListener("load",function(){R.loading|=1}),U.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Tf(E,a,h)}E={type:"stylesheet",instance:E,count:1,state:R},g.set(_,E)}}}function tI(s,a){Zs.X(s,a);var c=ml;if(c&&s){var h=rs(c).hoistableScripts,g=pl(s),_=h.get(g);_||(_=c.querySelector(Yc(g)),_||(s=y({src:s,async:!0},a),(a=wi.get(g))&&up(s,a),_=c.createElement("script"),je(_),yn(_,"link",s),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(g,_))}}function eI(s,a){Zs.M(s,a);var c=ml;if(c&&s){var h=rs(c).hoistableScripts,g=pl(s),_=h.get(g);_||(_=c.querySelector(Yc(g)),_||(s=y({src:s,async:!0,type:"module"},a),(a=wi.get(g))&&up(s,a),_=c.createElement("script"),je(_),yn(_,"link",s),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(g,_))}}function rE(s,a,c,h){var g=(g=_t.current)?Ef(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=gl(c.href),c=rs(g).hoistableStyles,h=c.get(a),h||(h={type:"style",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=gl(c.href);var _=rs(g).hoistableStyles,E=_.get(s);if(E||(g=g.ownerDocument||g,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(s,E),(_=g.querySelector(Gc(s)))&&!_._p&&(E.instance=_,E.state.loading=5),wi.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},wi.set(s,c),_||nI(g,s,c,E.state))),a&&h===null)throw Error(i(528,""));return E}if(a&&h!==null)throw Error(i(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=pl(c),c=rs(g).hoistableScripts,h=c.get(a),h||(h={type:"script",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function gl(s){return'href="'+Vn(s)+'"'}function Gc(s){return'link[rel="stylesheet"]['+s+"]"}function aE(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function nI(s,a,c,h){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=s.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),yn(a,"link",c),je(a),s.head.appendChild(a))}function pl(s){return'[src="'+Vn(s)+'"]'}function Yc(s){return"script[async]"+s}function oE(s,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var h=s.querySelector('style[data-href~="'+Vn(c.href)+'"]');if(h)return a.instance=h,je(h),h;var g=y({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),je(h),yn(h,"style",g),Tf(h,c.precedence,s),a.instance=h;case"stylesheet":g=gl(c.href);var _=s.querySelector(Gc(g));if(_)return a.state.loading|=4,a.instance=_,je(_),_;h=aE(c),(g=wi.get(g))&&cp(h,g),_=(s.ownerDocument||s).createElement("link"),je(_);var E=_;return E._p=new Promise(function(R,U){E.onload=R,E.onerror=U}),yn(_,"link",h),a.state.loading|=4,Tf(_,c.precedence,s),a.instance=_;case"script":return _=pl(c.src),(g=s.querySelector(Yc(_)))?(a.instance=g,je(g),g):(h=c,(g=wi.get(_))&&(h=y({},c),up(h,g)),s=s.ownerDocument||s,g=s.createElement("script"),je(g),yn(g,"link",h),s.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,Tf(h,c.precedence,s));return a.instance}function Tf(s,a,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,_=g,E=0;E<h.length;E++){var R=h[E];if(R.dataset.precedence===a)_=R;else if(_!==g)break}_?_.parentNode.insertBefore(s,_.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(s,a.firstChild))}function cp(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function up(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Sf=null;function lE(s,a,c){if(Sf===null){var h=new Map,g=Sf=new Map;g.set(c,h)}else g=Sf,h=g.get(c),h||(h=new Map,g.set(c,h));if(h.has(s))return h;for(h.set(s,null),c=c.getElementsByTagName(s),g=0;g<c.length;g++){var _=c[g];if(!(_[is]||_[Ue]||s==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var E=_.getAttribute(a)||"";E=s+E;var R=h.get(E);R?R.push(_):h.set(E,[_])}}return h}function cE(s,a,c){s=s.ownerDocument||s,s.head.insertBefore(c,a==="title"?s.querySelector("head > title"):null)}function iI(s,a,c){if(c===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function uE(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function sI(s,a,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var g=gl(h.href),_=a.querySelector(Gc(g));if(_){a=_._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=xf.bind(s),a.then(s,s)),c.state.loading|=4,c.instance=_,je(_);return}_=a.ownerDocument||a,h=aE(h),(g=wi.get(g))&&cp(h,g),_=_.createElement("link"),je(_);var E=_;E._p=new Promise(function(R,U){E.onload=R,E.onerror=U}),yn(_,"link",h),c.instance=_}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(s.count++,c=xf.bind(s),a.addEventListener("load",c),a.addEventListener("error",c))}}var hp=0;function rI(s,a){return s.stylesheets&&s.count===0&&Af(s,s.stylesheets),0<s.count||0<s.imgCount?function(c){var h=setTimeout(function(){if(s.stylesheets&&Af(s,s.stylesheets),s.unsuspend){var _=s.unsuspend;s.unsuspend=null,_()}},6e4+a);0<s.imgBytes&&hp===0&&(hp=62500*UC());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Af(s,s.stylesheets),s.unsuspend)){var _=s.unsuspend;s.unsuspend=null,_()}},(s.imgBytes>hp?50:800)+a);return s.unsuspend=c,function(){s.unsuspend=null,clearTimeout(h),clearTimeout(g)}}:null}function xf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Af(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var wf=null;function Af(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,wf=new Map,a.forEach(aI,s),wf=null,xf.call(s))}function aI(s,a){if(!(a.state.loading&4)){var c=wf.get(s);if(c)var h=c.get(null);else{c=new Map,wf.set(s,c);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<g.length;_++){var E=g[_];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(c.set(E.dataset.precedence,E),h=E)}h&&c.set(null,h)}g=a.instance,E=g.getAttribute("data-precedence"),_=c.get(E)||h,_===h&&c.set(null,g),c.set(E,g),this.count++,h=xf.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),_?_.parentNode.insertBefore(g,_.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),a.state.loading|=4}}var Wc={$$typeof:B,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function oI(s,a,c,h,g,_,E,R,U){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=On(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=On(0),this.hiddenUpdates=On(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=_,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function hE(s,a,c,h,g,_,E,R,U,Q,nt,ot){return s=new oI(s,a,c,E,U,Q,nt,ot,R),a=1,_===!0&&(a|=24),_=ii(3,null,null,a),s.current=_,_.stateNode=s,a=qm(),a.refCount++,s.pooledCache=a,a.refCount++,_.memoizedState={element:h,isDehydrated:c,cache:a},Km(_),s}function fE(s){return s?(s=Wo,s):Wo}function dE(s,a,c,h,g,_){g=fE(g),h.context===null?h.context=g:h.pendingContext=g,h=kr(a),h.payload={element:c},_=_===void 0?null:_,_!==null&&(h.callback=_),c=Pr(s,h,a),c!==null&&(Hn(c,s,a),wc(c,s,a))}function mE(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function fp(s,a){mE(s,a),(s=s.alternate)&&mE(s,a)}function gE(s){if(s.tag===13||s.tag===31){var a=Ya(s,67108864);a!==null&&Hn(a,s,67108864),fp(s,67108864)}}function pE(s){if(s.tag===13||s.tag===31){var a=li();a=es(a);var c=Ya(s,a);c!==null&&Hn(c,s,a),fp(s,a)}}var Rf=!0;function lI(s,a,c,h){var g=Y.T;Y.T=null;var _=rt.p;try{rt.p=2,dp(s,a,c,h)}finally{rt.p=_,Y.T=g}}function cI(s,a,c,h){var g=Y.T;Y.T=null;var _=rt.p;try{rt.p=8,dp(s,a,c,h)}finally{rt.p=_,Y.T=g}}function dp(s,a,c,h){if(Rf){var g=mp(h);if(g===null)Zg(s,a,h,Cf,c),_E(s,h);else if(hI(g,s,a,c,h))h.stopPropagation();else if(_E(s,h),a&4&&-1<uI.indexOf(s)){for(;g!==null;){var _=mi(g);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var E=Zn(_.pendingLanes);if(E!==0){var R=_;for(R.pendingLanes|=2,R.entangledLanes|=2;E;){var U=1<<31-be(E);R.entanglements[1]|=U,E&=~U}_s(_),(te&6)===0&&(uf=cn()+500,Bc(0))}}break;case 31:case 13:R=Ya(_,2),R!==null&&Hn(R,_,2),ff(),fp(_,2)}if(_=mp(h),_===null&&Zg(s,a,h,Cf,c),_===g)break;g=_}g!==null&&h.stopPropagation()}else Zg(s,a,h,null,c)}}function mp(s){return s=gi(s),gp(s)}var Cf=null;function gp(s){if(Cf=null,s=ss(s),s!==null){var a=o(s);if(a===null)s=null;else{var c=a.tag;if(c===13){if(s=l(a),s!==null)return s;s=null}else if(c===31){if(s=u(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Cf=s,null}function yE(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ks()){case Zi:return 2;case Oa:return 8;case Oi:case Na:return 32;case Ni:return 268435456;default:return 32}default:return 32}}var pp=!1,Yr=null,Wr=null,Kr=null,Kc=new Map,$c=new Map,$r=[],uI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _E(s,a){switch(s){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Kc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":$c.delete(a.pointerId)}}function Xc(s,a,c,h,g,_){return s===null||s.nativeEvent!==_?(s={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:_,targetContainers:[g]},a!==null&&(a=mi(a),a!==null&&gE(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function hI(s,a,c,h,g){switch(a){case"focusin":return Yr=Xc(Yr,s,a,c,h,g),!0;case"dragenter":return Wr=Xc(Wr,s,a,c,h,g),!0;case"mouseover":return Kr=Xc(Kr,s,a,c,h,g),!0;case"pointerover":var _=g.pointerId;return Kc.set(_,Xc(Kc.get(_)||null,s,a,c,h,g)),!0;case"gotpointercapture":return _=g.pointerId,$c.set(_,Xc($c.get(_)||null,s,a,c,h,g)),!0}return!1}function vE(s){var a=ss(s.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){s.blockedOn=a,Pi(s.priority,function(){pE(c)});return}}else if(a===31){if(a=u(c),a!==null){s.blockedOn=a,Pi(s.priority,function(){pE(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function If(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=mp(s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);cc=h,c.target.dispatchEvent(h),cc=null}else return a=mi(c),a!==null&&gE(a),s.blockedOn=c,!1;a.shift()}return!0}function bE(s,a,c){If(s)&&c.delete(a)}function fI(){pp=!1,Yr!==null&&If(Yr)&&(Yr=null),Wr!==null&&If(Wr)&&(Wr=null),Kr!==null&&If(Kr)&&(Kr=null),Kc.forEach(bE),$c.forEach(bE)}function Df(s,a){s.blockedOn===a&&(s.blockedOn=null,pp||(pp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,fI)))}var Mf=null;function EE(s){Mf!==s&&(Mf=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Mf===s&&(Mf=null);for(var a=0;a<s.length;a+=3){var c=s[a],h=s[a+1],g=s[a+2];if(typeof h!="function"){if(gp(h||c)===null)continue;break}var _=mi(c);_!==null&&(s.splice(a,3),a-=3,mg(_,{pending:!0,data:g,method:c.method,action:h},h,g))}}))}function yl(s){function a(U){return Df(U,s)}Yr!==null&&Df(Yr,s),Wr!==null&&Df(Wr,s),Kr!==null&&Df(Kr,s),Kc.forEach(a),$c.forEach(a);for(var c=0;c<$r.length;c++){var h=$r[c];h.blockedOn===s&&(h.blockedOn=null)}for(;0<$r.length&&(c=$r[0],c.blockedOn===null);)vE(c),c.blockedOn===null&&$r.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var g=c[h],_=c[h+1],E=g[nn]||null;if(typeof _=="function")E||EE(c);else if(E){var R=null;if(_&&_.hasAttribute("formAction")){if(g=_,E=_[nn]||null)R=E.formAction;else if(gp(g)!==null)continue}else R=E.action;typeof R=="function"?c[h+1]=R:(c.splice(h,3),h-=3),EE(c)}}}function TE(){function s(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(E){return g=E})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function yp(s){this._internalRoot=s}Of.prototype.render=yp.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var c=a.current,h=li();dE(c,h,s,a,null,null)},Of.prototype.unmount=yp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;dE(s.current,2,null,s,null,null),ff(),a[ns]=null}};function Of(s){this._internalRoot=s}Of.prototype.unstable_scheduleHydration=function(s){if(s){var a=Zl();s={blockedOn:null,target:s,priority:a};for(var c=0;c<$r.length&&a!==0&&a<$r[c].priority;c++);$r.splice(c,0,s),c===0&&vE(s)}};var SE=t.version;if(SE!=="19.2.0")throw Error(i(527,SE,"19.2.0"));rt.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=d(a),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var dI={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nf.isDisabled&&Nf.supportsFiber)try{Qn=Nf.inject(dI),Xe=Nf}catch{}}return Jc.createRoot=function(s,a){if(!r(s))throw Error(i(299));var c=!1,h="",g=D0,_=M0,E=O0;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),a=hE(s,1,!1,null,null,c,h,null,g,_,E,TE),s[ns]=a.current,Jg(s),new yp(a)},Jc.hydrateRoot=function(s,a,c){if(!r(s))throw Error(i(299));var h=!1,g="",_=D0,E=M0,R=O0,U=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(E=c.onCaughtError),c.onRecoverableError!==void 0&&(R=c.onRecoverableError),c.formState!==void 0&&(U=c.formState)),a=hE(s,1,!0,a,c??null,h,g,U,_,E,R,TE),a.context=fE(null),c=a.current,h=li(),h=es(h),g=kr(h),g.callback=null,Pr(c,g,h),c=h,a.current.lanes=c,ge(a,c),_s(a),s[ns]=a.current,Jg(s),new Of(a)},Jc.version="19.2.0",Jc}var NE;function TI(){if(NE)return bp.exports;NE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),bp.exports=EI(),bp.exports}var SI=TI();const xI=By(SI);var kE="popstate";function wI(n={}){function t(i,r){let{pathname:o,search:l,hash:u}=i.location;return Zp("",{pathname:o,search:l,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(i,r){return typeof r=="string"?r:wu(r)}return RI(t,e,null,n)}function Re(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Ki(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function AI(){return Math.random().toString(36).substring(2,10)}function PE(n,t){return{usr:n.state,key:n.key,idx:t}}function Zp(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Hl(t):t,state:e,key:t&&t.key||i||AI()}}function wu({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function Hl(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function RI(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,l=r.history,u="POP",f=null,d=p();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function p(){return(l.state||{idx:null}).idx}function y(){u="POP";let A=p(),D=A==null?null:A-d;d=A,f&&f({action:u,location:w.location,delta:D})}function v(A,D){u="PUSH";let z=Zp(w.location,A,D);d=p()+1;let B=PE(z,d),q=w.createHref(z);try{l.pushState(B,"",q)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;r.location.assign(q)}o&&f&&f({action:u,location:w.location,delta:1})}function T(A,D){u="REPLACE";let z=Zp(w.location,A,D);d=p();let B=PE(z,d),q=w.createHref(z);l.replaceState(B,"",q),o&&f&&f({action:u,location:w.location,delta:0})}function x(A){return CI(A)}let w={get action(){return u},get location(){return n(r,l)},listen(A){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(kE,y),f=A,()=>{r.removeEventListener(kE,y),f=null}},createHref(A){return t(r,A)},createURL:x,encodeLocation(A){let D=x(A);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:v,replace:T,go(A){return l.go(A)}};return w}function CI(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Re(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:wu(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function qx(n,t,e="/"){return II(n,t,e,!1)}function II(n,t,e,i){let r=typeof t=="string"?Hl(t):t,o=hr(r.pathname||"/",e);if(o==null)return null;let l=Gx(n);DI(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let d=BI(o);u=UI(l[f],d,i)}return u}function Gx(n,t=[],e=[],i="",r=!1){let o=(l,u,f=r,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(i)&&f)return;Re(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length)}let y=cr([i,p.relativePath]),v=e.concat(p);l.children&&l.children.length>0&&(Re(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Gx(l.children,t,v,y,f)),!(l.path==null&&!l.index)&&t.push({path:y,score:VI(y,l.index),routesMeta:v})};return n.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))o(l,u);else for(let f of Yx(l.path))o(l,u,!0,f)}),t}function Yx(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let l=Yx(i.join("/")),u=[];return u.push(...l.map(f=>f===""?o:[o,f].join("/"))),r&&u.push(...l),u.map(f=>n.startsWith("/")&&f===""?"/":f)}function DI(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:zI(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var MI=/^:[\w-]+$/,OI=3,NI=2,kI=1,PI=10,LI=-2,LE=n=>n==="*";function VI(n,t){let e=n.split("/"),i=e.length;return e.some(LE)&&(i+=LI),t&&(i+=NI),e.filter(r=>!LE(r)).reduce((r,o)=>r+(MI.test(o)?OI:o===""?kI:PI),i)}function zI(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function UI(n,t,e=!1){let{routesMeta:i}=n,r={},o="/",l=[];for(let u=0;u<i.length;++u){let f=i[u],d=u===i.length-1,p=o==="/"?t:t.slice(o.length)||"/",y=gd({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},p),v=f.route;if(!y&&d&&e&&!i[i.length-1].route.index&&(y=gd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!y)return null;Object.assign(r,y.params),l.push({params:r,pathname:cr([o,y.pathname]),pathnameBase:YI(cr([o,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(o=cr([o,y.pathnameBase]))}return l}function gd(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=jI(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((d,{paramName:p,isOptional:y},v)=>{if(p==="*"){let x=u[v]||"";l=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const T=u[v];return y&&!T?d[p]=void 0:d[p]=(T||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:l,pattern:n}}function jI(n,t=!1,e=!0){Ki(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(i.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function BI(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ki(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function hr(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}var FI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HI=n=>FI.test(n);function qI(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?Hl(n):n,o;if(e)if(HI(e))o=e;else{if(e.includes("//")){let l=e;e=e.replace(/\/\/+/g,"/"),Ki(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${e}`)}e.startsWith("/")?o=VE(e.substring(1),"/"):o=VE(e,t)}else o=t;return{pathname:o,search:WI(i),hash:KI(r)}}function VE(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function xp(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GI(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Wx(n){let t=GI(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function Kx(n,t,e,i=!1){let r;typeof n=="string"?r=Hl(n):(r={...n},Re(!r.pathname||!r.pathname.includes("?"),xp("?","pathname","search",r)),Re(!r.pathname||!r.pathname.includes("#"),xp("#","pathname","hash",r)),Re(!r.search||!r.search.includes("#"),xp("#","search","hash",r)));let o=n===""||r.pathname==="",l=o?"/":r.pathname,u;if(l==null)u=e;else{let y=t.length-1;if(!i&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),y-=1;r.pathname=v.join("/")}u=y>=0?t[y]:"/"}let f=qI(r,u),d=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(d||p)&&(f.pathname+="/"),f}var cr=n=>n.join("/").replace(/\/\/+/g,"/"),YI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),WI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,KI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function $I(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $x=["POST","PUT","PATCH","DELETE"];new Set($x);var XI=["GET",...$x];new Set(XI);var ql=X.createContext(null);ql.displayName="DataRouter";var Fd=X.createContext(null);Fd.displayName="DataRouterState";X.createContext(!1);var Xx=X.createContext({isTransitioning:!1});Xx.displayName="ViewTransition";var QI=X.createContext(new Map);QI.displayName="Fetchers";var JI=X.createContext(null);JI.displayName="Await";var Os=X.createContext(null);Os.displayName="Navigation";var Wu=X.createContext(null);Wu.displayName="Location";var Ns=X.createContext({outlet:null,matches:[],isDataRoute:!1});Ns.displayName="Route";var Hy=X.createContext(null);Hy.displayName="RouteError";function ZI(n,{relative:t}={}){Re(Ku(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=X.useContext(Os),{hash:r,pathname:o,search:l}=Xu(n,{relative:t}),u=o;return e!=="/"&&(u=o==="/"?e:cr([e,o])),i.createHref({pathname:u,search:l,hash:r})}function Ku(){return X.useContext(Wu)!=null}function Ao(){return Re(Ku(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(Wu).location}var Qx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jx(n){X.useContext(Os).static||X.useLayoutEffect(n)}function qy(){let{isDataRoute:n}=X.useContext(Ns);return n?d2():t2()}function t2(){Re(Ku(),"useNavigate() may be used only in the context of a <Router> component.");let n=X.useContext(ql),{basename:t,navigator:e}=X.useContext(Os),{matches:i}=X.useContext(Ns),{pathname:r}=Ao(),o=JSON.stringify(Wx(i)),l=X.useRef(!1);return Jx(()=>{l.current=!0}),X.useCallback((f,d={})=>{if(Ki(l.current,Qx),!l.current)return;if(typeof f=="number"){e.go(f);return}let p=Kx(f,JSON.parse(o),r,d.relative==="path");n==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:cr([t,p.pathname])),(d.replace?e.replace:e.push)(p,d.state,d)},[t,e,o,r,n])}var Zx=X.createContext(null);function $u(){return X.useContext(Zx)}function e2(n){let t=X.useContext(Ns).outlet;return X.useMemo(()=>t&&X.createElement(Zx.Provider,{value:n},t),[t,n])}function Xu(n,{relative:t}={}){let{matches:e}=X.useContext(Ns),{pathname:i}=Ao(),r=JSON.stringify(Wx(e));return X.useMemo(()=>Kx(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function n2(n,t){return tw(n,t)}function tw(n,t,e,i,r){Re(Ku(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=X.useContext(Os),{matches:l}=X.useContext(Ns),u=l[l.length-1],f=u?u.params:{},d=u?u.pathname:"/",p=u?u.pathnameBase:"/",y=u&&u.route;{let z=y&&y.path||"";ew(d,!y||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let v=Ao(),T;if(t){let z=typeof t=="string"?Hl(t):t;Re(p==="/"||z.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${z.pathname}" was given in the \`location\` prop.`),T=z}else T=v;let x=T.pathname||"/",w=x;if(p!=="/"){let z=p.replace(/^\//,"").split("/");w="/"+x.replace(/^\//,"").split("/").slice(z.length).join("/")}let A=qx(n,{pathname:w});Ki(y||A!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Ki(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=o2(A&&A.map(z=>Object.assign({},z,{params:Object.assign({},f,z.params),pathname:cr([p,o.encodeLocation?o.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?p:cr([p,o.encodeLocation?o.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),l,e,i,r);return t&&D?X.createElement(Wu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},D):D}function i2(){let n=f2(),t=$I(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=X.createElement(X.Fragment,null,X.createElement("p",null," Hey developer "),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:o},"ErrorBoundary")," or"," ",X.createElement("code",{style:o},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},t),e?X.createElement("pre",{style:r},e):null,l)}var s2=X.createElement(i2,null),r2=class extends X.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?X.createElement(Ns.Provider,{value:this.props.routeContext},X.createElement(Hy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function a2({routeContext:n,match:t,children:e}){let i=X.useContext(ql);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),X.createElement(Ns.Provider,{value:n},e)}function o2(n,t=[],e=null,i=null,r=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let o=n,l=e?.errors;if(l!=null){let p=o.findIndex(y=>y.route.id&&l?.[y.route.id]!==void 0);Re(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,f=-1;if(e)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=p),y.route.id){let{loaderData:v,errors:T}=e,x=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||x){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let d=e&&i?(p,y)=>{i(p,{location:e.location,params:e.matches?.[0]?.params??{},errorInfo:y})}:void 0;return o.reduceRight((p,y,v)=>{let T,x=!1,w=null,A=null;e&&(T=l&&y.route.id?l[y.route.id]:void 0,w=y.route.errorElement||s2,u&&(f<0&&v===0?(ew("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,A=null):f===v&&(x=!0,A=y.route.hydrateFallbackElement||null)));let D=t.concat(o.slice(0,v+1)),z=()=>{let B;return T?B=w:x?B=A:y.route.Component?B=X.createElement(y.route.Component,null):y.route.element?B=y.route.element:B=p,X.createElement(a2,{match:y,routeContext:{outlet:p,matches:D,isDataRoute:e!=null},children:B})};return e&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?X.createElement(r2,{location:e.location,revalidation:e.revalidation,component:w,error:T,children:z(),routeContext:{outlet:null,matches:D,isDataRoute:!0},onError:d}):z()},null)}function Gy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l2(n){let t=X.useContext(ql);return Re(t,Gy(n)),t}function c2(n){let t=X.useContext(Fd);return Re(t,Gy(n)),t}function u2(n){let t=X.useContext(Ns);return Re(t,Gy(n)),t}function Yy(n){let t=u2(n),e=t.matches[t.matches.length-1];return Re(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function h2(){return Yy("useRouteId")}function f2(){let n=X.useContext(Hy),t=c2("useRouteError"),e=Yy("useRouteError");return n!==void 0?n:t.errors?.[e]}function d2(){let{router:n}=l2("useNavigate"),t=Yy("useNavigate"),e=X.useRef(!1);return Jx(()=>{e.current=!0}),X.useCallback(async(r,o={})=>{Ki(e.current,Qx),e.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:t,...o}))},[n,t])}var zE={};function ew(n,t,e){!t&&!zE[n]&&(zE[n]=!0,Ki(!1,e))}X.memo(m2);function m2({routes:n,future:t,state:e,unstable_onError:i}){return tw(n,void 0,e,i,t)}function g2(n){return e2(n.context)}function Jr(n){Re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function p2({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:o=!1}){Re(!Ku(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=X.useMemo(()=>({basename:l,navigator:r,static:o,future:{}}),[l,r,o]);typeof e=="string"&&(e=Hl(e));let{pathname:f="/",search:d="",hash:p="",state:y=null,key:v="default"}=e,T=X.useMemo(()=>{let x=hr(f,l);return x==null?null:{location:{pathname:x,search:d,hash:p,state:y,key:v},navigationType:i}},[l,f,d,p,y,v,i]);return Ki(T!=null,`<Router basename="${l}"> is not able to match the URL "${f}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:X.createElement(Os.Provider,{value:u},X.createElement(Wu.Provider,{children:t,value:T}))}function y2({children:n,location:t}){return n2(ty(n),t)}function ty(n,t=[]){let e=[];return X.Children.forEach(n,(i,r)=>{if(!X.isValidElement(i))return;let o=[...t,r];if(i.type===X.Fragment){e.push.apply(e,ty(i.props.children,o));return}Re(i.type===Jr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Re(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=ty(i.props.children,o)),e.push(l)}),e}var ed="get",nd="application/x-www-form-urlencoded";function Hd(n){return n!=null&&typeof n.tagName=="string"}function _2(n){return Hd(n)&&n.tagName.toLowerCase()==="button"}function v2(n){return Hd(n)&&n.tagName.toLowerCase()==="form"}function b2(n){return Hd(n)&&n.tagName.toLowerCase()==="input"}function E2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function T2(n,t){return n.button===0&&(!t||t==="_self")&&!E2(n)}var kf=null;function S2(){if(kf===null)try{new FormData(document.createElement("form"),0),kf=!1}catch{kf=!0}return kf}var x2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wp(n){return n!=null&&!x2.has(n)?(Ki(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nd}"`),null):n}function w2(n,t){let e,i,r,o,l;if(v2(n)){let u=n.getAttribute("action");i=u?hr(u,t):null,e=n.getAttribute("method")||ed,r=wp(n.getAttribute("enctype"))||nd,o=new FormData(n)}else if(_2(n)||b2(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||u.getAttribute("action");if(i=f?hr(f,t):null,e=n.getAttribute("formmethod")||u.getAttribute("method")||ed,r=wp(n.getAttribute("formenctype"))||wp(u.getAttribute("enctype"))||nd,o=new FormData(u,n),!S2()){let{name:d,type:p,value:y}=n;if(p==="image"){let v=d?`${d}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else d&&o.append(d,y)}}else{if(Hd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=ed,i=null,r=nd,l=n}return o&&r==="text/plain"&&(l=o,o=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wy(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function A2(n,t,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&hr(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function R2(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function C2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function I2(n,t,e){let i=await Promise.all(n.map(async r=>{let o=t.routes[r.route.id];if(o){let l=await R2(o,e);return l.links?l.links():[]}return[]}));return N2(i.flat(1).filter(C2).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function UE(n,t,e,i,r,o){let l=(f,d)=>e[d]?f.route.id!==e[d].route.id:!0,u=(f,d)=>e[d].pathname!==f.pathname||e[d].route.path?.endsWith("*")&&e[d].params["*"]!==f.params["*"];return o==="assets"?t.filter((f,d)=>l(f,d)||u(f,d)):o==="data"?t.filter((f,d)=>{let p=i.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,d)||u(f,d))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function D2(n,t,{includeHydrateFallback:e}={}){return M2(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function M2(n){return[...new Set(n)]}function O2(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function N2(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let o=JSON.stringify(O2(r));return e.has(o)||(e.add(o),i.push({key:o,link:r})),i},[])}function nw(){let n=X.useContext(ql);return Wy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function k2(){let n=X.useContext(Fd);return Wy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ky=X.createContext(void 0);Ky.displayName="FrameworkContext";function iw(){let n=X.useContext(Ky);return Wy(n,"You must render this element inside a <HydratedRouter> element"),n}function P2(n,t){let e=X.useContext(Ky),[i,r]=X.useState(!1),[o,l]=X.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:d,onMouseLeave:p,onTouchStart:y}=t,v=X.useRef(null);X.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let w=D=>{D.forEach(z=>{l(z.isIntersecting)})},A=new IntersectionObserver(w,{threshold:.5});return v.current&&A.observe(v.current),()=>{A.disconnect()}}},[n]),X.useEffect(()=>{if(i){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[i]);let T=()=>{r(!0)},x=()=>{r(!1),l(!1)};return e?n!=="intent"?[o,v,{}]:[o,v,{onFocus:Zc(u,T),onBlur:Zc(f,x),onMouseEnter:Zc(d,T),onMouseLeave:Zc(p,x),onTouchStart:Zc(y,T)}]:[!1,v,{}]}function Zc(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function L2({page:n,...t}){let{router:e}=nw(),i=X.useMemo(()=>qx(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?X.createElement(z2,{page:n,matches:i,...t}):null}function V2(n){let{manifest:t,routeModules:e}=iw(),[i,r]=X.useState([]);return X.useEffect(()=>{let o=!1;return I2(n,t,e).then(l=>{o||r(l)}),()=>{o=!0}},[n,t,e]),i}function z2({page:n,matches:t,...e}){let i=Ao(),{manifest:r,routeModules:o}=iw(),{basename:l}=nw(),{loaderData:u,matches:f}=k2(),d=X.useMemo(()=>UE(n,t,f,r,i,"data"),[n,t,f,r,i]),p=X.useMemo(()=>UE(n,t,f,r,i,"assets"),[n,t,f,r,i]),y=X.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let x=new Set,w=!1;if(t.forEach(D=>{let z=r.routes[D.route.id];!z||!z.hasLoader||(!d.some(B=>B.route.id===D.route.id)&&D.route.id in u&&o[D.route.id]?.shouldRevalidate||z.hasClientLoader?w=!0:x.add(D.route.id))}),x.size===0)return[];let A=A2(n,l,"data");return w&&x.size>0&&A.searchParams.set("_routes",t.filter(D=>x.has(D.route.id)).map(D=>D.route.id).join(",")),[A.pathname+A.search]},[l,u,i,r,d,t,n,o]),v=X.useMemo(()=>D2(p,r),[p,r]),T=V2(p);return X.createElement(X.Fragment,null,y.map(x=>X.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...e})),v.map(x=>X.createElement("link",{key:x,rel:"modulepreload",href:x,...e})),T.map(({key:x,link:w})=>X.createElement("link",{key:x,nonce:e.nonce,...w})))}function U2(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var sw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sw&&(window.__reactRouterVersion="7.9.6")}catch{}function j2({basename:n,children:t,window:e}){let i=X.useRef();i.current==null&&(i.current=wI({window:e,v5Compat:!0}));let r=i.current,[o,l]=X.useState({action:r.action,location:r.location}),u=X.useCallback(f=>{X.startTransition(()=>l(f))},[l]);return X.useLayoutEffect(()=>r.listen(u),[r,u]),X.createElement(p2,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:r})}var rw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aw=X.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:o,replace:l,state:u,target:f,to:d,preventScrollReset:p,viewTransition:y,...v},T){let{basename:x}=X.useContext(Os),w=typeof d=="string"&&rw.test(d),A,D=!1;if(typeof d=="string"&&w&&(A=d,sw))try{let N=new URL(window.location.href),V=d.startsWith("//")?new URL(N.protocol+d):new URL(d),k=hr(V.pathname,x);V.origin===N.origin&&k!=null?d=k+V.search+V.hash:D=!0}catch{Ki(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=ZI(d,{relative:r}),[B,q,H]=P2(i,v),K=H2(d,{replace:l,state:u,target:f,preventScrollReset:p,relative:r,viewTransition:y});function I(N){t&&t(N),N.defaultPrevented||K(N)}let C=X.createElement("a",{...v,...H,href:A||z,onClick:D||o?t:I,ref:U2(T,q),target:f,"data-discover":!w&&e==="render"?"true":void 0});return B&&!w?X.createElement(X.Fragment,null,C,X.createElement(L2,{page:z})):C});aw.displayName="Link";var bl=X.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:o,to:l,viewTransition:u,children:f,...d},p){let y=Xu(l,{relative:d.relative}),v=Ao(),T=X.useContext(Fd),{navigator:x,basename:w}=X.useContext(Os),A=T!=null&&K2(y)&&u===!0,D=x.encodeLocation?x.encodeLocation(y).pathname:y.pathname,z=v.pathname,B=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;e||(z=z.toLowerCase(),B=B?B.toLowerCase():null,D=D.toLowerCase()),B&&w&&(B=hr(B,w)||B);const q=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let H=z===D||!r&&z.startsWith(D)&&z.charAt(q)==="/",K=B!=null&&(B===D||!r&&B.startsWith(D)&&B.charAt(D.length)==="/"),I={isActive:H,isPending:K,isTransitioning:A},C=H?t:void 0,N;typeof i=="function"?N=i(I):N=[i,H?"active":null,K?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(I):o;return X.createElement(aw,{...d,"aria-current":C,className:N,ref:p,style:V,to:l,viewTransition:u},typeof f=="function"?f(I):f)});bl.displayName="NavLink";var B2=X.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:o,method:l=ed,action:u,onSubmit:f,relative:d,preventScrollReset:p,viewTransition:y,...v},T)=>{let x=Y2(),w=W2(u,{relative:d}),A=l.toLowerCase()==="get"?"get":"post",D=typeof u=="string"&&rw.test(u),z=B=>{if(f&&f(B),B.defaultPrevented)return;B.preventDefault();let q=B.nativeEvent.submitter,H=q?.getAttribute("formmethod")||l;x(q||B.currentTarget,{fetcherKey:t,method:H,navigate:e,replace:r,state:o,relative:d,preventScrollReset:p,viewTransition:y})};return X.createElement("form",{ref:T,method:A,action:w,onSubmit:i?f:z,...v,"data-discover":!D&&n==="render"?"true":void 0})});B2.displayName="Form";function F2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ow(n){let t=X.useContext(ql);return Re(t,F2(n)),t}function H2(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:o,viewTransition:l}={}){let u=qy(),f=Ao(),d=Xu(n,{relative:o});return X.useCallback(p=>{if(T2(p,t)){p.preventDefault();let y=e!==void 0?e:wu(f)===wu(d);u(n,{replace:y,state:i,preventScrollReset:r,relative:o,viewTransition:l})}},[f,u,d,e,i,t,n,r,o,l])}var q2=0,G2=()=>`__${String(++q2)}__`;function Y2(){let{router:n}=ow("useSubmit"),{basename:t}=X.useContext(Os),e=h2();return X.useCallback(async(i,r={})=>{let{action:o,method:l,encType:u,formData:f,body:d}=w2(i,t);if(r.navigate===!1){let p=r.fetcherKey||G2();await n.fetch(p,e,r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:d,formMethod:r.method||l,formEncType:r.encType||u,flushSync:r.flushSync})}else await n.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:d,formMethod:r.method||l,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,t,e])}function W2(n,{relative:t}={}){let{basename:e}=X.useContext(Os),i=X.useContext(Ns);Re(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...Xu(n||".",{relative:t})},l=Ao();if(n==null){o.search=l.search;let u=new URLSearchParams(o.search),f=u.getAll("index");if(f.some(p=>p==="")){u.delete("index"),f.filter(y=>y).forEach(y=>u.append("index",y));let p=u.toString();o.search=p?`?${p}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:cr([e,o.pathname])),wu(o)}function K2(n,{relative:t}={}){let e=X.useContext(Xx);Re(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ow("useViewTransitionState"),r=Xu(n,{relative:t});if(!e.isTransitioning)return!1;let o=hr(e.currentLocation.pathname,i)||e.currentLocation.pathname,l=hr(e.nextLocation.pathname,i)||e.nextLocation.pathname;return gd(r.pathname,l)!=null||gd(r.pathname,o)!=null}var $2=Hx();const X2=By($2);function Q2(n){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.appendChild(e),e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}const J2=n=>{switch(n){case"success":return eD;case"info":return iD;case"warning":return nD;case"error":return sD;default:return null}},Z2=Array(12).fill(0),tD=({visible:n,className:t})=>ht.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":n},ht.createElement("div",{className:"sonner-spinner"},Z2.map((e,i)=>ht.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),eD=ht.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ht.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),nD=ht.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ht.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),iD=ht.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ht.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),sD=ht.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ht.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),rD=ht.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ht.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ht.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),aD=()=>{const[n,t]=ht.useState(document.hidden);return ht.useEffect(()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),n};let ey=1;class oD{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;const{message:i,...r}=t,o=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:ey++,l=this.toasts.find(f=>f.id===o),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),l?this.toasts=this.toasts.map(f=>f.id===o?(this.publish({...f,...t,id:o,title:i}),{...f,...t,id:o,dismissible:u,title:i}):f):this.addToast({title:i,...r,dismissible:u,id:o}),o},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(e=>e({id:t,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(i=>i({id:e.id,dismiss:!0}))}),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let i;e.loading!==void 0&&(i=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));const r=Promise.resolve(t instanceof Function?t():t);let o=i!==void 0,l;const u=r.then(async d=>{if(l=["resolve",d],ht.isValidElement(d))o=!1,this.create({id:i,type:"default",message:d});else if(cD(d)&&!d.ok){o=!1;const y=typeof e.error=="function"?await e.error(`HTTP error! status: ${d.status}`):e.error,v=typeof e.description=="function"?await e.description(`HTTP error! status: ${d.status}`):e.description,x=typeof y=="object"&&!ht.isValidElement(y)?y:{message:y};this.create({id:i,type:"error",description:v,...x})}else if(d instanceof Error){o=!1;const y=typeof e.error=="function"?await e.error(d):e.error,v=typeof e.description=="function"?await e.description(d):e.description,x=typeof y=="object"&&!ht.isValidElement(y)?y:{message:y};this.create({id:i,type:"error",description:v,...x})}else if(e.success!==void 0){o=!1;const y=typeof e.success=="function"?await e.success(d):e.success,v=typeof e.description=="function"?await e.description(d):e.description,x=typeof y=="object"&&!ht.isValidElement(y)?y:{message:y};this.create({id:i,type:"success",description:v,...x})}}).catch(async d=>{if(l=["reject",d],e.error!==void 0){o=!1;const p=typeof e.error=="function"?await e.error(d):e.error,y=typeof e.description=="function"?await e.description(d):e.description,T=typeof p=="object"&&!ht.isValidElement(p)?p:{message:p};this.create({id:i,type:"error",description:y,...T})}}).finally(()=>{o&&(this.dismiss(i),i=void 0),e.finally==null||e.finally.call(e)}),f=()=>new Promise((d,p)=>u.then(()=>l[0]==="reject"?p(l[1]):d(l[1])).catch(p));return typeof i!="string"&&typeof i!="number"?{unwrap:f}:Object.assign(i,{unwrap:f})},this.custom=(t,e)=>{const i=e?.id||ey++;return this.create({jsx:t(i),id:i,...e}),i},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Gn=new oD,lD=(n,t)=>{const e=t?.id||ey++;return Gn.addToast({title:n,...t,id:e}),e},cD=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",uD=lD,hD=()=>Gn.toasts,fD=()=>Gn.getActiveToasts(),Ae=Object.assign(uD,{success:Gn.success,info:Gn.info,warning:Gn.warning,error:Gn.error,custom:Gn.custom,message:Gn.message,promise:Gn.promise,dismiss:Gn.dismiss,loading:Gn.loading},{getHistory:hD,getToasts:fD});Q2("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Pf(n){return n.label!==void 0}const dD=3,mD="24px",gD="16px",jE=4e3,pD=356,yD=14,_D=45,vD=200;function vs(...n){return n.filter(Boolean).join(" ")}function bD(n){const[t,e]=n.split("-"),i=[];return t&&i.push(t),e&&i.push(e),i}const ED=n=>{var t,e,i,r,o,l,u,f,d;const{invert:p,toast:y,unstyled:v,interacting:T,setHeights:x,visibleToasts:w,heights:A,index:D,toasts:z,expanded:B,removeToast:q,defaultRichColors:H,closeButton:K,style:I,cancelButtonStyle:C,actionButtonStyle:N,className:V="",descriptionClassName:k="",duration:L,position:P,gap:Et,expandByDefault:yt,classNames:Y,icons:rt,closeButtonAriaLabel:dt="Close toast"}=n,[bt,Ct]=ht.useState(null),[j,et]=ht.useState(null),[at,ct]=ht.useState(!1),[ft,_t]=ht.useState(!1),[Lt,Dt]=ht.useState(!1),[Jt,hi]=ht.useState(!1),[Ii,Xn]=ht.useState(!1),[_r,Ln]=ht.useState(0),[Ma,Qi]=ht.useState(0),Di=ht.useRef(y.duration||L||jE),vr=ht.useRef(null),ee=ht.useRef(null),Oe=D===0,Ji=D+1<=w,ln=y.type,Mi=y.dismissible!==!1,cn=y.className||"",ks=y.descriptionClassName||"",Zi=ht.useMemo(()=>A.findIndex(xt=>xt.toastId===y.id)||0,[A,y.id]),Oa=ht.useMemo(()=>{var xt;return(xt=y.closeButton)!=null?xt:K},[y.closeButton,K]),Oi=ht.useMemo(()=>y.duration||L||jE,[y.duration,L]),Na=ht.useRef(0),Ni=ht.useRef(0),ka=ht.useRef(0),ki=ht.useRef(null),[Qn,Xe]=P.split("-"),Mn=ht.useMemo(()=>A.reduce((xt,ne,ze)=>ze>=Zi?xt:xt+ne.height,0),[A,Zi]),be=aD(),Mo=y.invert||p,ts=ln==="loading";Ni.current=ht.useMemo(()=>Zi*Et+Mn,[Zi,Mn]),ht.useEffect(()=>{Di.current=Oi},[Oi]),ht.useEffect(()=>{ct(!0)},[]),ht.useEffect(()=>{const xt=ee.current;if(xt){const ne=xt.getBoundingClientRect().height;return Qi(ne),x(ze=>[{toastId:y.id,height:ne,position:y.position},...ze]),()=>x(ze=>ze.filter(en=>en.toastId!==y.id))}},[x,y.id]),ht.useLayoutEffect(()=>{if(!at)return;const xt=ee.current,ne=xt.style.height;xt.style.height="auto";const ze=xt.getBoundingClientRect().height;xt.style.height=ne,Qi(ze),x(en=>en.find(ge=>ge.toastId===y.id)?en.map(ge=>ge.toastId===y.id?{...ge,height:ze}:ge):[{toastId:y.id,height:ze,position:y.position},...en])},[at,y.title,y.description,x,y.id,y.jsx,y.action,y.cancel]);const Jn=ht.useCallback(()=>{_t(!0),Ln(Ni.current),x(xt=>xt.filter(ne=>ne.toastId!==y.id)),setTimeout(()=>{q(y)},vD)},[y,q,x,Ni]);ht.useEffect(()=>{if(y.promise&&ln==="loading"||y.duration===1/0||y.type==="loading")return;let xt;return B||T||be?(()=>{if(ka.current<Na.current){const en=new Date().getTime()-Na.current;Di.current=Di.current-en}ka.current=new Date().getTime()})():(()=>{Di.current!==1/0&&(Na.current=new Date().getTime(),xt=setTimeout(()=>{y.onAutoClose==null||y.onAutoClose.call(y,y),Jn()},Di.current))})(),()=>clearTimeout(xt)},[B,T,y,ln,be,Jn]),ht.useEffect(()=>{y.delete&&(Jn(),y.onDismiss==null||y.onDismiss.call(y,y))},[Jn,y.delete]);function fi(){var xt;if(rt?.loading){var ne;return ht.createElement("div",{className:vs(Y?.loader,y==null||(ne=y.classNames)==null?void 0:ne.loader,"sonner-loader"),"data-visible":ln==="loading"},rt.loading)}return ht.createElement(tD,{className:vs(Y?.loader,y==null||(xt=y.classNames)==null?void 0:xt.loader),visible:ln==="loading"})}const Ps=y.icon||rt?.[ln]||J2(ln);var we,Zn;return ht.createElement("li",{tabIndex:0,ref:ee,className:vs(V,cn,Y?.toast,y==null||(t=y.classNames)==null?void 0:t.toast,Y?.default,Y?.[ln],y==null||(e=y.classNames)==null?void 0:e[ln]),"data-sonner-toast":"","data-rich-colors":(we=y.richColors)!=null?we:H,"data-styled":!(y.jsx||y.unstyled||v),"data-mounted":at,"data-promise":!!y.promise,"data-swiped":Ii,"data-removed":ft,"data-visible":Ji,"data-y-position":Qn,"data-x-position":Xe,"data-index":D,"data-front":Oe,"data-swiping":Lt,"data-dismissible":Mi,"data-type":ln,"data-invert":Mo,"data-swipe-out":Jt,"data-swipe-direction":j,"data-expanded":!!(B||yt&&at),"data-testid":y.testId,style:{"--index":D,"--toasts-before":D,"--z-index":z.length-D,"--offset":`${ft?_r:Ni.current}px`,"--initial-height":yt?"auto":`${Ma}px`,...I,...y.style},onDragEnd:()=>{Dt(!1),Ct(null),ki.current=null},onPointerDown:xt=>{xt.button!==2&&(ts||!Mi||(vr.current=new Date,Ln(Ni.current),xt.target.setPointerCapture(xt.pointerId),xt.target.tagName!=="BUTTON"&&(Dt(!0),ki.current={x:xt.clientX,y:xt.clientY})))},onPointerUp:()=>{var xt,ne,ze;if(Jt||!Mi)return;ki.current=null;const en=Number(((xt=ee.current)==null?void 0:xt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),On=Number(((ne=ee.current)==null?void 0:ne.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ge=new Date().getTime()-((ze=vr.current)==null?void 0:ze.getTime()),En=bt==="x"?en:On,di=Math.abs(En)/ge;if(Math.abs(En)>=_D||di>.11){Ln(Ni.current),y.onDismiss==null||y.onDismiss.call(y,y),et(bt==="x"?en>0?"right":"left":On>0?"down":"up"),Jn(),hi(!0);return}else{var un,hn;(un=ee.current)==null||un.style.setProperty("--swipe-amount-x","0px"),(hn=ee.current)==null||hn.style.setProperty("--swipe-amount-y","0px")}Xn(!1),Dt(!1),Ct(null)},onPointerMove:xt=>{var ne,ze,en;if(!ki.current||!Mi||((ne=window.getSelection())==null?void 0:ne.toString().length)>0)return;const ge=xt.clientY-ki.current.y,En=xt.clientX-ki.current.x;var di;const un=(di=n.swipeDirections)!=null?di:bD(P);!bt&&(Math.abs(En)>1||Math.abs(ge)>1)&&Ct(Math.abs(En)>Math.abs(ge)?"x":"y");let hn={x:0,y:0};const es=fn=>1/(1.5+Math.abs(fn)/20);if(bt==="y"){if(un.includes("top")||un.includes("bottom"))if(un.includes("top")&&ge<0||un.includes("bottom")&&ge>0)hn.y=ge;else{const fn=ge*es(ge);hn.y=Math.abs(fn)<Math.abs(ge)?fn:ge}}else if(bt==="x"&&(un.includes("left")||un.includes("right")))if(un.includes("left")&&En<0||un.includes("right")&&En>0)hn.x=En;else{const fn=En*es(En);hn.x=Math.abs(fn)<Math.abs(En)?fn:En}(Math.abs(hn.x)>0||Math.abs(hn.y)>0)&&Xn(!0),(ze=ee.current)==null||ze.style.setProperty("--swipe-amount-x",`${hn.x}px`),(en=ee.current)==null||en.style.setProperty("--swipe-amount-y",`${hn.y}px`)}},Oa&&!y.jsx&&ln!=="loading"?ht.createElement("button",{"aria-label":dt,"data-disabled":ts,"data-close-button":!0,onClick:ts||!Mi?()=>{}:()=>{Jn(),y.onDismiss==null||y.onDismiss.call(y,y)},className:vs(Y?.closeButton,y==null||(i=y.classNames)==null?void 0:i.closeButton)},(Zn=rt?.close)!=null?Zn:rD):null,(ln||y.icon||y.promise)&&y.icon!==null&&(rt?.[ln]!==null||y.icon)?ht.createElement("div",{"data-icon":"",className:vs(Y?.icon,y==null||(r=y.classNames)==null?void 0:r.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||fi():null,y.type!=="loading"?Ps:null):null,ht.createElement("div",{"data-content":"",className:vs(Y?.content,y==null||(o=y.classNames)==null?void 0:o.content)},ht.createElement("div",{"data-title":"",className:vs(Y?.title,y==null||(l=y.classNames)==null?void 0:l.title)},y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title),y.description?ht.createElement("div",{"data-description":"",className:vs(k,ks,Y?.description,y==null||(u=y.classNames)==null?void 0:u.description)},typeof y.description=="function"?y.description():y.description):null),ht.isValidElement(y.cancel)?y.cancel:y.cancel&&Pf(y.cancel)?ht.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||C,onClick:xt=>{Pf(y.cancel)&&Mi&&(y.cancel.onClick==null||y.cancel.onClick.call(y.cancel,xt),Jn())},className:vs(Y?.cancelButton,y==null||(f=y.classNames)==null?void 0:f.cancelButton)},y.cancel.label):null,ht.isValidElement(y.action)?y.action:y.action&&Pf(y.action)?ht.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||N,onClick:xt=>{Pf(y.action)&&(y.action.onClick==null||y.action.onClick.call(y.action,xt),!xt.defaultPrevented&&Jn())},className:vs(Y?.actionButton,y==null||(d=y.classNames)==null?void 0:d.actionButton)},y.action.label):null)};function BE(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function TD(n,t){const e={};return[n,t].forEach((i,r)=>{const o=r===1,l=o?"--mobile-offset":"--offset",u=o?gD:mD;function f(d){["top","right","bottom","left"].forEach(p=>{e[`${l}-${p}`]=typeof d=="number"?`${d}px`:d})}typeof i=="number"||typeof i=="string"?f(i):typeof i=="object"?["top","right","bottom","left"].forEach(d=>{i[d]===void 0?e[`${l}-${d}`]=u:e[`${l}-${d}`]=typeof i[d]=="number"?`${i[d]}px`:i[d]}):f(u)}),e}const lw=ht.forwardRef(function(t,e){const{id:i,invert:r,position:o="bottom-right",hotkey:l=["altKey","KeyT"],expand:u,closeButton:f,className:d,offset:p,mobileOffset:y,theme:v="light",richColors:T,duration:x,style:w,visibleToasts:A=dD,toastOptions:D,dir:z=BE(),gap:B=yD,icons:q,containerAriaLabel:H="Notifications"}=t,[K,I]=ht.useState([]),C=ht.useMemo(()=>i?K.filter(at=>at.toasterId===i):K.filter(at=>!at.toasterId),[K,i]),N=ht.useMemo(()=>Array.from(new Set([o].concat(C.filter(at=>at.position).map(at=>at.position)))),[C,o]),[V,k]=ht.useState([]),[L,P]=ht.useState(!1),[Et,yt]=ht.useState(!1),[Y,rt]=ht.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),dt=ht.useRef(null),bt=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),Ct=ht.useRef(null),j=ht.useRef(!1),et=ht.useCallback(at=>{I(ct=>{var ft;return(ft=ct.find(_t=>_t.id===at.id))!=null&&ft.delete||Gn.dismiss(at.id),ct.filter(({id:_t})=>_t!==at.id)})},[]);return ht.useEffect(()=>Gn.subscribe(at=>{if(at.dismiss){requestAnimationFrame(()=>{I(ct=>ct.map(ft=>ft.id===at.id?{...ft,delete:!0}:ft))});return}setTimeout(()=>{X2.flushSync(()=>{I(ct=>{const ft=ct.findIndex(_t=>_t.id===at.id);return ft!==-1?[...ct.slice(0,ft),{...ct[ft],...at},...ct.slice(ft+1)]:[at,...ct]})})})}),[K]),ht.useEffect(()=>{if(v!=="system"){rt(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?rt("dark"):rt("light")),typeof window>"u")return;const at=window.matchMedia("(prefers-color-scheme: dark)");try{at.addEventListener("change",({matches:ct})=>{rt(ct?"dark":"light")})}catch{at.addListener(({matches:ft})=>{try{rt(ft?"dark":"light")}catch(_t){console.error(_t)}})}},[v]),ht.useEffect(()=>{K.length<=1&&P(!1)},[K]),ht.useEffect(()=>{const at=ct=>{var ft;if(l.every(Dt=>ct[Dt]||ct.code===Dt)){var Lt;P(!0),(Lt=dt.current)==null||Lt.focus()}ct.code==="Escape"&&(document.activeElement===dt.current||(ft=dt.current)!=null&&ft.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",at),()=>document.removeEventListener("keydown",at)},[l]),ht.useEffect(()=>{if(dt.current)return()=>{Ct.current&&(Ct.current.focus({preventScroll:!0}),Ct.current=null,j.current=!1)}},[dt.current]),ht.createElement("section",{ref:e,"aria-label":`${H} ${bt}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((at,ct)=>{var ft;const[_t,Lt]=at.split("-");return C.length?ht.createElement("ol",{key:at,dir:z==="auto"?BE():z,tabIndex:-1,ref:dt,className:d,"data-sonner-toaster":!0,"data-sonner-theme":Y,"data-y-position":_t,"data-x-position":Lt,style:{"--front-toast-height":`${((ft=V[0])==null?void 0:ft.height)||0}px`,"--width":`${pD}px`,"--gap":`${B}px`,...w,...TD(p,y)},onBlur:Dt=>{j.current&&!Dt.currentTarget.contains(Dt.relatedTarget)&&(j.current=!1,Ct.current&&(Ct.current.focus({preventScroll:!0}),Ct.current=null))},onFocus:Dt=>{Dt.target instanceof HTMLElement&&Dt.target.dataset.dismissible==="false"||j.current||(j.current=!0,Ct.current=Dt.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{Et||P(!1)},onDragEnd:()=>P(!1),onPointerDown:Dt=>{Dt.target instanceof HTMLElement&&Dt.target.dataset.dismissible==="false"||yt(!0)},onPointerUp:()=>yt(!1)},C.filter(Dt=>!Dt.position&&ct===0||Dt.position===at).map((Dt,Jt)=>{var hi,Ii;return ht.createElement(ED,{key:Dt.id,icons:q,index:Jt,toast:Dt,defaultRichColors:T,duration:(hi=D?.duration)!=null?hi:x,className:D?.className,descriptionClassName:D?.descriptionClassName,invert:r,visibleToasts:A,closeButton:(Ii=D?.closeButton)!=null?Ii:f,interacting:Et,position:at,style:D?.style,unstyled:D?.unstyled,classNames:D?.classNames,cancelButtonStyle:D?.cancelButtonStyle,actionButtonStyle:D?.actionButtonStyle,closeButtonAriaLabel:D?.closeButtonAriaLabel,removeToast:et,toasts:C.filter(Xn=>Xn.position==Dt.position),heights:V.filter(Xn=>Xn.position==Dt.position),setHeights:k,expandByDefault:u,gap:B,expanded:L,swipeDirections:t.swipeDirections})})):null}))}),SD=()=>{};var FE={};const cw=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},xD=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],l=n[e++],u=n[e++],f=((r&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],l=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|l&63)}}return t.join("")},uw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],l=r+1<n.length,u=l?n[r+1]:0,f=r+2<n.length,d=f?n[r+2]:0,p=o>>2,y=(o&3)<<4|u>>4;let v=(u&15)<<2|d>>6,T=d&63;f||(T=64,l||(v=64)),i.push(e[p],e[y],e[v],e[T])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(cw(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):xD(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],u=r<n.length?e[n.charAt(r)]:0;++r;const d=r<n.length?e[n.charAt(r)]:64;++r;const y=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||u==null||d==null||y==null)throw new wD;const v=o<<2|u>>4;if(i.push(v),d!==64){const T=u<<4&240|d>>2;if(i.push(T),y!==64){const x=d<<6&192|y;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class wD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AD=function(n){const t=cw(n);return uw.encodeByteArray(t,!0)},pd=function(n){return AD(n).replace(/\./g,"")},hw=function(n){try{return uw.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function RD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const CD=()=>RD().__FIREBASE_DEFAULTS__,ID=()=>{if(typeof process>"u"||typeof FE>"u")return;const n=FE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},DD=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&hw(n[1]);return t&&JSON.parse(t)},qd=()=>{try{return SD()||CD()||ID()||DD()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},fw=n=>qd()?.emulatorHosts?.[n],MD=n=>{const t=fw(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},dw=()=>qd()?.config,mw=n=>qd()?.[`_${n}`];class OD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function Gl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gw(n){return(await fetch(n,{credentials:"include"})).ok}function ND(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[pd(JSON.stringify(e)),pd(JSON.stringify(l)),""].join(".")}const gu={};function kD(){const n={prod:[],emulator:[]};for(const t of Object.keys(gu))gu[t]?n.emulator.push(t):n.prod.push(t);return n}function PD(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let HE=!1;function pw(n,t){if(typeof window>"u"||typeof document>"u"||!Gl(window.location.host)||gu[n]===t||gu[n]||HE)return;gu[n]=t;function e(v){return`__firebase__banner__${v}`}const i="__firebase__banner",o=kD().prod.length>0;function l(){const v=document.getElementById(i);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,T){v.setAttribute("width","24"),v.setAttribute("id",T),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{HE=!0,l()},v}function p(v,T){v.setAttribute("id",T),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=PD(i),T=e("text"),x=document.getElementById(T)||document.createElement("span"),w=e("learnmore"),A=document.getElementById(w)||document.createElement("a"),D=e("preprendIcon"),z=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const B=v.element;u(B),p(A,w);const q=d();f(z,D),B.append(z,x,A,q),document.body.appendChild(B)}o?(x.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function In(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}function VD(){const n=qd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UD(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function jD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BD(){const n=In();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function FD(){return!VD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HD(){try{return typeof indexedDB=="object"}catch{return!1}}function qD(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}const GD="FirebaseError";class pr extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=GD,Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qu.prototype.create)}}class Qu{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],l=o?YD(o,i):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new pr(r,u,i)}}function YD(n,t){return n.replace(WD,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const WD=/\{\$([^}]+)}/g;function KD(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function _o(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],l=t[r];if(qE(o)&&qE(l)){if(!_o(o,l))return!1}else if(o!==l)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function qE(n){return n!==null&&typeof n=="object"}function Ju(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function ru(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function au(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function $D(n,t){const e=new XD(n,t);return e.subscribe.bind(e)}class XD{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");QD(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Ap),r.error===void 0&&(r.error=Ap),r.complete===void 0&&(r.complete=Ap);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QD(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Ap(){}function tn(n){return n&&n._delegate?n._delegate:n}class vo{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const co="[DEFAULT]";class JD{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new OD;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(tM(t))try{this.getOrInitializeService({instanceIdentifier:co})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=co){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=co){return this.instances.has(t)}getOptions(t=co){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&l.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ZD(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=co){return this.component?this.component.multipleInstances?t:co:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZD(n){return n===co?void 0:n}function tM(n){return n.instantiationMode==="EAGER"}class eM{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new JD(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Ht;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ht||(Ht={}));const nM={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},iM=Ht.INFO,sM={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},rM=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=sM[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class $y{constructor(t){this.name=t,this._logLevel=iM,this._logHandler=rM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?nM[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...t),this._logHandler(this,Ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...t),this._logHandler(this,Ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...t),this._logHandler(this,Ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...t),this._logHandler(this,Ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...t),this._logHandler(this,Ht.ERROR,...t)}}const aM=(n,t)=>t.some(e=>n instanceof e);let GE,YE;function oM(){return GE||(GE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lM(){return YE||(YE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yw=new WeakMap,ny=new WeakMap,_w=new WeakMap,Rp=new WeakMap,Xy=new WeakMap;function cM(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{e(la(n.result)),r()},l=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",l)});return t.then(e=>{e instanceof IDBCursor&&yw.set(e,n)}).catch(()=>{}),Xy.set(t,n),t}function uM(n){if(ny.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{e(),r()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});ny.set(n,t)}let iy={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return ny.get(n);if(t==="objectStoreNames")return n.objectStoreNames||_w.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return la(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function hM(n){iy=n(iy)}function fM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Cp(this),t,...e);return _w.set(i,t.sort?t.sort():[t]),la(i)}:lM().includes(n)?function(...t){return n.apply(Cp(this),t),la(yw.get(this))}:function(...t){return la(n.apply(Cp(this),t))}}function dM(n){return typeof n=="function"?fM(n):(n instanceof IDBTransaction&&uM(n),aM(n,oM())?new Proxy(n,iy):n)}function la(n){if(n instanceof IDBRequest)return cM(n);if(Rp.has(n))return Rp.get(n);const t=dM(n);return t!==n&&(Rp.set(n,t),Xy.set(t,n)),t}const Cp=n=>Xy.get(n);function mM(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const l=indexedDB.open(n,t),u=la(l);return i&&l.addEventListener("upgradeneeded",f=>{i(la(l.result),f.oldVersion,f.newVersion,la(l.transaction),f)}),e&&l.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const gM=["get","getKey","getAll","getAllKeys","count"],pM=["put","add","delete","clear"],Ip=new Map;function WE(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Ip.get(t))return Ip.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=pM.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||gM.includes(e)))return;const o=async function(l,...u){const f=this.transaction(l,r?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(u.shift())),(await Promise.all([d[e](...u),r&&f.done]))[0]};return Ip.set(t,o),o}hM(n=>({...n,get:(t,e,i)=>WE(t,e)||n.get(t,e,i),has:(t,e)=>!!WE(t,e)||n.has(t,e)}));class yM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(_M(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function _M(n){return n.getComponent()?.type==="VERSION"}const sy="@firebase/app",KE="0.14.6";const fr=new $y("@firebase/app"),vM="@firebase/app-compat",bM="@firebase/analytics-compat",EM="@firebase/analytics",TM="@firebase/app-check-compat",SM="@firebase/app-check",xM="@firebase/auth",wM="@firebase/auth-compat",AM="@firebase/database",RM="@firebase/data-connect",CM="@firebase/database-compat",IM="@firebase/functions",DM="@firebase/functions-compat",MM="@firebase/installations",OM="@firebase/installations-compat",NM="@firebase/messaging",kM="@firebase/messaging-compat",PM="@firebase/performance",LM="@firebase/performance-compat",VM="@firebase/remote-config",zM="@firebase/remote-config-compat",UM="@firebase/storage",jM="@firebase/storage-compat",BM="@firebase/firestore",FM="@firebase/ai",HM="@firebase/firestore-compat",qM="firebase",GM="12.6.0";const ry="[DEFAULT]",YM={[sy]:"fire-core",[vM]:"fire-core-compat",[EM]:"fire-analytics",[bM]:"fire-analytics-compat",[SM]:"fire-app-check",[TM]:"fire-app-check-compat",[xM]:"fire-auth",[wM]:"fire-auth-compat",[AM]:"fire-rtdb",[RM]:"fire-data-connect",[CM]:"fire-rtdb-compat",[IM]:"fire-fn",[DM]:"fire-fn-compat",[MM]:"fire-iid",[OM]:"fire-iid-compat",[NM]:"fire-fcm",[kM]:"fire-fcm-compat",[PM]:"fire-perf",[LM]:"fire-perf-compat",[VM]:"fire-rc",[zM]:"fire-rc-compat",[UM]:"fire-gcs",[jM]:"fire-gcs-compat",[BM]:"fire-fst",[HM]:"fire-fst-compat",[FM]:"fire-vertex","fire-js":"fire-js",[qM]:"fire-js-all"};const yd=new Map,WM=new Map,ay=new Map;function $E(n,t){try{n.container.addComponent(t)}catch(e){fr.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Nl(n){const t=n.name;if(ay.has(t))return fr.debug(`There were multiple attempts to register component ${t}.`),!1;ay.set(t,n);for(const e of yd.values())$E(e,n);for(const e of WM.values())$E(e,n);return!0}function Qy(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Ri(n){return n==null?!1:n.settings!==void 0}const KM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ca=new Qu("app","Firebase",KM);class $M{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new vo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ca.create("app-deleted",{appName:this._name})}}const Yl=GM;function vw(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:ry,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw ca.create("bad-app-name",{appName:String(r)});if(e||(e=dw()),!e)throw ca.create("no-options");const o=yd.get(r);if(o){if(_o(e,o.options)&&_o(i,o.config))return o;throw ca.create("duplicate-app",{appName:r})}const l=new eM(r);for(const f of ay.values())l.addComponent(f);const u=new $M(e,i,l);return yd.set(r,u),u}function bw(n=ry){const t=yd.get(n);if(!t&&n===ry&&dw())return vw();if(!t)throw ca.create("no-app",{appName:n});return t}function ua(n,t,e){let i=YM[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const l=[`Unable to register library "${i}" with version "${t}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),fr.warn(l.join(" "));return}Nl(new vo(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const XM="firebase-heartbeat-database",QM=1,Au="firebase-heartbeat-store";let Dp=null;function Ew(){return Dp||(Dp=mM(XM,QM,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Au)}catch(e){console.warn(e)}}}}).catch(n=>{throw ca.create("idb-open",{originalErrorMessage:n.message})})),Dp}async function JM(n){try{const e=(await Ew()).transaction(Au),i=await e.objectStore(Au).get(Tw(n));return await e.done,i}catch(t){if(t instanceof pr)fr.warn(t.message);else{const e=ca.create("idb-get",{originalErrorMessage:t?.message});fr.warn(e.message)}}}async function XE(n,t){try{const i=(await Ew()).transaction(Au,"readwrite");await i.objectStore(Au).put(t,Tw(n)),await i.done}catch(e){if(e instanceof pr)fr.warn(e.message);else{const i=ca.create("idb-set",{originalErrorMessage:e?.message});fr.warn(i.message)}}}function Tw(n){return`${n.name}!${n.options.appId}`}const ZM=1024,tO=30;class eO{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new iO(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=QE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>tO){const r=sO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){fr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=QE(),{heartbeatsToSend:e,unsentEntries:i}=nO(this._heartbeatsCache.heartbeats),r=pd(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return fr.warn(t),""}}}function QE(){return new Date().toISOString().substring(0,10)}function nO(n,t=ZM){const e=[];let i=n.slice();for(const r of n){const o=e.find(l=>l.agent===r.agent);if(o){if(o.dates.push(r.date),JE(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),JE(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class iO{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HD()?qD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await JM(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return XE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return XE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function JE(n){return pd(JSON.stringify({version:2,heartbeats:n})).length}function sO(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function rO(n){Nl(new vo("platform-logger",t=>new yM(t),"PRIVATE")),Nl(new vo("heartbeat",t=>new eO(t),"PRIVATE")),ua(sy,KE,n),ua(sy,KE,"esm2020"),ua("fire-js","")}rO("");function Sw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aO=Sw,xw=new Qu("auth","Firebase",Sw());const _d=new $y("@firebase/auth");function oO(n,...t){_d.logLevel<=Ht.WARN&&_d.warn(`Auth (${Yl}): ${n}`,...t)}function id(n,...t){_d.logLevel<=Ht.ERROR&&_d.error(`Auth (${Yl}): ${n}`,...t)}function $i(n,...t){throw Jy(n,...t)}function Ss(n,...t){return Jy(n,...t)}function ww(n,t,e){const i={...aO(),[t]:e};return new Qu("auth","Firebase",i).create(t,{appName:n.name})}function ur(n){return ww(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jy(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return xw.create(n,...t)}function At(n,t,...e){if(!n)throw Jy(t,...e)}function sr(n){const t="INTERNAL ASSERTION FAILED: "+n;throw id(t),new Error(t)}function dr(n,t){n||sr(t)}function oy(){return typeof self<"u"&&self.location?.href||""}function lO(){return ZE()==="http:"||ZE()==="https:"}function ZE(){return typeof self<"u"&&self.location?.protocol||null}function cO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lO()||UD()||"connection"in navigator)?navigator.onLine:!0}function uO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Zu{constructor(t,e){this.shortDelay=t,this.longDelay=e,dr(e>t,"Short delay should be less than long delay!"),this.isMobile=LD()||jD()}get(){return cO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zy(n,t){dr(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class Aw{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const fO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],dO=new Zu(3e4,6e4);function xa(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function wa(n,t,e,i,r={}){return Rw(n,r,async()=>{let o={},l={};i&&(t==="GET"?l=i:o={body:JSON.stringify(i)});const u=Ju({key:n.config.apiKey,...l}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:t,headers:f,...o};return zD()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Gl(n.emulatorConfig.host)&&(d.credentials="include"),Aw.fetch()(await Cw(n,n.config.apiHost,e,u),d)})}async function Rw(n,t,e){n._canInitEmulator=!1;const i={...hO,...t};try{const r=new gO(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Lf(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[f,d]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lf(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Lf(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw Lf(n,"user-disabled",l);const p=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw ww(n,p,d);$i(n,p)}}catch(r){if(r instanceof pr)throw r;$i(n,"network-request-failed",{message:String(r)})}}async function th(n,t,e,i,r={}){const o=await wa(n,t,e,i,r);return"mfaPendingCredential"in o&&$i(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function Cw(n,t,e,i){const r=`${t}${e}?${i}`,o=n,l=o.config.emulator?Zy(n.config,r):`${n.config.apiScheme}://${r}`;return fO.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function mO(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Ss(this.auth,"network-request-failed")),dO.get())})}}function Lf(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=Ss(n,t,i);return r.customData._tokenResponse=e,r}function tT(n){return n!==void 0&&n.enterprise!==void 0}class pO{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return mO(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yO(n,t){return wa(n,"GET","/v2/recaptchaConfig",xa(n,t))}async function _O(n,t){return wa(n,"POST","/v1/accounts:delete",t)}async function vd(n,t){return wa(n,"POST","/v1/accounts:lookup",t)}function pu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function vO(n,t=!1){const e=tn(n),i=await e.getIdToken(t),r=t_(i);At(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,l=o?.sign_in_provider;return{claims:r,token:i,authTime:pu(Mp(r.auth_time)),issuedAtTime:pu(Mp(r.iat)),expirationTime:pu(Mp(r.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Mp(n){return Number(n)*1e3}function t_(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return id("JWT malformed, contained fewer than 3 sections"),null;try{const r=hw(e);return r?JSON.parse(r):(id("Failed to decode base64 JWT payload"),null)}catch(r){return id("Caught error parsing JWT payload as JSON",r?.toString()),null}}function eT(n){const t=t_(n);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ru(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof pr&&bO(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function bO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class EO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ly{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=pu(this.lastLoginAt),this.creationTime=pu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function bd(n){const t=n.auth,e=await n.getIdToken(),i=await Ru(n,vd(t,{idToken:e}));At(i?.users.length,t,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?Iw(r.providerUserInfo):[],l=SO(n.providerData,o),u=n.isAnonymous,f=!(n.email&&r.passwordHash)&&!l?.length,d=u?f:!1,p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new ly(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(n,p)}async function TO(n){const t=tn(n);await bd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function SO(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function Iw(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function xO(n,t){const e=await Rw(n,{},async()=>{const i=Ju({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,l=await Cw(n,r,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:i};return n.emulatorConfig&&Gl(n.emulatorConfig.host)&&(f.credentials="include"),Aw.fetch()(l,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function wO(n,t){return wa(n,"POST","/v2/accounts:revokeToken",xa(n,t))}class Rl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):eT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){At(t.length!==0,"internal-error");const e=eT(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await xO(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,l=new Rl;return i&&(At(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),r&&(At(typeof r=="string","internal-error",{appName:t}),l.accessToken=r),o&&(At(typeof o=="number","internal-error",{appName:t}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Rl,this.toJSON())}_performRefresh(){return sr("not implemented")}}function Qr(n,t){At(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Gi{constructor({uid:t,auth:e,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new EO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new ly(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await Ru(this,this.stsTokenManager.getToken(this.auth,t));return At(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return vO(this,t)}reload(){return TO(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Gi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await bd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ri(this.auth.app))return Promise.reject(ur(this.auth));const t=await this.getIdToken();return await Ru(this,_O(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,r=e.email??void 0,o=e.phoneNumber??void 0,l=e.photoURL??void 0,u=e.tenantId??void 0,f=e._redirectEventId??void 0,d=e.createdAt??void 0,p=e.lastLoginAt??void 0,{uid:y,emailVerified:v,isAnonymous:T,providerData:x,stsTokenManager:w}=e;At(y&&w,t,"internal-error");const A=Rl.fromJSON(this.name,w);At(typeof y=="string",t,"internal-error"),Qr(i,t.name),Qr(r,t.name),At(typeof v=="boolean",t,"internal-error"),At(typeof T=="boolean",t,"internal-error"),Qr(o,t.name),Qr(l,t.name),Qr(u,t.name),Qr(f,t.name),Qr(d,t.name),Qr(p,t.name);const D=new Gi({uid:y,auth:t,email:r,emailVerified:v,displayName:i,isAnonymous:T,photoURL:l,phoneNumber:o,tenantId:u,stsTokenManager:A,createdAt:d,lastLoginAt:p});return x&&Array.isArray(x)&&(D.providerData=x.map(z=>({...z}))),f&&(D._redirectEventId=f),D}static async _fromIdTokenResponse(t,e,i=!1){const r=new Rl;r.updateFromServerResponse(e);const o=new Gi({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await bd(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];At(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?Iw(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!o?.length,u=new Rl;u.updateFromIdToken(i);const f=new Gi({uid:r.localId,auth:t,stsTokenManager:u,isAnonymous:l}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new ly(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(f,d),f}}const nT=new Map;function rr(n){dr(n instanceof Function,"Expected a class definition");let t=nT.get(n);return t?(dr(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,nT.set(n,t),t)}class Dw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Dw.type="NONE";const iT=Dw;function sd(n,t,e){return`firebase:${n}:${t}:${e}`}class Cl{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=sd(this.userKey,r.apiKey,o),this.fullPersistenceKey=sd("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await vd(this.auth,{idToken:t}).catch(()=>{});return e?Gi._fromGetAccountInfoResponse(this.auth,e,t):null}return Gi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Cl(rr(iT),t,i);const r=(await Promise.all(e.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=r[0]||rr(iT);const l=sd(i,t.config.apiKey,t.name);let u=null;for(const d of e)try{const p=await d._get(l);if(p){let y;if(typeof p=="string"){const v=await vd(t,{idToken:p}).catch(()=>{});if(!v)break;y=await Gi._fromGetAccountInfoResponse(t,v,p)}else y=Gi._fromJSON(t,p);d!==o&&(u=y),o=d;break}}catch{}const f=r.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Cl(o,t,i):(o=f[0],u&&await o._set(l,u.toJSON()),await Promise.all(e.map(async d=>{if(d!==o)try{await d._remove(l)}catch{}})),new Cl(o,t,i))}}function sT(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(kw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Mw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Lw(t))return"Blackberry";if(Vw(t))return"Webos";if(Ow(t))return"Safari";if((t.includes("chrome/")||Nw(t))&&!t.includes("edge/"))return"Chrome";if(Pw(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function Mw(n=In()){return/firefox\//i.test(n)}function Ow(n=In()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Nw(n=In()){return/crios\//i.test(n)}function kw(n=In()){return/iemobile/i.test(n)}function Pw(n=In()){return/android/i.test(n)}function Lw(n=In()){return/blackberry/i.test(n)}function Vw(n=In()){return/webos/i.test(n)}function e_(n=In()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function AO(n=In()){return e_(n)&&!!window.navigator?.standalone}function RO(){return BD()&&document.documentMode===10}function zw(n=In()){return e_(n)||Pw(n)||Vw(n)||Lw(n)||/windows phone/i.test(n)||kw(n)}function Uw(n,t=[]){let e;switch(n){case"Browser":e=sT(In());break;case"Worker":e=`${sT(In())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Yl}/${i}`}class CO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((l,u)=>{try{const f=t(o);l(f)}catch(f){u(f)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function IO(n,t={}){return wa(n,"GET","/v2/passwordPolicy",xa(n,t))}const DO=6;class MO{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??DO,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class OO{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rT(this),this.idTokenSubscription=new rT(this),this.beforeStateQueue=new CO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=rr(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Cl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await vd(this,{idToken:t}),i=await Gi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ri(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=i?._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===l)&&u?.user&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await bd(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=uO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ri(this.app))return Promise.reject(ur(this));const e=t?tn(t):null;return e&&At(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ri(this.app)?Promise.reject(ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ri(this.app)?Promise.reject(ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await IO(this),e=new MO(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Qu("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await wO(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&rr(t)||this._popupRedirectResolver;At(e,this,"argument-error"),this.redirectPersistenceManager=await Cl.create(this,[rr(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,r);return()=>{l=!0,f()}}else{const f=t.addObserver(e);return()=>{l=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Uw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(Ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&oO(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ro(n){return tn(n)}class rT{constructor(t){this.auth=t,this.observer=null,this.addObserver=$D(e=>this.observer=e)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Gd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NO(n){Gd=n}function jw(n){return Gd.loadJS(n)}function kO(){return Gd.recaptchaEnterpriseScript}function PO(){return Gd.gapiScript}function LO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class VO{constructor(){this.enterprise=new zO}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class zO{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const UO="recaptcha-enterprise",Bw="NO_RECAPTCHA";class jO{constructor(t){this.type=UO,this.auth=Ro(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{yO(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new pO(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,l(d.siteKey)}}).catch(f=>{u(f)})})}function r(o,l,u){const f=window.grecaptcha;tT(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(d=>{l(d)}).catch(()=>{l(Bw)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new VO().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{i(this.auth).then(u=>{if(!e&&tT(window.grecaptcha))r(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=kO();f.length!==0&&(f+=u),jw(f).then(()=>{r(u,o,l)}).catch(d=>{l(d)})}}).catch(u=>{l(u)})})}}async function aT(n,t,e,i=!1,r=!1){const o=new jO(n);let l;if(r)l=Bw;else try{l=await o.verify(e)}catch{l=await o.verify(e,!0)}const u={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function cy(n,t,e,i,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await aT(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await aT(n,t,e,e==="getOobCode");return i(n,l)}else return Promise.reject(o)})}function BO(n,t){const e=Qy(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(_o(o,t??{}))return r;$i(r,"already-initialized")}return e.initialize({options:t})}function FO(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(rr);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function HO(n,t,e){const i=Ro(n);At(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=Fw(t),{host:l,port:u}=qO(t),f=u===null?"":`:${u}`,d={url:`${o}//${l}${f}/`},p=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){At(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),At(_o(d,i.config.emulator)&&_o(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,Gl(l)?(gw(`${o}//${l}${f}`),pw("Auth",!0)):GO()}function Fw(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function qO(n){const t=Fw(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:oT(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:oT(l)}}}function oT(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function GO(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class n_{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return sr("not implemented")}_getIdTokenResponse(t){return sr("not implemented")}_linkToIdToken(t,e){return sr("not implemented")}_getReauthenticationResolver(t){return sr("not implemented")}}async function YO(n,t){return wa(n,"POST","/v1/accounts:signUp",t)}async function WO(n,t){return th(n,"POST","/v1/accounts:signInWithPassword",xa(n,t))}async function KO(n,t){return th(n,"POST","/v1/accounts:signInWithEmailLink",xa(n,t))}async function $O(n,t){return th(n,"POST","/v1/accounts:signInWithEmailLink",xa(n,t))}class Cu extends n_{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Cu(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Cu(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cy(t,e,"signInWithPassword",WO);case"emailLink":return KO(t,{email:this._email,oobCode:this._password});default:$i(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cy(t,i,"signUpPassword",YO);case"emailLink":return $O(t,{idToken:e,email:this._email,oobCode:this._password});default:$i(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Il(n,t){return th(n,"POST","/v1/accounts:signInWithIdp",xa(n,t))}const XO="http://localhost";class bo extends n_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new bo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):$i("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...o}=e;if(!i||!r)return null;const l=new bo(i,r);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(t){const e=this.buildRequest();return Il(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Il(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Il(t,e)}buildRequest(){const t={requestUri:XO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Ju(e)}return t}}function QO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JO(n){const t=ru(au(n)).link,e=t?ru(au(t)).deep_link_id:null,i=ru(au(n)).deep_link_id;return(i?ru(au(i)).link:null)||i||e||t||n}class i_{constructor(t){const e=ru(au(t)),i=e.apiKey??null,r=e.oobCode??null,o=QO(e.mode??null);At(i&&r&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=r,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=JO(t);try{return new i_(e)}catch{return null}}}class Wl{constructor(){this.providerId=Wl.PROVIDER_ID}static credential(t,e){return Cu._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=i_.parseLink(e);return At(i,"argument-error"),Cu._fromEmailAndCode(t,i.code,i.tenantId)}}Wl.PROVIDER_ID="password";Wl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Hw{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class eh extends Hw{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Zr extends eh{constructor(){super("facebook.com")}static credential(t){return bo._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zr.credentialFromTaggedObject(t)}static credentialFromError(t){return Zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zr.credential(t.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";class ta extends eh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return bo._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return ta.credentialFromTaggedObject(t)}static credentialFromError(t){return ta.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return ta.credential(e,i)}catch{return null}}}ta.GOOGLE_SIGN_IN_METHOD="google.com";ta.PROVIDER_ID="google.com";class ea extends eh{constructor(){super("github.com")}static credential(t){return bo._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ea.credentialFromTaggedObject(t)}static credentialFromError(t){return ea.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ea.credential(t.oauthAccessToken)}catch{return null}}}ea.GITHUB_SIGN_IN_METHOD="github.com";ea.PROVIDER_ID="github.com";class na extends eh{constructor(){super("twitter.com")}static credential(t,e){return bo._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return na.credentialFromTaggedObject(t)}static credentialFromError(t){return na.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return na.credential(e,i)}catch{return null}}}na.TWITTER_SIGN_IN_METHOD="twitter.com";na.PROVIDER_ID="twitter.com";async function ZO(n,t){return th(n,"POST","/v1/accounts:signUp",xa(n,t))}class Eo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await Gi._fromIdTokenResponse(t,i,r),l=lT(i);return new Eo({user:o,providerId:l,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=lT(i);return new Eo({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function lT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Ed extends pr{constructor(t,e,i,r){super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Ed.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new Ed(t,e,i,r)}}function qw(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ed._fromErrorAndOperation(n,o,t,i):o})}async function tN(n,t,e=!1){const i=await Ru(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Eo._forOperation(n,"link",i)}async function eN(n,t,e=!1){const{auth:i}=n;if(Ri(i.app))return Promise.reject(ur(i));const r="reauthenticate";try{const o=await Ru(n,qw(i,r,t,n),e);At(o.idToken,i,"internal-error");const l=t_(o.idToken);At(l,i,"internal-error");const{sub:u}=l;return At(n.uid===u,i,"user-mismatch"),Eo._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&$i(i,"user-mismatch"),o}}async function Gw(n,t,e=!1){if(Ri(n.app))return Promise.reject(ur(n));const i="signIn",r=await qw(n,i,t),o=await Eo._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function nN(n,t){return Gw(Ro(n),t)}async function Yw(n){const t=Ro(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function iN(n,t,e){if(Ri(n.app))return Promise.reject(ur(n));const i=Ro(n),l=await cy(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ZO).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Yw(n),f}),u=await Eo._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(u.user),u}function cT(n,t,e){return Ri(n.app)?Promise.reject(ur(n)):nN(tn(n),Wl.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Yw(n),i})}function sN(n,t,e,i){return tn(n).onIdTokenChanged(t,e,i)}function rN(n,t,e){return tn(n).beforeAuthStateChanged(t,e)}const Td="__sak";class Ww{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Td,"1"),this.storage.removeItem(Td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const aN=1e3,oN=10;class Kw extends Ww{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!e&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);RO()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,oN):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},aN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Kw.type="LOCAL";const lN=Kw;class $w extends Ww{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}$w.type="SESSION";const Xw=$w;function cN(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class Yd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new Yd(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,l=this.handlersMap[r];if(!l?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(l).map(async d=>d(e.origin,o)),f=await cN(u);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yd.receivers=[];function s_(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}class uN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,l;return new Promise((u,f)=>{const d=s_("",20);r.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(y){const v=y;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(v.data.response);break;default:clearTimeout(p),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:d,data:e},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function xs(){return window}function hN(n){xs().location.href=n}function Qw(){return typeof xs().WorkerGlobalScope<"u"&&typeof xs().importScripts=="function"}async function fN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dN(){return navigator?.serviceWorker?.controller||null}function mN(){return Qw()?self:null}const Jw="firebaseLocalStorageDb",gN=1,Sd="firebaseLocalStorage",Zw="fbase_key";class nh{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Wd(n,t){return n.transaction([Sd],t?"readwrite":"readonly").objectStore(Sd)}function pN(){const n=indexedDB.deleteDatabase(Jw);return new nh(n).toPromise()}function uy(){const n=indexedDB.open(Jw,gN);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Sd,{keyPath:Zw})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Sd)?t(i):(i.close(),await pN(),t(await uy()))})})}async function uT(n,t,e){const i=Wd(n,!0).put({[Zw]:t,value:e});return new nh(i).toPromise()}async function yN(n,t){const e=Wd(n,!1).get(t),i=await new nh(e).toPromise();return i===void 0?null:i.value}function hT(n,t){const e=Wd(n,!0).delete(t);return new nh(e).toPromise()}const _N=800,vN=3;class t1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uy(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>vN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Qw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yd._getInstance(mN()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await fN(),!this.activeServiceWorker)return;this.sender=new uN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||dN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await uy();return await uT(t,Td,"1"),await hT(t,Td),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>uT(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>yN(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>hT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=Wd(r,!1).getAll();return new nh(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_N)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}t1.type="LOCAL";const bN=t1;new Zu(3e4,6e4);function EN(n,t){return t?rr(t):(At(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class r_ extends n_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Il(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Il(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Il(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function TN(n){return Gw(n.auth,new r_(n),n.bypassAuthState)}function SN(n){const{auth:t,user:e}=n;return At(e,t,"internal-error"),eN(e,new r_(n),n.bypassAuthState)}async function xN(n){const{auth:t,user:e}=n;return At(e,t,"internal-error"),tN(e,new r_(n),n.bypassAuthState)}class e1{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:l,type:u}=t;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return TN;case"linkViaPopup":case"linkViaRedirect":return xN;case"reauthViaPopup":case"reauthViaRedirect":return SN;default:$i(this.auth,"internal-error")}}resolve(t){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wN=new Zu(2e3,1e4);class Al extends e1{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Al.currentPopupAction&&Al.currentPopupAction.cancel(),Al.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){dr(this.filter.length===1,"Popup operations only handle one event");const t=s_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ss(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ss(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Al.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ss(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,wN.get())};t()}}Al.currentPopupAction=null;const AN="pendingRedirect",rd=new Map;class RN extends e1{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=rd.get(this.auth._key());if(!t){try{const i=await CN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}rd.set(this.auth._key(),t)}return this.bypassAuthState||rd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CN(n,t){const e=MN(t),i=DN(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function IN(n,t){rd.set(n._key(),t)}function DN(n){return rr(n._redirectPersistence)}function MN(n){return sd(AN,n.config.apiKey,n.name)}async function ON(n,t,e=!1){if(Ri(n.app))return Promise.reject(ur(n));const i=Ro(n),r=EN(i,t),l=await new RN(i,r,e).execute();return l&&!e&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}const NN=600*1e3;class kN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!PN(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!n1(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Ss(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=NN&&this.cachedEventUids.clear(),this.cachedEventUids.has(fT(t))}saveEventToCache(t){this.cachedEventUids.add(fT(t)),this.lastProcessedEventTime=Date.now()}}function fT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function n1({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function PN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return n1(n);default:return!1}}async function LN(n,t={}){return wa(n,"GET","/v1/projects",t)}const VN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zN=/^https?/;async function UN(n){if(n.config.emulator)return;const{authorizedDomains:t}=await LN(n);for(const e of t)try{if(jN(e))return}catch{}$i(n,"unauthorized-domain")}function jN(n){const t=oy(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&l.hostname===i}if(!zN.test(e))return!1;if(VN.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const BN=new Zu(3e4,6e4);function dT(){const n=xs().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function FN(n){return new Promise((t,e)=>{function i(){dT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{dT(),e(Ss(n,"network-request-failed"))},timeout:BN.get()})}if(xs().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(xs().gapi?.load)i();else{const r=LO("iframefcb");return xs()[r]=()=>{gapi.load?i():e(Ss(n,"network-request-failed"))},jw(`${PO()}?onload=${r}`).catch(o=>e(o))}}).catch(t=>{throw ad=null,t})}let ad=null;function HN(n){return ad=ad||FN(n),ad}const qN=new Zu(5e3,15e3),GN="__/auth/iframe",YN="emulator/auth/iframe",WN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $N(n){const t=n.config;At(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Zy(t,YN):`https://${n.config.authDomain}/${GN}`,i={apiKey:t.apiKey,appName:n.name,v:Yl},r=KN.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${Ju(i).slice(1)}`}async function XN(n){const t=await HN(n),e=xs().gapi;return At(e,n,"internal-error"),t.open({where:document.body,url:$N(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WN,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const l=Ss(n,"network-request-failed"),u=xs().setTimeout(()=>{o(l)},qN.get());function f(){xs().clearTimeout(u),r(i)}i.ping(f).then(f,()=>{o(l)})}))}const QN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JN=500,ZN=600,tk="_blank",ek="http://localhost";class mT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nk(n,t,e,i=JN,r=ZN){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const f={...QN,width:i.toString(),height:r.toString(),top:o,left:l},d=In().toLowerCase();e&&(u=Nw(d)?tk:e),Mw(d)&&(t=t||ek,f.scrollbars="yes");const p=Object.entries(f).reduce((v,[T,x])=>`${v}${T}=${x},`,"");if(AO(d)&&u!=="_self")return ik(t||"",u),new mT(null);const y=window.open(t||"",u,p);At(y,n,"popup-blocked");try{y.focus()}catch{}return new mT(y)}function ik(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}const sk="__/auth/handler",rk="emulator/auth/handler",ak=encodeURIComponent("fac");async function gT(n,t,e,i,r,o){At(n.config.authDomain,n,"auth-domain-config-required"),At(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Yl,eventId:r};if(t instanceof Hw){t.setDefaultLanguage(n.languageCode),l.providerId=t.providerId||"",KD(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,y]of Object.entries({}))l[p]=y}if(t instanceof eh){const p=t.getScopes().filter(y=>y!=="");p.length>0&&(l.scopes=p.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const f=await n._getAppCheckToken(),d=f?`#${ak}=${encodeURIComponent(f)}`:"";return`${ok(n)}?${Ju(u).slice(1)}${d}`}function ok({config:n}){return n.emulator?Zy(n,rk):`https://${n.authDomain}/${sk}`}const Op="webStorageSupport";class lk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xw,this._completeRedirectFn=ON,this._overrideRedirectResult=IN}async _openPopup(t,e,i,r){dr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await gT(t,e,i,oy(),r);return nk(t,o,s_())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await gT(t,e,i,oy(),r);return hN(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(dr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await XN(t),i=new kN(t);return e.register("authEvent",r=>(At(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Op,{type:Op},r=>{const o=r?.[0]?.[Op];o!==void 0&&e(!!o),$i(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=UN(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return zw()||Ow()||e_()}}const ck=lk;var pT="@firebase/auth",yT="1.11.1";class uk{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function hk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fk(n){Nl(new vo("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;At(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Uw(n)},d=new OO(i,r,o,f);return FO(d,e),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Nl(new vo("auth-internal",t=>{const e=Ro(t.getProvider("auth").getImmediate());return(i=>new uk(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),ua(pT,yT,hk(n)),ua(pT,yT,"esm2020")}const dk=300,mk=mw("authIdTokenMaxAge")||dk;let _T=null;const gk=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>mk)return;const r=e?.token;_T!==r&&(_T=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function pk(n=bw()){const t=Qy(n,"auth");if(t.isInitialized())return t.getImmediate();const e=BO(n,{popupRedirectResolver:ck,persistence:[bN,lN,Xw]}),i=mw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=gk(o.toString());rN(e,l,()=>l(e.currentUser)),sN(e,u=>l(u))}}const r=fw("auth");return r&&HO(e,`http://${r}`),e}function yk(){return document.getElementsByTagName("head")?.[0]??document}NO({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=Ss("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",yk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fk("Browser");var _k="firebase",vk="12.6.0";ua(_k,vk,"app");var vT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ha,i1;(function(){var n;function t(I,C){function N(){}N.prototype=C.prototype,I.F=C.prototype,I.prototype=new N,I.prototype.constructor=I,I.D=function(V,k,L){for(var P=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)P[Et-2]=arguments[Et];return C.prototype[k].apply(V,P)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(I,C,N){N||(N=0);const V=Array(16);if(typeof C=="string")for(var k=0;k<16;++k)V[k]=C.charCodeAt(N++)|C.charCodeAt(N++)<<8|C.charCodeAt(N++)<<16|C.charCodeAt(N++)<<24;else for(k=0;k<16;++k)V[k]=C[N++]|C[N++]<<8|C[N++]<<16|C[N++]<<24;C=I.g[0],N=I.g[1],k=I.g[2];let L=I.g[3],P;P=C+(L^N&(k^L))+V[0]+3614090360&4294967295,C=N+(P<<7&4294967295|P>>>25),P=L+(k^C&(N^k))+V[1]+3905402710&4294967295,L=C+(P<<12&4294967295|P>>>20),P=k+(N^L&(C^N))+V[2]+606105819&4294967295,k=L+(P<<17&4294967295|P>>>15),P=N+(C^k&(L^C))+V[3]+3250441966&4294967295,N=k+(P<<22&4294967295|P>>>10),P=C+(L^N&(k^L))+V[4]+4118548399&4294967295,C=N+(P<<7&4294967295|P>>>25),P=L+(k^C&(N^k))+V[5]+1200080426&4294967295,L=C+(P<<12&4294967295|P>>>20),P=k+(N^L&(C^N))+V[6]+2821735955&4294967295,k=L+(P<<17&4294967295|P>>>15),P=N+(C^k&(L^C))+V[7]+4249261313&4294967295,N=k+(P<<22&4294967295|P>>>10),P=C+(L^N&(k^L))+V[8]+1770035416&4294967295,C=N+(P<<7&4294967295|P>>>25),P=L+(k^C&(N^k))+V[9]+2336552879&4294967295,L=C+(P<<12&4294967295|P>>>20),P=k+(N^L&(C^N))+V[10]+4294925233&4294967295,k=L+(P<<17&4294967295|P>>>15),P=N+(C^k&(L^C))+V[11]+2304563134&4294967295,N=k+(P<<22&4294967295|P>>>10),P=C+(L^N&(k^L))+V[12]+1804603682&4294967295,C=N+(P<<7&4294967295|P>>>25),P=L+(k^C&(N^k))+V[13]+4254626195&4294967295,L=C+(P<<12&4294967295|P>>>20),P=k+(N^L&(C^N))+V[14]+2792965006&4294967295,k=L+(P<<17&4294967295|P>>>15),P=N+(C^k&(L^C))+V[15]+1236535329&4294967295,N=k+(P<<22&4294967295|P>>>10),P=C+(k^L&(N^k))+V[1]+4129170786&4294967295,C=N+(P<<5&4294967295|P>>>27),P=L+(N^k&(C^N))+V[6]+3225465664&4294967295,L=C+(P<<9&4294967295|P>>>23),P=k+(C^N&(L^C))+V[11]+643717713&4294967295,k=L+(P<<14&4294967295|P>>>18),P=N+(L^C&(k^L))+V[0]+3921069994&4294967295,N=k+(P<<20&4294967295|P>>>12),P=C+(k^L&(N^k))+V[5]+3593408605&4294967295,C=N+(P<<5&4294967295|P>>>27),P=L+(N^k&(C^N))+V[10]+38016083&4294967295,L=C+(P<<9&4294967295|P>>>23),P=k+(C^N&(L^C))+V[15]+3634488961&4294967295,k=L+(P<<14&4294967295|P>>>18),P=N+(L^C&(k^L))+V[4]+3889429448&4294967295,N=k+(P<<20&4294967295|P>>>12),P=C+(k^L&(N^k))+V[9]+568446438&4294967295,C=N+(P<<5&4294967295|P>>>27),P=L+(N^k&(C^N))+V[14]+3275163606&4294967295,L=C+(P<<9&4294967295|P>>>23),P=k+(C^N&(L^C))+V[3]+4107603335&4294967295,k=L+(P<<14&4294967295|P>>>18),P=N+(L^C&(k^L))+V[8]+1163531501&4294967295,N=k+(P<<20&4294967295|P>>>12),P=C+(k^L&(N^k))+V[13]+2850285829&4294967295,C=N+(P<<5&4294967295|P>>>27),P=L+(N^k&(C^N))+V[2]+4243563512&4294967295,L=C+(P<<9&4294967295|P>>>23),P=k+(C^N&(L^C))+V[7]+1735328473&4294967295,k=L+(P<<14&4294967295|P>>>18),P=N+(L^C&(k^L))+V[12]+2368359562&4294967295,N=k+(P<<20&4294967295|P>>>12),P=C+(N^k^L)+V[5]+4294588738&4294967295,C=N+(P<<4&4294967295|P>>>28),P=L+(C^N^k)+V[8]+2272392833&4294967295,L=C+(P<<11&4294967295|P>>>21),P=k+(L^C^N)+V[11]+1839030562&4294967295,k=L+(P<<16&4294967295|P>>>16),P=N+(k^L^C)+V[14]+4259657740&4294967295,N=k+(P<<23&4294967295|P>>>9),P=C+(N^k^L)+V[1]+2763975236&4294967295,C=N+(P<<4&4294967295|P>>>28),P=L+(C^N^k)+V[4]+1272893353&4294967295,L=C+(P<<11&4294967295|P>>>21),P=k+(L^C^N)+V[7]+4139469664&4294967295,k=L+(P<<16&4294967295|P>>>16),P=N+(k^L^C)+V[10]+3200236656&4294967295,N=k+(P<<23&4294967295|P>>>9),P=C+(N^k^L)+V[13]+681279174&4294967295,C=N+(P<<4&4294967295|P>>>28),P=L+(C^N^k)+V[0]+3936430074&4294967295,L=C+(P<<11&4294967295|P>>>21),P=k+(L^C^N)+V[3]+3572445317&4294967295,k=L+(P<<16&4294967295|P>>>16),P=N+(k^L^C)+V[6]+76029189&4294967295,N=k+(P<<23&4294967295|P>>>9),P=C+(N^k^L)+V[9]+3654602809&4294967295,C=N+(P<<4&4294967295|P>>>28),P=L+(C^N^k)+V[12]+3873151461&4294967295,L=C+(P<<11&4294967295|P>>>21),P=k+(L^C^N)+V[15]+530742520&4294967295,k=L+(P<<16&4294967295|P>>>16),P=N+(k^L^C)+V[2]+3299628645&4294967295,N=k+(P<<23&4294967295|P>>>9),P=C+(k^(N|~L))+V[0]+4096336452&4294967295,C=N+(P<<6&4294967295|P>>>26),P=L+(N^(C|~k))+V[7]+1126891415&4294967295,L=C+(P<<10&4294967295|P>>>22),P=k+(C^(L|~N))+V[14]+2878612391&4294967295,k=L+(P<<15&4294967295|P>>>17),P=N+(L^(k|~C))+V[5]+4237533241&4294967295,N=k+(P<<21&4294967295|P>>>11),P=C+(k^(N|~L))+V[12]+1700485571&4294967295,C=N+(P<<6&4294967295|P>>>26),P=L+(N^(C|~k))+V[3]+2399980690&4294967295,L=C+(P<<10&4294967295|P>>>22),P=k+(C^(L|~N))+V[10]+4293915773&4294967295,k=L+(P<<15&4294967295|P>>>17),P=N+(L^(k|~C))+V[1]+2240044497&4294967295,N=k+(P<<21&4294967295|P>>>11),P=C+(k^(N|~L))+V[8]+1873313359&4294967295,C=N+(P<<6&4294967295|P>>>26),P=L+(N^(C|~k))+V[15]+4264355552&4294967295,L=C+(P<<10&4294967295|P>>>22),P=k+(C^(L|~N))+V[6]+2734768916&4294967295,k=L+(P<<15&4294967295|P>>>17),P=N+(L^(k|~C))+V[13]+1309151649&4294967295,N=k+(P<<21&4294967295|P>>>11),P=C+(k^(N|~L))+V[4]+4149444226&4294967295,C=N+(P<<6&4294967295|P>>>26),P=L+(N^(C|~k))+V[11]+3174756917&4294967295,L=C+(P<<10&4294967295|P>>>22),P=k+(C^(L|~N))+V[2]+718787259&4294967295,k=L+(P<<15&4294967295|P>>>17),P=N+(L^(k|~C))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+L&4294967295}i.prototype.v=function(I,C){C===void 0&&(C=I.length);const N=C-this.blockSize,V=this.C;let k=this.h,L=0;for(;L<C;){if(k==0)for(;L<=N;)r(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<C;)if(V[k++]=I.charCodeAt(L++),k==this.blockSize){r(this,V),k=0;break}}else for(;L<C;)if(V[k++]=I[L++],k==this.blockSize){r(this,V),k=0;break}}this.h=k,this.o+=C},i.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;C=this.o*8;for(var N=I.length-8;N<I.length;++N)I[N]=C&255,C/=256;for(this.v(I),I=Array(16),C=0,N=0;N<4;++N)for(let V=0;V<32;V+=8)I[C++]=this.g[N]>>>V&255;return I};function o(I,C){var N=u;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=C(I)}function l(I,C){this.h=C;const N=[];let V=!0;for(let k=I.length-1;k>=0;k--){const L=I[k]|0;V&&L==C||(N[k]=L,V=!1)}this.g=N}var u={};function f(I){return-128<=I&&I<128?o(I,function(C){return new l([C|0],C<0?-1:0)}):new l([I|0],I<0?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return y;if(I<0)return A(d(-I));const C=[];let N=1;for(let V=0;I>=N;V++)C[V]=I/N|0,N*=4294967296;return new l(C,0)}function p(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return A(p(I.substring(1),C));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=d(Math.pow(C,8));let V=y;for(let L=0;L<I.length;L+=8){var k=Math.min(8,I.length-L);const P=parseInt(I.substring(L,L+k),C);k<8?(k=d(Math.pow(C,k)),V=V.j(k).add(d(P))):(V=V.j(N),V=V.add(d(P)))}return V}var y=f(0),v=f(1),T=f(16777216);n=l.prototype,n.m=function(){if(w(this))return-A(this).m();let I=0,C=1;for(let N=0;N<this.g.length;N++){const V=this.i(N);I+=(V>=0?V:4294967296+V)*C,C*=4294967296}return I},n.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(x(this))return"0";if(w(this))return"-"+A(this).toString(I);const C=d(Math.pow(I,6));var N=this;let V="";for(;;){const k=q(N,C).g;N=D(N,k.j(C));let L=((N.g.length>0?N.g[0]:N.h)>>>0).toString(I);if(N=k,x(N))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},n.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function x(I){if(I.h!=0)return!1;for(let C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function w(I){return I.h==-1}n.l=function(I){return I=D(this,I),w(I)?-1:x(I)?0:1};function A(I){const C=I.g.length,N=[];for(let V=0;V<C;V++)N[V]=~I.g[V];return new l(N,~I.h).add(v)}n.abs=function(){return w(this)?A(this):this},n.add=function(I){const C=Math.max(this.g.length,I.g.length),N=[];let V=0;for(let k=0;k<=C;k++){let L=V+(this.i(k)&65535)+(I.i(k)&65535),P=(L>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);V=P>>>16,L&=65535,P&=65535,N[k]=P<<16|L}return new l(N,N[N.length-1]&-2147483648?-1:0)};function D(I,C){return I.add(A(C))}n.j=function(I){if(x(this)||x(I))return y;if(w(this))return w(I)?A(this).j(A(I)):A(A(this).j(I));if(w(I))return A(this.j(A(I)));if(this.l(T)<0&&I.l(T)<0)return d(this.m()*I.m());const C=this.g.length+I.g.length,N=[];for(var V=0;V<2*C;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(let k=0;k<I.g.length;k++){const L=this.i(V)>>>16,P=this.i(V)&65535,Et=I.i(k)>>>16,yt=I.i(k)&65535;N[2*V+2*k]+=P*yt,z(N,2*V+2*k),N[2*V+2*k+1]+=L*yt,z(N,2*V+2*k+1),N[2*V+2*k+1]+=P*Et,z(N,2*V+2*k+1),N[2*V+2*k+2]+=L*Et,z(N,2*V+2*k+2)}for(I=0;I<C;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=C;I<2*C;I++)N[I]=0;return new l(N,0)};function z(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function B(I,C){this.g=I,this.h=C}function q(I,C){if(x(C))throw Error("division by zero");if(x(I))return new B(y,y);if(w(I))return C=q(A(I),C),new B(A(C.g),A(C.h));if(w(C))return C=q(I,A(C)),new B(A(C.g),C.h);if(I.g.length>30){if(w(I)||w(C))throw Error("slowDivide_ only works with positive integers.");for(var N=v,V=C;V.l(I)<=0;)N=H(N),V=H(V);var k=K(N,1),L=K(V,1);for(V=K(V,2),N=K(N,2);!x(V);){var P=L.add(V);P.l(I)<=0&&(k=k.add(N),L=P),V=K(V,1),N=K(N,1)}return C=D(I,k.j(C)),new B(k,C)}for(k=y;I.l(C)>=0;){for(N=Math.max(1,Math.floor(I.m()/C.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=d(N),P=L.j(C);w(P)||P.l(I)>0;)N-=V,L=d(N),P=L.j(C);x(L)&&(L=v),k=k.add(L),I=D(I,P)}return new B(k,I)}n.B=function(I){return q(this,I).h},n.and=function(I){const C=Math.max(this.g.length,I.g.length),N=[];for(let V=0;V<C;V++)N[V]=this.i(V)&I.i(V);return new l(N,this.h&I.h)},n.or=function(I){const C=Math.max(this.g.length,I.g.length),N=[];for(let V=0;V<C;V++)N[V]=this.i(V)|I.i(V);return new l(N,this.h|I.h)},n.xor=function(I){const C=Math.max(this.g.length,I.g.length),N=[];for(let V=0;V<C;V++)N[V]=this.i(V)^I.i(V);return new l(N,this.h^I.h)};function H(I){const C=I.g.length+1,N=[];for(let V=0;V<C;V++)N[V]=I.i(V)<<1|I.i(V-1)>>>31;return new l(N,I.h)}function K(I,C){const N=C>>5;C%=32;const V=I.g.length-N,k=[];for(let L=0;L<V;L++)k[L]=C>0?I.i(L+N)>>>C|I.i(L+N+1)<<32-C:I.i(L+N);return new l(k,I.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,i1=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=p,ha=l}).apply(typeof vT<"u"?vT:typeof self<"u"?self:typeof window<"u"?window:{});var Vf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var s1,ou,r1,od,hy,a1,o1,l1;(function(){var n,t=Object.defineProperty;function e(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vf=="object"&&Vf];for(var b=0;b<m.length;++b){var S=m[b];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var i=e(this);function r(m,b){if(b)t:{var S=i;m=m.split(".");for(var O=0;O<m.length-1;O++){var W=m[O];if(!(W in S))break t;S=S[W]}m=m[m.length-1],O=S[m],b=b(O),b!=O&&b!=null&&t(S,m,{configurable:!0,writable:!0,value:b})}}r("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(m){return m||function(b){var S=[],O;for(O in b)Object.prototype.hasOwnProperty.call(b,O)&&S.push([O,b[O]]);return S}});var o=o||{},l=this||self;function u(m){var b=typeof m;return b=="object"&&m!=null||b=="function"}function f(m,b,S){return m.call.apply(m.bind,arguments)}function d(m,b,S){return d=f,d.apply(null,arguments)}function p(m,b){var S=Array.prototype.slice.call(arguments,1);return function(){var O=S.slice();return O.push.apply(O,arguments),m.apply(this,O)}}function y(m,b){function S(){}S.prototype=b.prototype,m.Z=b.prototype,m.prototype=new S,m.prototype.constructor=m,m.Ob=function(O,W,Z){for(var ut=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)ut[kt-2]=arguments[kt];return b.prototype[W].apply(O,ut)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function T(m){const b=m.length;if(b>0){const S=Array(b);for(let O=0;O<b;O++)S[O]=m[O];return S}return[]}function x(m,b){for(let O=1;O<arguments.length;O++){const W=arguments[O];var S=typeof W;if(S=S!="object"?S:W?Array.isArray(W)?"array":S:"null",S=="array"||S=="object"&&typeof W.length=="number"){S=m.length||0;const Z=W.length||0;m.length=S+Z;for(let ut=0;ut<Z;ut++)m[S+ut]=W[ut]}else m.push(W)}}class w{constructor(b,S){this.i=b,this.j=S,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function A(m){l.setTimeout(()=>{throw m},0)}function D(){var m=I;let b=null;return m.g&&(b=m.g,m.g=m.g.next,m.g||(m.h=null),b.next=null),b}class z{constructor(){this.h=this.g=null}add(b,S){const O=B.get();O.set(b,S),this.h?this.h.next=O:this.g=O,this.h=O}}var B=new w(()=>new q,m=>m.reset());class q{constructor(){this.next=this.g=this.h=null}set(b,S){this.h=b,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let H,K=!1,I=new z,C=()=>{const m=Promise.resolve(void 0);H=()=>{m.then(N)}};function N(){for(var m;m=D();){try{m.h.call(m.g)}catch(S){A(S)}var b=B;b.j(m),b.h<100&&(b.h++,m.next=b.g,b.g=m)}K=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(m,b){this.type=m,this.g=this.target=b,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,b=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const S=()=>{};l.addEventListener("test",S,b),l.removeEventListener("test",S,b)}catch{}return m})();function P(m){return/^[\s\xa0]*$/.test(m)}function Et(m,b){k.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,b)}y(Et,k),Et.prototype.init=function(m,b){const S=this.type=m.type,O=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=b,b=m.relatedTarget,b||(S=="mouseover"?b=m.fromElement:S=="mouseout"&&(b=m.toElement)),this.relatedTarget=b,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&Et.Z.h.call(this)},Et.prototype.h=function(){Et.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var yt="closure_listenable_"+(Math.random()*1e6|0),Y=0;function rt(m,b,S,O,W){this.listener=m,this.proxy=null,this.src=b,this.type=S,this.capture=!!O,this.ha=W,this.key=++Y,this.da=this.fa=!1}function dt(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function bt(m,b,S){for(const O in m)b.call(S,m[O],O,m)}function Ct(m,b){for(const S in m)b.call(void 0,m[S],S,m)}function j(m){const b={};for(const S in m)b[S]=m[S];return b}const et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(m,b){let S,O;for(let W=1;W<arguments.length;W++){O=arguments[W];for(S in O)m[S]=O[S];for(let Z=0;Z<et.length;Z++)S=et[Z],Object.prototype.hasOwnProperty.call(O,S)&&(m[S]=O[S])}}function ct(m){this.src=m,this.g={},this.h=0}ct.prototype.add=function(m,b,S,O,W){const Z=m.toString();m=this.g[Z],m||(m=this.g[Z]=[],this.h++);const ut=_t(m,b,O,W);return ut>-1?(b=m[ut],S||(b.fa=!1)):(b=new rt(b,this.src,Z,!!O,W),b.fa=S,m.push(b)),b};function ft(m,b){const S=b.type;if(S in m.g){var O=m.g[S],W=Array.prototype.indexOf.call(O,b,void 0),Z;(Z=W>=0)&&Array.prototype.splice.call(O,W,1),Z&&(dt(b),m.g[S].length==0&&(delete m.g[S],m.h--))}}function _t(m,b,S,O){for(let W=0;W<m.length;++W){const Z=m[W];if(!Z.da&&Z.listener==b&&Z.capture==!!S&&Z.ha==O)return W}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Dt={};function Jt(m,b,S,O,W){if(Array.isArray(b)){for(let Z=0;Z<b.length;Z++)Jt(m,b[Z],S,O,W);return null}return S=vr(S),m&&m[yt]?m.J(b,S,u(O)?!!O.capture:!1,W):hi(m,b,S,!1,O,W)}function hi(m,b,S,O,W,Z){if(!b)throw Error("Invalid event type");const ut=u(W)?!!W.capture:!!W;let kt=Qi(m);if(kt||(m[Lt]=kt=new ct(m)),S=kt.add(b,S,O,ut,Z),S.proxy)return S;if(O=Ii(),S.proxy=O,O.src=m,O.listener=S,m.addEventListener)L||(W=ut),W===void 0&&(W=!1),m.addEventListener(b.toString(),O,W);else if(m.attachEvent)m.attachEvent(Ln(b.toString()),O);else if(m.addListener&&m.removeListener)m.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Ii(){function m(S){return b.call(m.src,m.listener,S)}const b=Ma;return m}function Xn(m,b,S,O,W){if(Array.isArray(b))for(var Z=0;Z<b.length;Z++)Xn(m,b[Z],S,O,W);else O=u(O)?!!O.capture:!!O,S=vr(S),m&&m[yt]?(m=m.i,Z=String(b).toString(),Z in m.g&&(b=m.g[Z],S=_t(b,S,O,W),S>-1&&(dt(b[S]),Array.prototype.splice.call(b,S,1),b.length==0&&(delete m.g[Z],m.h--)))):m&&(m=Qi(m))&&(b=m.g[b.toString()],m=-1,b&&(m=_t(b,S,O,W)),(S=m>-1?b[m]:null)&&_r(S))}function _r(m){if(typeof m!="number"&&m&&!m.da){var b=m.src;if(b&&b[yt])ft(b.i,m);else{var S=m.type,O=m.proxy;b.removeEventListener?b.removeEventListener(S,O,m.capture):b.detachEvent?b.detachEvent(Ln(S),O):b.addListener&&b.removeListener&&b.removeListener(O),(S=Qi(b))?(ft(S,m),S.h==0&&(S.src=null,b[Lt]=null)):dt(m)}}}function Ln(m){return m in Dt?Dt[m]:Dt[m]="on"+m}function Ma(m,b){if(m.da)m=!0;else{b=new Et(b,this);const S=m.listener,O=m.ha||m.src;m.fa&&_r(m),m=S.call(O,b)}return m}function Qi(m){return m=m[Lt],m instanceof ct?m:null}var Di="__closure_events_fn_"+(Math.random()*1e9>>>0);function vr(m){return typeof m=="function"?m:(m[Di]||(m[Di]=function(b){return m.handleEvent(b)}),m[Di])}function ee(){V.call(this),this.i=new ct(this),this.M=this,this.G=null}y(ee,V),ee.prototype[yt]=!0,ee.prototype.removeEventListener=function(m,b,S,O){Xn(this,m,b,S,O)};function Oe(m,b){var S,O=m.G;if(O)for(S=[];O;O=O.G)S.push(O);if(m=m.M,O=b.type||b,typeof b=="string")b=new k(b,m);else if(b instanceof k)b.target=b.target||m;else{var W=b;b=new k(O,m),at(b,W)}W=!0;let Z,ut;if(S)for(ut=S.length-1;ut>=0;ut--)Z=b.g=S[ut],W=Ji(Z,O,!0,b)&&W;if(Z=b.g=m,W=Ji(Z,O,!0,b)&&W,W=Ji(Z,O,!1,b)&&W,S)for(ut=0;ut<S.length;ut++)Z=b.g=S[ut],W=Ji(Z,O,!1,b)&&W}ee.prototype.N=function(){if(ee.Z.N.call(this),this.i){var m=this.i;for(const b in m.g){const S=m.g[b];for(let O=0;O<S.length;O++)dt(S[O]);delete m.g[b],m.h--}}this.G=null},ee.prototype.J=function(m,b,S,O){return this.i.add(String(m),b,!1,S,O)},ee.prototype.K=function(m,b,S,O){return this.i.add(String(m),b,!0,S,O)};function Ji(m,b,S,O){if(b=m.i.g[String(b)],!b)return!0;b=b.concat();let W=!0;for(let Z=0;Z<b.length;++Z){const ut=b[Z];if(ut&&!ut.da&&ut.capture==S){const kt=ut.listener,Ne=ut.ha||ut.src;ut.fa&&ft(m.i,ut),W=kt.call(Ne,O)!==!1&&W}}return W&&!O.defaultPrevented}function ln(m,b){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:l.setTimeout(m,b||0)}function Mi(m){m.g=ln(()=>{m.g=null,m.i&&(m.i=!1,Mi(m))},m.l);const b=m.h;m.h=null,m.m.apply(null,b)}class cn extends V{constructor(b,S){super(),this.m=b,this.l=S,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Mi(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ks(m){V.call(this),this.h=m,this.g={}}y(ks,V);var Zi=[];function Oa(m){bt(m.g,function(b,S){this.g.hasOwnProperty(S)&&_r(b)},m),m.g={}}ks.prototype.N=function(){ks.Z.N.call(this),Oa(this)},ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oi=l.JSON.stringify,Na=l.JSON.parse,Ni=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function ka(){}function ki(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xe(){k.call(this,"d")}y(Xe,k);function Mn(){k.call(this,"c")}y(Mn,k);var be={},Mo=null;function ts(){return Mo=Mo||new ee}be.Ia="serverreachability";function Jn(m){k.call(this,be.Ia,m)}y(Jn,k);function fi(m){const b=ts();Oe(b,new Jn(b))}be.STAT_EVENT="statevent";function Ps(m,b){k.call(this,be.STAT_EVENT,m),this.stat=b}y(Ps,k);function we(m){const b=ts();Oe(b,new Ps(b,m))}be.Ja="timingevent";function Zn(m,b){k.call(this,be.Ja,m),this.size=b}y(Zn,k);function xt(m,b){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},b)}function ne(){this.g=!0}ne.prototype.ua=function(){this.g=!1};function ze(m,b,S,O,W,Z){m.info(function(){if(m.g)if(Z){var ut="",kt=Z.split("&");for(let Zt=0;Zt<kt.length;Zt++){var Ne=kt[Zt].split("=");if(Ne.length>1){const Ee=Ne[0];Ne=Ne[1];const yi=Ee.split("_");ut=yi.length>=2&&yi[1]=="type"?ut+(Ee+"="+Ne+"&"):ut+(Ee+"=redacted&")}}}else ut=null;else ut=Z;return"XMLHTTP REQ ("+O+") [attempt "+W+"]: "+b+`
`+S+`
`+ut})}function en(m,b,S,O,W,Z,ut){m.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+W+"]: "+b+`
`+S+`
`+Z+" "+ut})}function On(m,b,S,O){m.info(function(){return"XMLHTTP TEXT ("+b+"): "+En(m,S)+(O?" "+O:"")})}function ge(m,b){m.info(function(){return"TIMEOUT: "+b})}ne.prototype.info=function(){};function En(m,b){if(!m.g)return b;if(!b)return null;try{const Z=JSON.parse(b);if(Z){for(m=0;m<Z.length;m++)if(Array.isArray(Z[m])){var S=Z[m];if(!(S.length<2)){var O=S[1];if(Array.isArray(O)&&!(O.length<1)){var W=O[0];if(W!="noop"&&W!="stop"&&W!="close")for(let ut=1;ut<O.length;ut++)O[ut]=""}}}}return Oi(Z)}catch{return b}}var di={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},un={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},hn;function es(){}y(es,ka),es.prototype.g=function(){return new XMLHttpRequest},hn=new es;function fn(m){return encodeURIComponent(String(m))}function Zl(m){var b=1;m=m.split(":");const S=[];for(;b>0&&m.length;)S.push(m.shift()),b--;return m.length&&S.push(m.join(":")),S}function Pi(m,b,S,O){this.j=m,this.i=b,this.l=S,this.S=O||1,this.V=new ks(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Li}function Li(){this.i=null,this.g="",this.h=!1}var Ue={},nn={};function ns(m,b,S){m.M=1,m.A=Pa(Be(b)),m.u=S,m.R=!0,Oo(m,null)}function Oo(m,b){m.F=Date.now(),is(m),m.B=Be(m.A);var S=m.B,O=m.S;Array.isArray(O)||(O=[String(O)]),Lo(S.i,"t",O),m.C=0,S=m.j.L,m.h=new Li,m.g=Ah(m.j,S?b:null,!m.u),m.P>0&&(m.O=new cn(d(m.Y,m,m.g),m.P)),b=m.V,S=m.g,O=m.ba;var W="readystatechange";Array.isArray(W)||(W&&(Zi[0]=W.toString()),W=Zi);for(let Z=0;Z<W.length;Z++){const ut=Jt(S,W[Z],O||b.handleEvent,!1,b.h||b);if(!ut)break;b.g[ut.key]=ut}b=m.J?j(m.J):{},m.u?(m.v||(m.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,b)):(m.v="GET",m.g.ea(m.B,m.v,null,b)),fi(),ze(m.i,m.v,m.B,m.l,m.S,m.u)}Pi.prototype.ba=function(m){m=m.target;const b=this.O;b&&Ui(m)==3?b.j():this.Y(m)},Pi.prototype.Y=function(m){try{if(m==this.g)t:{const kt=Ui(this.g),Ne=this.g.ya(),Zt=this.g.ca();if(!(kt<3)&&(kt!=3||this.g&&(this.h.h||this.g.la()||dn(this.g)))){this.K||kt!=4||Ne==7||(Ne==8||Zt<=0?fi(3):fi(2)),ss(this);var b=this.g.ca();this.X=b;var S=xm(this);if(this.o=b==200,en(this.i,this.v,this.B,this.l,this.S,kt,b),this.o){if(this.U&&!this.L){e:{if(this.g){var O,W=this.g;if((O=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(O)){var Z=O;break e}}Z=null}if(m=Z)On(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,rs(this,m);else{this.o=!1,this.m=3,we(12),ti(this),mi(this);break t}}if(this.R){m=!0;let Ee;for(;!this.K&&this.C<S.length;)if(Ee=dh(this,S),Ee==nn){kt==4&&(this.m=4,we(14),m=!1),On(this.i,this.l,null,"[Incomplete Response]");break}else if(Ee==Ue){this.m=4,we(15),On(this.i,this.l,S,"[Invalid Chunk]"),m=!1;break}else On(this.i,this.l,Ee,null),rs(this,Ee);if(fh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||S.length!=0||this.h.h||(this.m=1,we(16),m=!1),this.o=this.o&&m,!m)On(this.i,this.l,S,"[Invalid Chunked Response]"),ti(this),mi(this);else if(S.length>0&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.aa&&!ut.P&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),mc(ut),ut.P=!0,we(11))}}else On(this.i,this.l,S,null),rs(this,S);kt==4&&ti(this),this.o&&!this.K&&(kt==4?Th(this.j,this):(this.o=!1,is(this)))}else Vs(this.g),b==400&&S.indexOf("Unknown SID")>0?(this.m=3,we(12)):(this.m=0,we(13)),ti(this),mi(this)}}}catch{}finally{}};function xm(m){if(!fh(m))return m.g.la();const b=dn(m.g);if(b==="")return"";let S="";const O=b.length,W=Ui(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return ti(m),mi(m),"";m.h.i=new l.TextDecoder}for(let Z=0;Z<O;Z++)m.h.h=!0,S+=m.h.i.decode(b[Z],{stream:!(W&&Z==O-1)});return b.length=0,m.h.g+=S,m.C=0,m.h.g}function fh(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function dh(m,b){var S=m.C,O=b.indexOf(`
`,S);return O==-1?nn:(S=Number(b.substring(S,O)),isNaN(S)?Ue:(O+=1,O+S>b.length?nn:(b=b.slice(O,O+S),m.C=O+S,b)))}Pi.prototype.cancel=function(){this.K=!0,ti(this)};function is(m){m.T=Date.now()+m.H,No(m,m.H)}function No(m,b){if(m.D!=null)throw Error("WatchDog timer not null");m.D=xt(d(m.aa,m),b)}function ss(m){m.D&&(l.clearTimeout(m.D),m.D=null)}Pi.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(ge(this.i,this.B),this.M!=2&&(fi(),we(17)),ti(this),this.m=2,mi(this)):No(this,this.T-m)};function mi(m){m.j.I==0||m.K||Th(m.j,m)}function ti(m){ss(m);var b=m.O;b&&typeof b.dispose=="function"&&b.dispose(),m.O=null,Oa(m.V),m.g&&(b=m.g,m.g=null,b.abort(),b.dispose())}function rs(m,b){try{var S=m.j;if(S.I!=0&&(S.g==m||os(S.h,m))){if(!m.L&&os(S.h,m)&&S.I==3){try{var O=S.Ba.g.parse(b)}catch{O=null}if(Array.isArray(O)&&O.length==3){var W=O;if(W[0]==0){t:if(!S.v){if(S.g)if(S.g.F+3e3<m.F)Bo(S),Rr(S);else break t;Fa(S),we(18)}}else S.xa=W[1],0<S.xa-S.K&&W[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=xt(d(S.Va,S),6e3));as(S.h)<=1&&S.ta&&(S.ta=void 0)}else ds(S,11)}else if((m.L||S.g==m)&&Bo(S),!P(b))for(W=S.Ba.g.parse(b),b=0;b<W.length;b++){let Zt=W[b];const Ee=Zt[0];if(!(Ee<=S.K))if(S.K=Ee,Zt=Zt[1],S.I==2)if(Zt[0]=="c"){S.M=Zt[1],S.ba=Zt[2];const yi=Zt[3];yi!=null&&(S.ka=yi,S.j.info("VER="+S.ka));const ms=Zt[4];ms!=null&&(S.za=ms,S.j.info("SVER="+S.za));const ji=Zt[5];ji!=null&&typeof ji=="number"&&ji>0&&(O=1.5*ji,S.O=O,S.j.info("backChannelRequestTimeoutMs_="+O)),O=S;const Bi=m.g;if(Bi){const Ha=Bi.g?Bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ha){var Z=O.h;Z.g||Ha.indexOf("spdy")==-1&&Ha.indexOf("quic")==-1&&Ha.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(nc(Z,Z.h),Z.h=null))}if(O.G){const Fo=Bi.g?Bi.g.getResponseHeader("X-HTTP-Session-Id"):null;Fo&&(O.wa=Fo,se(O.J,O.G,Fo))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-m.F,S.j.info("Handshake RTT: "+S.T+"ms")),O=S;var ut=m;if(O.na=wh(O,O.L?O.ba:null,O.W),ut.L){ic(O.h,ut);var kt=ut,Ne=O.O;Ne&&(kt.H=Ne),kt.D&&(ss(kt),is(kt)),O.g=ut}else bh(O);S.i.length>0&&fs(S)}else Zt[0]!="stop"&&Zt[0]!="close"||ds(S,7);else S.I==3&&(Zt[0]=="stop"||Zt[0]=="close"?Zt[0]=="stop"?ds(S,7):fc(S):Zt[0]!="noop"&&S.l&&S.l.qa(Zt),S.A=0)}}fi(4)}catch{}}var je=class{constructor(m,b){this.g=m,this.map=b}};function tc(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ec(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function as(m){return m.h?1:m.g?m.g.size:0}function os(m,b){return m.h?m.h==b:m.g?m.g.has(b):!1}function nc(m,b){m.g?m.g.add(b):m.h=b}function ic(m,b){m.h&&m.h==b?m.h=null:m.g&&m.g.has(b)&&m.g.delete(b)}tc.prototype.cancel=function(){if(this.i=sc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function sc(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let b=m.i;for(const S of m.g.values())b=b.concat(S.G);return b}return T(m.i)}var mh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ko(m,b){if(m){m=m.split("&");for(let S=0;S<m.length;S++){const O=m[S].indexOf("=");let W,Z=null;O>=0?(W=m[S].substring(0,O),Z=m[S].substring(O+1)):W=m[S],b(W,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function ei(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;m instanceof ei?(this.l=m.l,sn(this,m.j),this.o=m.o,this.g=m.g,br(this,m.u),this.h=m.h,rc(this,_h(m.i)),this.m=m.m):m&&(b=String(m).match(mh))?(this.l=!1,sn(this,b[1]||"",!0),this.o=ls(b[2]||""),this.g=ls(b[3]||"",!0),br(this,b[4]),this.h=ls(b[5]||"",!0),rc(this,b[6]||"",!0),this.m=ls(b[7]||"")):(this.l=!1,this.i=new Tr(null,this.l))}ei.prototype.toString=function(){const m=[];var b=this.j;b&&m.push(La(b,Po,!0),":");var S=this.g;return(S||b=="file")&&(m.push("//"),(b=this.o)&&m.push(La(b,Po,!0),"@"),m.push(fn(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&m.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&m.push("/"),m.push(La(S,S.charAt(0)=="/"?ac:gh,!0))),(S=this.i.toString())&&m.push("?",S),(S=this.m)&&m.push("#",La(S,ph)),m.join("")},ei.prototype.resolve=function(m){const b=Be(this);let S=!!m.j;S?sn(b,m.j):S=!!m.o,S?b.o=m.o:S=!!m.g,S?b.g=m.g:S=m.u!=null;var O=m.h;if(S)br(b,m.u);else if(S=!!m.h){if(O.charAt(0)!="/")if(this.g&&!this.h)O="/"+O;else{var W=b.h.lastIndexOf("/");W!=-1&&(O=b.h.slice(0,W+1)+O)}if(W=O,W==".."||W==".")O="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){O=W.lastIndexOf("/",0)==0,W=W.split("/");const Z=[];for(let ut=0;ut<W.length;){const kt=W[ut++];kt=="."?O&&ut==W.length&&Z.push(""):kt==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),O&&ut==W.length&&Z.push("")):(Z.push(kt),O=!0)}O=Z.join("/")}else O=W}return S?b.h=O:S=m.i.toString()!=="",S?rc(b,_h(m.i)):S=!!m.m,S&&(b.m=m.m),b};function Be(m){return new ei(m)}function sn(m,b,S){m.j=S?ls(b,!0):b,m.j&&(m.j=m.j.replace(/:$/,""))}function br(m,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);m.u=b}else m.u=null}function rc(m,b,S){b instanceof Tr?(m.i=b,Vo(m.i,m.l)):(S||(b=La(b,Er)),m.i=new Tr(b,m.l))}function se(m,b,S){m.i.set(b,S)}function Pa(m){return se(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function ls(m,b){return m?b?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function La(m,b,S){return typeof m=="string"?(m=encodeURI(m).replace(b,Vn),S&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Vn(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Po=/[#\/\?@]/g,gh=/[#\?:]/g,ac=/[#\?]/g,Er=/[#\?@]/g,ph=/#/g;function Tr(m,b){this.h=this.g=null,this.i=m||null,this.j=!!b}function zn(m){m.g||(m.g=new Map,m.h=0,m.i&&ko(m.i,function(b,S){m.add(decodeURIComponent(b.replace(/\+/g," ")),S)}))}n=Tr.prototype,n.add=function(m,b){zn(this),this.i=null,m=Sr(this,m);let S=this.g.get(m);return S||this.g.set(m,S=[]),S.push(b),this.h+=1,this};function yh(m,b){zn(m),b=Sr(m,b),m.g.has(b)&&(m.i=null,m.h-=m.g.get(b).length,m.g.delete(b))}function oc(m,b){return zn(m),b=Sr(m,b),m.g.has(b)}n.forEach=function(m,b){zn(this),this.g.forEach(function(S,O){S.forEach(function(W){m.call(b,W,O,this)},this)},this)};function lc(m,b){zn(m);let S=[];if(typeof b=="string")oc(m,b)&&(S=S.concat(m.g.get(Sr(m,b))));else for(m=Array.from(m.g.values()),b=0;b<m.length;b++)S=S.concat(m[b]);return S}n.set=function(m,b){return zn(this),this.i=null,m=Sr(this,m),oc(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[b]),this.h+=1,this},n.get=function(m,b){return m?(m=lc(this,m),m.length>0?String(m[0]):b):b};function Lo(m,b,S){yh(m,b),S.length>0&&(m.i=null,m.g.set(Sr(m,b),T(S)),m.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],b=Array.from(this.g.keys());for(let O=0;O<b.length;O++){var S=b[O];const W=fn(S);S=lc(this,S);for(let Z=0;Z<S.length;Z++){let ut=W;S[Z]!==""&&(ut+="="+fn(S[Z])),m.push(ut)}}return this.i=m.join("&")};function _h(m){const b=new Tr;return b.i=m.i,m.g&&(b.g=new Map(m.g),b.h=m.h),b}function Sr(m,b){return b=String(b),m.j&&(b=b.toLowerCase()),b}function Vo(m,b){b&&!m.j&&(zn(m),m.i=null,m.g.forEach(function(S,O){const W=O.toLowerCase();O!=W&&(yh(this,O),Lo(this,W,S))},m)),m.j=b}function Vi(m,b){const S=new ne;if(l.Image){const O=new Image;O.onload=p(gi,S,"TestLoadImage: loaded",!0,b,O),O.onerror=p(gi,S,"TestLoadImage: error",!1,b,O),O.onabort=p(gi,S,"TestLoadImage: abort",!1,b,O),O.ontimeout=p(gi,S,"TestLoadImage: timeout",!1,b,O),l.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=m}else b(!1)}function cc(m,b){const S=new ne,O=new AbortController,W=setTimeout(()=>{O.abort(),gi(S,"TestPingServer: timeout",!1,b)},1e4);fetch(m,{signal:O.signal}).then(Z=>{clearTimeout(W),Z.ok?gi(S,"TestPingServer: ok",!0,b):gi(S,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(W),gi(S,"TestPingServer: error",!1,b)})}function gi(m,b,S,O,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),O(S)}catch{}}function xr(){this.g=new Ni}function cs(m){this.i=m.Sb||null,this.h=m.ab||!1}y(cs,ka),cs.prototype.g=function(){return new Va(this.i,this.h)};function Va(m,b){ee.call(this),this.H=m,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(Va,ee),n=Va.prototype,n.open=function(m,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=b,this.readyState=1,zi(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(b.body=m),(this.H||l).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,wr(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,zi(this)),this.g&&(this.readyState=3,zi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;zo(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function zo(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var b=m.value?m.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!m.done}))&&(this.response=this.responseText+=b)}m.done?wr(this):zi(this),this.readyState==3&&zo(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,wr(this))},n.Na=function(m){this.g&&(this.response=m,wr(this))},n.ga=function(){this.g&&wr(this)};function wr(m){m.readyState=4,m.l=null,m.j=null,m.B=null,zi(m)}n.setRequestHeader=function(m,b){this.A.append(m,b)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],b=this.h.entries();for(var S=b.next();!S.done;)S=S.value,m.push(S[0]+": "+S[1]),S=b.next();return m.join(`\r
`)};function zi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Va.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function pi(m){let b="";return bt(m,function(S,O){b+=O,b+=":",b+=S,b+=`\r
`}),b}function za(m,b,S){t:{for(O in S){var O=!1;break t}O=!0}O||(S=pi(S),typeof m=="string"?S!=null&&fn(S):se(m,b,S))}function le(m){ee.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(le,ee);var us=/^https?$/i,uc=["POST","PUT"];n=le.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,b,S,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);b=b?b.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():hn.g(),this.g.onreadystatechange=v(d(this.Ca,this));try{this.B=!0,this.g.open(b,String(m),!0),this.B=!1}catch(Z){Ua(this,Z);return}if(m=S||"",S=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var W in O)S.set(W,O[W]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const Z of O.keys())S.set(Z,O.get(Z));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(S.keys()).find(Z=>Z.toLowerCase()=="content-type"),W=l.FormData&&m instanceof l.FormData,!(Array.prototype.indexOf.call(uc,b,void 0)>=0)||O||W||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ut]of S)this.g.setRequestHeader(Z,ut);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(Z){Ua(this,Z)}};function Ua(m,b){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=b,m.o=5,hc(m),Ls(m)}function hc(m){m.A||(m.A=!0,Oe(m,"complete"),Oe(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Oe(this,"complete"),Oe(this,"abort"),Ls(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ls(this,!0)),le.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ja(this):this.Xa())},n.Xa=function(){ja(this)};function ja(m){if(m.h&&typeof o<"u"){if(m.v&&Ui(m)==4)setTimeout(m.Ca.bind(m),0);else if(Oe(m,"readystatechange"),Ui(m)==4){m.h=!1;try{const Z=m.ca();t:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break t;default:b=!1}var S;if(!(S=b)){var O;if(O=Z===0){let ut=String(m.D).match(mh)[1]||null;!ut&&l.self&&l.self.location&&(ut=l.self.location.protocol.slice(0,-1)),O=!us.test(ut?ut.toLowerCase():"")}S=O}if(S)Oe(m,"complete"),Oe(m,"success");else{m.o=6;try{var W=Ui(m)>2?m.g.statusText:""}catch{W=""}m.l=W+" ["+m.ca()+"]",hc(m)}}finally{Ls(m)}}}}function Ls(m,b){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const S=m.g;m.g=null,b||Oe(m,"ready");try{S.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Ui(m){return m.g?m.g.readyState:0}n.ca=function(){try{return Ui(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var b=this.g.responseText;return m&&b.indexOf(m)==0&&(b=b.substring(m.length)),Na(b)}};function dn(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Vs(m){const b={};m=(m.g&&Ui(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<m.length;O++){if(P(m[O]))continue;var S=Zl(m[O]);const W=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const Z=b[W]||[];b[W]=Z,Z.push(S)}Ct(b,function(O){return O.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hs(m,b,S){return S&&S.internalChannelParams&&S.internalChannelParams[m]||b}function Ar(m){this.za=0,this.i=[],this.j=new ne,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hs("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hs("baseRetryDelayMs",5e3,m),this.Za=hs("retryDelaySeedMs",1e4,m),this.Ta=hs("forwardChannelMaxRetries",2,m),this.va=hs("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new tc(m&&m.concurrentRequestLimit),this.Ba=new xr,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ar.prototype,n.ka=8,n.I=1,n.connect=function(m,b,S,O){we(0),this.W=m,this.H=b||{},S&&O!==void 0&&(this.H.OSID=S,this.H.OAID=O),this.F=this.X,this.J=wh(this,null,this.W),fs(this)};function fc(m){if(Uo(m),m.I==3){var b=m.V++,S=Be(m.J);if(se(S,"SID",m.M),se(S,"RID",b),se(S,"TYPE","terminate"),Ba(m,S),b=new Pi(m,m.j,b),b.M=2,b.A=Pa(Be(S)),S=!1,l.navigator&&l.navigator.sendBeacon)try{S=l.navigator.sendBeacon(b.A.toString(),"")}catch{}!S&&l.Image&&(new Image().src=b.A,S=!0),S||(b.g=Ah(b.j,null),b.g.ea(b.A)),b.F=Date.now(),is(b)}xh(m)}function Rr(m){m.g&&(mc(m),m.g.cancel(),m.g=null)}function Uo(m){Rr(m),m.v&&(l.clearTimeout(m.v),m.v=null),Bo(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&l.clearTimeout(m.m),m.m=null)}function fs(m){if(!ec(m.h)&&!m.m){m.m=!0;var b=m.Ea;H||C(),K||(H(),K=!0),I.add(b,m),m.D=0}}function jo(m,b){return as(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=b.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=xt(d(m.Ea,m,b),Sh(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const W=new Pi(this,this.j,m);let Z=this.o;if(this.U&&(Z?(Z=j(Z),at(Z,this.U)):Z=this.U),this.u!==null||this.R||(W.J=Z,Z=null),this.S)t:{for(var b=0,S=0;S<this.i.length;S++){e:{var O=this.i[S];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break e}O=void 0}if(O===void 0)break;if(b+=O,b>4096){b=S;break t}if(b===4096||S===this.i.length-1){b=S+1;break t}}b=1e3}else b=1e3;b=vh(this,W,b),S=Be(this.J),se(S,"RID",m),se(S,"CVER",22),this.G&&se(S,"X-HTTP-Session-Id",this.G),Ba(this,S),Z&&(this.R?b="headers="+fn(pi(Z))+"&"+b:this.u&&za(S,this.u,Z)),nc(this.h,W),this.Ra&&se(S,"TYPE","init"),this.S?(se(S,"$req",b),se(S,"SID","null"),W.U=!0,ns(W,S,null)):ns(W,S,b),this.I=2}}else this.I==3&&(m?dc(this,m):this.i.length==0||ec(this.h)||dc(this))};function dc(m,b){var S;b?S=b.l:S=m.V++;const O=Be(m.J);se(O,"SID",m.M),se(O,"RID",S),se(O,"AID",m.K),Ba(m,O),m.u&&m.o&&za(O,m.u,m.o),S=new Pi(m,m.j,S,m.D+1),m.u===null&&(S.J=m.o),b&&(m.i=b.G.concat(m.i)),b=vh(m,S,1e3),S.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),nc(m.h,S),ns(S,O,b)}function Ba(m,b){m.H&&bt(m.H,function(S,O){se(b,O,S)}),m.l&&bt({},function(S,O){se(b,O,S)})}function vh(m,b,S){S=Math.min(m.i.length,S);const O=m.l?d(m.l.Ka,m.l,m):null;t:{var W=m.i;let kt=-1;for(;;){const Ne=["count="+S];kt==-1?S>0?(kt=W[0].g,Ne.push("ofs="+kt)):kt=0:Ne.push("ofs="+kt);let Zt=!0;for(let Ee=0;Ee<S;Ee++){var Z=W[Ee].g;const yi=W[Ee].map;if(Z-=kt,Z<0)kt=Math.max(0,W[Ee].g-100),Zt=!1;else try{Z="req"+Z+"_"||"";try{var ut=yi instanceof Map?yi:Object.entries(yi);for(const[ms,ji]of ut){let Bi=ji;u(ji)&&(Bi=Oi(ji)),Ne.push(Z+ms+"="+encodeURIComponent(Bi))}}catch(ms){throw Ne.push(Z+"type="+encodeURIComponent("_badmap")),ms}}catch{O&&O(yi)}}if(Zt){ut=Ne.join("&");break t}}ut=void 0}return m=m.i.splice(0,S),b.G=m,ut}function bh(m){if(!m.g&&!m.v){m.Y=1;var b=m.Da;H||C(),K||(H(),K=!0),I.add(b,m),m.A=0}}function Fa(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=xt(d(m.Da,m),Sh(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,Eh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=xt(d(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,we(10),Rr(this),Eh(this))};function mc(m){m.B!=null&&(l.clearTimeout(m.B),m.B=null)}function Eh(m){m.g=new Pi(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var b=Be(m.na);se(b,"RID","rpc"),se(b,"SID",m.M),se(b,"AID",m.K),se(b,"CI",m.F?"0":"1"),!m.F&&m.ia&&se(b,"TO",m.ia),se(b,"TYPE","xmlhttp"),Ba(m,b),m.u&&m.o&&za(b,m.u,m.o),m.O&&(m.g.H=m.O);var S=m.g;m=m.ba,S.M=1,S.A=Pa(Be(b)),S.u=null,S.R=!0,Oo(S,m)}n.Va=function(){this.C!=null&&(this.C=null,Rr(this),Fa(this),we(19))};function Bo(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function Th(m,b){var S=null;if(m.g==b){Bo(m),mc(m),m.g=null;var O=2}else if(os(m.h,b))S=b.G,ic(m.h,b),O=1;else return;if(m.I!=0){if(b.o)if(O==1){S=b.u?b.u.length:0,b=Date.now()-b.F;var W=m.D;O=ts(),Oe(O,new Zn(O,S)),fs(m)}else bh(m);else if(W=b.m,W==3||W==0&&b.X>0||!(O==1&&jo(m,b)||O==2&&Fa(m)))switch(S&&S.length>0&&(b=m.h,b.i=b.i.concat(S)),W){case 1:ds(m,5);break;case 4:ds(m,10);break;case 3:ds(m,6);break;default:ds(m,2)}}}function Sh(m,b){let S=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(S*=2),S*b}function ds(m,b){if(m.j.info("Error code "+b),b==2){var S=d(m.bb,m),O=m.Ua;const W=!O;O=new ei(O||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||sn(O,"https"),Pa(O),W?Vi(O.toString(),S):cc(O.toString(),S)}else we(2);m.I=0,m.l&&m.l.pa(b),xh(m),Uo(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function xh(m){if(m.I=0,m.ja=[],m.l){const b=sc(m.h);(b.length!=0||m.i.length!=0)&&(x(m.ja,b),x(m.ja,m.i),m.h.i.length=0,T(m.i),m.i.length=0),m.l.oa()}}function wh(m,b,S){var O=S instanceof ei?Be(S):new ei(S);if(O.g!="")b&&(O.g=b+"."+O.g),br(O,O.u);else{var W=l.location;O=W.protocol,b=b?b+"."+W.hostname:W.hostname,W=+W.port;const Z=new ei(null);O&&sn(Z,O),b&&(Z.g=b),W&&br(Z,W),S&&(Z.h=S),O=Z}return S=m.G,b=m.wa,S&&b&&se(O,S,b),se(O,"VER",m.ka),Ba(m,O),O}function Ah(m,b,S){if(b&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=m.Aa&&!m.ma?new le(new cs({ab:S})):new le(m.ma),b.Fa(m.L),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rh(){}n=Rh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Cr(){}Cr.prototype.g=function(m,b){return new Nn(m,b)};function Nn(m,b){ee.call(this),this.g=new Ar(b),this.l=m,this.h=b&&b.messageUrlParams||null,m=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(m?m["X-WebChannel-Content-Type"]=b.messageContentType:m={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(m?m["X-WebChannel-Client-Profile"]=b.sa:m={"X-WebChannel-Client-Profile":b.sa}),this.g.U=m,(m=b&&b.Qb)&&!P(m)&&(this.g.u=m),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!P(b)&&(this.g.G=b,m=this.h,m!==null&&b in m&&(m=this.h,b in m&&delete m[b])),this.j=new zs(this)}y(Nn,ee),Nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){fc(this.g)},Nn.prototype.o=function(m){var b=this.g;if(typeof m=="string"){var S={};S.__data__=m,m=S}else this.v&&(S={},S.__data__=Oi(m),m=S);b.i.push(new je(b.Ya++,m)),b.I==3&&fs(b)},Nn.prototype.N=function(){this.g.l=null,delete this.j,fc(this.g),delete this.g,Nn.Z.N.call(this)};function Ch(m){Xe.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var b=m.__sm__;if(b){t:{for(const S in b){m=S;break t}m=void 0}(this.i=m)&&(m=this.i,b=b!==null&&m in b?b[m]:void 0),this.data=b}else this.data=m}y(Ch,Xe);function Ih(){Mn.call(this),this.status=1}y(Ih,Mn);function zs(m){this.g=m}y(zs,Rh),zs.prototype.ra=function(){Oe(this.g,"a")},zs.prototype.qa=function(m){Oe(this.g,new Ch(m))},zs.prototype.pa=function(m){Oe(this.g,new Ih)},zs.prototype.oa=function(){Oe(this.g,"b")},Cr.prototype.createWebChannel=Cr.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,l1=function(){return new Cr},o1=function(){return ts()},a1=be,hy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},di.NO_ERROR=0,di.TIMEOUT=8,di.HTTP_ERROR=6,od=di,un.COMPLETE="complete",r1=un,ki.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",ee.prototype.listen=ee.prototype.J,ou=ki,le.prototype.listenOnce=le.prototype.K,le.prototype.getLastError=le.prototype.Ha,le.prototype.getLastErrorCode=le.prototype.ya,le.prototype.getStatus=le.prototype.ca,le.prototype.getResponseJson=le.prototype.La,le.prototype.getResponseText=le.prototype.la,le.prototype.send=le.prototype.ea,le.prototype.setWithCredentials=le.prototype.Fa,s1=le}).apply(typeof Vf<"u"?Vf:typeof self<"u"?self:typeof window<"u"?window:{});const bT="@firebase/firestore",ET="4.9.2";class wn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}wn.UNAUTHENTICATED=new wn(null),wn.GOOGLE_CREDENTIALS=new wn("google-credentials-uid"),wn.FIRST_PARTY=new wn("first-party-uid"),wn.MOCK_USER=new wn("mock-user");let Kl="12.3.0";const To=new $y("@firebase/firestore");function El(){return To.logLevel}function gt(n,...t){if(To.logLevel<=Ht.DEBUG){const e=t.map(a_);To.debug(`Firestore (${Kl}): ${n}`,...e)}}function mr(n,...t){if(To.logLevel<=Ht.ERROR){const e=t.map(a_);To.error(`Firestore (${Kl}): ${n}`,...e)}}function kl(n,...t){if(To.logLevel<=Ht.WARN){const e=t.map(a_);To.warn(`Firestore (${Kl}): ${n}`,...e)}}function a_(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function Rt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,c1(n,i,e)}function c1(n,t,e){let i=`FIRESTORE (${Kl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw mr(i),new Error(i)}function ie(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||c1(t,r,i)}function Nt(n,t){return n}const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends pr{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fa{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class u1{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class bk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(wn.UNAUTHENTICATED)))}shutdown(){}}class Ek{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class Tk{constructor(t){this.t=t,this.currentUser=wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){ie(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new fa;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new fa,t.enqueueRetryable((()=>r(this.currentUser)))};const l=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await r(this.currentUser)}))},u=f=>{gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new fa)}}),0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ie(typeof i.accessToken=="string",31837,{l:i}),new u1(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ie(t===null||typeof t=="string",2055,{h:t}),new wn(t)}}class Sk{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=wn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xk{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new Sk(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(wn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class TT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wk{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ri(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){ie(this.o===void 0,3512);const i=o=>{o.error!=null&&gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,gt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const r=o=>{gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new TT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(ie(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new TT(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ak(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class o_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=Ak(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function qt(n,t){return n<t?-1:n>t?1:0}function fy(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),o=t.charAt(i);if(r!==o)return Np(r)===Np(o)?qt(r,o):Np(r)?1:-1}return qt(n.length,t.length)}const Rk=55296,Ck=57343;function Np(n){const t=n.charCodeAt(0);return t>=Rk&&t<=Ck}function Pl(n,t,e){return n.length===t.length&&n.every(((i,r)=>e(i,t[r])))}const ST="__name__";class Ts{constructor(t,e,i){e===void 0?e=0:e>t.length&&Rt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Rt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Ts.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ts?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=Ts.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return qt(t.length,e.length)}static compareSegments(t,e){const i=Ts.isNumericId(t),r=Ts.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Ts.extractNumericId(t).compare(Ts.extractNumericId(e)):fy(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ha.fromString(t.substring(4,t.length-2))}}class me extends Ts{construct(t,e,i){return new me(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new mt(st.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((r=>r.length>0)))}return new me(e)}static emptyPath(){return new me([])}}const Ik=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends Ts{construct(t,e,i){return new vn(t,e,i)}static isValidIdentifier(t){return Ik.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ST}static keyField(){return new vn([ST])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new mt(st.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;r<t.length;){const u=t[r];if(u==="\\"){if(r+1===t.length)throw new mt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new mt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else u==="`"?(l=!l,r++):u!=="."||l?(i+=u,r++):(o(),r++)}if(o(),l)throw new mt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new vn(e)}static emptyPath(){return new vn([])}}class St{constructor(t){this.path=t}static fromPath(t){return new St(me.fromString(t))}static fromName(t){return new St(me.fromString(t).popFirst(5))}static empty(){return new St(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&me.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return me.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new St(new me(t.slice()))}}function h1(n,t,e){if(!e)throw new mt(st.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function Dk(n,t,e,i){if(t===!0&&i===!0)throw new mt(st.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function xT(n){if(!St.isDocumentKey(n))throw new mt(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function wT(n){if(St.isDocumentKey(n))throw new mt(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function f1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Kd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Rt(12329,{type:typeof n})}function Wi(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new mt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Kd(n);throw new mt(st.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Ke(n,t){const e={typeString:n};return t&&(e.value=t),e}function ih(n,t){if(!f1(n))throw new mt(st.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const l=n[i];if(r&&typeof l!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&l!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new mt(st.INVALID_ARGUMENT,e);return!0}const AT=-62135596800,RT=1e6;class _e{static now(){return _e.fromMillis(Date.now())}static fromDate(t){return _e.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*RT);return new _e(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new mt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new mt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<AT)throw new mt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RT}_compareTo(t){return this.seconds===t.seconds?qt(this.nanoseconds,t.nanoseconds):qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ih(t,_e._jsonSchema))return new _e(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-AT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_e._jsonSchemaVersion="firestore/timestamp/1.0",_e._jsonSchema={type:Ke("string",_e._jsonSchemaVersion),seconds:Ke("number"),nanoseconds:Ke("number")};class It{static fromTimestamp(t){return new It(t)}static min(){return new It(new _e(0,0))}static max(){return new It(new _e(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Iu=-1;function Mk(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=It.fromTimestamp(i===1e9?new _e(e+1,0):new _e(e,i));return new ga(r,St.empty(),t)}function Ok(n){return new ga(n.readTime,n.key,Iu)}class ga{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ga(It.min(),St.empty(),Iu)}static max(){return new ga(It.max(),St.empty(),Iu)}}function Nk(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=St.comparator(n.documentKey,t.documentKey),e!==0?e:qt(n.largestBatchId,t.largestBatchId))}const kk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Pk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function $l(n){if(n.code!==st.FAILED_PRECONDITION||n.message!==kk)throw n;gt("LocalStore","Unexpectedly lost primary lease")}class lt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new lt(((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof lt?e:lt.resolve(e)}catch(e){return lt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):lt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):lt.reject(e)}static resolve(t){return new lt(((e,i)=>{e(t)}))}static reject(t){return new lt(((e,i)=>{i(t)}))}static waitFor(t){return new lt(((e,i)=>{let r=0,o=0,l=!1;t.forEach((u=>{++r,u.next((()=>{++o,l&&o===r&&e()}),(f=>i(f)))})),l=!0,o===r&&e()}))}static or(t){let e=lt.resolve(!1);for(const i of t)e=e.next((r=>r?lt.resolve(r):i()));return e}static forEach(t,e){const i=[];return t.forEach(((r,o)=>{i.push(e.call(this,r,o))})),this.waitFor(i)}static mapArray(t,e){return new lt(((i,r)=>{const o=t.length,l=new Array(o);let u=0;for(let f=0;f<o;f++){const d=f;e(t[d]).next((p=>{l[d]=p,++u,u===o&&i(l)}),(p=>r(p)))}}))}static doWhile(t,e){return new lt(((i,r)=>{const o=()=>{t()===!0?e().next((()=>{o()}),r):i()};o()}))}}function Lk(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Xl(n){return n.name==="IndexedDbTransactionError"}class $d{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}$d.ce=-1;const l_=-1;function Xd(n){return n==null}function xd(n){return n===0&&1/n==-1/0}function Vk(n){return typeof n=="number"&&Number.isInteger(n)&&!xd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const d1="";function zk(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=CT(t)),t=Uk(n.get(e),t);return CT(t)}function Uk(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case d1:e+="";break;default:e+=o}}return e}function CT(n){return n+d1+""}function IT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Aa(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function m1(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Ce{constructor(t,e){this.comparator=t,this.root=e||_n.EMPTY}insert(t,e){return new Ce(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(t){return new Ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,_n.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new zf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new zf(this.root,t,this.comparator,!1)}getReverseIterator(){return new zf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new zf(this.root,t,this.comparator,!0)}}class zf{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class _n{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??_n.RED,this.left=r??_n.EMPTY,this.right=o??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new _n(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return _n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Rt(27949);return t+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt(57766)}get value(){throw Rt(16141)}get color(){throw Rt(16727)}get left(){throw Rt(29726)}get right(){throw Rt(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new _n(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ze{constructor(t){this.comparator=t,this.data=new Ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new DT(this.data.getIterator())}getIteratorFrom(t){return new DT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof Ze)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ze(this.comparator);return e.data=t,e}}class DT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ui{constructor(t){this.fields=t,t.sort(vn.comparator)}static empty(){return new ui([])}unionWith(t){let e=new Ze(vn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new ui(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Pl(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}class g1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class bn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new g1("Invalid base64 string: "+o):o}})(t);return new bn(e)}static fromUint8Array(t){const e=(function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o})(t);return new bn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const jk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pa(n){if(ie(!!n,39018),typeof n=="string"){let t=0;const e=jk.exec(n);if(ie(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Le(n.seconds),nanos:Le(n.nanos)}}function Le(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ya(n){return typeof n=="string"?bn.fromBase64String(n):bn.fromUint8Array(n)}const p1="server_timestamp",y1="__type__",_1="__previous_value__",v1="__local_write_time__";function c_(n){return(n?.mapValue?.fields||{})[y1]?.stringValue===p1}function Qd(n){const t=n.mapValue.fields[_1];return c_(t)?Qd(t):t}function Du(n){const t=pa(n.mapValue.fields[v1].timestampValue);return new _e(t.seconds,t.nanos)}class Bk{constructor(t,e,i,r,o,l,u,f,d,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=p}}const wd="(default)";class Mu{constructor(t,e){this.projectId=t,this.database=e||wd}static empty(){return new Mu("","")}get isDefaultDatabase(){return this.database===wd}isEqual(t){return t instanceof Mu&&t.projectId===this.projectId&&t.database===this.database}}const b1="__type__",Fk="__max__",Uf={mapValue:{}},E1="__vector__",Ad="value";function _a(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?c_(n)?4:qk(n)?9007199254740991:Hk(n)?10:11:Rt(28295,{value:n})}function Ms(n,t){if(n===t)return!0;const e=_a(n);if(e!==_a(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Du(n).isEqual(Du(t));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=pa(r.timestampValue),u=pa(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(r,o){return ya(r.bytesValue).isEqual(ya(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(r,o){return Le(r.geoPointValue.latitude)===Le(o.geoPointValue.latitude)&&Le(r.geoPointValue.longitude)===Le(o.geoPointValue.longitude)})(n,t);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return Le(r.integerValue)===Le(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=Le(r.doubleValue),u=Le(o.doubleValue);return l===u?xd(l)===xd(u):isNaN(l)&&isNaN(u)}return!1})(n,t);case 9:return Pl(n.arrayValue.values||[],t.arrayValue.values||[],Ms);case 10:case 11:return(function(r,o){const l=r.mapValue.fields||{},u=o.mapValue.fields||{};if(IT(l)!==IT(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!Ms(l[f],u[f])))return!1;return!0})(n,t);default:return Rt(52216,{left:n})}}function Ou(n,t){return(n.values||[]).find((e=>Ms(e,t)))!==void 0}function Ll(n,t){if(n===t)return 0;const e=_a(n),i=_a(t);if(e!==i)return qt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return qt(n.booleanValue,t.booleanValue);case 2:return(function(o,l){const u=Le(o.integerValue||o.doubleValue),f=Le(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(n,t);case 3:return MT(n.timestampValue,t.timestampValue);case 4:return MT(Du(n),Du(t));case 5:return fy(n.stringValue,t.stringValue);case 6:return(function(o,l){const u=ya(o),f=ya(l);return u.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,l){const u=o.split("/"),f=l.split("/");for(let d=0;d<u.length&&d<f.length;d++){const p=qt(u[d],f[d]);if(p!==0)return p}return qt(u.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,l){const u=qt(Le(o.latitude),Le(l.latitude));return u!==0?u:qt(Le(o.longitude),Le(l.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return OT(n.arrayValue,t.arrayValue);case 10:return(function(o,l){const u=o.fields||{},f=l.fields||{},d=u[Ad]?.arrayValue,p=f[Ad]?.arrayValue,y=qt(d?.values?.length||0,p?.values?.length||0);return y!==0?y:OT(d,p)})(n.mapValue,t.mapValue);case 11:return(function(o,l){if(o===Uf.mapValue&&l===Uf.mapValue)return 0;if(o===Uf.mapValue)return 1;if(l===Uf.mapValue)return-1;const u=o.fields||{},f=Object.keys(u),d=l.fields||{},p=Object.keys(d);f.sort(),p.sort();for(let y=0;y<f.length&&y<p.length;++y){const v=fy(f[y],p[y]);if(v!==0)return v;const T=Ll(u[f[y]],d[p[y]]);if(T!==0)return T}return qt(f.length,p.length)})(n.mapValue,t.mapValue);default:throw Rt(23264,{he:e})}}function MT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return qt(n,t);const e=pa(n),i=pa(t),r=qt(e.seconds,i.seconds);return r!==0?r:qt(e.nanos,i.nanos)}function OT(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=Ll(e[r],i[r]);if(o)return o}return qt(e.length,i.length)}function Vl(n){return dy(n)}function dy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=pa(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return ya(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return St.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=dy(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const l of i)o?o=!1:r+=",",r+=`${l}:${dy(e.fields[l])}`;return r+"}"})(n.mapValue):Rt(61005,{value:n})}function ld(n){switch(_a(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Qd(n);return t?16+ld(t):16;case 5:return 2*n.stringValue.length;case 6:return ya(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,o)=>r+ld(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return Aa(i.fields,((o,l)=>{r+=o.length+ld(l)})),r})(n.mapValue);default:throw Rt(13486,{value:n})}}function NT(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function my(n){return!!n&&"integerValue"in n}function u_(n){return!!n&&"arrayValue"in n}function kT(n){return!!n&&"nullValue"in n}function PT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function cd(n){return!!n&&"mapValue"in n}function Hk(n){return(n?.mapValue?.fields||{})[b1]?.stringValue===E1}function yu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Aa(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=yu(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=yu(n.arrayValue.values[e]);return t}return{...n}}function qk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Fk}class Wn{constructor(t){this.value=t}static empty(){return new Wn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!cd(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=yu(e)}setAll(t){let e=vn.emptyPath(),i={},r=[];t.forEach(((l,u)=>{if(!e.isImmediateParentOf(u)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=u.popLast()}l?i[u.lastSegment()]=yu(l):r.push(u.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());cd(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ms(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];cd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Aa(e,((r,o)=>t[r]=o));for(const r of i)delete t[r]}clone(){return new Wn(yu(this.value))}}function T1(n){const t=[];return Aa(n.fields,((e,i)=>{const r=new vn([e]);if(cd(i)){const o=T1(i.mapValue).fields;if(o.length===0)t.push(r);else for(const l of o)t.push(r.child(l))}else t.push(r)})),new ui(t)}class Rn{constructor(t,e,i,r,o,l,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(t){return new Rn(t,0,It.min(),It.min(),It.min(),Wn.empty(),0)}static newFoundDocument(t,e,i,r){return new Rn(t,1,e,It.min(),i,r,0)}static newNoDocument(t,e){return new Rn(t,2,e,It.min(),It.min(),Wn.empty(),0)}static newUnknownDocument(t,e){return new Rn(t,3,e,It.min(),It.min(),Wn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Rd{constructor(t,e){this.position=t,this.inclusive=e}}function LT(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],l=n.position[r];if(o.field.isKeyField()?i=St.comparator(St.fromName(l.referenceValue),e.key):i=Ll(l,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function VT(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ms(n.position[e],t.position[e]))return!1;return!0}class Nu{constructor(t,e="asc"){this.field=t,this.dir=e}}function Gk(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class S1{}class We extends S1{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new Wk(t,e,i):e==="array-contains"?new Xk(t,i):e==="in"?new Qk(t,i):e==="not-in"?new Jk(t,i):e==="array-contains-any"?new Zk(t,i):new We(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new Kk(t,i):new $k(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Ll(e,this.value)):e!==null&&_a(this.value)===_a(e)&&this.matchesComparison(Ll(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xi extends S1{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Xi(t,e)}matches(t){return x1(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function x1(n){return n.op==="and"}function w1(n){return Yk(n)&&x1(n)}function Yk(n){for(const t of n.filters)if(t instanceof Xi)return!1;return!0}function gy(n){if(n instanceof We)return n.field.canonicalString()+n.op.toString()+Vl(n.value);if(w1(n))return n.filters.map((t=>gy(t))).join(",");{const t=n.filters.map((e=>gy(e))).join(",");return`${n.op}(${t})`}}function A1(n,t){return n instanceof We?(function(i,r){return r instanceof We&&i.op===r.op&&i.field.isEqual(r.field)&&Ms(i.value,r.value)})(n,t):n instanceof Xi?(function(i,r){return r instanceof Xi&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((o,l,u)=>o&&A1(l,r.filters[u])),!0):!1})(n,t):void Rt(19439)}function R1(n){return n instanceof We?(function(e){return`${e.field.canonicalString()} ${e.op} ${Vl(e.value)}`})(n):n instanceof Xi?(function(e){return e.op.toString()+" {"+e.getFilters().map(R1).join(" ,")+"}"})(n):"Filter"}class Wk extends We{constructor(t,e,i){super(t,e,i),this.key=St.fromName(i.referenceValue)}matches(t){const e=St.comparator(t.key,this.key);return this.matchesComparison(e)}}class Kk extends We{constructor(t,e){super(t,"in",e),this.keys=C1("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class $k extends We{constructor(t,e){super(t,"not-in",e),this.keys=C1("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function C1(n,t){return(t.arrayValue?.values||[]).map((e=>St.fromName(e.referenceValue)))}class Xk extends We{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return u_(e)&&Ou(e.arrayValue,this.value)}}class Qk extends We{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Ou(this.value.arrayValue,e)}}class Jk extends We{constructor(t,e){super(t,"not-in",e)}matches(t){if(Ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Ou(this.value.arrayValue,e)}}class Zk extends We{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!u_(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Ou(this.value.arrayValue,i)))}}class tP{constructor(t,e=null,i=[],r=[],o=null,l=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=l,this.endAt=u,this.Te=null}}function zT(n,t=null,e=[],i=[],r=null,o=null,l=null){return new tP(n,t,e,i,r,o,l)}function h_(n){const t=Nt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>gy(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),Xd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>Vl(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>Vl(i))).join(",")),t.Te=e}return t.Te}function f_(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!Gk(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!A1(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!VT(n.startAt,t.startAt)&&VT(n.endAt,t.endAt)}function py(n){return St.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Ql{constructor(t,e=null,i=[],r=[],o=null,l="F",u=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function eP(n,t,e,i,r,o,l,u){return new Ql(n,t,e,i,r,o,l,u)}function d_(n){return new Ql(n)}function UT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function I1(n){return n.collectionGroup!==null}function _u(n){const t=Nt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Ze(vn.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(u=u.add(d.field))}))})),u})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new Nu(o,i))})),e.has(vn.keyField().canonicalString())||t.Ie.push(new Nu(vn.keyField(),i))}return t.Ie}function ws(n){const t=Nt(n);return t.Ee||(t.Ee=nP(t,_u(n))),t.Ee}function nP(n,t){if(n.limitType==="F")return zT(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new Nu(r.field,o)}));const e=n.endAt?new Rd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Rd(n.startAt.position,n.startAt.inclusive):null;return zT(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function yy(n,t){const e=n.filters.concat([t]);return new Ql(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function _y(n,t,e){return new Ql(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Jd(n,t){return f_(ws(n),ws(t))&&n.limitType===t.limitType}function D1(n){return`${h_(ws(n))}|lt:${n.limitType}`}function Tl(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((r=>R1(r))).join(", ")}]`),Xd(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((r=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(r))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Vl(r))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Vl(r))).join(",")),`Target(${i})`})(ws(n))}; limitType=${n.limitType})`}function Zd(n,t){return t.isFoundDocument()&&(function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):St.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,r){for(const o of _u(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0})(n,t)&&(function(i,r){return!(i.startAt&&!(function(l,u,f){const d=LT(l,u,f);return l.inclusive?d<=0:d<0})(i.startAt,_u(i),r)||i.endAt&&!(function(l,u,f){const d=LT(l,u,f);return l.inclusive?d>=0:d>0})(i.endAt,_u(i),r))})(n,t)}function iP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function M1(n){return(t,e)=>{let i=!1;for(const r of _u(n)){const o=sP(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function sP(n,t,e){const i=n.field.isKeyField()?St.comparator(t.key,e.key):(function(o,l,u){const f=l.data.field(o),d=u.data.field(o);return f!==null&&d!==null?Ll(f,d):Rt(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Rt(19790,{direction:n.dir})}}class Co{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Aa(this.inner,((e,i)=>{for(const[r,o]of i)t(r,o)}))}isEmpty(){return m1(this.inner)}size(){return this.innerSize}}const rP=new Ce(St.comparator);function gr(){return rP}const O1=new Ce(St.comparator);function lu(...n){let t=O1;for(const e of n)t=t.insert(e.key,e);return t}function N1(n){let t=O1;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function fo(){return vu()}function k1(){return vu()}function vu(){return new Co((n=>n.toString()),((n,t)=>n.isEqual(t)))}const aP=new Ce(St.comparator),oP=new Ze(St.comparator);function Gt(...n){let t=oP;for(const e of n)t=t.add(e);return t}const lP=new Ze(qt);function cP(){return lP}function m_(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xd(t)?"-0":t}}function P1(n){return{integerValue:""+n}}function uP(n,t){return Vk(t)?P1(t):m_(n,t)}class tm{constructor(){this._=void 0}}function hP(n,t,e){return n instanceof ku?(function(r,o){const l={fields:{[y1]:{stringValue:p1},[v1]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&c_(o)&&(o=Qd(o)),o&&(l.fields[_1]=o),{mapValue:l}})(e,t):n instanceof Pu?V1(n,t):n instanceof Lu?z1(n,t):(function(r,o){const l=L1(r,o),u=jT(l)+jT(r.Ae);return my(l)&&my(r.Ae)?P1(u):m_(r.serializer,u)})(n,t)}function fP(n,t,e){return n instanceof Pu?V1(n,t):n instanceof Lu?z1(n,t):e}function L1(n,t){return n instanceof Cd?(function(i){return my(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class ku extends tm{}class Pu extends tm{constructor(t){super(),this.elements=t}}function V1(n,t){const e=U1(t);for(const i of n.elements)e.some((r=>Ms(r,i)))||e.push(i);return{arrayValue:{values:e}}}class Lu extends tm{constructor(t){super(),this.elements=t}}function z1(n,t){let e=U1(t);for(const i of n.elements)e=e.filter((r=>!Ms(r,i)));return{arrayValue:{values:e}}}class Cd extends tm{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function jT(n){return Le(n.integerValue||n.doubleValue)}function U1(n){return u_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class dP{constructor(t,e){this.field=t,this.transform=e}}function mP(n,t){return n.field.isEqual(t.field)&&(function(i,r){return i instanceof Pu&&r instanceof Pu||i instanceof Lu&&r instanceof Lu?Pl(i.elements,r.elements,Ms):i instanceof Cd&&r instanceof Cd?Ms(i.Ae,r.Ae):i instanceof ku&&r instanceof ku})(n.transform,t.transform)}class gP{constructor(t,e){this.version=t,this.transformResults=e}}class $n{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new $n}static exists(t){return new $n(void 0,t)}static updateTime(t){return new $n(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ud(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class em{}function j1(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new nm(n.key,$n.none()):new sh(n.key,n.data,$n.none());{const e=n.data,i=Wn.empty();let r=new Ze(vn.comparator);for(let o of t.fields)if(!r.has(o)){let l=e.field(o);l===null&&o.length>1&&(o=o.popLast(),l=e.field(o)),l===null?i.delete(o):i.set(o,l),r=r.add(o)}return new Ra(n.key,i,new ui(r.toArray()),$n.none())}}function pP(n,t,e){n instanceof sh?(function(r,o,l){const u=r.value.clone(),f=FT(r.fieldTransforms,o,l.transformResults);u.setAll(f),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,t,e):n instanceof Ra?(function(r,o,l){if(!ud(r.precondition,o))return void o.convertToUnknownDocument(l.version);const u=FT(r.fieldTransforms,o,l.transformResults),f=o.data;f.setAll(B1(r)),f.setAll(u),o.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(n,t,e):(function(r,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,t,e)}function bu(n,t,e,i){return n instanceof sh?(function(o,l,u,f){if(!ud(o.precondition,l))return u;const d=o.value.clone(),p=HT(o.fieldTransforms,f,l);return d.setAll(p),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null})(n,t,e,i):n instanceof Ra?(function(o,l,u,f){if(!ud(o.precondition,l))return u;const d=HT(o.fieldTransforms,f,l),p=l.data;return p.setAll(B1(o)),p.setAll(d),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((y=>y.field)))})(n,t,e,i):(function(o,l,u){return ud(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,t,e)}function yP(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=L1(i.transform,r||null);o!=null&&(e===null&&(e=Wn.empty()),e.set(i.field,o))}return e||null}function BT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Pl(i,r,((o,l)=>mP(o,l)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class sh extends em{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ra extends em{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function B1(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function FT(n,t,e){const i=new Map;ie(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let r=0;r<e.length;r++){const o=n[r],l=o.transform,u=t.data.field(o.field);i.set(o.field,fP(l,u,e[r]))}return i}function HT(n,t,e){const i=new Map;for(const r of n){const o=r.transform,l=e.data.field(r.field);i.set(r.field,hP(o,l,t))}return i}class nm extends em{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _P extends em{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vP{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&pP(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=bu(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=bu(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=k1();return this.mutations.forEach((r=>{const o=t.get(r.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=e.has(r.key)?null:u;const f=j1(l,u);f!==null&&i.set(r.key,f),l.isValidDocument()||l.convertToNoDocument(It.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Gt())}isEqual(t){return this.batchId===t.batchId&&Pl(this.mutations,t.mutations,((e,i)=>BT(e,i)))&&Pl(this.baseMutations,t.baseMutations,((e,i)=>BT(e,i)))}}class g_{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){ie(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=(function(){return aP})();const o=t.mutations;for(let l=0;l<o.length;l++)r=r.insert(o[l].key,i[l].version);return new g_(t,e,i,r)}}class bP{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class EP{constructor(t,e){this.count=t,this.unchangedNames=e}}var Ye,Kt;function TP(n){switch(n){case st.OK:return Rt(64938);case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0;default:return Rt(15467,{code:n})}}function F1(n){if(n===void 0)return mr("GRPC error has no .code"),st.UNKNOWN;switch(n){case Ye.OK:return st.OK;case Ye.CANCELLED:return st.CANCELLED;case Ye.UNKNOWN:return st.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return st.INTERNAL;case Ye.UNAVAILABLE:return st.UNAVAILABLE;case Ye.UNAUTHENTICATED:return st.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case Ye.NOT_FOUND:return st.NOT_FOUND;case Ye.ALREADY_EXISTS:return st.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return st.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case Ye.ABORTED:return st.ABORTED;case Ye.OUT_OF_RANGE:return st.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return st.UNIMPLEMENTED;case Ye.DATA_LOSS:return st.DATA_LOSS;default:return Rt(39323,{code:n})}}(Kt=Ye||(Ye={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";function SP(){return new TextEncoder}const xP=new ha([4294967295,4294967295],0);function qT(n){const t=SP().encode(n),e=new i1;return e.update(t),new Uint8Array(e.digest())}function GT(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new ha([e,i],0),new ha([r,o],0)]}class p_{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new cu(`Invalid padding: ${e}`);if(i<0)throw new cu(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new cu(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new cu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=ha.fromNumber(this.ge)}ye(t,e,i){let r=t.add(e.multiply(ha.fromNumber(i)));return r.compare(xP)===1&&(r=new ha([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=qT(t),[i,r]=GT(e);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,r,o);if(!this.we(l))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),l=new p_(o,r,e);return i.forEach((u=>l.insert(u))),l}insert(t){if(this.ge===0)return;const e=qT(t),[i,r]=GT(e);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,r,o);this.Se(l)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class im{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,rh.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new im(It.min(),r,new Ce(qt),gr(),Gt())}}class rh{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new rh(i,e,Gt(),Gt(),Gt())}}class hd{constructor(t,e,i,r){this.be=t,this.removedTargetIds=e,this.key=i,this.De=r}}class H1{constructor(t,e){this.targetId=t,this.Ce=e}}class q1{constructor(t,e,i=bn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class YT{constructor(){this.ve=0,this.Fe=WT(),this.Me=bn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Gt(),e=Gt(),i=Gt();return this.Fe.forEach(((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Rt(38017,{changeType:o})}})),new rh(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=WT()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ie(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class wP{constructor(t){this.Ge=t,this.ze=new Map,this.je=gr(),this.Je=jf(),this.He=jf(),this.Ye=new Ce(qt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:Rt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,r)=>{this.rt(r)&&e(r)}))}st(t){const e=t.targetId,i=t.Ce.count,r=this.ot(e);if(r){const o=r.target;if(py(o))if(i===0){const l=new St(o.path);this.et(e,l,Rn.newNoDocument(l,It.min()))}else ie(i===1,20013,{expectedCount:i});else{const l=this._t(e);if(l!==i){const u=this.ut(t),f=u?this.ct(u,t,l):1;if(f!==0){this.it(e);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,d)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let l,u;try{l=ya(i).toUint8Array()}catch(f){if(f instanceof g1)return kl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new p_(l,r,o)}catch(f){return kl(f instanceof cu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let r=0;return i.forEach((o=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;t.mightContain(u)||(this.et(e,o,null),r++)})),r}Tt(t){const e=new Map;this.ze.forEach(((o,l)=>{const u=this.ot(l);if(u){if(o.current&&py(u.target)){const f=new St(u.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,Rn.newNoDocument(f,t))}o.Be&&(e.set(l,o.ke()),o.qe())}}));let i=Gt();this.He.forEach(((o,l)=>{let u=!0;l.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(i=i.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(t)));const r=new im(t,e,this.Ye,this.je,i);return this.je=gr(),this.Je=jf(),this.He=jf(),this.Ye=new Ce(qt),r}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,e)?r.Qe(e,1):r.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new YT,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Ze(qt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Ze(qt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||gt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new YT),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function jf(){return new Ce(St.comparator)}function WT(){return new Ce(St.comparator)}const AP={asc:"ASCENDING",desc:"DESCENDING"},RP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CP={and:"AND",or:"OR"};class IP{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function vy(n,t){return n.useProto3Json||Xd(t)?t:{value:t}}function Id(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function G1(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function DP(n,t){return Id(n,t.toTimestamp())}function As(n){return ie(!!n,49232),It.fromTimestamp((function(e){const i=pa(e);return new _e(i.seconds,i.nanos)})(n))}function y_(n,t){return by(n,t).canonicalString()}function by(n,t){const e=(function(r){return new me(["projects",r.projectId,"databases",r.database])})(n).child("documents");return t===void 0?e:e.child(t)}function Y1(n){const t=me.fromString(n);return ie(Q1(t),10190,{key:t.toString()}),t}function Ey(n,t){return y_(n.databaseId,t.path)}function kp(n,t){const e=Y1(t);if(e.get(1)!==n.databaseId.projectId)throw new mt(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new mt(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new St(K1(e))}function W1(n,t){return y_(n.databaseId,t)}function MP(n){const t=Y1(n);return t.length===4?me.emptyPath():K1(t)}function Ty(n){return new me(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function K1(n){return ie(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function KT(n,t,e){return{name:Ey(n,t),fields:e.value.mapValue.fields}}function OP(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Rt(39313,{state:d})})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=(function(d,p){return d.useProto3Json?(ie(p===void 0||typeof p=="string",58123),bn.fromBase64String(p||"")):(ie(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),bn.fromUint8Array(p||new Uint8Array))})(n,t.targetChange.resumeToken),l=t.targetChange.cause,u=l&&(function(d){const p=d.code===void 0?st.UNKNOWN:F1(d.code);return new mt(p,d.message||"")})(l);e=new q1(i,r,o,u||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=kp(n,i.document.name),o=As(i.document.updateTime),l=i.document.createTime?As(i.document.createTime):It.min(),u=new Wn({mapValue:{fields:i.document.fields}}),f=Rn.newFoundDocument(r,o,l,u),d=i.targetIds||[],p=i.removedTargetIds||[];e=new hd(d,p,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=kp(n,i.document),o=i.readTime?As(i.readTime):It.min(),l=Rn.newNoDocument(r,o),u=i.removedTargetIds||[];e=new hd([],u,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=kp(n,i.document),o=i.removedTargetIds||[];e=new hd([],o,r,null)}else{if(!("filter"in t))return Rt(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,l=new EP(r,o),u=i.targetId;e=new H1(u,l)}}return e}function NP(n,t){let e;if(t instanceof sh)e={update:KT(n,t.key,t.value)};else if(t instanceof nm)e={delete:Ey(n,t.key)};else if(t instanceof Ra)e={update:KT(n,t.key,t.data),updateMask:FP(t.fieldMask)};else{if(!(t instanceof _P))return Rt(16599,{Vt:t.type});e={verify:Ey(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,l){const u=l.transform;if(u instanceof ku)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Pu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Lu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Cd)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Rt(20930,{transform:l.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:DP(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Rt(27497)})(n,t.precondition)),e}function kP(n,t){return n&&n.length>0?(ie(t!==void 0,14353),n.map((e=>(function(r,o){let l=r.updateTime?As(r.updateTime):As(o);return l.isEqual(It.min())&&(l=As(o)),new gP(l,r.transformResults||[])})(e,t)))):[]}function PP(n,t){return{documents:[W1(n,t.path)]}}function LP(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=W1(n,r);const o=(function(d){if(d.length!==0)return X1(Xi.create(d,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const l=(function(d){if(d.length!==0)return d.map((p=>(function(v){return{field:Sl(v.field),direction:UP(v.dir)}})(p)))})(t.orderBy);l&&(e.structuredQuery.orderBy=l);const u=vy(n,t.limit);return u!==null&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(t.endAt)),{ft:e,parent:r}}function VP(n){let t=MP(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){ie(i===1,65062);const p=e.from[0];p.allDescendants?r=p.collectionId:t=t.child(p.collectionId)}let o=[];e.where&&(o=(function(y){const v=$1(y);return v instanceof Xi&&w1(v)?v.getFilters():[v]})(e.where));let l=[];e.orderBy&&(l=(function(y){return y.map((v=>(function(x){return new Nu(xl(x.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(v)))})(e.orderBy));let u=null;e.limit&&(u=(function(y){let v;return v=typeof y=="object"?y.value:y,Xd(v)?null:v})(e.limit));let f=null;e.startAt&&(f=(function(y){const v=!!y.before,T=y.values||[];return new Rd(T,v)})(e.startAt));let d=null;return e.endAt&&(d=(function(y){const v=!y.before,T=y.values||[];return new Rd(T,v)})(e.endAt)),eP(t,r,l,o,u,"F",f,d)}function zP(n,t){const e=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt(28987,{purpose:r})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function $1(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=xl(e.unaryFilter.field);return We.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=xl(e.unaryFilter.field);return We.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=xl(e.unaryFilter.field);return We.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=xl(e.unaryFilter.field);return We.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rt(61313);default:return Rt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return We.create(xl(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rt(58110);default:return Rt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Xi.create(e.compositeFilter.filters.map((i=>$1(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Rt(1026)}})(e.compositeFilter.op))})(n):Rt(30097,{filter:n})}function UP(n){return AP[n]}function jP(n){return RP[n]}function BP(n){return CP[n]}function Sl(n){return{fieldPath:n.canonicalString()}}function xl(n){return vn.fromServerFormat(n.fieldPath)}function X1(n){return n instanceof We?(function(e){if(e.op==="=="){if(PT(e.value))return{unaryFilter:{field:Sl(e.field),op:"IS_NAN"}};if(kT(e.value))return{unaryFilter:{field:Sl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(PT(e.value))return{unaryFilter:{field:Sl(e.field),op:"IS_NOT_NAN"}};if(kT(e.value))return{unaryFilter:{field:Sl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sl(e.field),op:jP(e.op),value:e.value}}})(n):n instanceof Xi?(function(e){const i=e.getFilters().map((r=>X1(r)));return i.length===1?i[0]:{compositeFilter:{op:BP(e.op),filters:i}}})(n):Rt(54877,{filter:n})}function FP(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Q1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class ia{constructor(t,e,i,r,o=It.min(),l=It.min(),u=bn.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(t){return new ia(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class HP{constructor(t){this.yt=t}}function qP(n){const t=VP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?_y(t,t.limit,"L"):t}class GP{constructor(){this.Cn=new YP}addToCollectionParentIndex(t,e){return this.Cn.add(e),lt.resolve()}getCollectionParents(t,e){return lt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return lt.resolve()}deleteFieldIndex(t,e){return lt.resolve()}deleteAllFieldIndexes(t){return lt.resolve()}createTargetIndexes(t,e){return lt.resolve()}getDocumentsMatchingTarget(t,e){return lt.resolve(null)}getIndexType(t,e){return lt.resolve(0)}getFieldIndexes(t,e){return lt.resolve([])}getNextCollectionGroupToUpdate(t){return lt.resolve(null)}getMinOffset(t,e){return lt.resolve(ga.min())}getMinOffsetFromCollectionGroup(t,e){return lt.resolve(ga.min())}updateCollectionGroup(t,e,i){return lt.resolve()}updateIndexEntries(t,e){return lt.resolve()}}class YP{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Ze(me.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Ze(me.comparator)).toArray()}}const $T={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},J1=41943040;class Yn{static withCacheSize(t){return new Yn(t,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}Yn.DEFAULT_COLLECTION_PERCENTILE=10,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yn.DEFAULT=new Yn(J1,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yn.DISABLED=new Yn(-1,0,0);class zl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new zl(0)}static cr(){return new zl(-1)}}const XT="LruGarbageCollector",WP=1048576;function QT([n,t],[e,i]){const r=qt(n,e);return r===0?qt(t,i):r}class KP{constructor(t){this.Ir=t,this.buffer=new Ze(QT),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();QT(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class $P{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){gt(XT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Xl(e)?gt(XT,"Ignoring IndexedDB error during garbage collection: ",e):await $l(e)}await this.Vr(3e5)}))}}class XP{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return lt.resolve($d.ce);const i=new KP(e);return this.mr.forEachTarget(t,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(t,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(gt("LruGarbageCollector","Garbage collection skipped; disabled"),lt.resolve($T)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$T):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,r,o,l,u,f,d;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(gt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),r=this.params.maximumSequenceNumbersToCollect):r=y,l=Date.now(),this.nthSequenceNumber(t,r)))).next((y=>(i=y,u=Date.now(),this.removeTargets(t,i,e)))).next((y=>(o=y,f=Date.now(),this.removeOrphanedDocuments(t,i)))).next((y=>(d=Date.now(),El()<=Ht.DEBUG&&gt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${r} in `+(u-l)+`ms
	Removed ${o} targets in `+(f-u)+`ms
	Removed ${y} documents in `+(d-f)+`ms
Total Duration: ${d-p}ms`),lt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:y}))))}}function QP(n,t){return new XP(n,t)}class JP{constructor(){this.changes=new Co((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Rn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?lt.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class ZP{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class tL{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(i=r,this.remoteDocumentCache.getEntry(t,e)))).next((r=>(i!==null&&bu(i.mutation,r,ui.empty(),_e.now()),r)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Gt()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Gt()){const r=fo();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,i).next((o=>{let l=lu();return o.forEach(((u,f)=>{l=l.insert(u,f.overlayedDocument)})),l}))))}getOverlayedDocuments(t,e){const i=fo();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Gt())))}populateOverlays(t,e,i){const r=[];return i.forEach((o=>{e.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(t,r).next((o=>{o.forEach(((l,u)=>{e.set(l,u)}))}))}computeViews(t,e,i,r){let o=gr();const l=vu(),u=(function(){return vu()})();return e.forEach(((f,d)=>{const p=i.get(d.key);r.has(d.key)&&(p===void 0||p.mutation instanceof Ra)?o=o.insert(d.key,d):p!==void 0?(l.set(d.key,p.mutation.getFieldMask()),bu(p.mutation,d,p.mutation.getFieldMask(),_e.now())):l.set(d.key,ui.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((d,p)=>l.set(d,p))),e.forEach(((d,p)=>u.set(d,new ZP(p,l.get(d)??null)))),u)))}recalculateAndSaveOverlays(t,e){const i=vu();let r=new Ce(((l,u)=>l-u)),o=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((l=>{for(const u of l)u.keys().forEach((f=>{const d=e.get(f);if(d===null)return;let p=i.get(f)||ui.empty();p=u.applyToLocalView(d,p),i.set(f,p);const y=(r.get(u.batchId)||Gt()).add(f);r=r.insert(u.batchId,y)}))})).next((()=>{const l=[],u=r.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),d=f.key,p=f.value,y=k1();p.forEach((v=>{if(!o.has(v)){const T=j1(e.get(v),i.get(v));T!==null&&y.set(v,T),o=o.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(t,d,y))}return lt.waitFor(l)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,r){return(function(l){return St.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):I1(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next((o=>{const l=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):lt.resolve(fo());let u=Iu,f=o;return l.next((d=>lt.forEach(d,((p,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),o.get(p)?lt.resolve():this.remoteDocumentCache.getEntry(t,p).next((v=>{f=f.insert(p,v)}))))).next((()=>this.populateOverlays(t,d,o))).next((()=>this.computeViews(t,f,d,Gt()))).next((p=>({batchId:u,changes:N1(p)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new St(e)).next((i=>{let r=lu();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let l=lu();return this.indexManager.getCollectionParents(t,o).next((u=>lt.forEach(u,(f=>{const d=(function(y,v){return new Ql(v,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,i,r).next((p=>{p.forEach(((y,v)=>{l=l.insert(y,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r)))).next((l=>{o.forEach(((f,d)=>{const p=d.getKey();l.get(p)===null&&(l=l.insert(p,Rn.newInvalidDocument(p)))}));let u=lu();return l.forEach(((f,d)=>{const p=o.get(f);p!==void 0&&bu(p.mutation,d,ui.empty(),_e.now()),Zd(e,d)&&(u=u.insert(f,d))})),u}))}}class eL{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return lt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:As(r.createTime)}})(e)),lt.resolve()}getNamedQuery(t,e){return lt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(r){return{name:r.name,query:qP(r.bundledQuery),readTime:As(r.readTime)}})(e)),lt.resolve()}}class nL{constructor(){this.overlays=new Ce(St.comparator),this.qr=new Map}getOverlay(t,e){return lt.resolve(this.overlays.get(e))}getOverlays(t,e){const i=fo();return lt.forEach(e,(r=>this.getOverlay(t,r).next((o=>{o!==null&&i.set(r,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((r,o)=>{this.St(t,e,o)})),lt.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),lt.resolve()}getOverlaysForCollection(t,e,i){const r=fo(),o=e.length+1,l=new St(e.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,d=f.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return lt.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new Ce(((d,p)=>d-p));const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>i){let p=o.get(d.largestBatchId);p===null&&(p=fo(),o=o.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const u=fo(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,p)=>u.set(d,p))),!(u.size()>=r)););return lt.resolve(u)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new bP(e,i));let o=this.qr.get(e);o===void 0&&(o=Gt(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}class iL{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(t){return lt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,lt.resolve()}}class __{constructor(){this.Qr=new Ze(an.$r),this.Ur=new Ze(an.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new an(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new an(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new St(new me([])),i=new an(e,t),r=new an(e,t+1),o=[];return this.Ur.forEachInRange([i,r],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new St(new me([])),i=new an(e,t),r=new an(e,t+1);let o=Gt();return this.Ur.forEachInRange([i,r],(l=>{o=o.add(l.key)})),o}containsKey(t){const e=new an(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class an{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return St.comparator(t.key,e.key)||qt(t.Yr,e.Yr)}static Kr(t,e){return qt(t.Yr,e.Yr)||St.comparator(t.key,e.key)}}class sL{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Ze(an.$r)}checkEmpty(t){return lt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new vP(o,e,i,r);this.mutationQueue.push(l);for(const u of r)this.Zr=this.Zr.add(new an(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return lt.resolve(l)}lookupMutationBatch(t,e){return lt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ei(i),o=r<0?0:r;return lt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return lt.resolve(this.mutationQueue.length===0?l_:this.tr-1)}getAllMutationBatches(t){return lt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new an(e,0),r=new an(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,r],(l=>{const u=this.Xr(l.Yr);o.push(u)})),lt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ze(qt);return e.forEach((r=>{const o=new an(r,0),l=new an(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(u=>{i=i.add(u.Yr)}))})),lt.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;St.isDocumentKey(o)||(o=o.child(""));const l=new an(new St(o),0);let u=new Ze(qt);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(u=u.add(f.Yr)),!0)}),l),lt.resolve(this.ti(u))}ti(t){const e=[];return t.forEach((i=>{const r=this.Xr(i);r!==null&&e.push(r)})),e}removeMutationBatch(t,e){ie(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return lt.forEach(e.mutations,(r=>{const o=new an(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new an(e,0),r=this.Zr.firstAfterOrEqual(i);return lt.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,lt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class rL{constructor(t){this.ri=t,this.docs=(function(){return new Ce(St.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,l=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return lt.resolve(i?i.document.mutableCopy():Rn.newInvalidDocument(e))}getEntries(t,e){let i=gr();return e.forEach((r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Rn.newInvalidDocument(r))})),lt.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=gr();const l=e.path,u=new St(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:d,value:{document:p}}=f.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||Nk(Ok(p),i)<=0||(r.has(p.key)||Zd(e,p))&&(o=o.insert(p.key,p.mutableCopy()))}return lt.resolve(o)}getAllFromCollectionGroup(t,e,i,r){Rt(9500)}ii(t,e){return lt.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new aL(this)}getSize(t){return lt.resolve(this.size)}}class aL extends JP{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?e.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(i)})),lt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class oL{constructor(t){this.persistence=t,this.si=new Co((e=>h_(e)),f_),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.oi=0,this._i=new __,this.targetCount=0,this.ai=zl.ur()}forEachTarget(t,e){return this.si.forEach(((i,r)=>e(r))),lt.resolve()}getLastRemoteSnapshotVersion(t){return lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return lt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),lt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),lt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new zl(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,lt.resolve()}updateTargetData(t,e){return this.Pr(e),lt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,lt.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=e&&i.get(u.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)})),lt.waitFor(o).next((()=>r))}getTargetCount(t){return lt.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return lt.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),lt.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach((l=>{o.push(r.markPotentiallyOrphaned(t,l))})),lt.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),lt.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return lt.resolve(i)}containsKey(t,e){return lt.resolve(this._i.containsKey(e))}}class Z1{constructor(t,e){this.ui={},this.overlays={},this.ci=new $d(0),this.li=!1,this.li=!0,this.hi=new iL,this.referenceDelegate=t(this),this.Pi=new oL(this),this.indexManager=new GP,this.remoteDocumentCache=(function(r){return new rL(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new HP(e),this.Ii=new eL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new nL,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new sL(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){gt("MemoryPersistence","Starting transaction:",t);const r=new lL(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((o=>this.referenceDelegate.di(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ai(t,e){return lt.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class lL extends Pk{constructor(t){super(),this.currentSequenceNumber=t}}class v_{constructor(t){this.persistence=t,this.Ri=new __,this.Vi=null}static mi(t){return new v_(t)}get fi(){if(this.Vi)return this.Vi;throw Rt(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),lt.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),lt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),lt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((r=>{r.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lt.forEach(this.fi,(i=>{const r=St.fromPath(i);return this.gi(t,r).next((o=>{o||e.removeEntry(r,It.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return lt.or([()=>lt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Dd{constructor(t,e){this.persistence=t,this.pi=new Co((i=>zk(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=QP(this,e)}static mi(t,e){return new Dd(t,e)}Ei(){}di(t){return lt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((r=>i+r))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return lt.forEach(this.pi,((i,r)=>this.br(t,i,r).next((o=>o?lt.resolve():e(r)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(t,(l=>this.br(t,l,e).next((u=>{u||(i++,o.removeEntry(l,It.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),lt.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),lt.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),lt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),lt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=ld(t.data.value)),e}br(t,e,i){return lt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.pi.get(e);return lt.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class b_{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=r}static As(t,e){let i=Gt(),r=Gt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new b_(t,e.fromCache,i,r)}}class cL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class uL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return FD()?8:Lk(In())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ys(t,e).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(t,e,r,i).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new cL;return this.Ss(t,e,l).next((u=>{if(o.result=u,this.Vs)return this.bs(t,e,l,u.size)}))})).next((()=>o.result))}bs(t,e,i,r){return i.documentReadCount<this.fs?(El()<=Ht.DEBUG&&gt("QueryEngine","SDK will not create cache indexes for query:",Tl(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),lt.resolve()):(El()<=Ht.DEBUG&&gt("QueryEngine","Query:",Tl(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(El()<=Ht.DEBUG&&gt("QueryEngine","The SDK decides to create cache indexes for query:",Tl(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ws(e))):lt.resolve())}ys(t,e){if(UT(e))return lt.resolve(null);let i=ws(e);return this.indexManager.getIndexType(t,i).next((r=>r===0?null:(e.limit!==null&&r===1&&(e=_y(e,null,"F"),i=ws(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const l=Gt(...o);return this.ps.getDocuments(t,l).next((u=>this.indexManager.getMinOffset(t,i).next((f=>{const d=this.Ds(e,u);return this.Cs(e,d,l,f.readTime)?this.ys(t,_y(e,null,"F")):this.vs(t,d,e,f)}))))})))))}ws(t,e,i,r){return UT(e)||r.isEqual(It.min())?lt.resolve(null):this.ps.getDocuments(t,i).next((o=>{const l=this.Ds(e,o);return this.Cs(e,l,i,r)?lt.resolve(null):(El()<=Ht.DEBUG&&gt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Tl(e)),this.vs(t,l,e,Mk(r,Iu)).next((u=>u)))}))}Ds(t,e){let i=new Ze(M1(t));return e.forEach(((r,o)=>{Zd(t,o)&&(i=i.add(o))})),i}Cs(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(t,e,i){return El()<=Ht.DEBUG&&gt("QueryEngine","Using full collection scan to execute query:",Tl(e)),this.ps.getDocumentsMatchingQuery(t,e,ga.min(),i)}vs(t,e,i,r){return this.ps.getDocumentsMatchingQuery(t,i,r).next((o=>(e.forEach((l=>{o=o.insert(l.key,l)})),o)))}}const E_="LocalStore",hL=3e8;class fL{constructor(t,e,i,r){this.persistence=t,this.Fs=e,this.serializer=r,this.Ms=new Ce(qt),this.xs=new Co((o=>h_(o)),f_),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new tL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function dL(n,t,e,i){return new fL(n,t,e,i)}async function tA(n,t){const e=Nt(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next((o=>(r=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const l=[],u=[];let f=Gt();for(const d of r){l.push(d.batchId);for(const p of d.mutations)f=f.add(p.key)}for(const d of o){u.push(d.batchId);for(const p of d.mutations)f=f.add(p.key)}return e.localDocuments.getDocuments(i,f).next((d=>({Ls:d,removedBatchIds:l,addedBatchIds:u})))}))}))}function mL(n,t){const e=Nt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,f,d,p){const y=d.batch,v=y.keys();let T=lt.resolve();return v.forEach((x=>{T=T.next((()=>p.getEntry(f,x))).next((w=>{const A=d.docVersions.get(x);ie(A!==null,48541),w.version.compareTo(A)<0&&(y.applyToRemoteDocument(w,d),w.isValidDocument()&&(w.setReadTime(d.commitVersion),p.addEntry(w)))}))})),T.next((()=>u.mutationQueue.removeMutationBatch(f,y)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(u){let f=Gt();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(f=f.add(u.batch.mutations[d].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(i,r)))}))}function eA(n){const t=Nt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function gL(n,t){const e=Nt(n),i=t.snapshotVersion;let r=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=e.Ns.newChangeBuffer({trackRemovals:!0});r=e.Ms;const u=[];t.targetChanges.forEach(((p,y)=>{const v=r.get(y);if(!v)return;u.push(e.Pi.removeMatchingKeys(o,p.removedDocuments,y).next((()=>e.Pi.addMatchingKeys(o,p.addedDocuments,y))));let T=v.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(y)!==null?T=T.withResumeToken(bn.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):p.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(p.resumeToken,i)),r=r.insert(y,T),(function(w,A,D){return w.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=hL?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0})(v,T,p)&&u.push(e.Pi.updateTargetData(o,T))}));let f=gr(),d=Gt();if(t.documentUpdates.forEach((p=>{t.resolvedLimboDocuments.has(p)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(o,p))})),u.push(pL(o,l,t.documentUpdates).next((p=>{f=p.ks,d=p.qs}))),!i.isEqual(It.min())){const p=e.Pi.getLastRemoteSnapshotVersion(o).next((y=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));u.push(p)}return lt.waitFor(u).next((()=>l.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(e.Ms=r,o)))}function pL(n,t,e){let i=Gt(),r=Gt();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let l=gr();return e.forEach(((u,f)=>{const d=o.get(u);f.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(u)),f.isNoDocument()&&f.version.isEqual(It.min())?(t.removeEntry(u,f.readTime),l=l.insert(u,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(f),l=l.insert(u,f)):gt(E_,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",f.version)})),{ks:l,qs:r}}))}function yL(n,t){const e=Nt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=l_),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function _L(n,t){const e=Nt(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return e.Pi.getTargetData(i,t).next((o=>o?(r=o,lt.resolve(r)):e.Pi.allocateTargetId(i).next((l=>(r=new ia(t,l,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=e.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function Sy(n,t,e){const i=Nt(n),r=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!Xl(l))throw l;gt(E_,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function JT(n,t,e){const i=Nt(n);let r=It.min(),o=Gt();return i.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,d,p){const y=Nt(f),v=y.xs.get(p);return v!==void 0?lt.resolve(y.Ms.get(v)):y.Pi.getTargetData(d,p)})(i,l,ws(t)).next((u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(l,u.targetId).next((f=>{o=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(l,t,e?r:It.min(),e?o:Gt()))).next((u=>(vL(i,iP(t),u),{documents:u,Qs:o})))))}function vL(n,t,e){let i=n.Os.get(t)||It.min();e.forEach(((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(t,i)}class ZT{constructor(){this.activeTargetIds=cP()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class bL{constructor(){this.Mo=new ZT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new ZT,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class EL{Oo(t){}shutdown(){}}const tS="ConnectivityMonitor";class eS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){gt(tS,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){gt(tS,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Bf=null;function xy(){return Bf===null?Bf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bf++,"0x"+Bf.toString(16)}const Pp="RestConnection",TL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SL{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===wd?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(t,e,i,r,o){const l=xy(),u=this.zo(t,e.toUriEncodedString());gt(Pp,`Sending RPC '${t}' ${l}:`,u,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,r,o);const{host:d}=new URL(u),p=Gl(d);return this.Jo(t,u,f,i,p).then((y=>(gt(Pp,`Received RPC '${t}' ${l}: `,y),y)),(y=>{throw kl(Pp,`RPC '${t}' ${l} failed with error: `,y,"url: ",u,"request:",i),y}))}Ho(t,e,i,r,o,l){return this.Go(t,e,i,r,o)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Kl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((r,o)=>t[o]=r)),i&&i.headers.forEach(((r,o)=>t[o]=r))}zo(t,e){const i=TL[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}class xL{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Sn="WebChannelConnection";class wL extends SL{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,r,o){const l=xy();return new Promise(((u,f)=>{const d=new s1;d.setWithCredentials(!0),d.listenOnce(r1.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case od.NO_ERROR:const y=d.getResponseJson();gt(Sn,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(y)),u(y);break;case od.TIMEOUT:gt(Sn,`RPC '${t}' ${l} timed out`),f(new mt(st.DEADLINE_EXCEEDED,"Request time out"));break;case od.HTTP_ERROR:const v=d.getStatus();if(gt(Sn,`RPC '${t}' ${l} failed with status:`,v,"response text:",d.getResponseText()),v>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const x=T?.error;if(x&&x.status&&x.message){const w=(function(D){const z=D.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(z)>=0?z:st.UNKNOWN})(x.status);f(new mt(w,x.message))}else f(new mt(st.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new mt(st.UNAVAILABLE,"Connection failed."));break;default:Rt(9055,{l_:t,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{gt(Sn,`RPC '${t}' ${l} completed.`)}}));const p=JSON.stringify(r);gt(Sn,`RPC '${t}' ${l} sending request:`,r),d.send(e,"POST",p,i,15)}))}T_(t,e,i){const r=xy(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=l1(),u=o1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const p=o.join("");gt(Sn,`Creating RPC '${t}' stream ${r}: ${p}`,f);const y=l.createWebChannel(p,f);this.I_(y);let v=!1,T=!1;const x=new xL({Yo:A=>{T?gt(Sn,`Not sending because RPC '${t}' stream ${r} is closed:`,A):(v||(gt(Sn,`Opening RPC '${t}' stream ${r} transport.`),y.open(),v=!0),gt(Sn,`RPC '${t}' stream ${r} sending:`,A),y.send(A))},Zo:()=>y.close()}),w=(A,D,z)=>{A.listen(D,(B=>{try{z(B)}catch(q){setTimeout((()=>{throw q}),0)}}))};return w(y,ou.EventType.OPEN,(()=>{T||(gt(Sn,`RPC '${t}' stream ${r} transport opened.`),x.o_())})),w(y,ou.EventType.CLOSE,(()=>{T||(T=!0,gt(Sn,`RPC '${t}' stream ${r} transport closed`),x.a_(),this.E_(y))})),w(y,ou.EventType.ERROR,(A=>{T||(T=!0,kl(Sn,`RPC '${t}' stream ${r} transport errored. Name:`,A.name,"Message:",A.message),x.a_(new mt(st.UNAVAILABLE,"The operation could not be completed")))})),w(y,ou.EventType.MESSAGE,(A=>{if(!T){const D=A.data[0];ie(!!D,16349);const z=D,B=z?.error||z[0]?.error;if(B){gt(Sn,`RPC '${t}' stream ${r} received error:`,B);const q=B.status;let H=(function(C){const N=Ye[C];if(N!==void 0)return F1(N)})(q),K=B.message;H===void 0&&(H=st.INTERNAL,K="Unknown error status: "+q+" with message "+B.message),T=!0,x.a_(new mt(H,K)),y.close()}else gt(Sn,`RPC '${t}' stream ${r} received:`,D),x.u_(D)}})),w(u,a1.STAT_EVENT,(A=>{A.stat===hy.PROXY?gt(Sn,`RPC '${t}' stream ${r} detected buffering proxy`):A.stat===hy.NOPROXY&&gt(Sn,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{x.__()}),0),x}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function Lp(){return typeof document<"u"?document:null}function sm(n){return new IP(n,!0)}class nA{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&gt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const nS="PersistentStream";class iA{constructor(t,e,i,r,o,l,u,f){this.Mi=t,this.S_=i,this.b_=r,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nA(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===st.RESOURCE_EXHAUSTED?(mr(e.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===e&&this.G_(i,r)}),(i=>{t((()=>{const r=new mt(st.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return gt(nS,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(gt(nS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class AL extends iA{constructor(t,e,i,r,o,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,l),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=OP(this.serializer,t),i=(function(o){if(!("targetChange"in o))return It.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?It.min():l.readTime?As(l.readTime):It.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=Ty(this.serializer),e.addTarget=(function(o,l){let u;const f=l.target;if(u=py(f)?{documents:PP(o,f)}:{query:LP(o,f).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=G1(o,l.resumeToken);const d=vy(o,l.expectedCount);d!==null&&(u.expectedCount=d)}else if(l.snapshotVersion.compareTo(It.min())>0){u.readTime=Id(o,l.snapshotVersion.toTimestamp());const d=vy(o,l.expectedCount);d!==null&&(u.expectedCount=d)}return u})(this.serializer,t);const i=zP(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=Ty(this.serializer),e.removeTarget=t,this.q_(e)}}class RL extends iA{constructor(t,e,i,r,o,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return ie(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ie(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ie(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=kP(t.writeResults,t.commitTime),i=As(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=Ty(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>NP(this.serializer,i)))};this.q_(e)}}class CL{}class IL extends CL{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new mt(st.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(t,by(e,i),r,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new mt(st.UNKNOWN,o.toString())}))}Ho(t,e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(t,by(e,i),r,l,u,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new mt(st.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class DL{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mr(e),this.aa=!1):gt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const So="RemoteStore";class ML{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{i.enqueueAndForget((async()=>{Io(this)&&(gt(So,"Restarting streams for network reachability change."),await(async function(f){const d=Nt(f);d.Ea.add(4),await ah(d),d.Ra.set("Unknown"),d.Ea.delete(4),await rm(d)})(this))}))})),this.Ra=new DL(i,r)}}async function rm(n){if(Io(n))for(const t of n.da)await t(!0)}async function ah(n){for(const t of n.da)await t(!1)}function sA(n,t){const e=Nt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),w_(e)?x_(e):Jl(e).O_()&&S_(e,t))}function T_(n,t){const e=Nt(n),i=Jl(e);e.Ia.delete(t),i.O_()&&rA(e,t),e.Ia.size===0&&(i.O_()?i.L_():Io(e)&&e.Ra.set("Unknown"))}function S_(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(It.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Jl(n).Y_(t)}function rA(n,t){n.Va.Ue(t),Jl(n).Z_(t)}function x_(n){n.Va=new wP({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Jl(n).start(),n.Ra.ua()}function w_(n){return Io(n)&&!Jl(n).x_()&&n.Ia.size>0}function Io(n){return Nt(n).Ea.size===0}function aA(n){n.Va=void 0}async function OL(n){n.Ra.set("Online")}async function NL(n){n.Ia.forEach(((t,e)=>{S_(n,t)}))}async function kL(n,t){aA(n),w_(n)?(n.Ra.ha(t),x_(n)):n.Ra.set("Unknown")}async function PL(n,t,e){if(n.Ra.set("Online"),t instanceof q1&&t.state===2&&t.cause)try{await(async function(r,o){const l=o.cause;for(const u of o.targetIds)r.Ia.has(u)&&(await r.remoteSyncer.rejectListen(u,l),r.Ia.delete(u),r.Va.removeTarget(u))})(n,t)}catch(i){gt(So,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Md(n,i)}else if(t instanceof hd?n.Va.Ze(t):t instanceof H1?n.Va.st(t):n.Va.tt(t),!e.isEqual(It.min()))try{const i=await eA(n.localStore);e.compareTo(i)>=0&&await(function(o,l){const u=o.Va.Tt(l);return u.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const p=o.Ia.get(d);p&&o.Ia.set(d,p.withResumeToken(f.resumeToken,l))}})),u.targetMismatches.forEach(((f,d)=>{const p=o.Ia.get(f);if(!p)return;o.Ia.set(f,p.withResumeToken(bn.EMPTY_BYTE_STRING,p.snapshotVersion)),rA(o,f);const y=new ia(p.target,f,d,p.sequenceNumber);S_(o,y)})),o.remoteSyncer.applyRemoteEvent(u)})(n,e)}catch(i){gt(So,"Failed to raise snapshot:",i),await Md(n,i)}}async function Md(n,t,e){if(!Xl(t))throw t;n.Ea.add(1),await ah(n),n.Ra.set("Offline"),e||(e=()=>eA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{gt(So,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await rm(n)}))}function oA(n,t){return t().catch((e=>Md(n,e,t)))}async function am(n){const t=Nt(n),e=va(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:l_;for(;LL(t);)try{const r=await yL(t.localStore,i);if(r===null){t.Ta.length===0&&e.L_();break}i=r.batchId,VL(t,r)}catch(r){await Md(t,r)}lA(t)&&cA(t)}function LL(n){return Io(n)&&n.Ta.length<10}function VL(n,t){n.Ta.push(t);const e=va(n);e.O_()&&e.X_&&e.ea(t.mutations)}function lA(n){return Io(n)&&!va(n).x_()&&n.Ta.length>0}function cA(n){va(n).start()}async function zL(n){va(n).ra()}async function UL(n){const t=va(n);for(const e of n.Ta)t.ea(e.mutations)}async function jL(n,t,e){const i=n.Ta.shift(),r=g_.from(i,t,e);await oA(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await am(n)}async function BL(n,t){t&&va(n).X_&&await(async function(i,r){if((function(l){return TP(l)&&l!==st.ABORTED})(r.code)){const o=i.Ta.shift();va(i).B_(),await oA(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r))),await am(i)}})(n,t),lA(n)&&cA(n)}async function iS(n,t){const e=Nt(n);e.asyncQueue.verifyOperationInProgress(),gt(So,"RemoteStore received new credentials");const i=Io(e);e.Ea.add(3),await ah(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await rm(e)}async function FL(n,t){const e=Nt(n);t?(e.Ea.delete(2),await rm(e)):t||(e.Ea.add(2),await ah(e),e.Ra.set("Unknown"))}function Jl(n){return n.ma||(n.ma=(function(e,i,r){const o=Nt(e);return o.sa(),new AL(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:OL.bind(null,n),t_:NL.bind(null,n),r_:kL.bind(null,n),H_:PL.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),w_(n)?x_(n):n.Ra.set("Unknown")):(await n.ma.stop(),aA(n))}))),n.ma}function va(n){return n.fa||(n.fa=(function(e,i,r){const o=Nt(e);return o.sa(),new RL(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:zL.bind(null,n),r_:BL.bind(null,n),ta:UL.bind(null,n),na:jL.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await am(n)):(await n.fa.stop(),n.Ta.length>0&&(gt(So,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class A_{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new fa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const l=Date.now()+i,u=new A_(t,e,l,r,o);return u.start(i),u}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(st.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function R_(n,t){if(mr("AsyncQueue",`${t}: ${n}`),Xl(n))return new mt(st.UNAVAILABLE,`${t}: ${n}`);throw n}class Dl{static emptySet(t){return new Dl(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||St.comparator(e.key,i.key):(e,i)=>St.comparator(e.key,i.key),this.keyedMap=lu(),this.sortedSet=new Ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Dl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Dl;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class sS{constructor(){this.ga=new Ce(St.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Rt(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class Ul{constructor(t,e,i,r,o,l,u,f,d){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(t,e,i,r,o){const l=[];return e.forEach((u=>{l.push({type:0,doc:u})})),new Ul(t,e,Dl.emptySet(e),l,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Jd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class HL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class qL{constructor(){this.queries=rS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=Nt(e),o=r.queries;r.queries=rS(),o.forEach(((l,u)=>{for(const f of u.Sa)f.onError(i)}))})(this,new mt(st.ABORTED,"Firestore shutting down"))}}function rS(){return new Co((n=>D1(n)),Jd)}async function uA(n,t){const e=Nt(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.ba()&&t.Da()&&(i=2):(o=new HL,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(r,!0);break;case 1:o.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(l){const u=R_(l,`Initialization of query '${Tl(t.query)}' failed`);return void t.onError(u)}e.queries.set(r,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&C_(e)}async function hA(n,t){const e=Nt(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const l=o.Sa.indexOf(t);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?r=t.Da()?0:1:!o.ba()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function GL(n,t){const e=Nt(n);let i=!1;for(const r of t){const o=r.query,l=e.queries.get(o);if(l){for(const u of l.Sa)u.Fa(r)&&(i=!0);l.wa=r}}i&&C_(e)}function YL(n,t,e){const i=Nt(n),r=i.queries.get(t);if(r)for(const o of r.Sa)o.onError(e);i.queries.delete(t)}function C_(n){n.Ca.forEach((t=>{t.next()}))}var wy,aS;(aS=wy||(wy={})).Ma="default",aS.Cache="cache";class fA{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Ul(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Ul.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==wy.Cache}}class dA{constructor(t){this.key=t}}class mA{constructor(t){this.key=t}}class WL{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Gt(),this.mutatedKeys=Gt(),this.eu=M1(t),this.tu=new Dl(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new sS,r=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,l=r,u=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((p,y)=>{const v=r.get(p),T=Zd(this.query,y)?y:null,x=!!v&&this.mutatedKeys.has(v.key),w=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let A=!1;v&&T?v.data.isEqual(T.data)?x!==w&&(i.track({type:3,doc:T}),A=!0):this.su(v,T)||(i.track({type:2,doc:T}),A=!0,(f&&this.eu(T,f)>0||d&&this.eu(T,d)<0)&&(u=!0)):!v&&T?(i.track({type:0,doc:T}),A=!0):v&&!T&&(i.track({type:1,doc:v}),A=!0,(f||d)&&(u=!0)),A&&(T?(l=l.add(T),o=w?o.add(p):o.delete(p)):(l=l.delete(p),o=o.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),o=o.delete(p.key),i.track({type:1,doc:p})}return{tu:l,iu:i,Cs:u,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const l=t.iu.ya();l.sort(((p,y)=>(function(T,x){const w=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt(20277,{Rt:A})}};return w(T)-w(x)})(p.type,y.type)||this.eu(p.doc,y.doc))),this.ou(i),r=r??!1;const u=e&&!r?this._u():[],f=this.Xa.size===0&&this.current&&!r?1:0,d=f!==this.Za;return this.Za=f,l.length!==0||d?{snapshot:new Ul(this.query,t.tu,o,l,t.mutatedKeys,f===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Gt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new mA(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new dA(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=Gt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Ul.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const I_="SyncEngine";class KL{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class $L{constructor(t){this.key=t,this.hu=!1}}class XL{constructor(t,e,i,r,o,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Co((u=>D1(u)),Jd),this.Iu=new Map,this.Eu=new Set,this.du=new Ce(St.comparator),this.Au=new Map,this.Ru=new __,this.Vu={},this.mu=new Map,this.fu=zl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function QL(n,t,e=!0){const i=bA(n);let r;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await gA(i,t,e,!0),r}async function JL(n,t){const e=bA(n);await gA(e,t,!0,!1)}async function gA(n,t,e,i){const r=await _L(n.localStore,ws(t)),o=r.targetId,l=n.sharedClientState.addLocalQueryTarget(o,e);let u;return i&&(u=await ZL(n,t,o,l==="current",r.resumeToken)),n.isPrimaryClient&&e&&sA(n.remoteStore,r),u}async function ZL(n,t,e,i,r){n.pu=(y,v,T)=>(async function(w,A,D,z){let B=A.view.ru(D);B.Cs&&(B=await JT(w.localStore,A.query,!1).then((({documents:I})=>A.view.ru(I,B))));const q=z&&z.targetChanges.get(A.targetId),H=z&&z.targetMismatches.get(A.targetId)!=null,K=A.view.applyChanges(B,w.isPrimaryClient,q,H);return lS(w,A.targetId,K.au),K.snapshot})(n,y,v,T);const o=await JT(n.localStore,t,!0),l=new WL(t,o.Qs),u=l.ru(o.documents),f=rh.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),d=l.applyChanges(u,n.isPrimaryClient,f);lS(n,e,d.au);const p=new KL(t,e,l);return n.Tu.set(t,p),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),d.snapshot}async function tV(n,t,e){const i=Nt(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter((l=>!Jd(l,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Sy(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),e&&T_(i.remoteStore,r.targetId),Ay(i,r.targetId)})).catch($l)):(Ay(i,r.targetId),await Sy(i.localStore,r.targetId,!0))}async function eV(n,t){const e=Nt(n),i=e.Tu.get(t),r=e.Iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),T_(e.remoteStore,i.targetId))}async function nV(n,t,e){const i=cV(n);try{const r=await(function(l,u){const f=Nt(l),d=_e.now(),p=u.reduce(((T,x)=>T.add(x.key)),Gt());let y,v;return f.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let x=gr(),w=Gt();return f.Ns.getEntries(T,p).next((A=>{x=A,x.forEach(((D,z)=>{z.isValidDocument()||(w=w.add(D))}))})).next((()=>f.localDocuments.getOverlayedDocuments(T,x))).next((A=>{y=A;const D=[];for(const z of u){const B=yP(z,y.get(z.key).overlayedDocument);B!=null&&D.push(new Ra(z.key,B,T1(B.value.mapValue),$n.exists(!0)))}return f.mutationQueue.addMutationBatch(T,d,D,u)})).next((A=>{v=A;const D=A.applyToLocalDocumentSet(y,w);return f.documentOverlayCache.saveOverlays(T,A.batchId,D)}))})).then((()=>({batchId:v.batchId,changes:N1(y)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),(function(l,u,f){let d=l.Vu[l.currentUser.toKey()];d||(d=new Ce(qt)),d=d.insert(u,f),l.Vu[l.currentUser.toKey()]=d})(i,r.batchId,e),await oh(i,r.changes),await am(i.remoteStore)}catch(r){const o=R_(r,"Failed to persist write");e.reject(o)}}async function pA(n,t){const e=Nt(n);try{const i=await gL(e.localStore,t);t.targetChanges.forEach(((r,o)=>{const l=e.Au.get(o);l&&(ie(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?l.hu=!0:r.modifiedDocuments.size>0?ie(l.hu,14607):r.removedDocuments.size>0&&(ie(l.hu,42227),l.hu=!1))})),await oh(e,i,t)}catch(i){await $l(i)}}function oS(n,t,e){const i=Nt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Tu.forEach(((o,l)=>{const u=l.view.va(t);u.snapshot&&r.push(u.snapshot)})),(function(l,u){const f=Nt(l);f.onlineState=u;let d=!1;f.queries.forEach(((p,y)=>{for(const v of y.Sa)v.va(u)&&(d=!0)})),d&&C_(f)})(i.eventManager,t),r.length&&i.Pu.H_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function iV(n,t,e){const i=Nt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Au.get(t),o=r&&r.key;if(o){let l=new Ce(St.comparator);l=l.insert(o,Rn.newNoDocument(o,It.min()));const u=Gt().add(o),f=new im(It.min(),new Map,new Ce(qt),l,u);await pA(i,f),i.du=i.du.remove(o),i.Au.delete(t),D_(i)}else await Sy(i.localStore,t,!1).then((()=>Ay(i,t,e))).catch($l)}async function sV(n,t){const e=Nt(n),i=t.batch.batchId;try{const r=await mL(e.localStore,t);_A(e,i,null),yA(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await oh(e,r)}catch(r){await $l(r)}}async function rV(n,t,e){const i=Nt(n);try{const r=await(function(l,u){const f=Nt(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let p;return f.mutationQueue.lookupMutationBatch(d,u).next((y=>(ie(y!==null,37113),p=y.keys(),f.mutationQueue.removeMutationBatch(d,y)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,p,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p))).next((()=>f.localDocuments.getDocuments(d,p)))}))})(i.localStore,t);_A(i,t,e),yA(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await oh(i,r)}catch(r){await $l(r)}}function yA(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function _A(n,t,e){const i=Nt(n);let r=i.Vu[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function Ay(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||vA(n,i)}))}function vA(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(T_(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),D_(n))}function lS(n,t,e){for(const i of e)i instanceof dA?(n.Ru.addReference(i.key,t),aV(n,i)):i instanceof mA?(gt(I_,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||vA(n,i.key)):Rt(19791,{wu:i})}function aV(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(gt(I_,"New document in limbo: "+e),n.Eu.add(i),D_(n))}function D_(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new St(me.fromString(t)),i=n.fu.next();n.Au.set(i,new $L(e)),n.du=n.du.insert(e,i),sA(n.remoteStore,new ia(ws(d_(e.path)),i,"TargetPurposeLimboResolution",$d.ce))}}async function oh(n,t,e){const i=Nt(n),r=[],o=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach(((u,f)=>{l.push(i.pu(f,t,e).then((d=>{if((d||e)&&i.isPrimaryClient){const p=d?!d.fromCache:e?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,p?"current":"not-current")}if(d){r.push(d);const p=b_.As(f.targetId,d);o.push(p)}})))})),await Promise.all(l),i.Pu.H_(r),await(async function(f,d){const p=Nt(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>lt.forEach(d,(v=>lt.forEach(v.Es,(T=>p.persistence.referenceDelegate.addReference(y,v.targetId,T))).next((()=>lt.forEach(v.ds,(T=>p.persistence.referenceDelegate.removeReference(y,v.targetId,T)))))))))}catch(y){if(!Xl(y))throw y;gt(E_,"Failed to update sequence numbers: "+y)}for(const y of d){const v=y.targetId;if(!y.fromCache){const T=p.Ms.get(v),x=T.snapshotVersion,w=T.withLastLimboFreeSnapshotVersion(x);p.Ms=p.Ms.insert(v,w)}}})(i.localStore,o))}async function oV(n,t){const e=Nt(n);if(!e.currentUser.isEqual(t)){gt(I_,"User change. New user:",t.toKey());const i=await tA(e.localStore,t);e.currentUser=t,(function(o,l){o.mu.forEach((u=>{u.forEach((f=>{f.reject(new mt(st.CANCELLED,l))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await oh(e,i.Ls)}}function lV(n,t){const e=Nt(n),i=e.Au.get(t);if(i&&i.hu)return Gt().add(i.key);{let r=Gt();const o=e.Iu.get(t);if(!o)return r;for(const l of o){const u=e.Tu.get(l);r=r.unionWith(u.view.nu)}return r}}function bA(n){const t=Nt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=pA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=lV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=iV.bind(null,t),t.Pu.H_=GL.bind(null,t.eventManager),t.Pu.yu=YL.bind(null,t.eventManager),t}function cV(n){const t=Nt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=rV.bind(null,t),t}class Od{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=sm(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return dL(this.persistence,new uL,t.initialUser,this.serializer)}Cu(t){return new Z1(v_.mi,this.serializer)}Du(t){return new bL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Od.provider={build:()=>new Od};class uV extends Od{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){ie(this.persistence.referenceDelegate instanceof Dd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new $P(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Yn.withCacheSize(this.cacheSizeBytes):Yn.DEFAULT;return new Z1((i=>Dd.mi(i,e)),this.serializer)}}class Ry{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>oS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=oV.bind(null,this.syncEngine),await FL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new qL})()}createDatastore(t){const e=sm(t.databaseInfo.databaseId),i=(function(o){return new wL(o)})(t.databaseInfo);return(function(o,l,u,f){return new IL(o,l,u,f)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,r,o,l,u){return new ML(i,r,o,l,u)})(this.localStore,this.datastore,t.asyncQueue,(e=>oS(this.syncEngine,e,0)),(function(){return eS.v()?new eS:new EL})())}createSyncEngine(t,e){return(function(r,o,l,u,f,d,p){const y=new XL(r,o,l,u,f,d);return p&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=Nt(e);gt(So,"RemoteStore shutting down."),i.Ea.add(5),await ah(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ry.provider={build:()=>new Ry};class EA{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):mr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const ba="FirestoreClient";class hV{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=wn.UNAUTHENTICATED,this.clientId=o_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async l=>{gt(ba,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(i,(l=>(gt(ba,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new fa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=R_(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Vp(n,t){n.asyncQueue.verifyOperationInProgress(),gt(ba,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await tA(t.localStore,r),i=r)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function cS(n,t){n.asyncQueue.verifyOperationInProgress();const e=await fV(n);gt(ba,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>iS(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>iS(t.remoteStore,r))),n._onlineComponents=t}async function fV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){gt(ba,"Using user provided OfflineComponentProvider");try{await Vp(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===st.FAILED_PRECONDITION||r.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;kl("Error using user provided cache. Falling back to memory cache: "+e),await Vp(n,new Od)}}else gt(ba,"Using default OfflineComponentProvider"),await Vp(n,new uV(void 0));return n._offlineComponents}async function TA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(gt(ba,"Using user provided OnlineComponentProvider"),await cS(n,n._uninitializedComponentsProvider._online)):(gt(ba,"Using default OnlineComponentProvider"),await cS(n,new Ry))),n._onlineComponents}function dV(n){return TA(n).then((t=>t.syncEngine))}async function Cy(n){const t=await TA(n),e=t.eventManager;return e.onListen=QL.bind(null,t.syncEngine),e.onUnlisten=tV.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=JL.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=eV.bind(null,t.syncEngine),e}function mV(n,t,e={}){const i=new fa;return n.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,f,d){const p=new EA({next:v=>{p.Nu(),l.enqueueAndForget((()=>hA(o,y))),v.fromCache&&f.source==="server"?d.reject(new mt(st.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),y=new fA(u,p,{includeMetadataChanges:!0,qa:!0});return uA(o,y)})(await Cy(n),n.asyncQueue,t,e,i))),i.promise}function SA(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const uS=new Map;const xA="firestore.googleapis.com",hS=!0;class fS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new mt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xA,this.ssl=hS}else this.host=t.host,this.ssl=t.ssl??hS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=J1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<WP)throw new mt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Dk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SA(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new mt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new mt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new mt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class om{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new bk;switch(i.type){case"firstParty":return new xk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new mt(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=uS.get(e);i&&(gt("ComponentProvider","Removing Datastore"),uS.delete(e),i.terminate())})(this),Promise.resolve()}}function gV(n,t,e,i={}){n=Wi(n,om);const r=Gl(t),o=n._getSettings(),l={...o,emulatorOptions:n._getEmulatorOptions()},u=`${t}:${e}`;r&&(gw(`https://${u}`),pw("Firestore",!0)),o.host!==xA&&o.host!==u&&kl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:u,ssl:r,emulatorOptions:i};if(!_o(f,l)&&(n._setSettings(f),i.mockUserToken)){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=wn.MOCK_USER;else{d=ND(i.mockUserToken,n._app?.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new mt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new wn(y)}n._authCredentials=new Ek(new u1(d,p))}}class Ca{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ca(this.firestore,t,this._query)}}class $e{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new da(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new $e(this.firestore,t,this._key)}toJSON(){return{type:$e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(ih(e,$e._jsonSchema))return new $e(t,i||null,new St(me.fromString(e.referencePath)))}}$e._jsonSchemaVersion="firestore/documentReference/1.0",$e._jsonSchema={type:Ke("string",$e._jsonSchemaVersion),referencePath:Ke("string")};class da extends Ca{constructor(t,e,i){super(t,e,d_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new $e(this.firestore,null,new St(t))}withConverter(t){return new da(this.firestore,t,this._path)}}function Rs(n,t,...e){if(n=tn(n),h1("collection","path",t),n instanceof om){const i=me.fromString(t,...e);return wT(i),new da(n,null,i)}{if(!(n instanceof $e||n instanceof da))throw new mt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(me.fromString(t,...e));return wT(i),new da(n.firestore,null,i)}}function Vu(n,t,...e){if(n=tn(n),arguments.length===1&&(t=o_.newId()),h1("doc","path",t),n instanceof om){const i=me.fromString(t,...e);return xT(i),new $e(n,null,new St(i))}{if(!(n instanceof $e||n instanceof da))throw new mt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(me.fromString(t,...e));return xT(i),new $e(n.firestore,n instanceof da?n.converter:null,new St(i))}}const dS="AsyncQueue";class mS{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nA(this,"async_queue_retry"),this._c=()=>{const i=Lp();i&&gt(dS,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Lp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Lp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new fa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Xl(t))throw t;gt(dS,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,mr("INTERNAL UNHANDLED ERROR: ",gS(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=A_.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&Rt(47125,{Pc:gS(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function gS(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}function pS(n){return(function(e,i){if(typeof e!="object"||e===null)return!1;const r=e;for(const o of i)if(o in r&&typeof r[o]=="function")return!0;return!1})(n,["next","error","complete"])}class Ea extends om{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new mS,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new mS(t),this._firestoreClient=void 0,await t}}}function pV(n,t){const e=typeof n=="object"?n:bw(),i=typeof n=="string"?n:wd,r=Qy(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=MD("firestore");o&&gV(r,...o)}return r}function lm(n){if(n._terminated)throw new mt(st.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||yV(n),n._firestoreClient}function yV(n){const t=n._freezeSettings(),e=(function(r,o,l,u){return new Bk(r,o,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,SA(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new hV(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}})(n._componentsProvider))}class Ci{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ci(bn.fromBase64String(t))}catch(e){throw new mt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ci(bn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ci._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ih(t,Ci._jsonSchema))return Ci.fromBase64String(t.bytes)}}Ci._jsonSchemaVersion="firestore/bytes/1.0",Ci._jsonSchema={type:Ke("string",Ci._jsonSchemaVersion),bytes:Ke("string")};class lh{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new mt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class cm{constructor(t){this._methodName=t}}class Cs{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new mt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new mt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return qt(this._lat,t._lat)||qt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Cs._jsonSchemaVersion}}static fromJSON(t){if(ih(t,Cs._jsonSchema))return new Cs(t.latitude,t.longitude)}}Cs._jsonSchemaVersion="firestore/geoPoint/1.0",Cs._jsonSchema={type:Ke("string",Cs._jsonSchemaVersion),latitude:Ke("number"),longitude:Ke("number")};class Is{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Is._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ih(t,Is._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Is(t.vectorValues);throw new mt(st.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Is._jsonSchemaVersion="firestore/vectorValue/1.0",Is._jsonSchema={type:Ke("string",Is._jsonSchemaVersion),vectorValues:Ke("object")};const _V=/^__.*__$/;class vV{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Ra(t,this.data,this.fieldMask,e,this.fieldTransforms):new sh(t,this.data,e,this.fieldTransforms)}}class wA{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Ra(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function AA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt(40011,{Ac:n})}}class M_{constructor(t,e,i,r,o,l){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new M_({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Nd(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(AA(this.Ac)&&_V.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class bV{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||sm(t)}Cc(t,e,i,r=!1){return new M_({Ac:t,methodName:e,Dc:i,path:vn.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function um(n){const t=n._freezeSettings(),e=sm(n._databaseId);return new bV(n._databaseId,!!t.ignoreUndefinedProperties,e)}function RA(n,t,e,i,r,o={}){const l=n.Cc(o.merge||o.mergeFields?2:0,t,e,r);N_("Data must be an object, but it was:",l,i);const u=DA(i,l);let f,d;if(o.merge)f=new ui(l.fieldMask),d=l.fieldTransforms;else if(o.mergeFields){const p=[];for(const y of o.mergeFields){const v=Iy(t,y,e);if(!l.contains(v))throw new mt(st.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);OA(p,v)||p.push(v)}f=new ui(p),d=l.fieldTransforms.filter((y=>f.covers(y.field)))}else f=null,d=l.fieldTransforms;return new vV(new Wn(u),f,d)}class hm extends cm{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof hm}}class O_ extends cm{_toFieldTransform(t){return new dP(t.path,new ku)}isEqual(t){return t instanceof O_}}function CA(n,t,e,i){const r=n.Cc(1,t,e);N_("Data must be an object, but it was:",r,i);const o=[],l=Wn.empty();Aa(i,((f,d)=>{const p=k_(t,f,e);d=tn(d);const y=r.yc(p);if(d instanceof hm)o.push(p);else{const v=ch(d,y);v!=null&&(o.push(p),l.set(p,v))}}));const u=new ui(o);return new wA(l,u,r.fieldTransforms)}function IA(n,t,e,i,r,o){const l=n.Cc(1,t,e),u=[Iy(t,i,e)],f=[r];if(o.length%2!=0)throw new mt(st.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)u.push(Iy(t,o[v])),f.push(o[v+1]);const d=[],p=Wn.empty();for(let v=u.length-1;v>=0;--v)if(!OA(d,u[v])){const T=u[v];let x=f[v];x=tn(x);const w=l.yc(T);if(x instanceof hm)d.push(T);else{const A=ch(x,w);A!=null&&(d.push(T),p.set(T,A))}}const y=new ui(d);return new wA(p,y,l.fieldTransforms)}function EV(n,t,e,i=!1){return ch(e,n.Cc(i?4:3,t))}function ch(n,t){if(MA(n=tn(n)))return N_("Unsupported field value:",t,n),DA(n,t);if(n instanceof cm)return(function(i,r){if(!AA(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,r){const o=[];let l=0;for(const u of i){let f=ch(u,r.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),l++}return{arrayValue:{values:o}}})(n,t)}return(function(i,r){if((i=tn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return uP(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=_e.fromDate(i);return{timestampValue:Id(r.serializer,o)}}if(i instanceof _e){const o=new _e(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Id(r.serializer,o)}}if(i instanceof Cs)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ci)return{bytesValue:G1(r.serializer,i._byteString)};if(i instanceof $e){const o=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw r.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:y_(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Is)return(function(l,u){return{mapValue:{fields:{[b1]:{stringValue:E1},[Ad]:{arrayValue:{values:l.toArray().map((d=>{if(typeof d!="number")throw u.Sc("VectorValues must only contain numeric values.");return m_(u.serializer,d)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${Kd(i)}`)})(n,t)}function DA(n,t){const e={};return m1(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Aa(n,((i,r)=>{const o=ch(r,t.mc(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function MA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof _e||n instanceof Cs||n instanceof Ci||n instanceof $e||n instanceof cm||n instanceof Is)}function N_(n,t,e){if(!MA(e)||!f1(e)){const i=Kd(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function Iy(n,t,e){if((t=tn(t))instanceof lh)return t._internalPath;if(typeof t=="string")return k_(n,t);throw Nd("Field path arguments must be of type string or ",n,!1,void 0,e)}const TV=new RegExp("[~\\*/\\[\\]]");function k_(n,t,e){if(t.search(TV)>=0)throw Nd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new lh(...t.split("."))._internalPath}catch{throw Nd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Nd(n,t,e,i,r){const o=i&&!i.isEmpty(),l=r!==void 0;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(o||l)&&(f+=" (found",o&&(f+=` in field ${i}`),l&&(f+=` in document ${r}`),f+=")"),new mt(st.INVALID_ARGUMENT,u+n+f)}function OA(n,t){return n.some((e=>e.isEqual(t)))}class NA{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new $e(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new SV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(fm("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class SV extends NA{data(){return super.data()}}function fm(n,t){return typeof t=="string"?k_(n,t):t instanceof lh?t._internalPath:t._delegate._internalPath}function kA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new mt(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class P_{}class PA extends P_{}function Ml(n,t,...e){let i=[];t instanceof P_&&i.push(t),i=i.concat(e),(function(o){const l=o.filter((f=>f instanceof L_)).length,u=o.filter((f=>f instanceof dm)).length;if(l>1||l>0&&u>0)throw new mt(st.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class dm extends PA{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new dm(t,e,i)}_apply(t){const e=this._parse(t);return LA(t._query,e),new Ca(t.firestore,t.converter,yy(t._query,e))}_parse(t){const e=um(t.firestore);return(function(o,l,u,f,d,p,y){let v;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new mt(st.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){_S(y,p);const x=[];for(const w of y)x.push(yS(f,o,w));v={arrayValue:{values:x}}}else v=yS(f,o,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||_S(y,p),v=EV(u,l,y,p==="in"||p==="not-in");return We.create(d,p,v)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function wl(n,t,e){const i=t,r=fm("where",n);return dm._create(r,i,e)}class L_ extends P_{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new L_(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:Xi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(r,o){let l=r;const u=o.getFlattenedFilters();for(const f of u)LA(l,f),l=yy(l,f)})(t._query,e),new Ca(t.firestore,t.converter,yy(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class V_ extends PA{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new V_(t,e)}_apply(t){const e=(function(r,o,l){if(r.startAt!==null)throw new mt(st.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new mt(st.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nu(o,l)})(t._query,this._field,this._direction);return new Ca(t.firestore,t.converter,(function(r,o){const l=r.explicitOrderBy.concat([o]);return new Ql(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(t._query,e))}}function zu(n,t="asc"){const e=t,i=fm("orderBy",n);return V_._create(i,e)}function yS(n,t,e){if(typeof(e=tn(e))=="string"){if(e==="")throw new mt(st.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!I1(t)&&e.indexOf("/")!==-1)throw new mt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(me.fromString(e));if(!St.isDocumentKey(i))throw new mt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return NT(n,new St(i))}if(e instanceof $e)return NT(n,e._key);throw new mt(st.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kd(e)}.`)}function _S(n,t){if(!Array.isArray(n)||n.length===0)throw new mt(st.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function LA(n,t){const e=(function(r,o){for(const l of r)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new mt(st.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new mt(st.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class xV{convertValue(t,e="none"){switch(_a(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Le(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ya(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Rt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Aa(t,((r,o)=>{i[r]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[Ad].arrayValue?.values?.map((i=>Le(i.doubleValue)));return new Is(e)}convertGeoPoint(t){return new Cs(Le(t.latitude),Le(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Qd(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Du(t));default:return null}}convertTimestamp(t){const e=pa(t);return new _e(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=me.fromString(t);ie(Q1(i),9688,{name:t});const r=new Mu(i.get(1),i.get(3)),o=new St(i.popFirst(5));return r.isEqual(e)||mr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function VA(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class uu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class mo extends NA{constructor(t,e,i,r,o,l){super(t,e,i,r,l),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new fd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(fm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(st.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=mo._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}mo._jsonSchemaVersion="firestore/documentSnapshot/1.0",mo._jsonSchema={type:Ke("string",mo._jsonSchemaVersion),bundleSource:Ke("string","DocumentSnapshot"),bundleName:Ke("string"),bundle:Ke("string")};class fd extends mo{data(t={}){return super.data(t)}}class go{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new uu(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new fd(this._firestore,this._userDataWriter,i.key,i,new uu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new mt(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map((u=>{const f=new fd(r._firestore,r._userDataWriter,u.doc.key,u.doc,new uu(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const f=new fd(r._firestore,r._userDataWriter,u.doc.key,u.doc,new uu(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,p=-1;return u.type!==0&&(d=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:wV(u.type),doc:f,oldIndex:d,newIndex:p}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(st.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=go._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=o_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function wV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt(61501,{type:n})}}go._jsonSchemaVersion="firestore/querySnapshot/1.0",go._jsonSchema={type:Ke("string",go._jsonSchemaVersion),bundleSource:Ke("string","QuerySnapshot"),bundleName:Ke("string"),bundle:Ke("string")};class z_ extends xV{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ci(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new $e(this.firestore,null,e)}}function Uu(n){n=Wi(n,Ca);const t=Wi(n.firestore,Ea),e=lm(t),i=new z_(t);return kA(n._query),mV(e,n._query).then((r=>new go(t,i,n,r)))}function AV(n,t,e,...i){n=Wi(n,$e);const r=Wi(n.firestore,Ea),o=um(r);let l;return l=typeof(t=tn(t))=="string"||t instanceof lh?IA(o,"updateDoc",n._key,t,e,i):CA(o,"updateDoc",n._key,t),mm(r,[l.toMutation(n._key,$n.exists(!0))])}function zA(n){return mm(Wi(n.firestore,Ea),[new nm(n._key,$n.none())])}function UA(n,t){const e=Wi(n.firestore,Ea),i=Vu(n),r=VA(n.converter,t);return mm(e,[RA(um(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,$n.exists(!1))]).then((()=>i))}function U_(n,...t){n=tn(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||pS(t[i])||(e=t[i++]);const r={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(pS(t[i])){const f=t[i];t[i]=f.next?.bind(f),t[i+1]=f.error?.bind(f),t[i+2]=f.complete?.bind(f)}let o,l,u;if(n instanceof $e)l=Wi(n.firestore,Ea),u=d_(n._key.path),o={next:f=>{t[i]&&t[i](RV(l,n,f))},error:t[i+1],complete:t[i+2]};else{const f=Wi(n,Ca);l=Wi(f.firestore,Ea),u=f._query;const d=new z_(l);o={next:p=>{t[i]&&t[i](new go(l,d,f,p))},error:t[i+1],complete:t[i+2]},kA(n._query)}return(function(d,p,y,v){const T=new EA(v),x=new fA(p,T,y);return d.asyncQueue.enqueueAndForget((async()=>uA(await Cy(d),x))),()=>{T.Nu(),d.asyncQueue.enqueueAndForget((async()=>hA(await Cy(d),x)))}})(lm(l),u,r,o)}function mm(n,t){return(function(i,r){const o=new fa;return i.asyncQueue.enqueueAndForget((async()=>nV(await dV(i),r,o))),o.promise})(lm(n),t)}function RV(n,t,e){const i=e.docs.get(t._key),r=new z_(n);return new mo(n,r,t._key,i,new uu(e.hasPendingWrites,e.fromCache),t.converter)}class CV{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=um(t)}set(t,e,i){this._verifyNotCommitted();const r=zp(t,this._firestore),o=VA(r.converter,e,i),l=RA(this._dataReader,"WriteBatch.set",r._key,o,r.converter!==null,i);return this._mutations.push(l.toMutation(r._key,$n.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=zp(t,this._firestore);let l;return l=typeof(e=tn(e))=="string"||e instanceof lh?IA(this._dataReader,"WriteBatch.update",o._key,e,i,r):CA(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(l.toMutation(o._key,$n.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=zp(t,this._firestore);return this._mutations=this._mutations.concat(new nm(e._key,$n.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new mt(st.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function zp(n,t){if((n=tn(n)).firestore!==t)throw new mt(st.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function gm(){return new O_("serverTimestamp")}function IV(n){return lm(n=Wi(n,Ea)),new CV(n,(t=>mm(n,t)))}(function(t,e=!0){(function(r){Kl=r})(Yl),Nl(new vo("firestore",((i,{instanceIdentifier:r,options:o})=>{const l=i.getProvider("app").getImmediate(),u=new Ea(new Tk(i.getProvider("auth-internal")),new wk(l,i.getProvider("app-check-internal")),(function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new mt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mu(d.options.projectId,p)})(l,r),l);return o={useFetchStreams:e,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),ua(bT,ET,t),ua(bT,ET,"esm2020")})();const DV={apiKey:"AIzaSyAGAvr1QAO5ZPPCtbYQLK_0694DEjoy5Bw",authDomain:"paud-rohani.firebaseapp.com",projectId:"paud-rohani",storageBucket:"paud-rohani.firebaseapp.com",messagingSenderId:"1051220684882",appId:"1:1051220684882:web:7d77a8367fa92b57c96f8b",measurementId:"G-SQHBZ6ST71"},jA=vw(DV),vS=pk(jA),Pn=pV(jA);function MV(){const n=qy(),[t,e]=X.useState(!0),[i,r]=X.useState(""),[o,l]=X.useState(""),[u,f]=X.useState(!1),d=async y=>{if(y.preventDefault(),f(!0),console.log("=== MULAI PROSES AUTH ==="),console.log("Mode:",t?"LOGIN":"REGISTER"),console.log("Tipe Fungsi Login:",typeof cT),console.log("Email yang dikirim:",i),console.log("Password yang dikirim:",o),!i||!o){Ae.error("Email atau Password kosong/tidak terbaca!"),f(!1);return}try{if(t){console.log(">> Mengeksekusi signInWithEmailAndPassword...");const v=await cT(vS,i,o);console.log(">> HASIL LOGIN:",v),Ae.success("Login Berhasil! Mengalihkan..."),setTimeout(()=>{n("/dashboard")},1e3)}else console.log(">> Mengeksekusi Register..."),await iN(vS,i,o),Ae.success("Registrasi Berhasil! Silahkan login."),e(!0)}catch(v){console.error("!!! TERJADI ERROR !!!"),console.error("Code:",v.code),console.error("Message:",v.message),Ae.error(`Gagal: ${v.code}`)}finally{f(!1),console.log("=== SELESAI ===")}},p=()=>{e(!t)};return M.jsxs("div",{className:"login-page-wrapper",children:[M.jsx(lw,{position:"top-center",richColors:!0}),M.jsxs("div",{className:"login-container",children:[M.jsx("div",{className:"logo-container",children:M.jsx("i",{className:"fa-solid fa-school"})}),M.jsx("h1",{children:"PAUD Finance System"}),M.jsx("p",{className:"subtitle",children:"School Administration Portal"}),M.jsxs("form",{onSubmit:d,children:[M.jsxs("div",{className:"form-group",children:[M.jsx("label",{className:"form-label",children:"Email Address"}),M.jsxs("div",{className:"input-wrapper",children:[M.jsx("i",{className:"fa-regular fa-envelope"}),M.jsx("input",{type:"email",placeholder:"admin@paud.com",required:!0,value:i,onChange:y=>r(y.target.value)})]})]}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{className:"form-label",children:"Password"}),M.jsxs("div",{className:"input-wrapper",children:[M.jsx("i",{className:"fa-solid fa-lock"}),M.jsx("input",{type:"password",placeholder:"Enter password",required:!0,value:o,onChange:y=>l(y.target.value)})]})]}),M.jsx("button",{type:"submit",className:"btn-primary",disabled:u,children:u?"Loading...":t?"Login":"Register"})]}),M.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{Ae.success("This is a success toast")},children:"Render toast"}),M.jsxs("div",{className:"info-box",children:["For ",M.jsx("b",{children:"private"})," access"]}),M.jsx("div",{className:"toggle-link",children:M.jsxs("p",{children:[t?"Belum punya akun? ":"Sudah punya akun? ",M.jsx("span",{onClick:p,children:t?"Daftar disini":"Login disini"})]})})]})]})}const OV=({isOpen:n,toggleSidebar:t})=>{const e=qy(),i=()=>{e("/")};return M.jsxs(M.Fragment,{children:[M.jsx("div",{className:`sidebar-overlay ${n?"active":""}`,onClick:t}),M.jsxs("nav",{className:`sidebar ${n?"open":""}`,children:[M.jsx("button",{className:"sidebar-close-btn",onClick:t,children:M.jsx("i",{className:"fa-solid fa-xmark"})}),M.jsxs("div",{className:"brand",children:[M.jsx("h2",{children:"PAUD Finance"}),M.jsx("p",{children:"Admin Portal"})]}),M.jsxs("ul",{className:"menu-list",children:[M.jsx("li",{children:M.jsxs(bl,{to:"/dashboard",className:({isActive:r})=>`menu-item ${r?"active":""}`,children:[M.jsx("i",{className:"fa-solid fa-border-all"})," Dashboard"]})}),M.jsx("li",{children:M.jsxs(bl,{to:"/income",className:({isActive:r})=>`menu-item ${r?"active":""}`,children:[M.jsx("i",{className:"fa-solid fa-dollar-sign"})," Income Management"]})}),M.jsx("li",{children:M.jsxs(bl,{to:"/daily-income",className:({isActive:r})=>`menu-item ${r?"active":""}`,children:[M.jsx("i",{className:"fa-solid fa-calendar-days"})," Daily Income"]})}),M.jsx("li",{children:M.jsxs(bl,{to:"/absensi",className:({isActive:r})=>`menu-item ${r?"active":""}`,children:[M.jsx("i",{className:"fa-solid fa-user-group"})," Absensi"]})}),M.jsx("li",{children:M.jsxs(bl,{to:"/users",className:({isActive:r})=>`menu-item ${r?"active":""}`,children:[M.jsx("i",{className:"fa-solid fa-user-group"})," User Management"]})})]}),M.jsxs("button",{onClick:i,className:"menu-item logout",style:{background:"none",border:"none",width:"100%",textAlign:"left"},children:[M.jsx("i",{className:"fa-solid fa-arrow-right-from-bracket"})," Logout"]})]})]})},NV=()=>{const[n,t]=X.useState(!1),e=()=>{t(!n)};return M.jsxs("div",{style:{display:"flex",height:"100vh",width:"100vw",overflow:"hidden"},children:[M.jsx(lw,{position:"top-center",richColors:!0}),M.jsx(OV,{isOpen:n,toggleSidebar:e}),M.jsxs("main",{className:"main-content",children:[M.jsx("div",{className:"mobile-header-control"}),M.jsx(g2,{context:{toggleSidebar:e}})]})]})};function uh(n){return n+.5|0}const sa=(n,t,e)=>Math.max(Math.min(n,e),t);function hu(n){return sa(uh(n*2.55),0,255)}function ma(n){return sa(uh(n*255),0,255)}function ir(n){return sa(uh(n/2.55)/100,0,1)}function bS(n){return sa(uh(n*100),0,100)}const Ai={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Dy=[..."0123456789ABCDEF"],kV=n=>Dy[n&15],PV=n=>Dy[(n&240)>>4]+Dy[n&15],Ff=n=>(n&240)>>4===(n&15),LV=n=>Ff(n.r)&&Ff(n.g)&&Ff(n.b)&&Ff(n.a);function VV(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Ai[n[1]]*17,g:255&Ai[n[2]]*17,b:255&Ai[n[3]]*17,a:t===5?Ai[n[4]]*17:255}:(t===7||t===9)&&(e={r:Ai[n[1]]<<4|Ai[n[2]],g:Ai[n[3]]<<4|Ai[n[4]],b:Ai[n[5]]<<4|Ai[n[6]],a:t===9?Ai[n[7]]<<4|Ai[n[8]]:255})),e}const zV=(n,t)=>n<255?t(n):"";function UV(n){var t=LV(n)?kV:PV;return n?"#"+t(n.r)+t(n.g)+t(n.b)+zV(n.a,t):void 0}const jV=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function BA(n,t,e){const i=t*Math.min(e,1-e),r=(o,l=(o+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function BV(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function FV(n,t,e){const i=BA(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function HV(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function j_(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),l=Math.min(e,i,r),u=(o+l)/2;let f,d,p;return o!==l&&(p=o-l,d=u>.5?p/(2-o-l):p/(o+l),f=HV(e,i,r,p,o),f=f*60+.5),[f|0,d||0,u]}function B_(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(ma)}function F_(n,t,e){return B_(BA,n,t,e)}function qV(n,t,e){return B_(FV,n,t,e)}function GV(n,t,e){return B_(BV,n,t,e)}function FA(n){return(n%360+360)%360}function YV(n){const t=jV.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?hu(+t[5]):ma(+t[5]));const r=FA(+t[2]),o=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=qV(r,o,l):t[1]==="hsv"?i=GV(r,o,l):i=F_(r,o,l),{r:i[0],g:i[1],b:i[2],a:e}}function WV(n,t){var e=j_(n);e[0]=FA(e[0]+t),e=F_(e),n.r=e[0],n.g=e[1],n.b=e[2]}function KV(n){if(!n)return;const t=j_(n),e=t[0],i=bS(t[1]),r=bS(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${ir(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const ES={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},TS={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function $V(){const n={},t=Object.keys(TS),e=Object.keys(ES);let i,r,o,l,u;for(i=0;i<t.length;i++){for(l=u=t[i],r=0;r<e.length;r++)o=e[r],u=u.replace(o,ES[o]);o=parseInt(TS[l],16),n[u]=[o>>16&255,o>>8&255,o&255]}return n}let Hf;function XV(n){Hf||(Hf=$V(),Hf.transparent=[0,0,0,0]);const t=Hf[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const QV=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function JV(n){const t=QV.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const l=+t[7];e=t[8]?hu(l):sa(l*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?hu(i):sa(i,0,255)),r=255&(t[4]?hu(r):sa(r,0,255)),o=255&(t[6]?hu(o):sa(o,0,255)),{r:i,g:r,b:o,a:e}}}function ZV(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ir(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Up=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,_l=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function t4(n,t,e){const i=_l(ir(n.r)),r=_l(ir(n.g)),o=_l(ir(n.b));return{r:ma(Up(i+e*(_l(ir(t.r))-i))),g:ma(Up(r+e*(_l(ir(t.g))-r))),b:ma(Up(o+e*(_l(ir(t.b))-o))),a:n.a+e*(t.a-n.a)}}function qf(n,t,e){if(n){let i=j_(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=F_(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function HA(n,t){return n&&Object.assign(t||{},n)}function SS(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=ma(n[3]))):(t=HA(n,{r:0,g:0,b:0,a:1}),t.a=ma(t.a)),t}function e4(n){return n.charAt(0)==="r"?JV(n):YV(n)}class ju{constructor(t){if(t instanceof ju)return t;const e=typeof t;let i;e==="object"?i=SS(t):e==="string"&&(i=VV(t)||XV(t)||e4(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=HA(this._rgb);return t&&(t.a=ir(t.a)),t}set rgb(t){this._rgb=SS(t)}rgbString(){return this._valid?ZV(this._rgb):void 0}hexString(){return this._valid?UV(this._rgb):void 0}hslString(){return this._valid?KV(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const l=e===o?.5:e,u=2*l-1,f=i.a-r.a,d=((u*f===-1?u:(u+f)/(1+u*f))+1)/2;o=1-d,i.r=255&d*i.r+o*r.r+.5,i.g=255&d*i.g+o*r.g+.5,i.b=255&d*i.b+o*r.b+.5,i.a=l*i.a+(1-l)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=t4(this._rgb,t._rgb,e)),this}clone(){return new ju(this.rgb)}alpha(t){return this._rgb.a=ma(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=uh(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return qf(this._rgb,2,t),this}darken(t){return qf(this._rgb,2,-t),this}saturate(t){return qf(this._rgb,1,t),this}desaturate(t){return qf(this._rgb,1,-t),this}rotate(t){return WV(this._rgb,t),this}}function tr(){}const n4=(()=>{let n=0;return()=>n++})();function jt(n){return n==null}function Se(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Yt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Me(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function ci(n,t){return Me(n)?n:t}function Ot(n,t){return typeof n>"u"?t:n}const i4=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,qA=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function de(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function oe(n,t,e,i){let r,o,l;if(Se(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(Yt(n))for(l=Object.keys(n),o=l.length,r=0;r<o;r++)t.call(e,n[l[r]],l[r])}function kd(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Pd(n){if(Se(n))return n.map(Pd);if(Yt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Pd(n[e[r]]);return t}return n}function GA(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function s4(n,t,e,i){if(!GA(n))return;const r=t[n],o=e[n];Yt(r)&&Yt(o)?Bu(r,o,i):t[n]=Pd(o)}function Bu(n,t,e){const i=Se(t)?t:[t],r=i.length;if(!Yt(n))return n;e=e||{};const o=e.merger||s4;let l;for(let u=0;u<r;++u){if(l=i[u],!Yt(l))continue;const f=Object.keys(l);for(let d=0,p=f.length;d<p;++d)o(f[d],n,l,e)}return n}function Eu(n,t){return Bu(n,t,{merger:r4})}function r4(n,t,e){if(!GA(n))return;const i=t[n],r=e[n];Yt(i)&&Yt(r)?Eu(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Pd(r))}const xS={"":n=>n,x:n=>n.x,y:n=>n.y};function a4(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function o4(n){const t=a4(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Ta(n,t){return(xS[t]||(xS[t]=o4(t)))(n)}function H_(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Fu=n=>typeof n<"u",Sa=n=>typeof n=="function",wS=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function l4(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Qt=Math.PI,ve=2*Qt,c4=ve+Qt,Ld=Number.POSITIVE_INFINITY,u4=Qt/180,Ve=Qt/2,ro=Qt/4,AS=Qt*2/3,ra=Math.log10,Ds=Math.sign;function Tu(n,t,e){return Math.abs(n-t)<e}function RS(n){const t=Math.round(n);n=Tu(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(ra(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function h4(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function f4(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function jl(n){return!f4(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function d4(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function YA(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Yi(n){return n*(Qt/180)}function q_(n){return n*(180/Qt)}function CS(n){if(!Me(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function WA(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*Qt&&(o+=ve),{angle:o,distance:r}}function My(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function m4(n,t){return(n-t+c4)%ve-Qt}function An(n){return(n%ve+ve)%ve}function Hu(n,t,e,i){const r=An(n),o=An(t),l=An(e),u=An(o-r),f=An(l-r),d=An(r-o),p=An(r-l);return r===o||r===l||i&&o===l||u>f&&d<p}function on(n,t,e){return Math.max(t,Math.min(e,n))}function g4(n){return on(n,-32768,32767)}function ar(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function G_(n,t,e){e=e||(l=>n[l]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const or=(n,t,e,i)=>G_(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),p4=(n,t,e)=>G_(n,e,i=>n[i][t]>=e);function y4(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const KA=["push","pop","shift","splice","unshift"];function _4(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),KA.forEach(e=>{const i="_onData"+H_(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const l=r.apply(this,o);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...o)}),l}})})}function IS(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(KA.forEach(o=>{delete n[o]}),delete n._chartjs)}function $A(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const XA=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function QA(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,XA.call(window,()=>{i=!1,n.apply(t,e)}))}}function v4(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const Y_=n=>n==="start"?"left":n==="end"?"right":"center",xn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,b4=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function JA(n,t,e){const i=t.length;let r=0,o=i;if(n._sorted){const{iScale:l,vScale:u,_parsed:f}=n,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,p=l.axis,{min:y,max:v,minDefined:T,maxDefined:x}=l.getUserBounds();if(T){if(r=Math.min(or(f,p,y).lo,e?i:or(t,p,l.getPixelForValue(y)).lo),d){const w=f.slice(0,r+1).reverse().findIndex(A=>!jt(A[u.axis]));r-=Math.max(0,w)}r=on(r,0,i-1)}if(x){let w=Math.max(or(f,l.axis,v,!0).hi+1,e?0:or(t,p,l.getPixelForValue(v),!0).hi+1);if(d){const A=f.slice(w-1).findIndex(D=>!jt(D[u.axis]));w+=Math.max(0,A)}o=on(w,r,i)-r}else o=i-r}return{start:r,count:o}}function ZA(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}const Gf=n=>n===0||n===1,DS=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*ve/e)),MS=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*ve/e)+1,Su={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ve)+1,easeOutSine:n=>Math.sin(n*Ve),easeInOutSine:n=>-.5*(Math.cos(Qt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Gf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Gf(n)?n:DS(n,.075,.3),easeOutElastic:n=>Gf(n)?n:MS(n,.075,.3),easeInOutElastic(n){return Gf(n)?n:n<.5?.5*DS(n*2,.1125,.45):.5+.5*MS(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Su.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Su.easeInBounce(n*2)*.5:Su.easeOutBounce(n*2-1)*.5+.5};function W_(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function OS(n){return W_(n)?n:new ju(n)}function jp(n){return W_(n)?n:new ju(n).saturate(.5).darken(.1).hexString()}const E4=["x","y","borderWidth","radius","tension"],T4=["color","borderColor","backgroundColor"];function S4(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:T4},numbers:{type:"number",properties:E4}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function x4(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const NS=new Map;function w4(n,t){t=t||{};const e=n+JSON.stringify(t);let i=NS.get(e);return i||(i=new Intl.NumberFormat(n,t),NS.set(e,i)),i}function hh(n,t,e){return w4(t,e).format(n)}const tR={values(n){return Se(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const d=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),o=A4(n,e)}const l=ra(Math.abs(o)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),f={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(f,this.options.ticks.format),hh(n,i,f)},logarithmic(n,t,e){if(n===0)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(ra(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?tR.numeric.call(this,n,t,e):""}};function A4(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var pm={formatters:tR};function R4(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:pm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const xo=Object.create(null),Oy=Object.create(null);function xu(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Bp(n,t,e){return typeof t=="string"?Bu(xu(n,t),e):Bu(xu(n,""),t)}class C4{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>jp(r.backgroundColor),this.hoverBorderColor=(i,r)=>jp(r.borderColor),this.hoverColor=(i,r)=>jp(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Bp(this,t,e)}get(t){return xu(this,t)}describe(t,e){return Bp(Oy,t,e)}override(t,e){return Bp(xo,t,e)}route(t,e,i,r){const o=xu(this,t),l=xu(this,i),u="_"+e;Object.defineProperties(o,{[u]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[u],d=l[r];return Yt(f)?Object.assign({},d,f):Ot(f,d)},set(f){this[u]=f}}})}apply(t){t.forEach(e=>e(this))}}var xe=new C4({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[S4,x4,R4]);function I4(n){return!n||jt(n.size)||jt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Vd(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function D4(n,t,e,i){i=i||{};let r=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},o=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let l=0;const u=e.length;let f,d,p,y,v;for(f=0;f<u;f++)if(y=e[f],y!=null&&!Se(y))l=Vd(n,r,o,l,y);else if(Se(y))for(d=0,p=y.length;d<p;d++)v=y[d],v!=null&&!Se(v)&&(l=Vd(n,r,o,l,v));n.restore();const T=o.length/2;if(T>e.length){for(f=0;f<T;f++)delete r[o[f]];o.splice(0,T)}return l}function ao(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function kS(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Ny(n,t,e,i){eR(n,t,e,i,null)}function eR(n,t,e,i,r){let o,l,u,f,d,p,y,v;const T=t.pointStyle,x=t.rotation,w=t.radius;let A=(x||0)*u4;if(T&&typeof T=="object"&&(o=T.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(A),n.drawImage(T,-T.width/2,-T.height/2,T.width,T.height),n.restore();return}if(!(isNaN(w)||w<=0)){switch(n.beginPath(),T){default:r?n.ellipse(e,i,r/2,w,0,0,ve):n.arc(e,i,w,0,ve),n.closePath();break;case"triangle":p=r?r/2:w,n.moveTo(e+Math.sin(A)*p,i-Math.cos(A)*w),A+=AS,n.lineTo(e+Math.sin(A)*p,i-Math.cos(A)*w),A+=AS,n.lineTo(e+Math.sin(A)*p,i-Math.cos(A)*w),n.closePath();break;case"rectRounded":d=w*.516,f=w-d,l=Math.cos(A+ro)*f,y=Math.cos(A+ro)*(r?r/2-d:f),u=Math.sin(A+ro)*f,v=Math.sin(A+ro)*(r?r/2-d:f),n.arc(e-y,i-u,d,A-Qt,A-Ve),n.arc(e+v,i-l,d,A-Ve,A),n.arc(e+y,i+u,d,A,A+Ve),n.arc(e-v,i+l,d,A+Ve,A+Qt),n.closePath();break;case"rect":if(!x){f=Math.SQRT1_2*w,p=r?r/2:f,n.rect(e-p,i-f,2*p,2*f);break}A+=ro;case"rectRot":y=Math.cos(A)*(r?r/2:w),l=Math.cos(A)*w,u=Math.sin(A)*w,v=Math.sin(A)*(r?r/2:w),n.moveTo(e-y,i-u),n.lineTo(e+v,i-l),n.lineTo(e+y,i+u),n.lineTo(e-v,i+l),n.closePath();break;case"crossRot":A+=ro;case"cross":y=Math.cos(A)*(r?r/2:w),l=Math.cos(A)*w,u=Math.sin(A)*w,v=Math.sin(A)*(r?r/2:w),n.moveTo(e-y,i-u),n.lineTo(e+y,i+u),n.moveTo(e+v,i-l),n.lineTo(e-v,i+l);break;case"star":y=Math.cos(A)*(r?r/2:w),l=Math.cos(A)*w,u=Math.sin(A)*w,v=Math.sin(A)*(r?r/2:w),n.moveTo(e-y,i-u),n.lineTo(e+y,i+u),n.moveTo(e+v,i-l),n.lineTo(e-v,i+l),A+=ro,y=Math.cos(A)*(r?r/2:w),l=Math.cos(A)*w,u=Math.sin(A)*w,v=Math.sin(A)*(r?r/2:w),n.moveTo(e-y,i-u),n.lineTo(e+y,i+u),n.moveTo(e+v,i-l),n.lineTo(e-v,i+l);break;case"line":l=r?r/2:Math.cos(A)*w,u=Math.sin(A)*w,n.moveTo(e-l,i-u),n.lineTo(e+l,i+u);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(A)*(r?r/2:w),i+Math.sin(A)*w);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function lr(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function ym(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function _m(n){n.restore()}function M4(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function O4(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function N4(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),jt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function k4(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),l=t-o.actualBoundingBoxLeft,u=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,d=e+o.actualBoundingBoxDescent,p=r.strikethrough?(f+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(l,p),n.lineTo(u,p),n.stroke()}}function P4(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function wo(n,t,e,i,r,o={}){const l=Se(t)?t:[t],u=o.strokeWidth>0&&o.strokeColor!=="";let f,d;for(n.save(),n.font=r.string,N4(n,o),f=0;f<l.length;++f)d=l[f],o.backdrop&&P4(n,o.backdrop),u&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),jt(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(d,e,i,o.maxWidth)),n.fillText(d,e,i,o.maxWidth),k4(n,e,i,d,o),i+=Number(r.lineHeight);n.restore()}function qu(n,t){const{x:e,y:i,w:r,h:o,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,1.5*Qt,Qt,!0),n.lineTo(e,i+o-l.bottomLeft),n.arc(e+l.bottomLeft,i+o-l.bottomLeft,l.bottomLeft,Qt,Ve,!0),n.lineTo(e+r-l.bottomRight,i+o),n.arc(e+r-l.bottomRight,i+o-l.bottomRight,l.bottomRight,Ve,0,!0),n.lineTo(e+r,i+l.topRight),n.arc(e+r-l.topRight,i+l.topRight,l.topRight,0,-Ve,!0),n.lineTo(e+l.topLeft,i)}const L4=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,V4=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function z4(n,t){const e=(""+n).match(L4);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const U4=n=>+n||0;function K_(n,t){const e={},i=Yt(t),r=i?Object.keys(t):t,o=Yt(n)?i?l=>Ot(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of r)e[l]=U4(o(l));return e}function nR(n){return K_(n,{top:"y",right:"x",bottom:"y",left:"x"})}function po(n){return K_(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Dn(n){const t=nR(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Je(n,t){n=n||{},t=t||xe.font;let e=Ot(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Ot(n.style,t.style);i&&!(""+i).match(V4)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Ot(n.family,t.family),lineHeight:z4(Ot(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Ot(n.weight,t.weight),string:""};return r.string=I4(r),r}function fu(n,t,e,i){let r,o,l;for(r=0,o=n.length;r<o;++r)if(l=n[r],l!==void 0&&l!==void 0)return l}function j4(n,t,e){const{min:i,max:r}=n,o=qA(t,(r-i)/2),l=(u,f)=>e&&u===0?0:u+f;return{min:l(i,-Math.abs(o)),max:l(r,o)}}function Ia(n,t){return Object.assign(Object.create(n),t)}function $_(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=aR("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:u=>$_([u,...n],t,o,i)};return new Proxy(l,{deleteProperty(u,f){return delete u[f],delete u._keys,delete n[0][f],!0},get(u,f){return sR(u,f,()=>K4(f,t,n,u))},getOwnPropertyDescriptor(u,f){return Reflect.getOwnPropertyDescriptor(u._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,f){return LS(u).includes(f)},ownKeys(u){return LS(u)},set(u,f,d){const p=u._storage||(u._storage=r());return u[f]=p[f]=d,delete u._keys,!0}})}function Bl(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:iR(n,i),setContext:o=>Bl(n,o,e,i),override:o=>Bl(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,l){return delete o[l],delete n[l],!0},get(o,l,u){return sR(o,l,()=>F4(o,l,u))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(o,l,u){return n[l]=u,delete o[l],!0}})}function iR(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Sa(e)?e:()=>e,isIndexable:Sa(i)?i:()=>i}}const B4=(n,t)=>n?n+H_(t):t,X_=(n,t)=>Yt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function sR(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function F4(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:l}=n;let u=i[t];return Sa(u)&&l.isScriptable(t)&&(u=H4(t,u,n,e)),Se(u)&&u.length&&(u=q4(t,u,n,l.isIndexable)),X_(t,u)&&(u=Bl(u,r,o&&o[t],l)),u}function H4(n,t,e,i){const{_proxy:r,_context:o,_subProxy:l,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let f=t(o,l||i);return u.delete(n),X_(n,f)&&(f=Q_(r._scopes,r,n,f)),f}function q4(n,t,e,i){const{_proxy:r,_context:o,_subProxy:l,_descriptors:u}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Yt(t[0])){const f=t,d=r._scopes.filter(p=>p!==f);t=[];for(const p of f){const y=Q_(d,r,n,p);t.push(Bl(y,o,l&&l[n],u))}}return t}function rR(n,t,e){return Sa(n)?n(t,e):n}const G4=(n,t)=>n===!0?t:typeof n=="string"?Ta(t,n):void 0;function Y4(n,t,e,i,r){for(const o of t){const l=G4(e,o);if(l){n.add(l);const u=rR(l._fallback,e,r);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(l===!1&&typeof i<"u"&&e!==i)return null}return!1}function Q_(n,t,e,i){const r=t._rootScopes,o=rR(t._fallback,e,i),l=[...n,...r],u=new Set;u.add(i);let f=PS(u,l,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=PS(u,l,o,f,i),f===null)?!1:$_(Array.from(u),[""],r,o,()=>W4(t,e,i))}function PS(n,t,e,i,r){for(;e;)e=Y4(n,t,e,i,r);return e}function W4(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Se(r)&&Yt(e)?e:r||{}}function K4(n,t,e,i){let r;for(const o of t)if(r=aR(B4(o,n),e),typeof r<"u")return X_(n,r)?Q_(e,i,n,r):r}function aR(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function LS(n){let t=n._keys;return t||(t=n._keys=$4(n._scopes)),t}function $4(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function oR(n,t,e,i){const{iScale:r}=n,{key:o="r"}=this._parsing,l=new Array(i);let u,f,d,p;for(u=0,f=i;u<f;++u)d=u+e,p=t[d],l[u]={r:r.parse(Ta(p,o),d)};return l}const X4=Number.EPSILON||1e-14,Fl=(n,t)=>t<n.length&&!n[t].skip&&n[t],lR=n=>n==="x"?"y":"x";function Q4(n,t,e,i){const r=n.skip?t:n,o=t,l=e.skip?t:e,u=My(o,r),f=My(l,o);let d=u/(u+f),p=f/(u+f);d=isNaN(d)?0:d,p=isNaN(p)?0:p;const y=i*d,v=i*p;return{previous:{x:o.x-y*(l.x-r.x),y:o.y-y*(l.y-r.y)},next:{x:o.x+v*(l.x-r.x),y:o.y+v*(l.y-r.y)}}}function J4(n,t,e){const i=n.length;let r,o,l,u,f,d=Fl(n,0);for(let p=0;p<i-1;++p)if(f=d,d=Fl(n,p+1),!(!f||!d)){if(Tu(t[p],0,X4)){e[p]=e[p+1]=0;continue}r=e[p]/t[p],o=e[p+1]/t[p],u=Math.pow(r,2)+Math.pow(o,2),!(u<=9)&&(l=3/Math.sqrt(u),e[p]=r*l*t[p],e[p+1]=o*l*t[p])}}function Z4(n,t,e="x"){const i=lR(e),r=n.length;let o,l,u,f=Fl(n,0);for(let d=0;d<r;++d){if(l=u,u=f,f=Fl(n,d+1),!u)continue;const p=u[e],y=u[i];l&&(o=(p-l[e])/3,u[`cp1${e}`]=p-o,u[`cp1${i}`]=y-o*t[d]),f&&(o=(f[e]-p)/3,u[`cp2${e}`]=p+o,u[`cp2${i}`]=y+o*t[d])}}function t5(n,t="x"){const e=lR(t),i=n.length,r=Array(i).fill(0),o=Array(i);let l,u,f,d=Fl(n,0);for(l=0;l<i;++l)if(u=f,f=d,d=Fl(n,l+1),!!f){if(d){const p=d[t]-f[t];r[l]=p!==0?(d[e]-f[e])/p:0}o[l]=u?d?Ds(r[l-1])!==Ds(r[l])?0:(r[l-1]+r[l])/2:r[l-1]:r[l]}J4(n,r,o),Z4(n,o,t)}function Yf(n,t,e){return Math.max(Math.min(n,e),t)}function e5(n,t){let e,i,r,o,l,u=lr(n[0],t);for(e=0,i=n.length;e<i;++e)l=o,o=u,u=e<i-1&&lr(n[e+1],t),o&&(r=n[e],l&&(r.cp1x=Yf(r.cp1x,t.left,t.right),r.cp1y=Yf(r.cp1y,t.top,t.bottom)),u&&(r.cp2x=Yf(r.cp2x,t.left,t.right),r.cp2y=Yf(r.cp2y,t.top,t.bottom)))}function n5(n,t,e,i,r){let o,l,u,f;if(t.spanGaps&&(n=n.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")t5(n,r);else{let d=i?n[n.length-1]:n[0];for(o=0,l=n.length;o<l;++o)u=n[o],f=Q4(d,u,n[Math.min(o+1,l-(i?0:1))%l],t.tension),u.cp1x=f.previous.x,u.cp1y=f.previous.y,u.cp2x=f.next.x,u.cp2y=f.next.y,d=u}t.capBezierPoints&&e5(n,e)}function J_(){return typeof window<"u"&&typeof document<"u"}function Z_(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function zd(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const vm=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function i5(n,t){return vm(n).getPropertyValue(t)}const s5=["top","right","bottom","left"];function yo(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=s5[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const r5=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function a5(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let l=!1,u,f;if(r5(r,o,n.target))u=r,f=o;else{const d=t.getBoundingClientRect();u=i.clientX-d.left,f=i.clientY-d.top,l=!0}return{x:u,y:f,box:l}}function uo(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=vm(e),o=r.boxSizing==="border-box",l=yo(r,"padding"),u=yo(r,"border","width"),{x:f,y:d,box:p}=a5(n,e),y=l.left+(p&&u.left),v=l.top+(p&&u.top);let{width:T,height:x}=t;return o&&(T-=l.width+u.width,x-=l.height+u.height),{x:Math.round((f-y)/T*e.width/i),y:Math.round((d-v)/x*e.height/i)}}function o5(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&Z_(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const l=o.getBoundingClientRect(),u=vm(o),f=yo(u,"border","width"),d=yo(u,"padding");t=l.width-d.width-f.width,e=l.height-d.height-f.height,i=zd(u.maxWidth,o,"clientWidth"),r=zd(u.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||Ld,maxHeight:r||Ld}}const aa=n=>Math.round(n*10)/10;function l5(n,t,e,i){const r=vm(n),o=yo(r,"margin"),l=zd(r.maxWidth,n,"clientWidth")||Ld,u=zd(r.maxHeight,n,"clientHeight")||Ld,f=o5(n,t,e);let{width:d,height:p}=f;if(r.boxSizing==="content-box"){const v=yo(r,"border","width"),T=yo(r,"padding");d-=T.width+v.width,p-=T.height+v.height}return d=Math.max(0,d-o.width),p=Math.max(0,i?d/i:p-o.height),d=aa(Math.min(d,l,f.maxWidth)),p=aa(Math.min(p,u,f.maxHeight)),d&&!p&&(p=aa(d/2)),(t!==void 0||e!==void 0)&&i&&f.height&&p>f.height&&(p=f.height,d=aa(Math.floor(p*i))),{width:d,height:p}}function VS(n,t,e){const i=t||1,r=aa(n.height*i),o=aa(n.width*i);n.height=aa(n.height),n.width=aa(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==r||l.width!==o?(n.currentDevicePixelRatio=i,l.height=r,l.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const c5=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};J_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function zS(n,t){const e=i5(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ho(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function u5(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function h5(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},l=ho(n,r,e),u=ho(r,o,e),f=ho(o,t,e),d=ho(l,u,e),p=ho(u,f,e);return ho(d,p,e)}const f5=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},d5=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Ol(n,t,e){return n?f5(t,e):d5()}function cR(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function uR(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function hR(n){return n==="angle"?{between:Hu,compare:m4,normalize:An}:{between:ar,compare:(t,e)=>t-e,normalize:t=>t}}function US({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function m5(n,t,e){const{property:i,start:r,end:o}=e,{between:l,normalize:u}=hR(i),f=t.length;let{start:d,end:p,loop:y}=n,v,T;if(y){for(d+=f,p+=f,v=0,T=f;v<T&&l(u(t[d%f][i]),r,o);++v)d--,p--;d%=f,p%=f}return p<d&&(p+=f),{start:d,end:p,loop:y,style:n.style}}function fR(n,t,e){if(!e)return[n];const{property:i,start:r,end:o}=e,l=t.length,{compare:u,between:f,normalize:d}=hR(i),{start:p,end:y,loop:v,style:T}=m5(n,t,e),x=[];let w=!1,A=null,D,z,B;const q=()=>f(r,B,D)&&u(r,B)!==0,H=()=>u(o,D)===0||f(o,B,D),K=()=>w||q(),I=()=>!w||H();for(let C=p,N=p;C<=y;++C)z=t[C%l],!z.skip&&(D=d(z[i]),D!==B&&(w=f(D,r,o),A===null&&K()&&(A=u(D,r)===0?C:N),A!==null&&I()&&(x.push(US({start:A,end:C,loop:v,count:l,style:T})),A=null),N=C,B=D));return A!==null&&x.push(US({start:A,end:y,loop:v,count:l,style:T})),x}function dR(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const o=fR(i[r],n.points,t);o.length&&e.push(...o)}return e}function g5(n,t,e,i){let r=0,o=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}function p5(n,t,e,i){const r=n.length,o=[];let l=t,u=n[t],f;for(f=t+1;f<=e;++f){const d=n[f%r];d.skip||d.stop?u.skip||(i=!1,o.push({start:t%r,end:(f-1)%r,loop:i}),t=l=d.stop?f:null):(l=f,u.skip&&(t=f)),u=d}return l!==null&&o.push({start:t%r,end:l%r,loop:i}),o}function y5(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const o=!!n._loop,{start:l,end:u}=g5(e,r,o,i);if(i===!0)return jS(n,[{start:l,end:u,loop:o}],e,t);const f=u<l?u+r:u,d=!!n._fullLoop&&l===0&&u===r-1;return jS(n,p5(e,l,f,d),e,t)}function jS(n,t,e,i){return!i||!i.setContext||!e?t:_5(n,t,e,i)}function _5(n,t,e,i){const r=n._chart.getContext(),o=BS(n.options),{_datasetIndex:l,options:{spanGaps:u}}=n,f=e.length,d=[];let p=o,y=t[0].start,v=y;function T(x,w,A,D){const z=u?-1:1;if(x!==w){for(x+=f;e[x%f].skip;)x-=z;for(;e[w%f].skip;)w+=z;x%f!==w%f&&(d.push({start:x%f,end:w%f,loop:A,style:D}),p=D,y=w%f)}}for(const x of t){y=u?y:x.start;let w=e[y%f],A;for(v=y+1;v<=x.end;v++){const D=e[v%f];A=BS(i.setContext(Ia(r,{type:"segment",p0:w,p1:D,p0DataIndex:(v-1)%f,p1DataIndex:v%f,datasetIndex:l}))),v5(A,p)&&T(y,v-1,x.loop,p),w=D,p=A}y<v-1&&T(y,v-1,x.loop,p)}return d}function BS(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function v5(n,t){if(!t)return!1;const e=[],i=function(r,o){return W_(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function Wf(n,t,e){return n.options.clip?n[e]:t[e]}function b5(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Wf(e,t,"left"),right:Wf(e,t,"right"),top:Wf(i,t,"top"),bottom:Wf(i,t,"bottom")}:t}function mR(n,t){const e=t._clip;if(e.disabled)return!1;const i=b5(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}class E5{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],l=e.duration;o.forEach(u=>u({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=XA.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let l=o.length-1,u=!1,f;for(;l>=0;--l)f=o[l],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),u=!0):(o[l]=o[o.length-1],o.pop());u&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var er=new E5;const FS="transparent",T5={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=OS(n||FS),r=i.valid&&OS(t||FS);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class S5{constructor(t,e,i,r){const o=e[i];r=fu([t.to,r,o,t.from]);const l=fu([t.from,o,r]);this._active=!0,this._fn=t.fn||T5[t.type||typeof l],this._easing=Su[t.easing]||Su.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,l=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=fu([t.to,e,r,t.from]),this._from=fu([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,l=this._loop,u=this._to;let f;if(this._active=o!==u&&(l||e<i),!this._active){this._target[r]=u,this._notify(!0);return}if(e<0){this._target[r]=o;return}f=e/i%2,f=l&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,u,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class gR{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Yt(t))return;const e=Object.keys(xe.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!Yt(o))return;const l={};for(const u of e)l[u]=o[u];(Se(o.properties)&&o.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,l)})})}_animateOptions(t,e){const i=e.options,r=w5(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&x5(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),l=Object.keys(e),u=Date.now();let f;for(f=l.length-1;f>=0;--f){const d=l[f];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(t,e));continue}const p=e[d];let y=o[d];const v=i.get(d);if(y)if(v&&y.active()){y.update(v,p,u);continue}else y.cancel();if(!v||!v.duration){t[d]=p;continue}o[d]=y=new S5(v,t,d,p),r.push(y)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return er.add(this._chart,i),!0}}function x5(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function w5(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function HS(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function A5(n,t,e){if(e===!1)return!1;const i=HS(n,e),r=HS(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function R5(n){let t,e,i,r;return Yt(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function pR(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function qS(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let l,u,f,d;if(t===null)return;let p=!1;for(l=0,u=r.length;l<u;++l){if(f=+r[l],f===e){if(p=!0,i.all)continue;break}d=n.values[f],Me(d)&&(o||t===0||Ds(t)===Ds(d))&&(t+=d)}return!p&&!i.all?0:t}function C5(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let f,d,p;for(f=0,d=l.length;f<d;++f)p=l[f],u[f]={[r]:p,[o]:n[p]};return u}function Fp(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function I5(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function D5(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function M5(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function GS(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function YS(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:l,index:u}=i,f=o.axis,d=l.axis,p=I5(o,l,i),y=t.length;let v;for(let T=0;T<y;++T){const x=t[T],{[f]:w,[d]:A}=x,D=x._stacks||(x._stacks={});v=D[d]=M5(r,p,w),v[u]=A,v._top=GS(v,l,!0,i.type),v._bottom=GS(v,l,!1,i.type);const z=v._visualValues||(v._visualValues={});z[u]=A}}function Hp(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function O5(n,t){return Ia(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function N5(n,t,e){return Ia(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function tu(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const qp=n=>n==="reset"||n==="none",WS=(n,t)=>t?n:Object.assign({},n),k5=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:pR(e,!0),values:null};class Da{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Fp(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&tu(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(y,v,T,x)=>y==="x"?v:y==="r"?x:T,o=e.xAxisID=Ot(i.xAxisID,Hp(t,"x")),l=e.yAxisID=Ot(i.yAxisID,Hp(t,"y")),u=e.rAxisID=Ot(i.rAxisID,Hp(t,"r")),f=e.indexAxis,d=e.iAxisID=r(f,o,l,u),p=e.vAxisID=r(f,l,o,u);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(d),e.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&IS(this._data,this),t._stacked&&tu(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Yt(e)){const r=this._cachedMeta;this._data=C5(e,r)}else if(i!==e){if(i){IS(i,this);const r=this._cachedMeta;tu(r),r._parsed=[]}e&&Object.isExtensible(e)&&_4(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=Fp(e.vScale,e),e.stack!==i.stack&&(r=!0,tu(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(YS(this,e._parsed),e._stacked=Fp(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:l}=i,u=o.axis;let f=t===0&&e===r.length?!0:i._sorted,d=t>0&&i._parsed[t-1],p,y,v;if(this._parsing===!1)i._parsed=r,i._sorted=!0,v=r;else{Se(r[t])?v=this.parseArrayData(i,r,t,e):Yt(r[t])?v=this.parseObjectData(i,r,t,e):v=this.parsePrimitiveData(i,r,t,e);const T=()=>y[u]===null||d&&y[u]<d[u];for(p=0;p<e;++p)i._parsed[p+t]=y=v[p],f&&(T()&&(f=!1),d=y);i._sorted=f}l&&YS(this,v)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:l}=t,u=o.axis,f=l.axis,d=o.getLabels(),p=o===l,y=new Array(r);let v,T,x;for(v=0,T=r;v<T;++v)x=v+i,y[v]={[u]:p||o.parse(d[x],x),[f]:l.parse(e[x],x)};return y}parseArrayData(t,e,i,r){const{xScale:o,yScale:l}=t,u=new Array(r);let f,d,p,y;for(f=0,d=r;f<d;++f)p=f+i,y=e[p],u[f]={x:o.parse(y[0],p),y:l.parse(y[1],p)};return u}parseObjectData(t,e,i,r){const{xScale:o,yScale:l}=t,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,d=new Array(r);let p,y,v,T;for(p=0,y=r;p<y;++p)v=p+i,T=e[v],d[p]={x:o.parse(Ta(T,u),v),y:l.parse(Ta(T,f),v)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,l=e[t.axis],u={keys:pR(r,!0),values:e._stacks[t.axis]._visualValues};return qS(u,l,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let l=o===null?NaN:o;const u=r&&i._stacks[e.axis];r&&u&&(r.values=u,l=qS(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,l=r.length,u=this._getOtherScale(t),f=k5(e,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:y}=D5(u);let v,T;function x(){T=r[v];const w=T[u.axis];return!Me(T[t.axis])||p>w||y<w}for(v=0;v<l&&!(!x()&&(this.updateRangeFromParsed(d,t,T,f),o));++v);if(o){for(v=l-1;v>=0;--v)if(!x()){this.updateRangeFromParsed(d,t,T,f);break}}return d}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,l;for(r=0,o=e.length;r<o;++r)l=e[r][t.axis],Me(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=R5(Ot(this.options.clip,A5(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,l=[],u=this._drawStart||0,f=this._drawCount||r.length-u,d=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(t,o,u,f),p=u;p<u+f;++p){const y=r[p];y.hidden||(y.active&&d?l.push(y):y.draw(t,o))}for(p=0;p<l.length;++p)l[p].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];o=l.$context||(l.$context=N5(this.getContext(),t,l)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=O5(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,l=t+"-"+e,u=o[l],f=this.enableOptionSharing&&Fu(i);if(u)return WS(u,f);const d=this.chart.config,p=d.datasetElementScopeKeys(this._type,t),y=r?[`${t}Hover`,"hover",t,""]:[t,""],v=d.getOptionScopes(this.getDataset(),p),T=Object.keys(xe.elements[t]),x=()=>this.getContext(i,r,e),w=d.resolveNamedOptions(v,T,x,y);return w.$shared&&(w.$shared=f,o[l]=Object.freeze(WS(w,f))),w}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,l=`animation-${e}`,u=o[l];if(u)return u;let f;if(r.options.animation!==!1){const p=this.chart.config,y=p.datasetAnimationScopeKeys(this._type,e),v=p.getOptionScopes(this.getDataset(),y);f=p.createResolver(v,this.getContext(t,i,e))}const d=new gR(r,f&&f.animations);return f&&f._cacheable&&(o[l]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||qp(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),l=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:l}}updateElement(t,e,i,r){qp(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!qp(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[u,f,d]of this._syncList)this[u](f,d);this._syncList=[];const r=i.length,o=e.length,l=Math.min(o,r);l&&this.parse(0,l),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,l=t+e;let u;const f=d=>{for(d.length+=e,u=d.length-1;u>=l;u--)d[u]=d[u-e]};for(f(o),u=t;u<l;++u)o[u]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&tu(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function P5(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=$A(i.sort((r,o)=>r-o))}return n._cache.$bar}function L5(n){const t=n.iScale,e=P5(t,n.type);let i=t._length,r,o,l,u;const f=()=>{l===32767||l===-32768||(Fu(u)&&(i=Math.min(i,Math.abs(l-u)||i)),u=l)};for(r=0,o=e.length;r<o;++r)l=t.getPixelForValue(e[r]),f();for(u=void 0,r=0,o=t.ticks.length;r<o;++r)l=t.getPixelForTick(r),f();return i}function V5(n,t,e,i){const r=e.barThickness;let o,l;return jt(r)?(o=t.min*e.categoryPercentage,l=e.barPercentage):(o=r*i,l=1),{chunk:o/i,ratio:l,start:t.pixels[n]-o/2}}function z5(n,t,e,i){const r=t.pixels,o=r[n];let l=n>0?r[n-1]:null,u=n<r.length-1?r[n+1]:null;const f=e.categoryPercentage;l===null&&(l=o-(u===null?t.end-t.start:u-o)),u===null&&(u=o+o-l);const d=o-(o-Math.min(l,u))/2*f;return{chunk:Math.abs(u-l)/2*f/i,ratio:e.barPercentage,start:d}}function U5(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),l=Math.min(r,o),u=Math.max(r,o);let f=l,d=u;Math.abs(l)>Math.abs(u)&&(f=u,d=l),t[e.axis]=d,t._custom={barStart:f,barEnd:d,start:r,end:o,min:l,max:u}}function yR(n,t,e,i){return Se(n)?U5(n,t,e,i):t[e.axis]=e.parse(n,i),t}function KS(n,t,e,i){const r=n.iScale,o=n.vScale,l=r.getLabels(),u=r===o,f=[];let d,p,y,v;for(d=e,p=e+i;d<p;++d)v=t[d],y={},y[r.axis]=u||r.parse(l[d],d),f.push(yR(v,y,o,d));return f}function Gp(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function j5(n,t,e){return n!==0?Ds(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function B5(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function F5(n,t,e,i){let r=t.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:f,top:d,bottom:p}=B5(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=d:(e._bottom||0)===i?r=p:(o[$S(p,l,u,f)]=!0,r=d)),o[$S(r,l,u,f)]=!0,n.borderSkipped=o}function $S(n,t,e,i){return i?(n=H5(n,t,e),n=XS(n,e,t)):n=XS(n,t,e),n}function H5(n,t,e){return n===t?e:n===e?t:n}function XS(n,t,e){return n==="start"?t:n==="end"?e:n}function q5(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class G5 extends Da{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return KS(t,e,i,r)}parseArrayData(t,e,i,r){return KS(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:o,vScale:l}=t,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,d=o.axis==="x"?u:f,p=l.axis==="x"?u:f,y=[];let v,T,x,w;for(v=i,T=i+r;v<T;++v)w=e[v],x={},x[o.axis]=o.parse(Ta(w,d),v),y.push(yR(Ta(w,p),x,l,v));return y}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,o=this.getParsed(t),l=o._custom,u=Gp(l)?"["+l.start+", "+l.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const o=r==="reset",{index:l,_cachedMeta:{vScale:u}}=this,f=u.getBasePixel(),d=u.isHorizontal(),p=this._getRuler(),{sharedOptions:y,includeOptions:v}=this._getSharedOptions(e,r);for(let T=e;T<e+i;T++){const x=this.getParsed(T),w=o||jt(x[u.axis])?{base:f,head:f}:this._calculateBarValuePixels(T),A=this._calculateBarIndexPixels(T,p),D=(x._stacks||{})[u.axis],z={horizontal:d,base:w.base,enableBorderRadius:!D||Gp(x._custom)||l===D._top||l===D._bottom,x:d?w.head:A.center,y:d?A.center:w.head,height:d?A.size:Math.abs(w.size),width:d?Math.abs(w.size):A.size};v&&(z.options=y||this.resolveDataElementOptions(T,t[T].active?"active":r));const B=z.options||t[T].options;F5(z,B,D,l),q5(z,B,p.ratio),this.updateElement(t[T],T,z,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),o=i.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(e),f=u&&u[i.axis],d=p=>{const y=p._parsed.find(T=>T[i.axis]===f),v=y&&y[p.vScale.axis];if(jt(v)||isNaN(v))return!0};for(const p of r)if(!(e!==void 0&&d(p))&&((o===!1||l.indexOf(p.stack)===-1||o===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Ot(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let o,l;for(o=0,l=e.data.length;o<l;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const u=t.barThickness;return{min:u||L5(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:o,minBarLength:l}}=this,u=o||0,f=this.getParsed(t),d=f._custom,p=Gp(d);let y=f[e.axis],v=0,T=i?this.applyStack(e,f,i):y,x,w;T!==y&&(v=T-y,T=y),p&&(y=d.barStart,T=d.barEnd-d.barStart,y!==0&&Ds(y)!==Ds(d.barEnd)&&(v=0),v+=y);const A=!jt(o)&&!p?o:v;let D=e.getPixelForValue(A);if(this.chart.getDataVisibility(t)?x=e.getPixelForValue(v+T):x=D,w=x-D,Math.abs(w)<l){w=j5(w,e,u)*l,y===u&&(D-=w/2);const z=e.getPixelForDecimal(0),B=e.getPixelForDecimal(1),q=Math.min(z,B),H=Math.max(z,B);D=Math.max(Math.min(D,H),q),x=D+w,i&&!p&&(f._stacks[e.axis]._visualValues[r]=e.getValueForPixel(x)-e.getValueForPixel(D))}if(D===e.getPixelForValue(u)){const z=Ds(w)*e.getLineWidthForValue(u)/2;D+=z,w-=z}return{size:w,base:D,head:x,center:x+w/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,o=r.skipNull,l=Ot(r.maxBarThickness,1/0);let u,f;const d=this._getAxisCount();if(e.grouped){const p=o?this._getStackCount(t):e.stackCount,y=r.barThickness==="flex"?z5(t,e,r,p*d):V5(t,e,r,p*d),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,T=this._getAxis().indexOf(Ot(v,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+T;u=y.start+y.chunk*x+y.chunk/2,f=Math.min(l,y.chunk*y.ratio)}else u=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(l,e.min*e.ratio);return{base:u-f/2,head:u+f/2,center:u,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}class Y5 extends Da{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,r){const o=super.parsePrimitiveData(t,e,i,r);for(let l=0;l<o.length;l++)o[l]._custom=this.resolveDataElementOptions(l+i).radius;return o}parseArrayData(t,e,i,r){const o=super.parseArrayData(t,e,i,r);for(let l=0;l<o.length;l++){const u=e[i+l];o[l]._custom=Ot(u[2],this.resolveDataElementOptions(l+i).radius)}return o}parseObjectData(t,e,i,r){const o=super.parseObjectData(t,e,i,r);for(let l=0;l<o.length;l++){const u=e[i+l];o[l]._custom=Ot(u&&u.r&&+u.r,this.resolveDataElementOptions(l+i).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:o}=e,l=this.getParsed(t),u=r.getLabelForValue(l.x),f=o.getLabelForValue(l.y),d=l._custom;return{label:i[t]||"",value:"("+u+", "+f+(d?", "+d:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,r){const o=r==="reset",{iScale:l,vScale:u}=this._cachedMeta,{sharedOptions:f,includeOptions:d}=this._getSharedOptions(e,r),p=l.axis,y=u.axis;for(let v=e;v<e+i;v++){const T=t[v],x=!o&&this.getParsed(v),w={},A=w[p]=o?l.getPixelForDecimal(.5):l.getPixelForValue(x[p]),D=w[y]=o?u.getBasePixel():u.getPixelForValue(x[y]);w.skip=isNaN(A)||isNaN(D),d&&(w.options=f||this.resolveDataElementOptions(v,T.active?"active":r),o&&(w.options.radius=0)),this.updateElement(T,v,w,r)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let r=super.resolveDataElementOptions(t,e);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const o=r.radius;return e!=="active"&&(r.radius=0),r.radius+=Ot(i&&i._custom,o),r}}function W5(n,t,e){let i=1,r=1,o=0,l=0;if(t<ve){const u=n,f=u+t,d=Math.cos(u),p=Math.sin(u),y=Math.cos(f),v=Math.sin(f),T=(B,q,H)=>Hu(B,u,f,!0)?1:Math.max(q,q*e,H,H*e),x=(B,q,H)=>Hu(B,u,f,!0)?-1:Math.min(q,q*e,H,H*e),w=T(0,d,y),A=T(Ve,p,v),D=x(Qt,d,y),z=x(Qt+Ve,p,v);i=(w-D)/2,r=(A-z)/2,o=-(w+D)/2,l=-(A+z)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:l}}class tv extends Da{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data,{labels:{pointStyle:i,textAlign:r,color:o,useBorderRadius:l,borderRadius:u}}=t.legend.options;return e.labels.length&&e.datasets.length?e.labels.map((f,d)=>{const y=t.getDatasetMeta(0).controller.getStyle(d);return{text:f,fillStyle:y.backgroundColor,fontColor:o,hidden:!t.getDataVisibility(d),lineDash:y.borderDash,lineDashOffset:y.borderDashOffset,lineJoin:y.borderJoinStyle,lineWidth:y.borderWidth,strokeStyle:y.borderColor,textAlign:r,pointStyle:i,borderRadius:l&&(u||y.borderRadius),index:d}}):[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=f=>+i[f];if(Yt(i[t])){const{key:f="value"}=this._parsing;o=d=>+Ta(i[d],f)}let l,u;for(l=t,u=t+e;l<u;++l)r._parsed[l]=o(l)}}_getRotation(){return Yi(this.options.rotation-90)}_getCircumference(){return Yi(this.options.circumference)}_getRotationExtents(){let t=ve,e=-ve;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),l=r._getCircumference();t=Math.min(t,o),e=Math.max(e,o+l)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,o=r.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-l)/2,0),f=Math.min(i4(this.options.cutout,u),1),d=this._getRingWeight(this.index),{circumference:p,rotation:y}=this._getRotationExtents(),{ratioX:v,ratioY:T,offsetX:x,offsetY:w}=W5(y,p,f),A=(i.width-l)/v,D=(i.height-l)/T,z=Math.max(Math.min(A,D)/2,0),B=qA(this.options.radius,z),q=Math.max(B*f,0),H=(B-q)/this._getVisibleDatasetWeightTotal();this.offsetX=x*B,this.offsetY=w*B,r.total=this.calculateTotal(),this.outerRadius=B-H*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-H*d,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*o/ve)}updateElements(t,e,i,r){const o=r==="reset",l=this.chart,u=l.chartArea,d=l.options.animation,p=(u.left+u.right)/2,y=(u.top+u.bottom)/2,v=o&&d.animateScale,T=v?0:this.innerRadius,x=v?0:this.outerRadius,{sharedOptions:w,includeOptions:A}=this._getSharedOptions(e,r);let D=this._getRotation(),z;for(z=0;z<e;++z)D+=this._circumference(z,o);for(z=e;z<e+i;++z){const B=this._circumference(z,o),q=t[z],H={x:p+this.offsetX,y:y+this.offsetY,startAngle:D,endAngle:D+B,circumference:B,outerRadius:x,innerRadius:T};A&&(H.options=w||this.resolveDataElementOptions(z,q.active?"active":r)),D+=B,this.updateElement(q,z,H,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const o=t._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?ve*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=hh(e._parsed[t],i.options.locale);return{label:r[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,o,l,u,f;if(!t){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){l=i.getDatasetMeta(r),t=l.data,u=l.controller;break}}if(!t)return 0;for(r=0,o=t.length;r<o;++r)f=u.resolveDataElementOptions(r),f.borderAlign!=="inner"&&(e=Math.max(e,f.borderWidth||0,f.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Ot(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class K5 extends Da{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=e,l=this.chart._animationsDisabled;let{start:u,count:f}=JA(e,r,l);this._drawStart=u,this._drawCount=f,ZA(e)&&(u=0,f=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:d},t),this.updateElements(r,u,f,t)}updateElements(t,e,i,r){const o=r==="reset",{iScale:l,vScale:u,_stacked:f,_dataset:d}=this._cachedMeta,{sharedOptions:p,includeOptions:y}=this._getSharedOptions(e,r),v=l.axis,T=u.axis,{spanGaps:x,segment:w}=this.options,A=jl(x)?x:Number.POSITIVE_INFINITY,D=this.chart._animationsDisabled||o||r==="none",z=e+i,B=t.length;let q=e>0&&this.getParsed(e-1);for(let H=0;H<B;++H){const K=t[H],I=D?K:{};if(H<e||H>=z){I.skip=!0;continue}const C=this.getParsed(H),N=jt(C[T]),V=I[v]=l.getPixelForValue(C[v],H),k=I[T]=o||N?u.getBasePixel():u.getPixelForValue(f?this.applyStack(u,C,f):C[T],H);I.skip=isNaN(V)||isNaN(k)||N,I.stop=H>0&&Math.abs(C[v]-q[v])>A,w&&(I.parsed=C,I.raw=d.data[H]),y&&(I.options=p||this.resolveDataElementOptions(H,K.active?"active":r)),D||this.updateElement(K,H,I,r),q=C}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),l=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class _R extends Da{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((o,l)=>{const f=t.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:r,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=hh(e._parsed[t].r,i.options.locale);return{label:r[t]||"",value:o}}parseObjectData(t,e,i,r){return oR.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,r)=>{const o=this.getParsed(r).r;!isNaN(o)&&this.chart.getDataVisibility(r)&&(o<e.min&&(e.min=o),o>e.max&&(e.max=o))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,r=Math.min(e.right-e.left,e.bottom-e.top),o=Math.max(r/2,0),l=Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0),u=(o-l)/t.getVisibleDatasetCount();this.outerRadius=o-u*this.index,this.innerRadius=this.outerRadius-u}updateElements(t,e,i,r){const o=r==="reset",l=this.chart,f=l.options.animation,d=this._cachedMeta.rScale,p=d.xCenter,y=d.yCenter,v=d.getIndexAngle(0)-.5*Qt;let T=v,x;const w=360/this.countVisibleElements();for(x=0;x<e;++x)T+=this._computeAngle(x,r,w);for(x=e;x<e+i;x++){const A=t[x];let D=T,z=T+this._computeAngle(x,r,w),B=l.getDataVisibility(x)?d.getDistanceFromCenterForValue(this.getParsed(x).r):0;T=z,o&&(f.animateScale&&(B=0),f.animateRotate&&(D=z=v));const q={x:p,y,innerRadius:0,outerRadius:B,startAngle:D,endAngle:z,options:this.resolveDataElementOptions(x,A.active?"active":r)};this.updateElement(A,x,q,r)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?Yi(this.resolveDataElementOptions(t,e).angle||i):0}}class $5 extends tv{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class X5 extends Da{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,r){return oR.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta,i=e.dataset,r=e.data||[],o=e.iScale.getLabels();if(i.points=r,t!=="resize"){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0);const u={_loop:!0,_fullLoop:o.length===r.length,options:l};this.updateElement(i,void 0,u,t)}this.updateElements(r,0,r.length,t)}updateElements(t,e,i,r){const o=this._cachedMeta.rScale,l=r==="reset";for(let u=e;u<e+i;u++){const f=t[u],d=this.resolveDataElementOptions(u,f.active?"active":r),p=o.getPointPositionForValue(u,this.getParsed(u).r),y=l?o.xCenter:p.x,v=l?o.yCenter:p.y,T={x:y,y:v,angle:p.angle,skip:isNaN(y)||isNaN(v),options:d};this.updateElement(f,u,T,r)}}}class Q5 extends Da{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:o}=e,l=this.getParsed(t),u=r.getLabelForValue(l.x),f=o.getLabelForValue(l.y);return{label:i[t]||"",value:"("+u+", "+f+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,r=this.chart._animationsDisabled;let{start:o,count:l}=JA(e,i,r);if(this._drawStart=o,this._drawCount=l,ZA(e)&&(o=0,l=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:u,_dataset:f}=e;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!f._decimated,u.points=i;const d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(u,void 0,{animated:!r,options:d},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,o,l,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,r){const o=r==="reset",{iScale:l,vScale:u,_stacked:f,_dataset:d}=this._cachedMeta,p=this.resolveDataElementOptions(e,r),y=this.getSharedOptions(p),v=this.includeOptions(r,y),T=l.axis,x=u.axis,{spanGaps:w,segment:A}=this.options,D=jl(w)?w:Number.POSITIVE_INFINITY,z=this.chart._animationsDisabled||o||r==="none";let B=e>0&&this.getParsed(e-1);for(let q=e;q<e+i;++q){const H=t[q],K=this.getParsed(q),I=z?H:{},C=jt(K[x]),N=I[T]=l.getPixelForValue(K[T],q),V=I[x]=o||C?u.getBasePixel():u.getPixelForValue(f?this.applyStack(u,K,f):K[x],q);I.skip=isNaN(N)||isNaN(V)||C,I.stop=q>0&&Math.abs(K[T]-B[T])>D,A&&(I.parsed=K,I.raw=d.data[q]),v&&(I.options=y||this.resolveDataElementOptions(q,H.active?"active":r)),z||this.updateElement(H,q,I,r),B=K}this.updateSharedOptions(y,r,p)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let u=0;for(let f=e.length-1;f>=0;--f)u=Math.max(u,e[f].size(this.resolveDataElementOptions(f))/2);return u>0&&u}const i=t.dataset,r=i.options&&i.options.borderWidth||0;if(!e.length)return r;const o=e[0].size(this.resolveDataElementOptions(0)),l=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(r,o,l)/2}}var J5=Object.freeze({__proto__:null,BarController:G5,BubbleController:Y5,DoughnutController:tv,LineController:K5,PieController:$5,PolarAreaController:_R,RadarController:X5,ScatterController:Q5});function oo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ev{static override(t){Object.assign(ev.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return oo()}parse(){return oo()}format(){return oo()}add(){return oo()}diff(){return oo()}startOf(){return oo()}endOf(){return oo()}}var Z5={_date:ev};function t3(n,t,e,i){const{controller:r,data:o,_sorted:l}=n,u=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&l&&o.length){const d=u._reversePixels?p4:or;if(i){if(r._sharedOptions){const p=o[0],y=typeof p.getRange=="function"&&p.getRange(t);if(y){const v=d(o,t,e-y),T=d(o,t,e+y);return{lo:v.lo,hi:T.hi}}}}else{const p=d(o,t,e);if(f){const{vScale:y}=r._cachedMeta,{_parsed:v}=n,T=v.slice(0,p.lo+1).reverse().findIndex(w=>!jt(w[y.axis]));p.lo-=Math.max(0,T);const x=v.slice(p.hi).findIndex(w=>!jt(w[y.axis]));p.hi+=Math.max(0,x)}return p}}return{lo:0,hi:o.length-1}}function bm(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),l=e[t];for(let u=0,f=o.length;u<f;++u){const{index:d,data:p}=o[u],{lo:y,hi:v}=t3(o[u],t,l,r);for(let T=y;T<=v;++T){const x=p[T];x.skip||i(x,d,T)}}}function e3(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,l=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function Yp(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||bm(n,e,t,function(u,f,d){!r&&!lr(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&o.push({element:u,datasetIndex:f,index:d})},!0),o}function n3(n,t,e,i){let r=[];function o(l,u,f){const{startAngle:d,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:y}=WA(l,{x:t.x,y:t.y});Hu(y,d,p)&&r.push({element:l,datasetIndex:u,index:f})}return bm(n,e,t,o),r}function i3(n,t,e,i,r,o){let l=[];const u=e3(e);let f=Number.POSITIVE_INFINITY;function d(p,y,v){const T=p.inRange(t.x,t.y,r);if(i&&!T)return;const x=p.getCenterPoint(r);if(!(!!o||n.isPointInArea(x))&&!T)return;const A=u(t,x);A<f?(l=[{element:p,datasetIndex:y,index:v}],f=A):A===f&&l.push({element:p,datasetIndex:y,index:v})}return bm(n,e,t,d),l}function Wp(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?n3(n,t,e,r):i3(n,t,e,i,r,o)}function QS(n,t,e,i,r){const o=[],l=e==="x"?"inXRange":"inYRange";let u=!1;return bm(n,e,t,(f,d,p)=>{f[l]&&f[l](t[e],r)&&(o.push({element:f,datasetIndex:d,index:p}),u=u||f.inRange(t.x,t.y,r))}),i&&!u?[]:o}var s3={modes:{index(n,t,e,i){const r=uo(t,n),o=e.axis||"x",l=e.includeInvisible||!1,u=e.intersect?Yp(n,r,o,i,l):Wp(n,r,o,!1,i,l),f=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const p=u[0].index,y=d.data[p];y&&!y.skip&&f.push({element:y,datasetIndex:d.index,index:p})}),f):[]},dataset(n,t,e,i){const r=uo(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;let u=e.intersect?Yp(n,r,o,i,l):Wp(n,r,o,!1,i,l);if(u.length>0){const f=u[0].datasetIndex,d=n.getDatasetMeta(f).data;u=[];for(let p=0;p<d.length;++p)u.push({element:d[p],datasetIndex:f,index:p})}return u},point(n,t,e,i){const r=uo(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return Yp(n,r,o,i,l)},nearest(n,t,e,i){const r=uo(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return Wp(n,r,o,e.intersect,i,l)},x(n,t,e,i){const r=uo(t,n);return QS(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=uo(t,n);return QS(n,r,"y",e.intersect,i)}}};const vR=["left","top","right","bottom"];function eu(n,t){return n.filter(e=>e.pos===t)}function JS(n,t){return n.filter(e=>vR.indexOf(e.pos)===-1&&e.box.axis===t)}function nu(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function r3(n){const t=[];let e,i,r,o,l,u;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:l,stackWeight:u=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&o+l,stackWeight:u});return t}function a3(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!vR.includes(r))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return t}function o3(n,t){const e=a3(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,l,u;for(o=0,l=n.length;o<l;++o){u=n[o];const{fullSize:f}=u.box,d=e[u.stack],p=d&&u.stackWeight/d.weight;u.horizontal?(u.width=p?p*i:f&&t.availableWidth,u.height=r):(u.width=i,u.height=p?p*r:f&&t.availableHeight)}return e}function l3(n){const t=r3(n),e=nu(t.filter(d=>d.box.fullSize),!0),i=nu(eu(t,"left"),!0),r=nu(eu(t,"right")),o=nu(eu(t,"top"),!0),l=nu(eu(t,"bottom")),u=JS(t,"x"),f=JS(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(l).concat(u),chartArea:eu(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(l).concat(u)}}function ZS(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function bR(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function c3(n,t,e,i){const{pos:r,box:o}=e,l=n.maxPadding;if(!Yt(r)){e.size&&(n[r]-=e.size);const y=i[e.stack]||{size:0,count:1};y.size=Math.max(y.size,e.horizontal?o.height:o.width),e.size=y.size/y.count,n[r]+=e.size}o.getPadding&&bR(l,o.getPadding());const u=Math.max(0,t.outerWidth-ZS(l,n,"left","right")),f=Math.max(0,t.outerHeight-ZS(l,n,"top","bottom")),d=u!==n.w,p=f!==n.h;return n.w=u,n.h=f,e.horizontal?{same:d,other:p}:{same:p,other:d}}function u3(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function h3(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{o[l]=Math.max(t[l],e[l])}),o}return i(n?["left","right"]:["top","bottom"])}function du(n,t,e,i){const r=[];let o,l,u,f,d,p;for(o=0,l=n.length,d=0;o<l;++o){u=n[o],f=u.box,f.update(u.width||t.w,u.height||t.h,h3(u.horizontal,t));const{same:y,other:v}=c3(t,e,u,i);d|=y&&r.length,p=p||v,f.fullSize||r.push(u)}return d&&du(r,t,e,i)||p}function Kf(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function tx(n,t,e,i){const r=e.padding;let{x:o,y:l}=t;for(const u of n){const f=u.box,d=i[u.stack]||{placed:0,weight:1},p=u.stackWeight/d.weight||1;if(u.horizontal){const y=t.w*p,v=d.size||f.height;Fu(d.start)&&(l=d.start),f.fullSize?Kf(f,r.left,l,e.outerWidth-r.right-r.left,v):Kf(f,t.left+d.placed,l,y,v),d.start=l,d.placed+=y,l=f.bottom}else{const y=t.h*p,v=d.size||f.width;Fu(d.start)&&(o=d.start),f.fullSize?Kf(f,o,r.top,v,e.outerHeight-r.bottom-r.top):Kf(f,o,t.top+d.placed,v,y),d.start=o,d.placed+=y,o=f.right}}t.x=o,t.y=l}var Cn={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=Dn(n.options.layout.padding),o=Math.max(t-r.width,0),l=Math.max(e-r.height,0),u=l3(n.boxes),f=u.vertical,d=u.horizontal;oe(n.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const p=f.reduce((w,A)=>A.box.options&&A.box.options.display===!1?w:w+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/p,hBoxMaxHeight:l/2}),v=Object.assign({},r);bR(v,Dn(i));const T=Object.assign({maxPadding:v,w:o,h:l,x:r.left,y:r.top},r),x=o3(f.concat(d),y);du(u.fullSize,T,y,x),du(f,T,y,x),du(d,T,y,x)&&du(f,T,y,x),u3(T),tx(u.leftAndTop,T,y,x),T.x+=T.w,T.y+=T.h,tx(u.rightAndBottom,T,y,x),n.chartArea={left:T.left,top:T.top,right:T.left+T.w,bottom:T.top+T.h,height:T.h,width:T.w},oe(u.chartArea,w=>{const A=w.box;Object.assign(A,n.chartArea),A.update(T.w,T.h,{left:0,top:0,right:0,bottom:0})})}};class ER{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class f3 extends ER{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const dd="$chartjs",d3={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ex=n=>n===null||n==="";function m3(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[dd]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",ex(r)){const o=zS(n,"width");o!==void 0&&(n.width=o)}if(ex(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=zS(n,"height");o!==void 0&&(n.height=o)}return n}const TR=c5?{passive:!0}:!1;function g3(n,t,e){n&&n.addEventListener(t,e,TR)}function p3(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,TR)}function y3(n,t){const e=d3[n.type]||n.type,{x:i,y:r}=uo(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Ud(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function _3(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||Ud(u.addedNodes,i),l=l&&!Ud(u.removedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function v3(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||Ud(u.removedNodes,i),l=l&&!Ud(u.addedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Gu=new Map;let nx=0;function SR(){const n=window.devicePixelRatio;n!==nx&&(nx=n,Gu.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function b3(n,t){Gu.size||window.addEventListener("resize",SR),Gu.set(n,t)}function E3(n){Gu.delete(n),Gu.size||window.removeEventListener("resize",SR)}function T3(n,t,e){const i=n.canvas,r=i&&Z_(i);if(!r)return;const o=QA((u,f)=>{const d=r.clientWidth;e(u,f),d<r.clientWidth&&e()},window),l=new ResizeObserver(u=>{const f=u[0],d=f.contentRect.width,p=f.contentRect.height;d===0&&p===0||o(d,p)});return l.observe(r),b3(n,o),l}function Kp(n,t,e){e&&e.disconnect(),t==="resize"&&E3(n)}function S3(n,t,e){const i=n.canvas,r=QA(o=>{n.ctx!==null&&e(y3(o,n))},n);return g3(i,t,r),r}class x3 extends ER{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(m3(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[dd])return!1;const i=e[dd].initial;["height","width"].forEach(o=>{const l=i[o];jt(l)?e.removeAttribute(o):e.setAttribute(o,l)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[dd],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),l={attach:_3,detach:v3,resize:T3}[e]||S3;r[e]=l(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:Kp,detach:Kp,resize:Kp}[e]||p3)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return l5(t,e,i,r)}isAttached(t){const e=t&&Z_(t);return!!(e&&e.isConnected)}}function w3(n){return!J_()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?f3:x3}class yr{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return jl(this.x)&&jl(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function A3(n,t){const e=n.options.ticks,i=R3(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?I3(t):[],l=o.length,u=o[0],f=o[l-1],d=[];if(l>r)return D3(t,d,o,l/r),d;const p=C3(o,t,r);if(l>0){let y,v;const T=l>1?Math.round((f-u)/(l-1)):null;for($f(t,d,p,jt(T)?0:u-T,u),y=0,v=l-1;y<v;y++)$f(t,d,p,o[y],o[y+1]);return $f(t,d,p,f,jt(T)?t.length:f+T),d}return $f(t,d,p),d}function R3(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function C3(n,t,e){const i=M3(n),r=t.length/e;if(!i)return Math.max(r,1);const o=h4(i);for(let l=0,u=o.length-1;l<u;l++){const f=o[l];if(f>r)return f}return Math.max(r,1)}function I3(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function D3(n,t,e,i){let r=0,o=e[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===o&&(t.push(n[l]),r++,o=e[r*i])}function $f(n,t,e,i,r){const o=Ot(i,0),l=Math.min(Ot(r,n.length),n.length);let u=0,f,d,p;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),p=o;p<0;)u++,p=Math.round(o+u*e);for(d=Math.max(o,0);d<l;d++)d===p&&(t.push(n[d]),u++,p=Math.round(o+u*e))}function M3(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const O3=n=>n==="left"?"right":n==="right"?"left":n,ix=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,sx=(n,t)=>Math.min(t||n,n);function rx(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function N3(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,l=n._endPixel,u=1e-6;let f=n.getPixelForTick(r),d;if(!(e&&(i===1?d=Math.max(f-o,l-f):t===0?d=(n.getPixelForTick(1)-f)/2:d=(f-n.getPixelForTick(r-1))/2,f+=r<t?d:-d,f<o-u||f>l+u)))return f}function k3(n,t){oe(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function iu(n){return n.drawTicks?n.tickLength:0}function ax(n,t){if(!n.display)return 0;const e=Je(n.font,t),i=Dn(n.padding);return(Se(n.text)?n.text.length:1)*e.lineHeight+i.height}function P3(n,t){return Ia(n,{scale:t,type:"scale"})}function L3(n,t,e){return Ia(n,{tick:e,index:t,type:"tick"})}function V3(n,t,e){let i=Y_(n);return(e&&t!=="right"||!e&&t==="right")&&(i=O3(i)),i}function z3(n,t,e,i){const{top:r,left:o,bottom:l,right:u,chart:f}=n,{chartArea:d,scales:p}=f;let y=0,v,T,x;const w=l-r,A=u-o;if(n.isHorizontal()){if(T=xn(i,o,u),Yt(e)){const D=Object.keys(e)[0],z=e[D];x=p[D].getPixelForValue(z)+w-t}else e==="center"?x=(d.bottom+d.top)/2+w-t:x=ix(n,e,t);v=u-o}else{if(Yt(e)){const D=Object.keys(e)[0],z=e[D];T=p[D].getPixelForValue(z)-A+t}else e==="center"?T=(d.left+d.right)/2-A+t:T=ix(n,e,t);x=xn(i,l,r),y=e==="left"?-Ve:Ve}return{titleX:T,titleY:x,maxWidth:v,rotation:y}}class Do extends yr{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=ci(t,Number.POSITIVE_INFINITY),e=ci(e,Number.NEGATIVE_INFINITY),i=ci(i,Number.POSITIVE_INFINITY),r=ci(r,Number.NEGATIVE_INFINITY),{min:ci(t,i),max:ci(e,r),minDefined:Me(t),maxDefined:Me(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),l;if(r&&o)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let f=0,d=u.length;f<d;++f)l=u[f].controller.getMinMax(this,t),r||(e=Math.min(e,l.min)),o||(i=Math.max(i,l.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:ci(e,ci(i,e)),max:ci(i,ci(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){de(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=j4(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=u<this.ticks.length;this._convertTicksToLabels(f?rx(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=A3(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){de(this.options.afterUpdate,[this])}beforeSetDimensions(){de(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){de(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),de(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){de(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=de(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){de(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){de(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=sx(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let l=r,u,f,d;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),y=p.widest.width,v=p.highest.height,T=on(this.chart.width-y,0,this.maxWidth);u=t.offset?this.maxWidth/i:T/(i-1),y+6>u&&(u=T/(i-(t.offset?.5:1)),f=this.maxHeight-iu(t.grid)-e.padding-ax(t.title,this.chart.options.font),d=Math.sqrt(y*y+v*v),l=q_(Math.min(Math.asin(on((p.highest.height+6)/u,-1,1)),Math.asin(on(f/d,-1,1))-Math.asin(on(v/d,-1,1)))),l=Math.max(r,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){de(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){de(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const f=ax(r,e.options.font);if(u?(t.width=this.maxWidth,t.height=iu(o)+f):(t.height=this.maxHeight,t.width=iu(o)+f),i.display&&this.ticks.length){const{first:d,last:p,widest:y,highest:v}=this._getLabelSizes(),T=i.padding*2,x=Yi(this.labelRotation),w=Math.cos(x),A=Math.sin(x);if(u){const D=i.mirror?0:A*y.width+w*v.height;t.height=Math.min(this.maxHeight,t.height+D+T)}else{const D=i.mirror?0:w*y.width+A*v.height;t.width=Math.min(this.maxWidth,t.width+D+T)}this._calculatePadding(d,p,A,w)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:l},position:u}=this.options,f=this.labelRotation!==0,d=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,T=0;f?d?(v=r*t.width,T=i*e.height):(v=i*t.height,T=r*e.width):o==="start"?T=e.width:o==="end"?v=t.width:o!=="inner"&&(v=t.width/2,T=e.width/2),this.paddingLeft=Math.max((v-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((T-y+l)*this.width/(this.width-y),0)}else{let p=e.height/2,y=t.height/2;o==="start"?(p=0,y=t.height):o==="end"&&(p=e.height,y=0),this.paddingTop=p+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){de(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)jt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=rx(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,l=[],u=[],f=Math.floor(e/sx(e,i));let d=0,p=0,y,v,T,x,w,A,D,z,B,q,H;for(y=0;y<e;y+=f){if(x=t[y].label,w=this._resolveTickFontOptions(y),r.font=A=w.string,D=o[A]=o[A]||{data:{},gc:[]},z=w.lineHeight,B=q=0,!jt(x)&&!Se(x))B=Vd(r,D.data,D.gc,B,x),q=z;else if(Se(x))for(v=0,T=x.length;v<T;++v)H=x[v],!jt(H)&&!Se(H)&&(B=Vd(r,D.data,D.gc,B,H),q+=z);l.push(B),u.push(q),d=Math.max(B,d),p=Math.max(q,p)}k3(o,e);const K=l.indexOf(d),I=u.indexOf(p),C=N=>({width:l[N]||0,height:u[N]||0});return{first:C(0),last:C(e-1),widest:C(K),highest:C(I),widths:l,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return g4(this._alignToPixels?ao(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=L3(this.getContext(),t,i))}return this.$context||(this.$context=P3(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Yi(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),l=t.autoSkipPadding||0,u=o?o.widest.width+l:0,f=o?o.highest.height+l:0;return this.isHorizontal()?f*i>u*r?u/i:f/r:f*r<u*i?f/i:u/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:l,border:u}=r,f=o.offset,d=this.isHorizontal(),y=this.ticks.length+(f?1:0),v=iu(o),T=[],x=u.setContext(this.getContext()),w=x.display?x.width:0,A=w/2,D=function(Y){return ao(i,Y,w)};let z,B,q,H,K,I,C,N,V,k,L,P;if(l==="top")z=D(this.bottom),I=this.bottom-v,N=z-A,k=D(t.top)+A,P=t.bottom;else if(l==="bottom")z=D(this.top),k=t.top,P=D(t.bottom)-A,I=z+A,N=this.top+v;else if(l==="left")z=D(this.right),K=this.right-v,C=z-A,V=D(t.left)+A,L=t.right;else if(l==="right")z=D(this.left),V=t.left,L=D(t.right)-A,K=z+A,C=this.left+v;else if(e==="x"){if(l==="center")z=D((t.top+t.bottom)/2+.5);else if(Yt(l)){const Y=Object.keys(l)[0],rt=l[Y];z=D(this.chart.scales[Y].getPixelForValue(rt))}k=t.top,P=t.bottom,I=z+A,N=I+v}else if(e==="y"){if(l==="center")z=D((t.left+t.right)/2);else if(Yt(l)){const Y=Object.keys(l)[0],rt=l[Y];z=D(this.chart.scales[Y].getPixelForValue(rt))}K=z-A,C=K-v,V=t.left,L=t.right}const Et=Ot(r.ticks.maxTicksLimit,y),yt=Math.max(1,Math.ceil(y/Et));for(B=0;B<y;B+=yt){const Y=this.getContext(B),rt=o.setContext(Y),dt=u.setContext(Y),bt=rt.lineWidth,Ct=rt.color,j=dt.dash||[],et=dt.dashOffset,at=rt.tickWidth,ct=rt.tickColor,ft=rt.tickBorderDash||[],_t=rt.tickBorderDashOffset;q=N3(this,B,f),q!==void 0&&(H=ao(i,q,bt),d?K=C=V=L=H:I=N=k=P=H,T.push({tx1:K,ty1:I,tx2:C,ty2:N,x1:V,y1:k,x2:L,y2:P,width:bt,color:Ct,borderDash:j,borderDashOffset:et,tickWidth:at,tickColor:ct,tickBorderDash:ft,tickBorderDashOffset:_t}))}return this._ticksLength=y,this._borderValue=z,T}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,l=this.isHorizontal(),u=this.ticks,{align:f,crossAlign:d,padding:p,mirror:y}=o,v=iu(i.grid),T=v+p,x=y?-p:T,w=-Yi(this.labelRotation),A=[];let D,z,B,q,H,K,I,C,N,V,k,L,P="middle";if(r==="top")K=this.bottom-x,I=this._getXAxisLabelAlignment();else if(r==="bottom")K=this.top+x,I=this._getXAxisLabelAlignment();else if(r==="left"){const yt=this._getYAxisLabelAlignment(v);I=yt.textAlign,H=yt.x}else if(r==="right"){const yt=this._getYAxisLabelAlignment(v);I=yt.textAlign,H=yt.x}else if(e==="x"){if(r==="center")K=(t.top+t.bottom)/2+T;else if(Yt(r)){const yt=Object.keys(r)[0],Y=r[yt];K=this.chart.scales[yt].getPixelForValue(Y)+T}I=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")H=(t.left+t.right)/2-T;else if(Yt(r)){const yt=Object.keys(r)[0],Y=r[yt];H=this.chart.scales[yt].getPixelForValue(Y)}I=this._getYAxisLabelAlignment(v).textAlign}e==="y"&&(f==="start"?P="top":f==="end"&&(P="bottom"));const Et=this._getLabelSizes();for(D=0,z=u.length;D<z;++D){B=u[D],q=B.label;const yt=o.setContext(this.getContext(D));C=this.getPixelForTick(D)+o.labelOffset,N=this._resolveTickFontOptions(D),V=N.lineHeight,k=Se(q)?q.length:1;const Y=k/2,rt=yt.color,dt=yt.textStrokeColor,bt=yt.textStrokeWidth;let Ct=I;l?(H=C,I==="inner"&&(D===z-1?Ct=this.options.reverse?"left":"right":D===0?Ct=this.options.reverse?"right":"left":Ct="center"),r==="top"?d==="near"||w!==0?L=-k*V+V/2:d==="center"?L=-Et.highest.height/2-Y*V+V:L=-Et.highest.height+V/2:d==="near"||w!==0?L=V/2:d==="center"?L=Et.highest.height/2-Y*V:L=Et.highest.height-k*V,y&&(L*=-1),w!==0&&!yt.showLabelBackdrop&&(H+=V/2*Math.sin(w))):(K=C,L=(1-k)*V/2);let j;if(yt.showLabelBackdrop){const et=Dn(yt.backdropPadding),at=Et.heights[D],ct=Et.widths[D];let ft=L-et.top,_t=0-et.left;switch(P){case"middle":ft-=at/2;break;case"bottom":ft-=at;break}switch(I){case"center":_t-=ct/2;break;case"right":_t-=ct;break;case"inner":D===z-1?_t-=ct:D>0&&(_t-=ct/2);break}j={left:_t,top:ft,width:ct+et.width,height:at+et.height,color:yt.backdropColor}}A.push({label:q,font:N,textOffset:L,options:{rotation:w,color:rt,strokeColor:dt,strokeWidth:bt,textAlign:Ct,textBaseline:P,translation:[H,K],backdrop:j}})}return A}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Yi(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,l=this._getLabelSizes(),u=t+o,f=l.widest.width;let d,p;return e==="left"?r?(p=this.right+o,i==="near"?d="left":i==="center"?(d="center",p+=f/2):(d="right",p+=f)):(p=this.right-u,i==="near"?d="right":i==="center"?(d="center",p-=f/2):(d="left",p=this.left)):e==="right"?r?(p=this.left+o,i==="near"?d="right":i==="center"?(d="center",p-=f/2):(d="left",p-=f)):(p=this.left+u,i==="near"?d="left":i==="center"?(d="center",p+=f/2):(d="right",p=this.right)):d="right",{textAlign:d,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,l;const u=(f,d,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(e.display)for(o=0,l=r.length;o<l;++o){const f=r[o];e.drawOnChartArea&&u({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&u({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),l=i.display?o.width:0;if(!l)return;const u=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let d,p,y,v;this.isHorizontal()?(d=ao(t,this.left,l)-l/2,p=ao(t,this.right,u)+u/2,y=v=f):(y=ao(t,this.top,l)-l/2,v=ao(t,this.bottom,u)+u/2,d=p=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(d,y),e.lineTo(p,v),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&ym(i,r);const o=this.getLabelItems(t);for(const l of o){const u=l.options,f=l.font,d=l.label,p=l.textOffset;wo(i,d,0,p,f,u)}r&&_m(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=Je(i.font),l=Dn(i.padding),u=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||Yt(e)?(f+=l.bottom,Se(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=l.top;const{titleX:d,titleY:p,maxWidth:y,rotation:v}=z3(this,f,e,u);wo(t,i.text,0,0,o,{color:i.color,maxWidth:y,rotation:v,textAlign:V3(u,e,r),textBaseline:"middle",translation:[d,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Ot(t.grid&&t.grid.z,-1),r=Ot(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Do.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,l;for(o=0,l=e.length;o<l;++o){const u=e[o];u[i]===this.id&&(!t||u.type===t)&&r.push(u)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Je(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Xf{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;B3(e)&&(i=this.register(e));const r=this.items,o=t.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,U3(t,l,i),this.override&&xe.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in xe[r]&&(delete xe[r][i],this.override&&delete xo[i])}}function U3(n,t,e){const i=Bu(Object.create(null),[e?xe.get(e):{},xe.get(t),n.defaults]);xe.set(t,i),n.defaultRoutes&&j3(t,n.defaultRoutes),n.descriptors&&xe.describe(t,n.descriptors)}function j3(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),l=t[e].split("."),u=l.pop(),f=l.join(".");xe.route(o,r,f,u)})}function B3(n){return"id"in n&&"defaults"in n}class F3{constructor(){this.controllers=new Xf(Da,"datasets",!0),this.elements=new Xf(yr,"elements"),this.plugins=new Xf(Object,"plugins"),this.scales=new Xf(Do,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):oe(r,l=>{const u=i||this._getRegistryForType(l);this._exec(t,u,l)})})}_exec(t,e,i){const r=H_(t);de(i["before"+r],[],i),e[t](i),de(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Es=new F3;class H3{constructor(){this._init=void 0}notify(t,e,i,r){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=r?this._descriptors(t).filter(r):this._descriptors(t),l=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),l}_notify(t,e,i,r){r=r||{};for(const o of t){const l=o.plugin,u=l[i],f=[e,r,o.options];if(de(u,f,l)===!1&&r.cancelable)return!1}return!0}invalidate(){jt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Ot(i.options&&i.options.plugins,{}),o=q3(i);return r===!1&&!e?[]:Y3(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,l)=>o.filter(u=>!l.some(f=>u.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function q3(n){const t={},e=[],i=Object.keys(Es.plugins.items);for(let o=0;o<i.length;o++)e.push(Es.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const l=r[o];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function G3(n,t){return!t&&n===!1?null:n===!0?{}:n}function Y3(n,{plugins:t,localIds:e},i,r){const o=[],l=n.getContext();for(const u of t){const f=u.id,d=G3(i[f],r);d!==null&&o.push({plugin:u,options:W3(n.config,{plugin:u,local:e[f]},d,l)})}return o}function W3(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),l=n.getOptionScopes(i,o);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ky(n,t){const e=xe.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function K3(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function $3(n,t){return n===t?"_index_":"_value_"}function ox(n){if(n==="x"||n==="y"||n==="r")return n}function X3(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Py(n,...t){if(ox(n))return n;for(const e of t){const i=e.axis||X3(e.position)||n.length>1&&ox(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function lx(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function Q3(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return lx(n,"x",e[0])||lx(n,"y",e[0])}return{}}function J3(n,t){const e=xo[n.type]||{scales:{}},i=t.scales||{},r=ky(n.type,t),o=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!Yt(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const f=Py(l,u,Q3(l,n),xe.scales[u.type]),d=$3(f,r),p=e.scales||{};o[l]=Eu(Object.create(null),[{axis:f},u,p[f],p[d]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,f=l.indexAxis||ky(u,t),p=(xo[u]||{}).scales||{};Object.keys(p).forEach(y=>{const v=K3(y,f),T=l[v+"AxisID"]||v;o[T]=o[T]||Object.create(null),Eu(o[T],[{axis:v},i[T],p[y]])})}),Object.keys(o).forEach(l=>{const u=o[l];Eu(u,[xe.scales[u.type],xe.scale])}),o}function xR(n){const t=n.options||(n.options={});t.plugins=Ot(t.plugins,{}),t.scales=J3(n,t)}function wR(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function Z3(n){return n=n||{},n.data=wR(n.data),xR(n),n}const cx=new Map,AR=new Set;function Qf(n,t){let e=cx.get(n);return e||(e=t(),cx.set(n,e),AR.add(e)),e}const su=(n,t,e)=>{const i=Ta(t,e);i!==void 0&&n.add(i)};class t6{constructor(t){this._config=Z3(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=wR(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),xR(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Qf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Qf(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Qf(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Qf(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,l=this._cachedScopes(t,i),u=l.get(e);if(u)return u;const f=new Set;e.forEach(p=>{t&&(f.add(t),p.forEach(y=>su(f,t,y))),p.forEach(y=>su(f,r,y)),p.forEach(y=>su(f,xo[o]||{},y)),p.forEach(y=>su(f,xe,y)),p.forEach(y=>su(f,Oy,y))});const d=Array.from(f);return d.length===0&&d.push(Object.create(null)),AR.has(e)&&l.set(e,d),d}chartOptionScopes(){const{options:t,type:e}=this;return[t,xo[e]||{},xe.datasets[e]||{},{type:e},xe,Oy]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:l,subPrefixes:u}=ux(this._resolverCache,t,r);let f=l;if(n6(l,e)){o.$shared=!1,i=Sa(i)?i():i;const d=this.createResolver(t,i,u);f=Bl(l,i,d)}for(const d of e)o[d]=f[d];return o}createResolver(t,e,i=[""],r){const{resolver:o}=ux(this._resolverCache,t,i);return Yt(e)?Bl(o,e,void 0,r):o}}function ux(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:$_(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,o)),o}const e6=n=>Yt(n)&&Object.getOwnPropertyNames(n).some(t=>Sa(n[t]));function n6(n,t){const{isScriptable:e,isIndexable:i}=iR(n);for(const r of t){const o=e(r),l=i(r),u=(l||o)&&n[r];if(o&&(Sa(u)||e6(u))||l&&Se(u))return!0}return!1}var i6="4.5.1";const s6=["top","bottom","left","right","chartArea"];function hx(n,t){return n==="top"||n==="bottom"||s6.indexOf(n)===-1&&t==="x"}function fx(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function dx(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),de(e&&e.onComplete,[n],t)}function r6(n){const t=n.chart,e=t.options.animation;de(e&&e.onProgress,[n],t)}function RR(n){return J_()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const md={},mx=n=>{const t=RR(n);return Object.values(md).filter(e=>e.canvas===t).pop()};function a6(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const l=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=l)}}}function o6(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}class nv{static defaults=xe;static instances=md;static overrides=xo;static registry=Es;static version=i6;static getChart=mx;static register(...t){Es.add(...t),gx()}static unregister(...t){Es.remove(...t),gx()}constructor(t,e){const i=this.config=new t6(e),r=RR(t),o=mx(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||w3(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,l.aspectRatio),f=u&&u.canvas,d=f&&f.height,p=f&&f.width;if(this.id=n4(),this.ctx=u,this.canvas=f,this.width=p,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new H3,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=v4(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],md[this.id]=this,!u||!f){console.error("Failed to create chart: can't acquire context from the given item");return}er.listen(this,"complete",dx),er.listen(this,"progress",r6),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return jt(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Es}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():VS(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return kS(this.canvas,this.ctx),this}stop(){return er.stop(this),this}resize(t,e){er.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,t,e,o),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,VS(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),de(i.onResize,[this,l],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};oe(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let o=[];e&&(o=o.concat(Object.keys(e).map(l=>{const u=e[l],f=Py(l,u),d=f==="r",p=f==="x";return{options:u,dposition:d?"chartArea":p?"bottom":"left",dtype:d?"radialLinear":p?"category":"linear"}}))),oe(o,l=>{const u=l.options,f=u.id,d=Py(f,u),p=Ot(u.type,l.dtype);(u.position===void 0||hx(u.position,d)!==hx(l.dposition))&&(u.position=l.dposition),r[f]=!0;let y=null;if(f in i&&i[f].type===p)y=i[f];else{const v=Es.getScale(p);y=new v({id:f,type:p,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(u,t)}),oe(r,(l,u)=>{l||delete i[u]}),oe(i,l=>{Cn.configure(this,l,l.options),Cn.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(fx("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let l=this.getDatasetMeta(i);const u=o.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=o.indexAxis||ky(u,this.options),l.order=o.order||0,l.index=i,l.label=""+o.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const f=Es.getController(u),{datasetElementType:d,dataElementType:p}=xe.datasets[u];Object.assign(f,{dataElementType:Es.getElement(p),datasetElementType:d&&Es.getElement(d)}),l.controller=new f(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){oe(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,p=this.data.datasets.length;d<p;d++){const{controller:y}=this.getDatasetMeta(d),v=!r&&o.indexOf(y)===-1;y.buildOrUpdateElements(v),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),r||oe(o,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(fx("z","_idx"));const{_active:u,_lastEvent:f}=this;f?this._eventHandler(f,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){oe(this.scales,t=>{Cn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!wS(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const l=i==="_removeElements"?-o:o;a6(t,r,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(l=>l[0]===o).map((l,u)=>u+","+l.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!wS(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Cn.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],oe(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Sa(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(er.has(this)?this.attached&&!er.running(this)&&er.start(this):(this.draw(),dx({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const l=e[r];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=mR(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&ym(e,r),t.controller.draw(),r&&_m(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return lr(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=s3.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Ia(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),l=o.controller._resolveAnimations(void 0,r);Fu(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(o,{visible:i}),this.update(u=>u.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),er.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),kS(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete md[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,l)=>{e.addEventListener(this,o,l),t[o]=l},r=(o,l,u)=>{o.offsetX=l,o.offsetY=u,this._eventHandler(o)};oe(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,d)=>{e.addEventListener(this,f,d),t[f]=d},r=(f,d)=>{t[f]&&(e.removeEventListener(this,f,d),delete t[f])},o=(f,d)=>{this.canvas&&this.resize(f,d)};let l;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",l)};l=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",u)},e.isAttached(this.canvas)?u():l()}unbindEvents(){oe(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},oe(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,l,u,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),u=0,f=t.length;u<f;++u){l=t[u];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:l})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[l],index:l}});!kd(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(f,d)=>f.filter(p=>!d.some(y=>p.datasetIndex===y.datasetIndex&&p.index===y.index)),l=o(e,t),u=i?t:o(t,e);l.length&&this.updateHoverStyle(l,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,l=e,u=this._getActiveElements(t,r,i,l),f=l4(t),d=o6(t,this._lastEvent,i,f);i&&(this._lastEvent=null,de(o.onHover,[t,u,this],this),f&&de(o.onClick,[t,u,this],this));const p=!kd(u,r);return(p||e)&&(this._active=u,this._updateHoverStyles(u,r,e)),this._lastEvent=d,p}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}}function gx(){return oe(nv.instances,n=>n._plugins.invalidate())}function l6(n,t,e){const{startAngle:i,x:r,y:o,outerRadius:l,innerRadius:u,options:f}=t,{borderWidth:d,borderJoinStyle:p}=f,y=Math.min(d/l,An(i-e));if(n.beginPath(),n.arc(r,o,l-d/2,i+y/2,e-y/2),u>0){const v=Math.min(d/u,An(i-e));n.arc(r,o,u+d/2,e-v/2,i+v/2,!0)}else{const v=Math.min(d/2,l*An(i-e));if(p==="round")n.arc(r,o,v,e-Qt/2,i+Qt/2,!0);else if(p==="bevel"){const T=2*v*v,x=-T*Math.cos(e+Qt/2)+r,w=-T*Math.sin(e+Qt/2)+o,A=T*Math.cos(i+Qt/2)+r,D=T*Math.sin(i+Qt/2)+o;n.lineTo(x,w),n.lineTo(A,D)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function c6(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:l,outerRadius:u,innerRadius:f}=t;let d=r/u;n.beginPath(),n.arc(o,l,u,i-d,e+d),f>r?(d=r/f,n.arc(o,l,f,e+d,i-d,!0)):n.arc(o,l,r,e+Ve,i-Ve),n.closePath(),n.clip()}function u6(n){return K_(n,["outerStart","outerEnd","innerStart","innerEnd"])}function h6(n,t,e,i){const r=u6(n.options.borderRadius),o=(e-t)/2,l=Math.min(o,i*t/2),u=f=>{const d=(e-Math.min(o,f))*i/2;return on(f,0,Math.min(o,d))};return{outerStart:u(r.outerStart),outerEnd:u(r.outerEnd),innerStart:on(r.innerStart,0,l),innerEnd:on(r.innerEnd,0,l)}}function vl(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function jd(n,t,e,i,r,o){const{x:l,y:u,startAngle:f,pixelMargin:d,innerRadius:p}=t,y=Math.max(t.outerRadius+i+e-d,0),v=p>0?p+i+e+d:0;let T=0;const x=r-f;if(i){const yt=p>0?p-i:0,Y=y>0?y-i:0,rt=(yt+Y)/2,dt=rt!==0?x*rt/(rt+i):x;T=(x-dt)/2}const w=Math.max(.001,x*y-e/Qt)/y,A=(x-w)/2,D=f+A+T,z=r-A-T,{outerStart:B,outerEnd:q,innerStart:H,innerEnd:K}=h6(t,v,y,z-D),I=y-B,C=y-q,N=D+B/I,V=z-q/C,k=v+H,L=v+K,P=D+H/k,Et=z-K/L;if(n.beginPath(),o){const yt=(N+V)/2;if(n.arc(l,u,y,N,yt),n.arc(l,u,y,yt,V),q>0){const bt=vl(C,V,l,u);n.arc(bt.x,bt.y,q,V,z+Ve)}const Y=vl(L,z,l,u);if(n.lineTo(Y.x,Y.y),K>0){const bt=vl(L,Et,l,u);n.arc(bt.x,bt.y,K,z+Ve,Et+Math.PI)}const rt=(z-K/v+(D+H/v))/2;if(n.arc(l,u,v,z-K/v,rt,!0),n.arc(l,u,v,rt,D+H/v,!0),H>0){const bt=vl(k,P,l,u);n.arc(bt.x,bt.y,H,P+Math.PI,D-Ve)}const dt=vl(I,D,l,u);if(n.lineTo(dt.x,dt.y),B>0){const bt=vl(I,N,l,u);n.arc(bt.x,bt.y,B,D-Ve,N)}}else{n.moveTo(l,u);const yt=Math.cos(N)*y+l,Y=Math.sin(N)*y+u;n.lineTo(yt,Y);const rt=Math.cos(V)*y+l,dt=Math.sin(V)*y+u;n.lineTo(rt,dt)}n.closePath()}function f6(n,t,e,i,r){const{fullCircles:o,startAngle:l,circumference:u}=t;let f=t.endAngle;if(o){jd(n,t,e,i,f,r);for(let d=0;d<o;++d)n.fill();isNaN(u)||(f=l+(u%ve||ve))}return jd(n,t,e,i,f,r),n.fill(),f}function d6(n,t,e,i,r){const{fullCircles:o,startAngle:l,circumference:u,options:f}=t,{borderWidth:d,borderJoinStyle:p,borderDash:y,borderDashOffset:v,borderRadius:T}=f,x=f.borderAlign==="inner";if(!d)return;n.setLineDash(y||[]),n.lineDashOffset=v,x?(n.lineWidth=d*2,n.lineJoin=p||"round"):(n.lineWidth=d,n.lineJoin=p||"bevel");let w=t.endAngle;if(o){jd(n,t,e,i,w,r);for(let A=0;A<o;++A)n.stroke();isNaN(u)||(w=l+(u%ve||ve))}x&&c6(n,t,w),f.selfJoin&&w-l>=Qt&&T===0&&p!=="miter"&&l6(n,t,w),o||(jd(n,t,e,i,w,r),n.stroke())}class m6 extends yr{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:l}=WA(r,{x:t,y:e}),{startAngle:u,endAngle:f,innerRadius:d,outerRadius:p,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),v=(this.options.spacing+this.options.borderWidth)/2,T=Ot(y,f-u),x=Hu(o,u,f)&&u!==f,w=T>=ve||x,A=ar(l,d+v,p+v);return w&&A}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:l,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:d}=this.options,p=(r+o)/2,y=(l+u+d+f)/2;return{x:e+Math.cos(p)*y,y:i+Math.sin(p)*y}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,l=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>ve?Math.floor(i/ve):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const u=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(u)*r,Math.sin(u)*r);const f=1-Math.sin(Math.min(Qt,i||0)),d=r*f;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,f6(t,this,d,o,l),d6(t,this,d,o,l),t.restore()}}function CR(n,t,e=t){n.lineCap=Ot(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Ot(e.borderDash,t.borderDash)),n.lineDashOffset=Ot(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Ot(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Ot(e.borderWidth,t.borderWidth),n.strokeStyle=Ot(e.borderColor,t.borderColor)}function g6(n,t,e){n.lineTo(e.x,e.y)}function p6(n){return n.stepped?M4:n.tension||n.cubicInterpolationMode==="monotone"?O4:g6}function IR(n,t,e={}){const i=n.length,{start:r=0,end:o=i-1}=e,{start:l,end:u}=t,f=Math.max(r,l),d=Math.min(o,u),p=r<l&&o<l||r>u&&o>u;return{count:i,start:f,loop:t.loop,ilen:d<f&&!p?i+d-f:d-f}}function y6(n,t,e,i){const{points:r,options:o}=t,{count:l,start:u,loop:f,ilen:d}=IR(r,e,i),p=p6(o);let{move:y=!0,reverse:v}=i||{},T,x,w;for(T=0;T<=d;++T)x=r[(u+(v?d-T:T))%l],!x.skip&&(y?(n.moveTo(x.x,x.y),y=!1):p(n,w,x,v,o.stepped),w=x);return f&&(x=r[(u+(v?d:0))%l],p(n,w,x,v,o.stepped)),!!f}function _6(n,t,e,i){const r=t.points,{count:o,start:l,ilen:u}=IR(r,e,i),{move:f=!0,reverse:d}=i||{};let p=0,y=0,v,T,x,w,A,D;const z=q=>(l+(d?u-q:q))%o,B=()=>{w!==A&&(n.lineTo(p,A),n.lineTo(p,w),n.lineTo(p,D))};for(f&&(T=r[z(0)],n.moveTo(T.x,T.y)),v=0;v<=u;++v){if(T=r[z(v)],T.skip)continue;const q=T.x,H=T.y,K=q|0;K===x?(H<w?w=H:H>A&&(A=H),p=(y*p+q)/++y):(B(),n.lineTo(q,H),x=K,y=0,w=A=H),D=H}B()}function Ly(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?_6:y6}function v6(n){return n.stepped?u5:n.tension||n.cubicInterpolationMode==="monotone"?h5:ho}function b6(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),CR(n,t.options),n.stroke(r)}function E6(n,t,e,i){const{segments:r,options:o}=t,l=Ly(t);for(const u of r)CR(n,o,u.style),n.beginPath(),l(n,t,u,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const T6=typeof Path2D=="function";function S6(n,t,e,i){T6&&!t.options.segment?b6(n,t,e,i):E6(n,t,e,i)}class Em extends yr{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;n5(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=y5(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],o=this.points,l=dR(this,{property:e,start:r,end:r});if(!l.length)return;const u=[],f=v6(i);let d,p;for(d=0,p=l.length;d<p;++d){const{start:y,end:v}=l[d],T=o[y],x=o[v];if(T===x){u.push(T);continue}const w=Math.abs((r-T[e])/(x[e]-T[e])),A=f(T,x,w,i.stepped);A[e]=t[e],u.push(A)}return u.length===1?u[0]:u}pathSegment(t,e,i){return Ly(this)(t,this,e,i)}path(t,e,i){const r=this.segments,o=Ly(this);let l=this._loop;e=e||0,i=i||this.points.length-e;for(const u of r)l&=o(t,this,u,{start:e,end:e+i-1});return!!l}draw(t,e,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),S6(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function px(n,t,e,i){const r=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<r.radius+r.hitRadius}class x6 extends yr{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.options,{x:o,y:l}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(e-l,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return px(this,t,"x",e)}inYRange(t,e){return px(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!lr(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Ny(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function DR(n,t){const{x:e,y:i,base:r,width:o,height:l}=n.getProps(["x","y","base","width","height"],t);let u,f,d,p,y;return n.horizontal?(y=l/2,u=Math.min(e,r),f=Math.max(e,r),d=i-y,p=i+y):(y=o/2,u=e-y,f=e+y,d=Math.min(i,r),p=Math.max(i,r)),{left:u,top:d,right:f,bottom:p}}function oa(n,t,e,i){return n?0:on(t,e,i)}function w6(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=nR(i);return{t:oa(r.top,o.top,0,e),r:oa(r.right,o.right,0,t),b:oa(r.bottom,o.bottom,0,e),l:oa(r.left,o.left,0,t)}}function A6(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=po(r),l=Math.min(t,e),u=n.borderSkipped,f=i||Yt(r);return{topLeft:oa(!f||u.top||u.left,o.topLeft,0,l),topRight:oa(!f||u.top||u.right,o.topRight,0,l),bottomLeft:oa(!f||u.bottom||u.left,o.bottomLeft,0,l),bottomRight:oa(!f||u.bottom||u.right,o.bottomRight,0,l)}}function R6(n){const t=DR(n),e=t.right-t.left,i=t.bottom-t.top,r=w6(n,e/2,i/2),o=A6(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function $p(n,t,e,i){const r=t===null,o=e===null,u=n&&!(r&&o)&&DR(n,i);return u&&(r||ar(t,u.left,u.right))&&(o||ar(e,u.top,u.bottom))}function C6(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function I6(n,t){n.rect(t.x,t.y,t.w,t.h)}function Xp(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,l=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+l,radius:n.radius}}class D6 extends yr{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:l}=R6(this),u=C6(l.radius)?qu:I6;t.save(),(l.w!==o.w||l.h!==o.h)&&(t.beginPath(),u(t,Xp(l,e,o)),t.clip(),u(t,Xp(o,-e,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),u(t,Xp(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return $p(this,t,e,i)}inXRange(t,e){return $p(this,t,null,e)}inYRange(t,e){return $p(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var M6=Object.freeze({__proto__:null,ArcElement:m6,BarElement:D6,LineElement:Em,PointElement:x6});const Vy=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],yx=Vy.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function MR(n){return Vy[n%Vy.length]}function OR(n){return yx[n%yx.length]}function O6(n,t){return n.borderColor=MR(t),n.backgroundColor=OR(t),++t}function N6(n,t){return n.backgroundColor=n.data.map(()=>MR(t++)),t}function k6(n,t){return n.backgroundColor=n.data.map(()=>OR(t++)),t}function P6(n){let t=0;return(e,i)=>{const r=n.getDatasetMeta(i).controller;r instanceof tv?t=N6(e,t):r instanceof _R?t=k6(e,t):r&&(t=O6(e,t))}}function _x(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function L6(n){return n&&(n.borderColor||n.backgroundColor)}function V6(){return xe.borderColor!=="rgba(0,0,0,0.1)"||xe.backgroundColor!=="rgba(0,0,0,0.1)"}var z6={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:r}=n.config,{elements:o}=r,l=_x(i)||L6(r)||o&&_x(o)||V6();if(!e.forceOverride&&l)return;const u=P6(n);i.forEach(u)}};function U6(n,t,e,i,r){const o=r.samples||i;if(o>=e)return n.slice(t,t+e);const l=[],u=(e-2)/(o-2);let f=0;const d=t+e-1;let p=t,y,v,T,x,w;for(l[f++]=n[p],y=0;y<o-2;y++){let A=0,D=0,z;const B=Math.floor((y+1)*u)+1+t,q=Math.min(Math.floor((y+2)*u)+1,e)+t,H=q-B;for(z=B;z<q;z++)A+=n[z].x,D+=n[z].y;A/=H,D/=H;const K=Math.floor(y*u)+1+t,I=Math.min(Math.floor((y+1)*u)+1,e)+t,{x:C,y:N}=n[p];for(T=x=-1,z=K;z<I;z++)x=.5*Math.abs((C-A)*(n[z].y-N)-(C-n[z].x)*(D-N)),x>T&&(T=x,v=n[z],w=z);l[f++]=v,p=w}return l[f++]=n[d],l}function j6(n,t,e,i){let r=0,o=0,l,u,f,d,p,y,v,T,x,w;const A=[],D=t+e-1,z=n[t].x,q=n[D].x-z;for(l=t;l<t+e;++l){u=n[l],f=(u.x-z)/q*i,d=u.y;const H=f|0;if(H===p)d<x?(x=d,y=l):d>w&&(w=d,v=l),r=(o*r+u.x)/++o;else{const K=l-1;if(!jt(y)&&!jt(v)){const I=Math.min(y,v),C=Math.max(y,v);I!==T&&I!==K&&A.push({...n[I],x:r}),C!==T&&C!==K&&A.push({...n[C],x:r})}l>0&&K!==T&&A.push(n[K]),A.push(u),p=H,o=0,x=w=d,y=v=T=l}}return A}function NR(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function vx(n){n.data.datasets.forEach(t=>{NR(t)})}function B6(n,t){const e=t.length;let i=0,r;const{iScale:o}=n,{min:l,max:u,minDefined:f,maxDefined:d}=o.getUserBounds();return f&&(i=on(or(t,o.axis,l).lo,0,e-1)),d?r=on(or(t,o.axis,u).hi+1,i,e)-i:r=e-i,{start:i,count:r}}var F6={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){vx(n);return}const i=n.width;n.data.datasets.forEach((r,o)=>{const{_data:l,indexAxis:u}=r,f=n.getDatasetMeta(o),d=l||r.data;if(fu([u,n.options.indexAxis])==="y"||!f.controller.supportsDecimation)return;const p=n.scales[f.xAxisID];if(p.type!=="linear"&&p.type!=="time"||n.options.parsing)return;let{start:y,count:v}=B6(f,d);const T=e.threshold||4*i;if(v<=T){NR(r);return}jt(l)&&(r._data=d,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(w){this._data=w}}));let x;switch(e.algorithm){case"lttb":x=U6(d,y,v,i,e);break;case"min-max":x=j6(d,y,v,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=x})},destroy(n){vx(n)}};function H6(n,t,e){const i=n.segments,r=n.points,o=t.points,l=[];for(const u of i){let{start:f,end:d}=u;d=Tm(f,d,r);const p=zy(e,r[f],r[d],u.loop);if(!t.segments){l.push({source:u,target:p,start:r[f],end:r[d]});continue}const y=dR(t,p);for(const v of y){const T=zy(e,o[v.start],o[v.end],v.loop),x=fR(u,r,T);for(const w of x)l.push({source:w,target:v,start:{[e]:bx(p,T,"start",Math.max)},end:{[e]:bx(p,T,"end",Math.min)}})}}return l}function zy(n,t,e,i){if(i)return;let r=t[n],o=e[n];return n==="angle"&&(r=An(r),o=An(o)),{property:n,start:r,end:o}}function q6(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,o=[];return t.segments.forEach(({start:l,end:u})=>{u=Tm(l,u,r);const f=r[l],d=r[u];i!==null?(o.push({x:f.x,y:i}),o.push({x:d.x,y:i})):e!==null&&(o.push({x:e,y:f.y}),o.push({x:e,y:d.y}))}),o}function Tm(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function bx(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function kR(n,t){let e=[],i=!1;return Se(n)?(i=!0,e=n):e=q6(n,t),e.length?new Em({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function Ex(n){return n&&n.fill!==!1}function G6(n,t,e){let r=n[t].fill;const o=[t];let l;if(!e)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!Me(r))return r;if(l=n[r],!l)return!1;if(l.visible)return r;o.push(r),r=l.fill}return!1}function Y6(n,t,e){const i=X6(n);if(Yt(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return Me(r)&&Math.floor(r)===r?W6(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function W6(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function K6(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:Yt(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function $6(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:Yt(n)?i=n.value:i=t.getBaseValue(),i}function X6(n){const t=n.options,e=t.fill;let i=Ot(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function Q6(n){const{scale:t,index:e,line:i}=n,r=[],o=i.segments,l=i.points,u=J6(t,e);u.push(kR({x:null,y:t.bottom},i));for(let f=0;f<o.length;f++){const d=o[f];for(let p=d.start;p<=d.end;p++)Z6(r,l[p],u)}return new Em({points:r,options:{}})}function J6(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const o=i[r];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function Z6(n,t,e){const i=[];for(let r=0;r<e.length;r++){const o=e[r],{first:l,last:u,point:f}=tz(o,t,"x");if(!(!f||l&&u)){if(l)i.unshift(f);else if(n.push(f),!u)break}}n.push(...i)}function tz(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],o=n.segments,l=n.points;let u=!1,f=!1;for(let d=0;d<o.length;d++){const p=o[d],y=l[p.start][e],v=l[p.end][e];if(ar(r,y,v)){u=r===y,f=r===v;break}}return{first:u,last:f,point:i}}class PR{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:o,radius:l}=this;return e=e||{start:0,end:ve},t.arc(r,o,l,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,o=t.angle;return{x:e+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}}function ez(n){const{chart:t,fill:e,line:i}=n;if(Me(e))return nz(t,e);if(e==="stack")return Q6(n);if(e==="shape")return!0;const r=iz(n);return r instanceof PR?r:kR(r,i)}function nz(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function iz(n){return(n.scale||{}).getPointPositionForValue?rz(n):sz(n)}function sz(n){const{scale:t={},fill:e}=n,i=K6(e,t);if(Me(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function rz(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,o=i.reverse?t.max:t.min,l=$6(e,t,o),u=[];if(i.grid.circular){const f=t.getPointPositionForValue(0,o);return new PR({x:f.x,y:f.y,radius:t.getDistanceFromCenterForValue(l)})}for(let f=0;f<r;++f)u.push(t.getPointPositionForValue(f,l));return u}function Qp(n,t,e){const i=ez(t),{chart:r,index:o,line:l,scale:u,axis:f}=t,d=l.options,p=d.fill,y=d.backgroundColor,{above:v=y,below:T=y}=p||{},x=r.getDatasetMeta(o),w=mR(r,x);i&&l.points.length&&(ym(n,e),az(n,{line:l,target:i,above:v,below:T,area:e,scale:u,axis:f,clip:w}),_m(n))}function az(n,t){const{line:e,target:i,above:r,below:o,area:l,scale:u,clip:f}=t,d=e._loop?"angle":t.axis;n.save();let p=o;o!==r&&(d==="x"?(Tx(n,i,l.top),Jp(n,{line:e,target:i,color:r,scale:u,property:d,clip:f}),n.restore(),n.save(),Tx(n,i,l.bottom)):d==="y"&&(Sx(n,i,l.left),Jp(n,{line:e,target:i,color:o,scale:u,property:d,clip:f}),n.restore(),n.save(),Sx(n,i,l.right),p=r)),Jp(n,{line:e,target:i,color:p,scale:u,property:d,clip:f}),n.restore()}function Tx(n,t,e){const{segments:i,points:r}=t;let o=!0,l=!1;n.beginPath();for(const u of i){const{start:f,end:d}=u,p=r[f],y=r[Tm(f,d,r)];o?(n.moveTo(p.x,p.y),o=!1):(n.lineTo(p.x,e),n.lineTo(p.x,p.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(y.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function Sx(n,t,e){const{segments:i,points:r}=t;let o=!0,l=!1;n.beginPath();for(const u of i){const{start:f,end:d}=u,p=r[f],y=r[Tm(f,d,r)];o?(n.moveTo(p.x,p.y),o=!1):(n.lineTo(e,p.y),n.lineTo(p.x,p.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(e,y.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function Jp(n,t){const{line:e,target:i,property:r,color:o,scale:l,clip:u}=t,f=H6(e,i,r);for(const{source:d,target:p,start:y,end:v}of f){const{style:{backgroundColor:T=o}={}}=d,x=i!==!0;n.save(),n.fillStyle=T,oz(n,l,u,x&&zy(r,y,v)),n.beginPath();const w=!!e.pathSegment(n,d);let A;if(x){w?n.closePath():xx(n,i,v,r);const D=!!i.pathSegment(n,p,{move:w,reverse:!0});A=w&&D,A||xx(n,i,y,r)}n.closePath(),n.fill(A?"evenodd":"nonzero"),n.restore()}}function oz(n,t,e,i){const r=t.chart.chartArea,{property:o,start:l,end:u}=i||{};if(o==="x"||o==="y"){let f,d,p,y;o==="x"?(f=l,d=r.top,p=u,y=r.bottom):(f=r.left,d=l,p=r.right,y=u),n.beginPath(),e&&(f=Math.max(f,e.left),p=Math.min(p,e.right),d=Math.max(d,e.top),y=Math.min(y,e.bottom)),n.rect(f,d,p-f,y-d),n.clip()}}function xx(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var lz={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let o,l,u,f;for(l=0;l<i;++l)o=n.getDatasetMeta(l),u=o.dataset,f=null,u&&u.options&&u instanceof Em&&(f={visible:n.isDatasetVisible(l),index:l,fill:Y6(u,l,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:u}),o.$filler=f,r.push(f);for(l=0;l<i;++l)f=r[l],!(!f||f.fill===!1)&&(f.fill=G6(r,l,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let l=r.length-1;l>=0;--l){const u=r[l].$filler;u&&(u.line.updateControlPoints(o,u.axis),i&&u.fill&&Qp(n.ctx,u,o))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const o=i[r].$filler;Ex(o)&&Qp(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!Ex(i)||e.drawTime!=="beforeDatasetDraw"||Qp(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const wx=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},cz=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class Ax extends yr{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=de(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=Je(i.font),o=r.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:f}=wx(i,o);let d,p;e.font=r.string,this.isHorizontal()?(d=this.maxWidth,p=this._fitRows(l,o,u,f)+10):(p=this.maxHeight,d=this._fitCols(l,r,u,f)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:l,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],d=this.lineWidths=[0],p=r+u;let y=t;o.textAlign="left",o.textBaseline="middle";let v=-1,T=-p;return this.legendItems.forEach((x,w)=>{const A=i+e/2+o.measureText(x.text).width;(w===0||d[d.length-1]+A+2*u>l)&&(y+=p,d[d.length-(w>0?0:1)]=0,T+=p,v++),f[w]={left:0,top:T,row:v,width:A,height:r},d[d.length-1]+=A+u}),y}_fitCols(t,e,i,r){const{ctx:o,maxHeight:l,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],d=this.columnSizes=[],p=l-t;let y=u,v=0,T=0,x=0,w=0;return this.legendItems.forEach((A,D)=>{const{itemWidth:z,itemHeight:B}=uz(i,e,o,A,r);D>0&&T+B+2*u>p&&(y+=v+u,d.push({width:v,height:T}),x+=v+u,w++,v=T=0),f[D]={left:x,top:T,col:w,width:z,height:B},v=Math.max(v,z),T+=B+u}),y+=v,d.push({width:v,height:T}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,l=Ol(o,this.left,this.width);if(this.isHorizontal()){let u=0,f=xn(i,this.left+r,this.right-this.lineWidths[u]);for(const d of e)u!==d.row&&(u=d.row,f=xn(i,this.left+r,this.right-this.lineWidths[u])),d.top+=this.top+t+r,d.left=l.leftForLtr(l.x(f),d.width),f+=d.width+r}else{let u=0,f=xn(i,this.top+t+r,this.bottom-this.columnSizes[u].height);for(const d of e)d.col!==u&&(u=d.col,f=xn(i,this.top+t+r,this.bottom-this.columnSizes[u].height)),d.top=f,d.left+=this.left+r,d.left=l.leftForLtr(l.x(d.left),d.width),f+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;ym(t,this),this._draw(),_m(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:l}=t,u=xe.color,f=Ol(t.rtl,this.left,this.width),d=Je(l.font),{padding:p}=l,y=d.size,v=y/2;let T;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:x,boxHeight:w,itemHeight:A}=wx(l,y),D=function(K,I,C){if(isNaN(x)||x<=0||isNaN(w)||w<0)return;r.save();const N=Ot(C.lineWidth,1);if(r.fillStyle=Ot(C.fillStyle,u),r.lineCap=Ot(C.lineCap,"butt"),r.lineDashOffset=Ot(C.lineDashOffset,0),r.lineJoin=Ot(C.lineJoin,"miter"),r.lineWidth=N,r.strokeStyle=Ot(C.strokeStyle,u),r.setLineDash(Ot(C.lineDash,[])),l.usePointStyle){const V={radius:w*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:N},k=f.xPlus(K,x/2),L=I+v;eR(r,V,k,L,l.pointStyleWidth&&x)}else{const V=I+Math.max((y-w)/2,0),k=f.leftForLtr(K,x),L=po(C.borderRadius);r.beginPath(),Object.values(L).some(P=>P!==0)?qu(r,{x:k,y:V,w:x,h:w,radius:L}):r.rect(k,V,x,w),r.fill(),N!==0&&r.stroke()}r.restore()},z=function(K,I,C){wo(r,C.text,K,I+A/2,d,{strikethrough:C.hidden,textAlign:f.textAlign(C.textAlign)})},B=this.isHorizontal(),q=this._computeTitleHeight();B?T={x:xn(o,this.left+p,this.right-i[0]),y:this.top+p+q,line:0}:T={x:this.left+p,y:xn(o,this.top+q+p,this.bottom-e[0].height),line:0},cR(this.ctx,t.textDirection);const H=A+p;this.legendItems.forEach((K,I)=>{r.strokeStyle=K.fontColor,r.fillStyle=K.fontColor;const C=r.measureText(K.text).width,N=f.textAlign(K.textAlign||(K.textAlign=l.textAlign)),V=x+v+C;let k=T.x,L=T.y;f.setWidth(this.width),B?I>0&&k+V+p>this.right&&(L=T.y+=H,T.line++,k=T.x=xn(o,this.left+p,this.right-i[T.line])):I>0&&L+H>this.bottom&&(k=T.x=k+e[T.line].width+p,T.line++,L=T.y=xn(o,this.top+q+p,this.bottom-e[T.line].height));const P=f.x(k);if(D(P,L,K),k=b4(N,k+x+v,B?k+V:this.right,t.rtl),z(f.x(k),L,K),B)T.x+=V+p;else if(typeof K.text!="string"){const Et=d.lineHeight;T.y+=LR(K,Et)+p}else T.y+=H}),uR(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Je(e.font),r=Dn(e.padding);if(!e.display)return;const o=Ol(t.rtl,this.left,this.width),l=this.ctx,u=e.position,f=i.size/2,d=r.top+f;let p,y=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),p=this.top+d,y=xn(t.align,y,this.right-v);else{const x=this.columnSizes.reduce((w,A)=>Math.max(w,A.height),0);p=d+xn(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}const T=xn(u,y,y+v);l.textAlign=o.textAlign(Y_(u)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=i.string,wo(l,e.text,T,p,i)}_computeTitleHeight(){const t=this.options.title,e=Je(t.font),i=Dn(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(ar(t,this.left,this.right)&&ar(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],ar(t,r.left,r.left+r.width)&&ar(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!dz(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=cz(r,i);r&&!o&&de(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&de(e.onHover,[t,i,this],this)}else i&&de(e.onClick,[t,i,this],this)}}function uz(n,t,e,i,r){const o=hz(i,n,t,e),l=fz(r,i,t.lineHeight);return{itemWidth:o,itemHeight:l}}function hz(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,l)=>o.length>l.length?o:l)),t+e.size/2+i.measureText(r).width}function fz(n,t,e){let i=n;return typeof t.text!="string"&&(i=LR(t,e)),i}function LR(n,t){const e=n.text?n.text.length:0;return t*e}function dz(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var mz={id:"legend",_element:Ax,start(n,t,e){const i=n.legend=new Ax({ctx:n.ctx,options:e,chart:n});Cn.configure(n,i,e),Cn.addBox(n,i)},stop(n){Cn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Cn.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const d=f.controller.getStyle(e?0:void 0),p=Dn(d.borderWidth);return{text:t[f.index].label,fillStyle:d.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:l&&(u||d.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class iv extends yr{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=Se(i.text)?i.text.length:1;this._padding=Dn(i.padding);const o=r*Je(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:l}=this,u=l.align;let f=0,d,p,y;return this.isHorizontal()?(p=xn(u,i,o),y=e+t,d=o-i):(l.position==="left"?(p=i+t,y=xn(u,r,e),f=Qt*-.5):(p=o-t,y=xn(u,e,r),f=Qt*.5),d=r-e),{titleX:p,titleY:y,maxWidth:d,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Je(e.font),o=i.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:f,rotation:d}=this._drawArgs(o);wo(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:d,textAlign:Y_(e.align),textBaseline:"middle",translation:[l,u]})}}function gz(n,t){const e=new iv({ctx:n.ctx,options:t,chart:n});Cn.configure(n,e,t),Cn.addBox(n,e),n.titleBlock=e}var pz={id:"title",_element:iv,start(n,t,e){gz(n,e)},stop(n){const t=n.titleBlock;Cn.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Cn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Jf=new WeakMap;var yz={id:"subtitle",start(n,t,e){const i=new iv({ctx:n.ctx,options:e,chart:n});Cn.configure(n,i,e),Cn.addBox(n,i),Jf.set(n,i)},stop(n){Cn.removeBox(n,Jf.get(n)),Jf.delete(n)},beforeUpdate(n,t,e){const i=Jf.get(n);Cn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const mu={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const u=n[t].element;if(u&&u.hasValue()){const f=u.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((u,f)=>u+f)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,l,u;for(o=0,l=n.length;o<l;++o){const f=n[o].element;if(f&&f.hasValue()){const d=f.getCenterPoint(),p=My(t,d);p<r&&(r=p,u=f)}}if(u){const f=u.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function bs(n,t){return t&&(Se(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function nr(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function _z(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:l,value:u}=o.getLabelAndValue(r);return{chart:n,label:l,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function Rx(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:l,boxHeight:u}=t,f=Je(t.bodyFont),d=Je(t.titleFont),p=Je(t.footerFont),y=o.length,v=r.length,T=i.length,x=Dn(t.padding);let w=x.height,A=0,D=i.reduce((q,H)=>q+H.before.length+H.lines.length+H.after.length,0);if(D+=n.beforeBody.length+n.afterBody.length,y&&(w+=y*d.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),D){const q=t.displayColors?Math.max(u,f.lineHeight):f.lineHeight;w+=T*q+(D-T)*f.lineHeight+(D-1)*t.bodySpacing}v&&(w+=t.footerMarginTop+v*p.lineHeight+(v-1)*t.footerSpacing);let z=0;const B=function(q){A=Math.max(A,e.measureText(q).width+z)};return e.save(),e.font=d.string,oe(n.title,B),e.font=f.string,oe(n.beforeBody.concat(n.afterBody),B),z=t.displayColors?l+2+t.boxPadding:0,oe(i,q=>{oe(q.before,B),oe(q.lines,B),oe(q.after,B)}),z=0,e.font=p.string,oe(n.footer,B),e.restore(),A+=x.width,{width:A,height:w}}function vz(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function bz(n,t,e,i){const{x:r,width:o}=i,l=e.caretSize+e.caretPadding;if(n==="left"&&r+o+l>t.width||n==="right"&&r-o-l<0)return!0}function Ez(n,t,e,i){const{x:r,width:o}=e,{width:l,chartArea:{left:u,right:f}}=n;let d="center";return i==="center"?d=r<=(u+f)/2?"left":"right":r<=o/2?d="left":r>=l-o/2&&(d="right"),bz(d,n,t,e)&&(d="center"),d}function Cx(n,t,e){const i=e.yAlign||t.yAlign||vz(n,e);return{xAlign:e.xAlign||t.xAlign||Ez(n,t,e,i),yAlign:i}}function Tz(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function Sz(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function Ix(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:l}=n,{xAlign:u,yAlign:f}=e,d=r+o,{topLeft:p,topRight:y,bottomLeft:v,bottomRight:T}=po(l);let x=Tz(t,u);const w=Sz(t,f,d);return f==="center"?u==="left"?x+=d:u==="right"&&(x-=d):u==="left"?x-=Math.max(p,v)+r:u==="right"&&(x+=Math.max(y,T)+r),{x:on(x,0,i.width-t.width),y:on(w,0,i.height-t.height)}}function Zf(n,t,e){const i=Dn(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function Dx(n){return bs([],nr(n))}function xz(n,t,e){return Ia(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function Mx(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const VR={beforeTitle:tr,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:tr,beforeBody:tr,beforeLabel:tr,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return jt(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:tr,afterBody:tr,beforeFooter:tr,footer:tr,afterFooter:tr};function qn(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?VR[t].call(e,i):r}class Ox extends yr{static positioners=mu;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new gR(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=xz(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=qn(i,"beforeTitle",this,t),o=qn(i,"title",this,t),l=qn(i,"afterTitle",this,t);let u=[];return u=bs(u,nr(r)),u=bs(u,nr(o)),u=bs(u,nr(l)),u}getBeforeBody(t,e){return Dx(qn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return oe(t,o=>{const l={before:[],lines:[],after:[]},u=Mx(i,o);bs(l.before,nr(qn(u,"beforeLabel",this,o))),bs(l.lines,qn(u,"label",this,o)),bs(l.after,nr(qn(u,"afterLabel",this,o))),r.push(l)}),r}getAfterBody(t,e){return Dx(qn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=qn(i,"beforeFooter",this,t),o=qn(i,"footer",this,t),l=qn(i,"afterFooter",this,t);let u=[];return u=bs(u,nr(r)),u=bs(u,nr(o)),u=bs(u,nr(l)),u}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],l=[];let u=[],f,d;for(f=0,d=e.length;f<d;++f)u.push(_z(this.chart,e[f]));return t.filter&&(u=u.filter((p,y,v)=>t.filter(p,y,v,i))),t.itemSort&&(u=u.sort((p,y)=>t.itemSort(p,y,i))),oe(u,p=>{const y=Mx(t.callbacks,p);r.push(qn(y,"labelColor",this,p)),o.push(qn(y,"labelPointStyle",this,p)),l.push(qn(y,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=u,u}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,l=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const u=mu[i.position].call(this,r,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const f=this._size=Rx(this,i),d=Object.assign({},u,f),p=Cx(this.chart,i,d),y=Ix(i,d,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:y.x,y:y.y,width:f.width,height:f.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:f,topRight:d,bottomLeft:p,bottomRight:y}=po(u),{x:v,y:T}=t,{width:x,height:w}=e;let A,D,z,B,q,H;return o==="center"?(q=T+w/2,r==="left"?(A=v,D=A-l,B=q+l,H=q-l):(A=v+x,D=A+l,B=q-l,H=q+l),z=A):(r==="left"?D=v+Math.max(f,p)+l:r==="right"?D=v+x-Math.max(d,y)-l:D=this.caretX,o==="top"?(B=T,q=B-l,A=D-l,z=D+l):(B=T+w,q=B+l,A=D+l,z=D-l),H=B),{x1:A,x2:D,x3:z,y1:B,y2:q,y3:H}}drawTitle(t,e,i){const r=this.title,o=r.length;let l,u,f;if(o){const d=Ol(i.rtl,this.x,this.width);for(t.x=Zf(this,i.titleAlign,i),e.textAlign=d.textAlign(i.titleAlign),e.textBaseline="middle",l=Je(i.titleFont),u=i.titleSpacing,e.fillStyle=i.titleColor,e.font=l.string,f=0;f<o;++f)e.fillText(r[f],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+u,f+1===o&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,e,i,r,o){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:f,boxWidth:d}=o,p=Je(o.bodyFont),y=Zf(this,"left",o),v=r.x(y),T=f<p.lineHeight?(p.lineHeight-f)/2:0,x=e.y+T;if(o.usePointStyle){const w={radius:Math.min(d,f)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},A=r.leftForLtr(v,d)+d/2,D=x+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Ny(t,w,A,D),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,Ny(t,w,A,D)}else{t.lineWidth=Yt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const w=r.leftForLtr(v,d),A=r.leftForLtr(r.xPlus(v,1),d-2),D=po(l.borderRadius);Object.values(D).some(z=>z!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,qu(t,{x:w,y:x,w:d,h:f,radius:D}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),qu(t,{x:A,y:x+1,w:d-2,h:f-2,radius:D}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(w,x,d,f),t.strokeRect(w,x,d,f),t.fillStyle=l.backgroundColor,t.fillRect(A,x+1,d-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:l,displayColors:u,boxHeight:f,boxWidth:d,boxPadding:p}=i,y=Je(i.bodyFont);let v=y.lineHeight,T=0;const x=Ol(i.rtl,this.x,this.width),w=function(C){e.fillText(C,x.x(t.x+T),t.y+v/2),t.y+=v+o},A=x.textAlign(l);let D,z,B,q,H,K,I;for(e.textAlign=l,e.textBaseline="middle",e.font=y.string,t.x=Zf(this,A,i),e.fillStyle=i.bodyColor,oe(this.beforeBody,w),T=u&&A!=="right"?l==="center"?d/2+p:d+2+p:0,q=0,K=r.length;q<K;++q){for(D=r[q],z=this.labelTextColors[q],e.fillStyle=z,oe(D.before,w),B=D.lines,u&&B.length&&(this._drawColorBox(e,t,q,x,i),v=Math.max(y.lineHeight,f)),H=0,I=B.length;H<I;++H)w(B[H]),v=y.lineHeight;oe(D.after,w)}T=0,v=y.lineHeight,oe(this.afterBody,w),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let l,u;if(o){const f=Ol(i.rtl,this.x,this.width);for(t.x=Zf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",l=Je(i.footerFont),e.fillStyle=i.footerColor,e.font=l.string,u=0;u<o;++u)e.fillText(r[u],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:l}=this,{x:u,y:f}=t,{width:d,height:p}=i,{topLeft:y,topRight:v,bottomLeft:T,bottomRight:x}=po(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(u+y,f),l==="top"&&this.drawCaret(t,e,i,r),e.lineTo(u+d-v,f),e.quadraticCurveTo(u+d,f,u+d,f+v),l==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(u+d,f+p-x),e.quadraticCurveTo(u+d,f+p,u+d-x,f+p),l==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(u+T,f+p),e.quadraticCurveTo(u,f+p,u,f+p-T),l==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(u,f+y),e.quadraticCurveTo(u,f,u+y,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const l=mu[t.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=Rx(this,t),f=Object.assign({},l,this._size),d=Cx(e,t,f),p=Ix(t,f,d,e);(r._to!==p.x||o._to!==p.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=Dn(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),cR(t,e.textDirection),o.y+=l.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),uR(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:u,index:f})=>{const d=this.chart.getDatasetMeta(u);if(!d)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:d.data[f],index:f}}),o=!kd(i,r),l=this._positionChanged(r,e);(o||l)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],l=this._getActiveElements(t,o,e,i),u=this._positionChanged(l,t),f=e||!kd(l,o)||u;return f&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,l=mu[o.position].call(this,t,e);return l!==!1&&(i!==l.x||r!==l.y)}}var wz={id:"tooltip",_element:Ox,positioners:mu,afterInit(n,t,e){e&&(n.tooltip=new Ox({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:VR},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Az=Object.freeze({__proto__:null,Colors:z6,Decimation:F6,Filler:lz,Legend:mz,SubTitle:yz,Title:pz,Tooltip:wz});const Rz=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function Cz(n,t,e,i){const r=n.indexOf(t);if(r===-1)return Rz(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const Iz=(n,t)=>n===null?null:on(Math.round(n),0,t);function Nx(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class Dz extends Do{static id="category";static defaults={ticks:{callback:Nx}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(jt(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:Cz(i,t,Ot(e,t),this._addedLabels),Iz(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=e;l++)r.push({value:l});return r}getLabelForValue(t){return Nx.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function Mz(n,t){const e=[],{bounds:r,step:o,min:l,max:u,precision:f,count:d,maxTicks:p,maxDigits:y,includeBounds:v}=n,T=o||1,x=p-1,{min:w,max:A}=t,D=!jt(l),z=!jt(u),B=!jt(d),q=(A-w)/(y+1);let H=RS((A-w)/x/T)*T,K,I,C,N;if(H<1e-14&&!D&&!z)return[{value:w},{value:A}];N=Math.ceil(A/H)-Math.floor(w/H),N>x&&(H=RS(N*H/x/T)*T),jt(f)||(K=Math.pow(10,f),H=Math.ceil(H*K)/K),r==="ticks"?(I=Math.floor(w/H)*H,C=Math.ceil(A/H)*H):(I=w,C=A),D&&z&&o&&d4((u-l)/o,H/1e3)?(N=Math.round(Math.min((u-l)/H,p)),H=(u-l)/N,I=l,C=u):B?(I=D?l:I,C=z?u:C,N=d-1,H=(C-I)/N):(N=(C-I)/H,Tu(N,Math.round(N),H/1e3)?N=Math.round(N):N=Math.ceil(N));const V=Math.max(CS(H),CS(I));K=Math.pow(10,jt(f)?V:f),I=Math.round(I*K)/K,C=Math.round(C*K)/K;let k=0;for(D&&(v&&I!==l?(e.push({value:l}),I<l&&k++,Tu(Math.round((I+k*H)*K)/K,l,kx(l,q,n))&&k++):I<l&&k++);k<N;++k){const L=Math.round((I+k*H)*K)/K;if(z&&L>u)break;e.push({value:L})}return z&&v&&C!==u?e.length&&Tu(e[e.length-1].value,u,kx(u,q,n))?e[e.length-1].value=u:e.push({value:u}):(!z||C===u)&&e.push({value:C}),e}function kx(n,t,{horizontal:e,minRotation:i}){const r=Yi(i),o=(e?Math.sin(r):Math.cos(r))||.001,l=.75*t*(""+n).length;return Math.min(t/o,l)}class Bd extends Do{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return jt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const l=f=>r=e?r:f,u=f=>o=i?o:f;if(t){const f=Ds(r),d=Ds(o);f<0&&d<0?u(0):f>0&&d>0&&l(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);u(o+f),t||l(r-f)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,l=Mz(r,o);return t.bounds==="ticks"&&YA(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return hh(t,this.chart.options.locale,this.options.ticks.format)}}class Oz extends Bd{static id="linear";static defaults={ticks:{callback:pm.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Me(t)?t:0,this.max=Me(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Yi(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Yu=n=>Math.floor(ra(n)),lo=(n,t)=>Math.pow(10,Yu(n)+t);function Px(n){return n/Math.pow(10,Yu(n))===1}function Lx(n,t,e){const i=Math.pow(10,e),r=Math.floor(n/i);return Math.ceil(t/i)-r}function Nz(n,t){const e=t-n;let i=Yu(e);for(;Lx(n,t,i)>10;)i++;for(;Lx(n,t,i)<10;)i--;return Math.min(i,Yu(n))}function kz(n,{min:t,max:e}){t=ci(n.min,t);const i=[],r=Yu(t);let o=Nz(t,e),l=o<0?Math.pow(10,Math.abs(o)):1;const u=Math.pow(10,o),f=r>o?Math.pow(10,r):0,d=Math.round((t-f)*l)/l,p=Math.floor((t-f)/u/10)*u*10;let y=Math.floor((d-p)/Math.pow(10,o)),v=ci(n.min,Math.round((f+p+y*Math.pow(10,o))*l)/l);for(;v<e;)i.push({value:v,major:Px(v),significand:y}),y>=10?y=y<15?15:20:y++,y>=20&&(o++,y=2,l=o>=0?1:l),v=Math.round((f+p+y*Math.pow(10,o))*l)/l;const T=ci(n.max,v);return i.push({value:T,major:Px(T),significand:y}),i}class Pz extends Do{static id="logarithmic";static defaults={ticks:{callback:pm.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=Bd.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return Me(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Me(t)?Math.max(0,t):null,this.max=Me(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Me(this._userMin)&&(this.min=t===lo(this.min,0)?lo(this.min,-1):lo(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,r=this.max;const o=u=>i=t?i:u,l=u=>r=e?r:u;i===r&&(i<=0?(o(1),l(10)):(o(lo(i,-1)),l(lo(r,1)))),i<=0&&o(lo(r,-1)),r<=0&&l(lo(i,1)),this.min=i,this.max=r}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},i=kz(e,this);return t.bounds==="ticks"&&YA(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":hh(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=ra(t),this._valueRange=ra(this.max)-ra(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(ra(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function Uy(n){const t=n.ticks;if(t.display&&n.display){const e=Dn(t.backdropPadding);return Ot(t.font&&t.font.size,xe.font.size)+e.height}return 0}function Lz(n,t,e){return e=Se(e)?e:[e],{w:D4(n,t.string,e),h:e.length*t.lineHeight}}function Vx(n,t,e,i,r){return n===i||n===r?{start:t-e/2,end:t+e/2}:n<i||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function Vz(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],r=[],o=n._pointLabels.length,l=n.options.pointLabels,u=l.centerPointLabels?Qt/o:0;for(let f=0;f<o;f++){const d=l.setContext(n.getPointLabelContext(f));r[f]=d.padding;const p=n.getPointPosition(f,n.drawingArea+r[f],u),y=Je(d.font),v=Lz(n.ctx,y,n._pointLabels[f]);i[f]=v;const T=An(n.getIndexAngle(f)+u),x=Math.round(q_(T)),w=Vx(x,p.x,v.w,0,180),A=Vx(x,p.y,v.h,90,270);zz(e,t,T,w,A)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=Bz(n,i,r)}function zz(n,t,e,i,r){const o=Math.abs(Math.sin(e)),l=Math.abs(Math.cos(e));let u=0,f=0;i.start<t.l?(u=(t.l-i.start)/o,n.l=Math.min(n.l,t.l-u)):i.end>t.r&&(u=(i.end-t.r)/o,n.r=Math.max(n.r,t.r+u)),r.start<t.t?(f=(t.t-r.start)/l,n.t=Math.min(n.t,t.t-f)):r.end>t.b&&(f=(r.end-t.b)/l,n.b=Math.max(n.b,t.b+f))}function Uz(n,t,e){const i=n.drawingArea,{extra:r,additionalAngle:o,padding:l,size:u}=e,f=n.getPointPosition(t,i+r+l,o),d=Math.round(q_(An(f.angle+Ve))),p=qz(f.y,u.h,d),y=Fz(d),v=Hz(f.x,u.w,y);return{visible:!0,x:f.x,y:p,textAlign:y,left:v,top:p,right:v+u.w,bottom:p+u.h}}function jz(n,t){if(!t)return!0;const{left:e,top:i,right:r,bottom:o}=n;return!(lr({x:e,y:i},t)||lr({x:e,y:o},t)||lr({x:r,y:i},t)||lr({x:r,y:o},t))}function Bz(n,t,e){const i=[],r=n._pointLabels.length,o=n.options,{centerPointLabels:l,display:u}=o.pointLabels,f={extra:Uy(o)/2,additionalAngle:l?Qt/r:0};let d;for(let p=0;p<r;p++){f.padding=e[p],f.size=t[p];const y=Uz(n,p,f);i.push(y),u==="auto"&&(y.visible=jz(y,d),y.visible&&(d=y))}return i}function Fz(n){return n===0||n===180?"center":n<180?"left":"right"}function Hz(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function qz(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function Gz(n,t,e){const{left:i,top:r,right:o,bottom:l}=e,{backdropColor:u}=t;if(!jt(u)){const f=po(t.borderRadius),d=Dn(t.backdropPadding);n.fillStyle=u;const p=i-d.left,y=r-d.top,v=o-i+d.width,T=l-r+d.height;Object.values(f).some(x=>x!==0)?(n.beginPath(),qu(n,{x:p,y,w:v,h:T,radius:f}),n.fill()):n.fillRect(p,y,v,T)}}function Yz(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let r=t-1;r>=0;r--){const o=n._pointLabelItems[r];if(!o.visible)continue;const l=i.setContext(n.getPointLabelContext(r));Gz(e,l,o);const u=Je(l.font),{x:f,y:d,textAlign:p}=o;wo(e,n._pointLabels[r],f,d+u.lineHeight/2,u,{color:l.color,textAlign:p,textBaseline:"middle"})}}function zR(n,t,e,i){const{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,ve);else{let o=n.getPointPosition(0,t);r.moveTo(o.x,o.y);for(let l=1;l<i;l++)o=n.getPointPosition(l,t),r.lineTo(o.x,o.y)}}function Wz(n,t,e,i,r){const o=n.ctx,l=t.circular,{color:u,lineWidth:f}=t;!l&&!i||!u||!f||e<0||(o.save(),o.strokeStyle=u,o.lineWidth=f,o.setLineDash(r.dash||[]),o.lineDashOffset=r.dashOffset,o.beginPath(),zR(n,e,l,i),o.closePath(),o.stroke(),o.restore())}function Kz(n,t,e){return Ia(n,{label:e,index:t,type:"pointLabel"})}class $z extends Bd{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:pm.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Dn(Uy(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Me(t)&&!isNaN(t)?t:0,this.max=Me(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Uy(this.options))}generateTickLabels(t){Bd.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const r=de(this.options.pointLabels.callback,[e,i],this);return r||r===0?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?Vz(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){const e=ve/(this._pointLabels.length||1),i=this.options.startAngle||0;return An(t*e+Yi(i))}getDistanceFromCenterForValue(t){if(jt(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(jt(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return Kz(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const r=this.getIndexAngle(t)-Ve+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:r,bottom:o}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),zR(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:r,border:o}=e,l=this._pointLabels.length;let u,f,d;if(e.pointLabels.display&&Yz(this,l),r.display&&this.ticks.forEach((p,y)=>{if(y!==0||y===0&&this.min<0){f=this.getDistanceFromCenterForValue(p.value);const v=this.getContext(y),T=r.setContext(v),x=o.setContext(v);Wz(this,T,f,l,x)}}),i.display){for(t.save(),u=l-1;u>=0;u--){const p=i.setContext(this.getPointLabelContext(u)),{color:y,lineWidth:v}=p;!v||!y||(t.lineWidth=v,t.strokeStyle=y,t.setLineDash(p.borderDash),t.lineDashOffset=p.borderDashOffset,f=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),d=this.getPointPosition(u,f),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let o,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((u,f)=>{if(f===0&&this.min>=0&&!e.reverse)return;const d=i.setContext(this.getContext(f)),p=Je(d.font);if(o=this.getDistanceFromCenterForValue(this.ticks[f].value),d.showLabelBackdrop){t.font=p.string,l=t.measureText(u.label).width,t.fillStyle=d.backdropColor;const y=Dn(d.backdropPadding);t.fillRect(-l/2-y.left,-o-p.size/2-y.top,l+y.width,p.size+y.height)}wo(t,u.label,0,-o,p,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}const Sm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Kn=Object.keys(Sm);function zx(n,t){return n-t}function Ux(n,t){if(jt(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),Me(l)||(l=typeof i=="string"?e.parse(l,i):e.parse(l)),l===null?null:(r&&(l=r==="week"&&(jl(o)||o===!0)?e.startOf(l,"isoWeek",o):e.startOf(l,r)),+l)}function jx(n,t,e,i){const r=Kn.length;for(let o=Kn.indexOf(n);o<r-1;++o){const l=Sm[Kn[o]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(u*l.size))<=i)return Kn[o]}return Kn[r-1]}function Xz(n,t,e,i,r){for(let o=Kn.length-1;o>=Kn.indexOf(e);o--){const l=Kn[o];if(Sm[l].common&&n._adapter.diff(r,i,l)>=t-1)return l}return Kn[e?Kn.indexOf(e):0]}function Qz(n){for(let t=Kn.indexOf(n)+1,e=Kn.length;t<e;++t)if(Sm[Kn[t]].common)return Kn[t]}function Bx(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=G_(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function Jz(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),l=t[t.length-1].value;let u,f;for(u=o;u<=l;u=+r.add(u,1,i))f=e[u],f>=0&&(t[f].major=!0);return t}function Fx(n,t,e){const i=[],r={},o=t.length;let l,u;for(l=0;l<o;++l)u=t[l],r[u]=l,i.push({value:u,major:!1});return o===0||!e?i:Jz(n,i,r,e)}class jy extends Do{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new Z5._date(t.adapters.date);r.init(e),Eu(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:Ux(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:l,maxDefined:u}=this.getUserBounds();function f(d){!l&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!u&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!l||!u)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=Me(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=Me(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,l=this.max,u=y4(r,o,l);return this._unit=e.unit||(i.autoSkip?jx(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):Xz(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Qz(this._unit),this.initOffsets(r),t.reverse&&u.reverse(),Fx(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=on(e,0,l),i=on(i,0,l),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,l=o.unit||jx(o.minUnit,e,i,this._getLabelCapacity(e)),u=Ot(r.ticks.stepSize,1),f=l==="week"?o.isoWeekday:!1,d=jl(f)||f===!0,p={};let y=e,v,T;if(d&&(y=+t.startOf(y,"isoWeek",f)),y=+t.startOf(y,d?"day":l),t.diff(i,e,l)>1e5*u)throw new Error(e+" and "+i+" are too far apart with stepSize of "+u+" "+l);const x=r.ticks.source==="data"&&this.getDataTimestamps();for(v=y,T=0;v<i;v=+t.add(v,u,l),T++)Bx(p,v,x);return(v===i||r.bounds==="ticks"||T===1)&&Bx(p,v,x),Object.keys(p).sort(zx).map(w=>+w)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,l=e||r[o];return this._adapter.format(t,l)}_tickFormatFunction(t,e,i,r){const o=this.options,l=o.ticks.callback;if(l)return de(l,[t,e,i],this);const u=o.time.displayFormats,f=this._unit,d=this._majorUnit,p=f&&u[f],y=d&&u[d],v=i[e],T=d&&y&&v&&v.major;return this._adapter.format(t,r||(T?y:p))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Yi(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),l=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*l,h:i*l+u*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,Fx(this,[t],this._majorUnit),r),l=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(Ux(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return $A(t.sort(zx))}}function td(n,t,e){let i=0,r=n.length-1,o,l,u,f;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=or(n,"pos",t)),{pos:o,time:u}=n[i],{pos:l,time:f}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=or(n,"time",t)),{time:o,pos:u}=n[i],{time:l,pos:f}=n[r]);const d=l-o;return d?u+(f-u)*(t-o)/d:u}class Zz extends jy{static id="timeseries";static defaults=jy.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=td(e,this.min),this._tableRange=td(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let l,u,f,d,p;for(l=0,u=t.length;l<u;++l)d=t[l],d>=e&&d<=i&&r.push(d);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,u=r.length;l<u;++l)p=r[l+1],f=r[l-1],d=r[l],Math.round((p+f)/2)!==d&&o.push({time:d,pos:l/(u-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(td(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return td(this._table,i*this._tableRange+this._minPos,!0)}}var tU=Object.freeze({__proto__:null,CategoryScale:Dz,LinearScale:Oz,LogarithmicScale:Pz,RadialLinearScale:$z,TimeScale:jy,TimeSeriesScale:Zz});const eU=[J5,M6,Az,tU];nv.register(...eU);const nU=()=>{const{toggleSidebar:n}=$u(),t=X.useRef(null),e=X.useRef(null),[i,r]=X.useState(0),[o,l]=X.useState([]),[u,f]=X.useState([]),[d,p]=X.useState(!0),y=x=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(x),v=()=>{const x=new Date,w=x.getFullYear(),A=String(x.getMonth()+1).padStart(2,"0"),D=String(x.getDate()).padStart(2,"0");return`${w}-${A}-${D}`};X.useEffect(()=>{(async()=>{try{const w=await Uu(Rs(Pn,"users"));let A=[];w.forEach(V=>A.push({id:V.id,name:V.data().name}));const D=Rs(Pn,"transactions"),z=Ml(D,zu("date","asc")),B=await Uu(z);let q=0,H=0,K=[],I=new Set,C={};const N=v();B.forEach(V=>{const k=V.data(),L=parseInt(k.amount)||0;k.type==="income"?q+=L:k.type==="expense"&&(H+=L),k.date===N&&k.type==="income"&&(K.push(k),I.add(k.userId)),k.type==="income"&&(C[k.date]=(C[k.date]||0)+L)}),r(q-H),l(K.reverse()),f(A.filter(V=>!I.has(V.id))),T(C),p(!1)}catch(w){console.error("Error fetching dashboard:",w)}})()},[]);const T=x=>{e.current&&e.current.destroy();const w=t.current.getContext("2d"),A=[],D=[];for(let z=29;z>=0;z--){const B=new Date;B.setDate(B.getDate()-z);const q=B.toISOString().split("T")[0],H=B.toLocaleDateString("en-US",{day:"numeric",month:"short"});A.push(H),D.push(x[q]||0)}e.current=new nv(w,{type:"line",data:{labels:A,datasets:[{label:"Income (Rp)",data:D,borderColor:"#2563eb",backgroundColor:"rgba(37, 99, 235, 0.1)",borderWidth:2,tension:.4,fill:!0,pointRadius:0,pointHoverRadius:4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{color:"#f1f5f9"},ticks:{font:{size:10}}},x:{grid:{display:!1},ticks:{font:{size:10},maxTicksLimit:10}}}}})};return M.jsxs("div",{style:{width:"100%"},children:[M.jsx("div",{className:"header-section",children:M.jsxs("div",{className:"page-title-wrapper",style:{display:"flex",alignItems:"center"},children:[M.jsx("button",{className:"mobile-toggle-btn",onClick:n,children:M.jsx("i",{className:"fa-solid fa-bars"})}),M.jsxs("div",{className:"page-title",children:[M.jsx("h1",{children:"Dashboard"}),M.jsx("p",{children:"Overview of school finance"})]})]})}),M.jsx("div",{className:"stat-card",children:M.jsxs("div",{className:"stat-header",children:[M.jsxs("div",{children:[M.jsxs("div",{className:"stat-title",children:[M.jsx("i",{className:"fa-solid fa-dollar-sign"})," Total Profit"]}),M.jsx("div",{className:"stat-value",children:y(i)}),M.jsxs("div",{className:"stat-desc",children:[M.jsx("i",{className:"fa-solid fa-arrow-trend-up"})," Based on all transactions"]})]}),M.jsx("div",{className:"stat-icon",children:M.jsx("i",{className:"fa-solid fa-wallet"})})]})}),M.jsxs("div",{className:"chart-section",children:[M.jsx("h3",{className:"section-title",children:"Daily Income (Last 30 Days)"}),M.jsx("div",{style:{height:"320px"},children:M.jsx("canvas",{ref:t})})]}),M.jsxs("div",{className:"dashboard-grid",children:[M.jsxs("div",{className:"list-box",children:[M.jsx("h3",{className:"section-title",children:"Recent Income (Today)"}),d?M.jsx("p",{style:{color:"#9ca3af",fontSize:"13px"},children:"Loading data..."}):o.length===0?M.jsx("p",{style:{color:"#9ca3af",fontSize:"13px"},children:"No income recorded today."}):o.map((x,w)=>M.jsxs("div",{className:"list-item",children:[M.jsxs("div",{className:"user-meta",children:[M.jsx("div",{className:"avatar-sm",children:x.userName?x.userName.substring(0,2).toUpperCase():"US"}),M.jsxs("div",{className:"meta-text",children:[M.jsx("h4",{children:x.userName}),M.jsx("p",{children:x.date})]})]}),M.jsxs("div",{className:"amount-plus",children:["+",y(x.amount)]})]},w))]}),M.jsxs("div",{className:"list-box",children:[M.jsxs("h3",{className:"section-title",children:[M.jsx("i",{className:"fa-regular fa-user"})," Users Without Income (Today)"]}),d?M.jsx("p",{style:{color:"#9ca3af",fontSize:"13px"},children:"Checking users..."}):u.length===0?M.jsxs("p",{style:{color:"#16a34a",fontSize:"13px"},children:[M.jsx("i",{className:"fa-solid fa-check"})," Great! All users contributed."]}):u.map(x=>M.jsxs("div",{className:"list-item",children:[M.jsxs("div",{className:"user-meta",children:[M.jsx("div",{className:"avatar-sm",style:{backgroundColor:"#9ca3af"},children:x.name.substring(0,2).toUpperCase()}),M.jsxs("div",{className:"meta-text",children:[M.jsx("h4",{children:x.name}),M.jsx("p",{children:"No record today"})]})]}),M.jsx("div",{className:"status-pending",children:"Waiting"})]},x.id))]})]})]})},iU=()=>{const{toggleSidebar:n}=$u(),[t,e]=X.useState([]),[i,r]=X.useState("income"),[o,l]=X.useState(!1),[u,f]=X.useState(!1),[d,p]=X.useState({userId:"",amount:"",date:new Date().toISOString().split("T")[0],note:""});X.useEffect(()=>{(async()=>{try{const z=(await Uu(Rs(Pn,"users"))).docs.map(B=>({id:B.id,name:B.data().name}));e(z)}catch(D){Ae.error("Gagal memuat data user"),console.error(D)}})()},[]);const y=A=>{const{name:D,value:z}=A.target;p(B=>({...B,[D]:z}))},v=A=>{r(A)},T=A=>{if(A.preventDefault(),!d.userId||!d.amount||!d.date){Ae.error("Mohon lengkapi data wajib (*)");return}f(!0)},x=async()=>{l(!0);try{const A=t.find(z=>z.id===d.userId),D=A?A.name:"Unknown";await UA(Rs(Pn,"transactions"),{userId:d.userId,userName:D,amount:parseInt(d.amount)*1e3,date:d.date,note:d.note,type:i,createdAt:gm()}),Ae.success("Transaksi berhasil disimpan!"),f(!1),p({userId:"",amount:"",date:new Date().toISOString().split("T")[0],note:""})}catch(A){Ae.error("Gagal menyimpan: "+A.message),console.error(A)}finally{l(!1)}},w=()=>{const A=t.find(D=>D.id===d.userId);return A?A.name:"-"};return M.jsxs("div",{style:{width:"100%"},children:[M.jsx("div",{className:"centered-header",children:M.jsxs("div",{className:"page-title-wrapper",style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[M.jsx("button",{className:"mobile-toggle-btn",onClick:n,children:M.jsx("i",{className:"fa-solid fa-bars"})}),M.jsxs("div",{children:[M.jsx("h1",{children:"Income Management"}),M.jsx("p",{children:"Add or subtract income for users"})]})]})}),M.jsxs("div",{className:"form-card",children:[M.jsxs("div",{className:"toggle-container",children:[M.jsxs("button",{type:"button",className:`toggle-btn ${i==="income"?"active-income":""}`,onClick:()=>v("income"),children:[M.jsx("i",{className:"fa-solid fa-plus"})," Add Income"]}),M.jsxs("button",{type:"button",className:`toggle-btn ${i==="expense"?"active-expense":""}`,onClick:()=>v("expense"),children:[M.jsx("i",{className:"fa-solid fa-minus"})," Subtract Income"]})]}),M.jsxs("form",{onSubmit:T,children:[M.jsxs("div",{className:"form-group",children:[M.jsx("label",{className:"form-label",children:"Select User *"}),M.jsxs("select",{name:"userId",className:"form-control",required:!0,value:d.userId,onChange:y,children:[M.jsx("option",{value:"",disabled:!0,children:"Choose a user"}),t.map(A=>M.jsx("option",{value:A.id,children:A.name},A.id))]})]}),M.jsxs("div",{className:"form-group",children:[M.jsxs("label",{className:"form-label",children:["Amount (Dalam Ribuan) * ",M.jsx("br",{}),M.jsxs("span",{style:{fontSize:"11px",color:"#64748b",fontWeight:"normal"},children:["Contoh: Ketik ",M.jsx("b",{children:"20"})," untuk Rp 20.000"]})]}),M.jsxs("div",{style:{position:"relative"},children:[M.jsx("input",{type:"number",name:"amount",className:"form-control",placeholder:"0",required:!0,min:"1",value:d.amount,onChange:y}),d.amount&&M.jsxs("div",{style:{position:"absolute",right:"10px",top:"12px",fontSize:"12px",color:"green",fontWeight:"bold"},children:["= Rp ",(parseInt(d.amount)*1e3).toLocaleString("id-ID")]})]})]}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{className:"form-label",children:"Date *"}),M.jsx("input",{type:"date",name:"date",className:"form-control",required:!0,value:d.date,onChange:y})]}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{className:"form-label",children:"Notes (Optional)"}),M.jsx("textarea",{name:"note",className:"form-control",placeholder:"Add any notes about this transaction",value:d.note,onChange:y})]}),M.jsx("button",{type:"submit",className:"btn-submit",style:{backgroundColor:i==="income"?"var(--success-green)":"var(--danger-red)"},children:i==="income"?"Add Income":"Subtract Income"})]})]}),u&&M.jsx("div",{className:"popup-overlay",style:{display:"flex"},children:M.jsxs("div",{className:"popup-box",children:[M.jsx("h3",{children:"Confirm Transaction"}),M.jsx("p",{children:"Please review the details:"}),M.jsxs("div",{className:"popup-details",children:[M.jsxs("p",{children:[M.jsx("strong",{children:"User:"})," ",M.jsx("span",{children:w()})]}),M.jsxs("p",{children:[M.jsx("strong",{children:"Amount:"})," Rp ",M.jsx("span",{children:parseInt(d.amount).toLocaleString("id-ID")})]}),M.jsxs("p",{children:[M.jsx("strong",{children:"Date:"})," ",M.jsx("span",{children:d.date})]}),M.jsxs("p",{children:[M.jsx("strong",{children:"Type:"})," ",M.jsx("span",{style:{textTransform:"capitalize",fontWeight:"bold",color:i==="income"?"green":"red"},children:i})]})]}),M.jsxs("div",{className:"popup-actions",children:[M.jsx("button",{className:"cancel-btn",onClick:()=>f(!1),disabled:o,children:"Cancel"}),M.jsx("button",{className:"confirm-btn",onClick:x,disabled:o,children:o?"Processing...":"Confirm"})]})]})})]})},sU=()=>{const{toggleSidebar:n}=$u(),[t,e]=X.useState([]),[i,r]=X.useState(!0),[o,l]=X.useState(!1),[u,f]=X.useState(""),[d,p]=X.useState(!1);X.useEffect(()=>{const w=Ml(Rs(Pn,"users"),zu("createdAt","desc")),A=U_(w,D=>{const z=D.docs.map(B=>({id:B.id,...B.data()}));e(z),r(!1)},D=>{Ae.error("Gagal memuat users: "+D.message),r(!1)});return()=>A()},[]);const y=async w=>{if(w.preventDefault(),!u.trim()){Ae.error("Nama tidak boleh kosong");return}p(!0);try{await UA(Rs(Pn,"users"),{name:u,createdAt:gm()}),Ae.success("User berhasil ditambahkan!"),f(""),l(!1)}catch(A){Ae.error("Gagal menambah: "+A.message)}finally{p(!1)}},v=async(w,A)=>{if(window.confirm(`Yakin ingin menghapus user "${A}"?`))try{await zA(Vu(Pn,"users",w)),Ae.success("User dihapus.")}catch(D){Ae.error("Gagal menghapus: "+D.message)}},T=w=>w?w.substring(0,2).toUpperCase():"U",x=w=>w?new Date(w.seconds*1e3).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"Baru saja";return M.jsxs("div",{style:{width:"100%"},children:[M.jsxs("div",{className:"header-section",children:[M.jsxs("div",{className:"page-title-wrapper",style:{display:"flex",alignItems:"center"},children:[M.jsx("button",{className:"mobile-toggle-btn",onClick:n,children:M.jsx("i",{className:"fa-solid fa-bars"})}),M.jsx("div",{className:"page-title",children:M.jsx("h1",{children:"User Management"})})]}),M.jsxs("button",{className:"btn-add",onClick:()=>l(!0),children:[M.jsx("i",{className:"fa-solid fa-user-plus"})," Add User"]})]}),M.jsx("div",{className:"user-grid",children:i?M.jsx("p",{style:{color:"var(--text-gray)"},children:"Loading users..."}):t.length===0?M.jsx("p",{style:{color:"var(--text-gray)"},children:"Belum ada user."}):t.map(w=>M.jsxs("div",{className:"user-card",children:[M.jsxs("div",{className:"user-info-wrapper",children:[M.jsx("div",{className:"avatar blue",children:T(w.name)}),M.jsxs("div",{className:"info",children:[M.jsx("h3",{children:w.name}),M.jsxs("p",{children:["Added ",x(w.createdAt)]})]})]}),M.jsx("button",{className:"btn-delete",onClick:()=>v(w.id,w.name),title:"Hapus User",children:M.jsx("i",{className:"fa-regular fa-trash-can"})})]},w.id))}),o&&M.jsx("div",{className:"modal-overlay active",style:{display:"flex"},children:M.jsxs("div",{className:"modal-box",children:[M.jsxs("div",{className:"modal-header",children:[M.jsxs("div",{children:[M.jsx("h3",{children:"Add New User"}),M.jsx("p",{children:"Enter the name of the user you want to add."})]}),M.jsx("button",{className:"close-modal",onClick:()=>l(!1),children:""})]}),M.jsxs("form",{onSubmit:y,children:[M.jsxs("div",{className:"modal-body",children:[M.jsx("label",{children:"User Name *"}),M.jsx("input",{type:"text",placeholder:"Enter full name",required:!0,autoComplete:"off",autoFocus:!0,value:u,onChange:w=>f(w.target.value),style:{marginBottom:"20px"}})]}),M.jsxs("div",{className:"modal-footer",children:[M.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>l(!1),disabled:d,children:"Cancel"}),M.jsx("button",{type:"submit",className:"btn-save",disabled:d,children:d?"Saving...":"Add User"})]})]})]})})]})},rU=()=>{const{toggleSidebar:n}=$u(),[t,e]=X.useState([]),[i,r]=X.useState(new Date().toISOString().split("T")[0]),[o,l]=X.useState([]),[u,f]=X.useState({}),[d,p]=X.useState({}),[y,v]=X.useState(!0),[T,x]=X.useState(!1),w={"?":{label:"?",color:"#94a3b8",bg:"#f1f5f9",title:"Belum diabsen"},H:{label:"H",color:"#15803d",bg:"#dcfce7",title:"Hadir"},S:{label:"S",color:"#854d0e",bg:"#fef9c3",title:"Sakit"},I:{label:"I",color:"#1e40af",bg:"#dbeafe",title:"Izin"},A:{label:"A",color:"#991b1b",bg:"#fee2e2",title:"Alpha"}};X.useEffect(()=>{const q=[];let H=new Date(i),K=0;for(;K<7;){const I=H.getDay();I!==0&&I!==6&&(q.unshift(H.toISOString().split("T")[0]),K++),H.setDate(H.getDate()-1)}l(q)},[i]),X.useEffect(()=>{const q=Ml(Rs(Pn,"users"),zu("name","asc")),H=U_(q,K=>{e(K.docs.map(I=>({id:I.id,name:I.data().name})))});return()=>H()},[]),X.useEffect(()=>{if(o.length===0)return;(async()=>{v(!0);const H=o[0],K=o[o.length-1];try{const I=Ml(Rs(Pn,"attendance"),wl("date",">=",H),wl("date","<=",K)),C=await Uu(I),N={};C.forEach(P=>{N[P.id]=P.data().records||{}}),f(N);const V=Ml(Rs(Pn,"transactions"),wl("type","==","income"),wl("date",">=",H),wl("date","<=",K)),k=await Uu(V),L={};k.forEach(P=>{const Et=P.data();L[Et.date]||(L[Et.date]=new Set),L[Et.date].add(Et.userId)}),p(L)}catch(I){console.error(I),Ae.error("Gagal memuat data matriks")}finally{v(!1)}})()},[o]);const A=(q,H)=>{const K=u[q]&&u[q][H],I=d[q]&&d[q].has(H);return K&&K!=="?"?K:I?"H":K||"?"},D=(q,H,K)=>{f(I=>({...I,[q]:{...I[q]||{},[H]:K}}))},z=async()=>{x(!0);try{const q=IV(Pn);o.forEach(H=>{const K=Vu(Pn,"attendance",H),I={};t.forEach(C=>{I[C.id]=A(H,C.id)}),q.set(K,{date:H,records:I,updatedAt:gm()},{merge:!0})}),await q.commit(),Ae.success("Data absensi 7 hari berhasil disimpan!")}catch(q){Ae.error("Gagal menyimpan: "+q.message)}finally{x(!1)}},B=q=>{const H=new Date(q),K=String(H.getDate()).padStart(2,"0"),I=String(H.getMonth()+1).padStart(2,"0");return`${K}/${I}`};return M.jsxs("div",{style:{width:"100%"},children:[M.jsxs("div",{className:"header-section",children:[M.jsxs("div",{className:"page-title-wrapper",style:{display:"flex",alignItems:"center"},children:[M.jsx("button",{className:"mobile-toggle-btn",onClick:n,children:M.jsx("i",{className:"fa-solid fa-bars"})}),M.jsxs("div",{className:"page-title",children:[M.jsx("h1",{children:"Absensi Matriks"}),M.jsx("p",{children:"Rekap kehadiran 7 hari terakhir"})]})]}),M.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[M.jsx("label",{style:{fontSize:"11px",color:"var(--text-gray)",marginBottom:"4px"},children:"Pilih Hari Terakhir:"}),M.jsx("input",{type:"date",className:"form-control",style:{maxWidth:"150px",cursor:"pointer",padding:"8px"},value:i,onChange:q=>r(q.target.value)})]})]}),M.jsx("div",{className:"form-card",style:{padding:"0",overflow:"hidden"},children:y?M.jsx("p",{style:{padding:"40px",textAlign:"center",color:"#9ca3af"},children:"Loading data..."}):M.jsx("div",{style:{overflowX:"auto"},children:M.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"800px"},children:[M.jsx("thead",{children:M.jsxs("tr",{style:{background:"#f8fafc",borderBottom:"2px solid #e2e8f0"},children:[M.jsx("th",{style:{padding:"12px",textAlign:"left",width:"200px",position:"sticky",left:0,background:"#f8fafc",zIndex:10},children:"Nama Siswa"}),o.map((q,H)=>{const K=q===i;return M.jsxs("th",{style:{padding:"12px",textAlign:"center",fontSize:"13px",background:K?"#eff6ff":"transparent",borderLeft:"1px solid #f1f5f9",color:K?"var(--primary-blue)":"var(--text-dark)",fontWeight:K?"700":"500"},children:[M.jsx("div",{style:{fontSize:"10px",color:K?"var(--primary-blue)":"#94a3b8",marginBottom:"2px"},children:new Date(q).toLocaleDateString("id-ID",{weekday:"short"})}),B(q)]},q)})]})}),M.jsx("tbody",{children:t.map((q,H)=>M.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[M.jsx("td",{style:{padding:"12px",fontSize:"14px",fontWeight:"500",color:"#0f172a",position:"sticky",left:0,background:"white",zIndex:5,boxShadow:"2px 0 5px rgba(0,0,0,0.02)"},children:q.name}),o.map(K=>{const I=A(K,q.id),C=w[I]||w["?"],N=K===i;return M.jsx("td",{style:{padding:"8px",textAlign:"center",background:N?"#fbfdff":"transparent",borderLeft:"1px solid #f1f5f9"},children:M.jsxs("select",{value:I,onChange:V=>D(K,q.id,V.target.value),style:{appearance:"none",backgroundColor:C.bg,color:C.color,border:`1px solid ${C.bg}`,borderRadius:"6px",padding:"6px 2px",width:"100%",minWidth:"40px",textAlign:"center",fontWeight:"bold",fontSize:"13px",cursor:"pointer",outline:"none"},children:[M.jsx("option",{value:"?",children:"?"}),M.jsx("option",{value:"H",children:"H"}),M.jsx("option",{value:"S",children:"S"}),M.jsx("option",{value:"I",children:"I"}),M.jsx("option",{value:"A",children:"A"})]})},`${q.id}-${K}`)})]},q.id))})]})})}),M.jsxs("div",{style:{marginTop:"20px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"15px"},children:[M.jsx("div",{style:{display:"flex",gap:"15px",fontSize:"12px"},children:Object.keys(w).map(q=>{if(q==="?")return null;const H=w[q];return M.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[M.jsx("span",{style:{width:"12px",height:"12px",borderRadius:"3px",background:H.bg,border:`1px solid ${H.color}`}}),M.jsx("span",{style:{color:H.color,fontWeight:"600"},children:H.title})]},q)})}),M.jsx("button",{className:"btn-submit",onClick:z,disabled:T||y,style:{width:"auto",padding:"12px 30px",margin:0},children:T?"Menyimpan...":"Simpan Perubahan"})]})]})},aU=()=>{const{toggleSidebar:n}=$u(),[t,e]=X.useState([]),[i,r]=X.useState({}),[o,l]=X.useState(!0),[u,f]=X.useState(""),[d,p]=X.useState(null),[y,v]=X.useState(!1),[T,x]=X.useState("edit"),[w,A]=X.useState(!1),[D,z]=X.useState({id:"",userId:"",userName:"",amount:"",date:"",note:""});X.useEffect(()=>{const k=Ml(Rs(Pn,"transactions"),wl("type","==","income"),zu("date","desc"),zu("createdAt","desc")),L=U_(k,P=>{const Et=P.docs.map(yt=>({id:yt.id,...yt.data()}));e(Et),l(!1)},P=>{console.error(P),Ae.error("Gagal memuat data income."),l(!1)});return()=>L()},[]),X.useEffect(()=>{if(t.length===0){r({});return}let k=t;u&&(k=t.filter(P=>P.date===u));const L=k.reduce((P,Et)=>{const yt=Et.date;return P[yt]||(P[yt]=[]),P[yt].push(Et),P},{});r(L)},[t,u]);const B=k=>{d!==k&&p(k)},q=k=>{k.stopPropagation(),p(null)},H=(k,L)=>{k.stopPropagation(),x("edit"),z({id:L.id,userId:L.userId,userName:L.userName,amount:L.amount,date:L.date,note:L.note||""}),v(!0),p(null)},K=(k,L)=>{k.stopPropagation(),x("delete"),z(L),v(!0),p(null)},I=async k=>{k.preventDefault(),A(!0);try{const L=Vu(Pn,"transactions",D.id);await AV(L,{amount:parseInt(D.amount),date:D.date,note:D.note,updatedAt:gm()}),Ae.success("Data berhasil diperbarui!"),v(!1)}catch(L){Ae.error("Gagal update: "+L.message)}finally{A(!1)}},C=async()=>{A(!0);try{await zA(Vu(Pn,"transactions",D.id)),Ae.success("Data dihapus."),v(!1)}catch(k){Ae.error("Gagal hapus: "+k.message)}finally{A(!1)}},N=k=>"Rp "+new Intl.NumberFormat("id-ID").format(k),V=k=>{if(!k)return"";const L=new Date(k),P=String(L.getDate()).padStart(2,"0"),Et=String(L.getMonth()+1).padStart(2,"0"),yt=L.getFullYear();return`${P}/${Et}/${yt}`};return M.jsxs("div",{style:{width:"100%"},children:[M.jsxs("div",{className:"header-section",children:[M.jsxs("div",{className:"page-title-wrapper",style:{display:"flex",alignItems:"center"},children:[M.jsx("button",{className:"mobile-toggle-btn",onClick:n,children:M.jsx("i",{className:"fa-solid fa-bars"})}),M.jsxs("div",{className:"page-title",children:[M.jsx("h1",{children:"Daily Income"}),M.jsx("p",{children:"Klik user untuk Edit/Hapus"})]})]}),M.jsxs("div",{className:"date-filter-wrapper",children:[M.jsx("input",{type:"date",className:"form-control",style:{cursor:"pointer",maxWidth:"180px"},value:u,onChange:k=>f(k.target.value)}),u&&M.jsx("button",{onClick:()=>f(""),style:{marginLeft:"8px",background:"none",border:"none",color:"var(--danger-red)",cursor:"pointer",fontSize:"12px"},children:"Clear"})]})]}),M.jsx("div",{className:"daily-content",children:o?M.jsx("p",{style:{color:"var(--text-gray)"},children:"Loading data..."}):Object.keys(i).length===0?M.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"var(--text-gray)"},children:[M.jsx("i",{className:"fa-regular fa-calendar-xmark",style:{fontSize:"32px",marginBottom:"10px"}}),M.jsx("p",{children:"No records found."})]}):Object.keys(i).map(k=>M.jsxs("div",{style:{marginBottom:"40px"},children:[M.jsxs("div",{style:{marginBottom:"16px"},children:[M.jsx("h3",{style:{fontSize:"16px",fontWeight:"700",color:"var(--text-dark)"},children:V(k)}),M.jsx("div",{style:{height:"1px",background:"var(--border-color)",marginTop:"8px",width:"100%"}})]}),M.jsx("div",{className:"user-grid",children:i[k].map(L=>M.jsx("div",{className:"user-card",style:{minHeight:"auto",cursor:"pointer",position:"relative",overflow:"hidden",transition:"all 0.3s"},onClick:()=>B(L.id),children:d===L.id?M.jsxs("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center",width:"100%",height:"100%",animation:"fadeIn 0.2s"},children:[M.jsx("button",{onClick:P=>H(P,L),style:{background:"#3b82f6",color:"white",border:"none",padding:"10px",borderRadius:"50%",width:"40px",height:"40px",cursor:"pointer"},children:M.jsx("i",{className:"fa-solid fa-pen-to-square"})}),M.jsx("button",{onClick:P=>K(P,L),style:{background:"#ef4444",color:"white",border:"none",padding:"10px",borderRadius:"50%",width:"40px",height:"40px",cursor:"pointer"},children:M.jsx("i",{className:"fa-solid fa-trash-can"})}),M.jsx("button",{onClick:q,style:{background:"#9ca3af",color:"white",border:"none",padding:"10px",borderRadius:"50%",width:"40px",height:"40px",cursor:"pointer"},children:M.jsx("i",{className:"fa-solid fa-rotate-left"})})]}):M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"user-info-wrapper",children:[M.jsx("div",{className:"avatar blue",children:L.userName?L.userName.substring(0,2).toUpperCase():"?"}),M.jsxs("div",{className:"info",children:[M.jsx("h3",{children:L.userName}),L.note&&M.jsxs("p",{style:{fontSize:"11px",fontStyle:"italic"},children:['"',L.note,'"']})]})]}),M.jsxs("div",{style:{fontWeight:"700",color:"var(--success-green)",fontSize:"15px"},children:["+",N(L.amount)]})]})},L.id))})]},k))}),y&&M.jsx("div",{className:"modal-overlay active",style:{display:"flex"},children:M.jsxs("div",{className:"modal-box",children:[M.jsxs("div",{className:"modal-header",children:[M.jsx("h3",{children:T==="edit"?"Edit Income":"Delete Income"}),M.jsx("button",{className:"close-modal",onClick:()=>v(!1),children:""})]}),T==="edit"?M.jsxs("form",{onSubmit:I,children:[M.jsxs("div",{className:"modal-body",children:[M.jsxs("p",{style:{marginBottom:"15px",fontWeight:"600"},children:["User: ",D.userName]}),M.jsx("label",{style:{display:"block",marginBottom:"5px",fontSize:"13px"},children:"Amount (Rp)"}),M.jsx("input",{type:"number",className:"form-control",style:{marginBottom:"15px"},value:D.amount,onChange:k=>z({...D,amount:k.target.value}),required:!0}),M.jsx("label",{style:{display:"block",marginBottom:"5px",fontSize:"13px"},children:"Date"}),M.jsx("input",{type:"date",className:"form-control",style:{marginBottom:"15px"},value:D.date,onChange:k=>z({...D,date:k.target.value}),required:!0}),M.jsx("label",{style:{display:"block",marginBottom:"5px",fontSize:"13px"},children:"Note"}),M.jsx("textarea",{className:"form-control",value:D.note,onChange:k=>z({...D,note:k.target.value})})]}),M.jsxs("div",{className:"modal-footer",children:[M.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>v(!1),children:"Cancel"}),M.jsx("button",{type:"submit",className:"btn-save",disabled:w,children:w?"Saving...":"Save Changes"})]})]}):M.jsxs("div",{children:[M.jsxs("div",{className:"modal-body",children:[M.jsxs("p",{children:["Apakah Anda yakin ingin menghapus data income dari ",M.jsx("b",{children:D.userName})," sebesar ",M.jsx("b",{children:N(D.amount)}),"?"]}),M.jsx("p",{style:{fontSize:"12px",color:"red",marginTop:"10px"},children:"Tindakan ini tidak dapat dibatalkan."})]}),M.jsxs("div",{className:"modal-footer",children:[M.jsx("button",{className:"btn-cancel",onClick:()=>v(!1),children:"Cancel"}),M.jsx("button",{className:"btn-save",style:{backgroundColor:"var(--danger-red)"},onClick:C,disabled:w,children:w?"Deleting...":"Delete Permanently"})]})]})]})})]})};function oU(){return M.jsx(j2,{basename:"/paud-finance-app/",children:M.jsxs(y2,{children:[M.jsx(Jr,{path:"/",element:M.jsx(MV,{})}),M.jsxs(Jr,{element:M.jsx(NV,{}),children:[M.jsx(Jr,{path:"/dashboard",element:M.jsx(nU,{})}),M.jsx(Jr,{path:"/income",element:M.jsx(iU,{})}),M.jsx(Jr,{path:"/daily-income",element:M.jsx(aU,{})}),M.jsx(Jr,{path:"/users",element:M.jsx(sU,{})}),M.jsx(Jr,{path:"/absensi",element:M.jsx(rU,{})})]})]})})}xI.createRoot(document.getElementById("root")).render(M.jsx(ht.StrictMode,{children:M.jsx(oU,{})}));
