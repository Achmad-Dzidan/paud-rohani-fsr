(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function Fy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var bg={exports:{}},nu={};var Rx;function yI(){if(Rx)return nu;Rx=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var l=null;if(o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),"key"in r){o={};for(var u in r)u!=="key"&&(o[u]=r[u])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:o}}return nu.Fragment=t,nu.jsx=e,nu.jsxs=e,nu}var Cx;function _I(){return Cx||(Cx=1,bg.exports=yI()),bg.exports}var S=_I(),xg={exports:{}},kt={};var Ix;function vI(){if(Ix)return kt;Ix=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=v&&B[v]||B["@@iterator"],typeof B=="function"?B:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function O(B,X,it){this.props=B,this.context=X,this.refs=C,this.updater=it||w}O.prototype.isReactComponent={},O.prototype.setState=function(B,X){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,X,"setState")},O.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function j(){}j.prototype=O.prototype;function z(B,X,it){this.props=B,this.context=X,this.refs=C,this.updater=it||w}var K=z.prototype=new j;K.constructor=z,A(K,O.prototype),K.isPureReactComponent=!0;var U=Array.isArray;function Y(){}var D={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function M(B,X,it){var ct=it.ref;return{$$typeof:n,type:B,key:X,ref:ct!==void 0?ct:null,props:it}}function L(B,X){return M(B.type,X,B.props)}function N(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function V(B){var X={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(it){return X[it]})}var P=/\/+/g;function yt(B,X){return typeof B=="object"&&B!==null&&B.key!=null?V(""+B.key):X.toString(36)}function _t(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(Y,Y):(B.status="pending",B.then(function(X){B.status==="pending"&&(B.status="fulfilled",B.value=X)},function(X){B.status==="pending"&&(B.status="rejected",B.reason=X)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function q(B,X,it,ct,ht){var bt=typeof B;(bt==="undefined"||bt==="boolean")&&(B=null);var It=!1;if(B===null)It=!0;else switch(bt){case"bigint":case"string":case"number":It=!0;break;case"object":switch(B.$$typeof){case n:case t:It=!0;break;case y:return It=B._init,q(It(B._payload),X,it,ct,ht)}}if(It)return ht=ht(B),It=ct===""?"."+yt(B,0):ct,U(ht)?(it="",It!=null&&(it=It.replace(P,"$&/")+"/"),q(ht,X,it,"",function(Kt){return Kt})):ht!=null&&(N(ht)&&(ht=L(ht,it+(ht.key==null||B&&B.key===ht.key?"":(""+ht.key).replace(P,"$&/")+"/")+It)),X.push(ht)),1;It=0;var Dt=ct===""?".":ct+":";if(U(B))for(var Pt=0;Pt<B.length;Pt++)ct=B[Pt],bt=Dt+yt(ct,Pt),It+=q(ct,X,it,bt,ht);else if(Pt=E(B),typeof Pt=="function")for(B=Pt.call(B),Pt=0;!(ct=B.next()).done;)ct=ct.value,bt=Dt+yt(ct,Pt++),It+=q(ct,X,it,bt,ht);else if(bt==="object"){if(typeof B.then=="function")return q(_t(B),X,it,ct,ht);throw X=String(B),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return It}function $(B,X,it){if(B==null)return B;var ct=[],ht=0;return q(B,ct,"","",function(bt){return X.call(it,bt,ht++)}),ct}function lt(B){if(B._status===-1){var X=B._result;X=X(),X.then(function(it){(B._status===0||B._status===-1)&&(B._status=1,B._result=it)},function(it){(B._status===0||B._status===-1)&&(B._status=2,B._result=it)}),B._status===-1&&(B._status=0,B._result=X)}if(B._status===1)return B._result.default;throw B._result}var ft=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},mt={map:$,forEach:function(B,X,it){$(B,function(){X.apply(this,arguments)},it)},count:function(B){var X=0;return $(B,function(){X++}),X},toArray:function(B){return $(B,function(X){return X})||[]},only:function(B){if(!N(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return kt.Activity=g,kt.Children=mt,kt.Component=O,kt.Fragment=e,kt.Profiler=r,kt.PureComponent=z,kt.StrictMode=i,kt.Suspense=f,kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,kt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return D.H.useMemoCache(B)}},kt.cache=function(B){return function(){return B.apply(null,arguments)}},kt.cacheSignal=function(){return null},kt.cloneElement=function(B,X,it){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ct=A({},B.props),ht=B.key;if(X!=null)for(bt in X.key!==void 0&&(ht=""+X.key),X)!R.call(X,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&X.ref===void 0||(ct[bt]=X[bt]);var bt=arguments.length-2;if(bt===1)ct.children=it;else if(1<bt){for(var It=Array(bt),Dt=0;Dt<bt;Dt++)It[Dt]=arguments[Dt+2];ct.children=It}return M(B.type,ht,ct)},kt.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:o,_context:B},B},kt.createElement=function(B,X,it){var ct,ht={},bt=null;if(X!=null)for(ct in X.key!==void 0&&(bt=""+X.key),X)R.call(X,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(ht[ct]=X[ct]);var It=arguments.length-2;if(It===1)ht.children=it;else if(1<It){for(var Dt=Array(It),Pt=0;Pt<It;Pt++)Dt[Pt]=arguments[Pt+2];ht.children=Dt}if(B&&B.defaultProps)for(ct in It=B.defaultProps,It)ht[ct]===void 0&&(ht[ct]=It[ct]);return M(B,bt,ht)},kt.createRef=function(){return{current:null}},kt.forwardRef=function(B){return{$$typeof:u,render:B}},kt.isValidElement=N,kt.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:lt}},kt.memo=function(B,X){return{$$typeof:d,type:B,compare:X===void 0?null:X}},kt.startTransition=function(B){var X=D.T,it={};D.T=it;try{var ct=B(),ht=D.S;ht!==null&&ht(it,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(Y,ft)}catch(bt){ft(bt)}finally{X!==null&&it.types!==null&&(X.types=it.types),D.T=X}},kt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},kt.use=function(B){return D.H.use(B)},kt.useActionState=function(B,X,it){return D.H.useActionState(B,X,it)},kt.useCallback=function(B,X){return D.H.useCallback(B,X)},kt.useContext=function(B){return D.H.useContext(B)},kt.useDebugValue=function(){},kt.useDeferredValue=function(B,X){return D.H.useDeferredValue(B,X)},kt.useEffect=function(B,X){return D.H.useEffect(B,X)},kt.useEffectEvent=function(B){return D.H.useEffectEvent(B)},kt.useId=function(){return D.H.useId()},kt.useImperativeHandle=function(B,X,it){return D.H.useImperativeHandle(B,X,it)},kt.useInsertionEffect=function(B,X){return D.H.useInsertionEffect(B,X)},kt.useLayoutEffect=function(B,X){return D.H.useLayoutEffect(B,X)},kt.useMemo=function(B,X){return D.H.useMemo(B,X)},kt.useOptimistic=function(B,X){return D.H.useOptimistic(B,X)},kt.useReducer=function(B,X,it){return D.H.useReducer(B,X,it)},kt.useRef=function(B){return D.H.useRef(B)},kt.useState=function(B){return D.H.useState(B)},kt.useSyncExternalStore=function(B,X,it){return D.H.useSyncExternalStore(B,X,it)},kt.useTransition=function(){return D.H.useTransition()},kt.version="19.2.0",kt}var Dx;function Hy(){return Dx||(Dx=1,xg.exports=vI()),xg.exports}var G=Hy();const pt=Fy(G);var Eg={exports:{}},iu={},Sg={exports:{}},Tg={};var Mx;function bI(){return Mx||(Mx=1,(function(n){function t(q,$){var lt=q.length;q.push($);t:for(;0<lt;){var ft=lt-1>>>1,mt=q[ft];if(0<r(mt,$))q[ft]=$,q[lt]=mt,lt=ft;else break t}}function e(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var $=q[0],lt=q.pop();if(lt!==$){q[0]=lt;t:for(var ft=0,mt=q.length,B=mt>>>1;ft<B;){var X=2*(ft+1)-1,it=q[X],ct=X+1,ht=q[ct];if(0>r(it,lt))ct<mt&&0>r(ht,it)?(q[ft]=ht,q[ct]=lt,ft=ct):(q[ft]=it,q[X]=lt,ft=X);else if(ct<mt&&0>r(ht,lt))q[ft]=ht,q[ct]=lt,ft=ct;else break t}}return $}function r(q,$){var lt=q.sortIndex-$.sortIndex;return lt!==0?lt:q.id-$.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var f=[],d=[],y=1,g=null,v=3,E=!1,w=!1,A=!1,C=!1,O=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function K(q){for(var $=e(d);$!==null;){if($.callback===null)i(d);else if($.startTime<=q)i(d),$.sortIndex=$.expirationTime,t(f,$);else break;$=e(d)}}function U(q){if(A=!1,K(q),!w)if(e(f)!==null)w=!0,Y||(Y=!0,V());else{var $=e(d);$!==null&&_t(U,$.startTime-q)}}var Y=!1,D=-1,R=5,M=-1;function L(){return C?!0:!(n.unstable_now()-M<R)}function N(){if(C=!1,Y){var q=n.unstable_now();M=q;var $=!0;try{t:{w=!1,A&&(A=!1,j(D),D=-1),E=!0;var lt=v;try{e:{for(K(q),g=e(f);g!==null&&!(g.expirationTime>q&&L());){var ft=g.callback;if(typeof ft=="function"){g.callback=null,v=g.priorityLevel;var mt=ft(g.expirationTime<=q);if(q=n.unstable_now(),typeof mt=="function"){g.callback=mt,K(q),$=!0;break e}g===e(f)&&i(f),K(q)}else i(f);g=e(f)}if(g!==null)$=!0;else{var B=e(d);B!==null&&_t(U,B.startTime-q),$=!1}}break t}finally{g=null,v=lt,E=!1}$=void 0}}finally{$?V():Y=!1}}}var V;if(typeof z=="function")V=function(){z(N)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,yt=P.port2;P.port1.onmessage=N,V=function(){yt.postMessage(null)}}else V=function(){O(N,0)};function _t(q,$){D=O(function(){q(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(q){switch(v){case 1:case 2:case 3:var $=3;break;default:$=v}var lt=v;v=$;try{return q()}finally{v=lt}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(q,$){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var lt=v;v=q;try{return $()}finally{v=lt}},n.unstable_scheduleCallback=function(q,$,lt){var ft=n.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?ft+lt:ft):lt=ft,q){case 1:var mt=-1;break;case 2:mt=250;break;case 5:mt=1073741823;break;case 4:mt=1e4;break;default:mt=5e3}return mt=lt+mt,q={id:y++,callback:$,priorityLevel:q,startTime:lt,expirationTime:mt,sortIndex:-1},lt>ft?(q.sortIndex=lt,t(d,q),e(f)===null&&q===e(d)&&(A?(j(D),D=-1):A=!0,_t(U,lt-ft))):(q.sortIndex=mt,t(f,q),w||E||(w=!0,Y||(Y=!0,V()))),q},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(q){var $=v;return function(){var lt=v;v=$;try{return q.apply(this,arguments)}finally{v=lt}}}})(Tg)),Tg}var kx;function xI(){return kx||(kx=1,Sg.exports=bI()),Sg.exports}var wg={exports:{}},Cn={};var Nx;function EI(){if(Nx)return Cn;Nx=1;var n=Hy();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,d,y){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:f,containerInfo:d,implementation:y}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Cn.createPortal=function(f,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,y)},Cn.flushSync=function(f){var d=l.T,y=i.p;try{if(l.T=null,i.p=2,f)return f()}finally{l.T=d,i.p=y,i.d.f()}},Cn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},Cn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Cn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var y=d.as,g=u(y,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;y==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:E}):y==="script"&&i.d.X(f,{crossOrigin:g,integrity:v,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Cn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var y=u(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},Cn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var y=d.as,g=u(y,d.crossOrigin);i.d.L(f,y,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Cn.preloadModule=function(f,d){if(typeof f=="string")if(d){var y=u(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},Cn.requestFormReset=function(f){i.d.r(f)},Cn.unstable_batchedUpdates=function(f,d){return f(d)},Cn.useFormState=function(f,d,y){return l.H.useFormState(f,d,y)},Cn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Cn.version="19.2.0",Cn}var Ox;function YT(){if(Ox)return wg.exports;Ox=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),wg.exports=EI(),wg.exports}var Px;function SI(){if(Px)return iu;Px=1;var n=xI(),t=Hy(),e=YT();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function l(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function u(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function f(s){if(o(s)!==s)throw Error(i(188))}function d(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var c=s,h=a;;){var m=c.return;if(m===null)break;var _=m.alternate;if(_===null){if(h=m.return,h!==null){c=h;continue}break}if(m.child===_.child){for(_=m.child;_;){if(_===c)return f(m),s;if(_===h)return f(m),a;_=_.sibling}throw Error(i(188))}if(c.return!==h.return)c=m,h=_;else{for(var x=!1,I=m.child;I;){if(I===c){x=!0,c=m,h=_;break}if(I===h){x=!0,h=m,c=_;break}I=I.sibling}if(!x){for(I=_.child;I;){if(I===c){x=!0,c=_,h=m;break}if(I===h){x=!0,h=_,c=m;break}I=I.sibling}if(!x)throw Error(i(189))}}if(c.alternate!==h)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?s:a}function y(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=y(s),a!==null)return a;s=s.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),z=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function V(s){return s===null||typeof s!="object"?null:(s=N&&s[N]||s["@@iterator"],typeof s=="function"?s:null)}var P=Symbol.for("react.client.reference");function yt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===P?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case O:return"Profiler";case C:return"StrictMode";case U:return"Suspense";case Y:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case z:return s.displayName||"Context";case j:return(s._context.displayName||"Context")+".Consumer";case K:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case D:return a=s.displayName||null,a!==null?a:yt(s.type)||"Memo";case R:a=s._payload,s=s._init;try{return yt(s(a))}catch{}}return null}var _t=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},ft=[],mt=-1;function B(s){return{current:s}}function X(s){0>mt||(s.current=ft[mt],ft[mt]=null,mt--)}function it(s,a){mt++,ft[mt]=s.current,s.current=a}var ct=B(null),ht=B(null),bt=B(null),It=B(null);function Dt(s,a){switch(it(bt,a),it(ht,s),it(ct,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?X0(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=X0(a),s=Q0(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}X(ct),it(ct,s)}function Pt(){X(ct),X(ht),X(bt)}function Kt(s){s.memoizedState!==null&&it(It,s);var a=ct.current,c=Q0(a,s.type);a!==c&&(it(ht,s),it(ct,c))}function Oe(s){ht.current===s&&(X(ct),X(ht)),It.current===s&&(X(It),Jc._currentValue=lt)}var Be,pi;function dn(s){if(Be===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Be=a&&a[1]||"",pi=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Be+s+pi}var Pa=!1;function Zi(s,a){if(!s||Pa)return"";Pa=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var ot=function(){throw Error()};if(Object.defineProperty(ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ot,[])}catch(nt){var tt=nt}Reflect.construct(s,[],ot)}else{try{ot.call()}catch(nt){tt=nt}s.call(ot.prototype)}}else{try{throw Error()}catch(nt){tt=nt}(ot=s())&&typeof ot.catch=="function"&&ot.catch(function(){})}}catch(nt){if(nt&&tt&&typeof nt.stack=="string")return[nt.stack,tt.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),x=_[0],I=_[1];if(x&&I){var F=x.split(`
`),Z=I.split(`
`);for(m=h=0;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;for(;m<Z.length&&!Z[m].includes("DetermineComponentFrameRoot");)m++;if(h===F.length||m===Z.length)for(h=F.length-1,m=Z.length-1;1<=h&&0<=m&&F[h]!==Z[m];)m--;for(;1<=h&&0<=m;h--,m--)if(F[h]!==Z[m]){if(h!==1||m!==1)do if(h--,m--,0>m||F[h]!==Z[m]){var st=`
`+F[h].replace(" at new "," at ");return s.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",s.displayName)),st}while(1<=h&&0<=m);break}}}finally{Pa=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?dn(c):""}function Ni(s,a){switch(s.tag){case 26:case 27:case 5:return dn(s.type);case 16:return dn("Lazy");case 13:return s.child!==a&&a!==null?dn("Suspense Fallback"):dn("Suspense");case 19:return dn("SuspenseList");case 0:case 15:return Zi(s.type,!1);case 11:return Zi(s.type.render,!1);case 1:return Zi(s.type,!0);case 31:return dn("Activity");default:return""}}function Sr(s){try{var a="",c=null;do a+=Ni(s,c),c=s,s=s.return;while(s);return a}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var ne=Object.prototype.hasOwnProperty,Pe=n.unstable_scheduleCallback,ts=n.unstable_cancelCallback,pn=n.unstable_shouldYield,Oi=n.unstable_requestPaint,mn=n.unstable_now,js=n.unstable_getCurrentPriorityLevel,es=n.unstable_ImmediatePriority,La=n.unstable_UserBlockingPriority,Pi=n.unstable_NormalPriority,Va=n.unstable_LowPriority,Li=n.unstable_IdlePriority,ja=n.log,Vi=n.unstable_setDisableYieldValue,ti=null,tn=null;function Vn(s){if(typeof ja=="function"&&Vi(s),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(ti,s)}catch{}}var Ee=Math.clz32?Math.clz32:ei,Vo=Math.log,ns=Math.LN2;function ei(s){return s>>>=0,s===0?32:31-(Vo(s)/ns|0)|0}var mi=256,zs=262144,Ce=4194304;function ni(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function wt(s,a,c){var h=s.pendingLanes;if(h===0)return 0;var m=0,_=s.suspendedLanes,x=s.pingedLanes;s=s.warmLanes;var I=h&134217727;return I!==0?(h=I&~_,h!==0?m=ni(h):(x&=I,x!==0?m=ni(x):c||(c=I&~s,c!==0&&(m=ni(c))))):(I=h&~_,I!==0?m=ni(I):x!==0?m=ni(x):c||(c=h&~s,c!==0&&(m=ni(c)))),m===0?0:a!==0&&a!==m&&(a&_)===0&&(_=m&-m,c=a&-a,_>=c||_===32&&(c&4194048)!==0)?a:m}function ie(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Fe(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function an(){var s=Ce;return Ce<<=1,(Ce&62914560)===0&&(Ce=4194304),s}function jn(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function ye(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Rn(s,a,c,h,m,_){var x=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var I=s.entanglements,F=s.expirationTimes,Z=s.hiddenUpdates;for(c=x&~c;0<c;){var st=31-Ee(c),ot=1<<st;I[st]=0,F[st]=-1;var tt=Z[st];if(tt!==null)for(Z[st]=null,st=0;st<tt.length;st++){var nt=tt[st];nt!==null&&(nt.lane&=-536870913)}c&=~ot}h!==0&&gi(s,h,0),_!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=_&~(x&~a))}function gi(s,a,c){s.pendingLanes|=a,s.suspendedLanes&=~a;var h=31-Ee(a);s.entangledLanes|=a,s.entanglements[h]=s.entanglements[h]|1073741824|c&261930}function gn(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var h=31-Ee(c),m=1<<h;m&a|s[h]&a&&(s[h]|=a),c&=~m}}function yn(s,a){var c=a&-a;return c=(c&42)!==0?1:is(c),(c&(s.suspendedLanes|a))!==0?0:c}function is(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function _n(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function sc(){var s=$.p;return s!==0?s:(s=window.event,s===void 0?32:bx(s.type))}function ji(s,a){var c=$.p;try{return $.p=s,a()}finally{$.p=c}}var zi=Math.random().toString(36).slice(2),He="__reactFiber$"+zi,on="__reactProps$"+zi,ss="__reactContainer$"+zi,jo="__reactEvents$"+zi,Ap="__reactListeners$"+zi,ph="__reactHandles$"+zi,mh="__reactResources$"+zi,rs="__reactMarker$"+zi;function zo(s){delete s[He],delete s[on],delete s[jo],delete s[Ap],delete s[ph]}function as(s){var a=s[He];if(a)return a;for(var c=s.parentNode;c;){if(a=c[ss]||c[He]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=sx(s);s!==null;){if(c=s[He])return c;s=sx(s)}return a}s=c,c=s.parentNode}return null}function yi(s){if(s=s[He]||s[ss]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function ii(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function os(s){var a=s[mh];return a||(a=s[mh]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function qe(s){s[rs]=!0}var rc=new Set,ac={};function ls(s,a){cs(s,a),cs(s+"Capture",a)}function cs(s,a){for(ac[s]=a,s=0;s<a.length;s++)rc.add(a[s])}var oc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lc={},cc={};function gh(s){return ne.call(cc,s)?!0:ne.call(lc,s)?!1:oc.test(s)?cc[s]=!0:(lc[s]=!0,!1)}function Uo(s,a,c){if(gh(a))if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+c)}}function si(s,a,c){if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+c)}}function Ge(s,a,c,h){if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(a,c,""+h)}}function ln(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Tr(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function uc(s,a,c){var h=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var m=h.get,_=h.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(x){c=""+x,_.call(this,x)}}),Object.defineProperty(s,a,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(x){c=""+x},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function re(s){if(!s._valueTracker){var a=Tr(s)?"checked":"value";s._valueTracker=uc(s,a,""+s[a])}}function za(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return s&&(h=Tr(s)?s.checked?"true":"false":s.value),s=h,s!==c?(a.setValue(s),!0):!1}function us(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Ua=/[\n"\\]/g;function Bn(s){return s.replace(Ua,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Bo(s,a,c,h,m,_,x,I){s.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.type=x:s.removeAttribute("type"),a!=null?x==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+ln(a)):s.value!==""+ln(a)&&(s.value=""+ln(a)):x!=="submit"&&x!=="reset"||s.removeAttribute("value"),a!=null?hc(s,x,ln(a)):c!=null?hc(s,x,ln(c)):h!=null&&s.removeAttribute("value"),m==null&&_!=null&&(s.defaultChecked=!!_),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.name=""+ln(I):s.removeAttribute("name")}function yh(s,a,c,h,m,_,x,I){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.type=_),a!=null||c!=null){if(!(_!=="submit"&&_!=="reset"||a!=null)){re(s);return}c=c!=null?""+ln(c):"",a=a!=null?""+ln(a):c,I||a===s.value||(s.value=a),s.defaultValue=a}h=h??m,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=I?s.checked:!!h,s.defaultChecked=!!h,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.name=x),re(s)}function hc(s,a,c){a==="number"&&us(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function wr(s,a,c,h){if(s=s.options,a){a={};for(var m=0;m<c.length;m++)a["$"+c[m]]=!0;for(c=0;c<s.length;c++)m=a.hasOwnProperty("$"+s[c].value),s[c].selected!==m&&(s[c].selected=m),m&&h&&(s[c].defaultSelected=!0)}else{for(c=""+ln(c),a=null,m=0;m<s.length;m++){if(s[m].value===c){s[m].selected=!0,h&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function _h(s,a,c){if(a!=null&&(a=""+ln(a),a!==s.value&&(s.value=a),c==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=c!=null?""+ln(c):""}function Ar(s,a,c,h){if(a==null){if(h!=null){if(c!=null)throw Error(i(92));if(_t(h)){if(1<h.length)throw Error(i(93));h=h[0]}c=h}c==null&&(c=""),a=c}c=ln(a),s.defaultValue=c,h=s.textContent,h===c&&h!==""&&h!==null&&(s.value=h),re(s)}function Fn(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var vh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fc(s,a,c){var h=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":h?s.setProperty(a,c):typeof c!="number"||c===0||vh.has(a)?a==="float"?s.cssFloat=c:s[a]=(""+c).trim():s[a]=c+"px"}function dc(s,a,c){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var m in a)h=a[m],a.hasOwnProperty(m)&&c[m]!==h&&fc(s,m,h)}else for(var _ in a)a.hasOwnProperty(_)&&fc(s,_,a[_])}function Fo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ho(s){return Rr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ui(){}var pc=null;function _i(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Cr=null,hs=null;function Ba(s){var a=yi(s);if(a&&(s=a.stateNode)){var c=s[on]||null;t:switch(s=a.stateNode,a.type){case"input":if(Bo(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Bn(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==s&&h.form===s.form){var m=h[on]||null;if(!m)throw Error(i(90));Bo(h,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<c.length;a++)h=c[a],h.form===s.form&&za(h)}break t;case"textarea":_h(s,c.value,c.defaultValue);break t;case"select":a=c.value,a!=null&&wr(s,!!c.multiple,a,!1)}}}var qo=!1;function Ir(s,a,c){if(qo)return s(a,c);qo=!0;try{var h=s(a);return h}finally{if(qo=!1,(Cr!==null||hs!==null)&&(pf(),Cr&&(a=Cr,s=hs,hs=Cr=null,Ba(a),s)))for(a=0;a<s.length;a++)Ba(s[a])}}function Bi(s,a){var c=s.stateNode;if(c===null)return null;var h=c[on]||null;if(h===null)return null;c=h[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break t;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(i(231,a,typeof c));return c}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fa=!1;if(vi)try{var ue={};Object.defineProperty(ue,"passive",{get:function(){Fa=!0}}),window.addEventListener("test",ue,ue),window.removeEventListener("test",ue,ue)}catch{Fa=!1}var fs=null,mc=null,Ha=null;function gc(){if(Ha)return Ha;var s,a=mc,c=a.length,h,m="value"in fs?fs.value:fs.textContent,_=m.length;for(s=0;s<c&&a[s]===m[s];s++);var x=c-s;for(h=1;h<=x&&a[c-h]===m[_-h];h++);return Ha=m.slice(s,1<h?1-h:void 0)}function qa(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Us(){return!0}function Fi(){return!1}function vn(s){function a(c,h,m,_,x){this._reactName=c,this._targetInst=m,this.type=h,this.nativeEvent=_,this.target=x,this.currentTarget=null;for(var I in s)s.hasOwnProperty(I)&&(c=s[I],this[I]=c?c(_):_[I]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Us:Fi,this.isPropagationStopped=Fi,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Us)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Us)},persist:function(){},isPersistent:Us}),a}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ds=vn(Bs),Dr=g({},Bs,{view:0,detail:0}),yc=vn(Dr),Mr,Go,ps,Yo=g({},Dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ps&&(ps&&s.type==="mousemove"?(Mr=s.screenX-ps.screenX,Go=s.screenY-ps.screenY):Go=Mr=0,ps=s),Mr)},movementY:function(s){return"movementY"in s?s.movementY:Go}}),_c=vn(Yo),Ga=g({},Yo,{dataTransfer:0}),xh=vn(Ga),Eh=g({},Dr,{relatedTarget:0}),Ya=vn(Eh),vc=g({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),Sh=vn(vc),Wo=g({},Bs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Th=vn(Wo),wh=g({},Bs,{data:0}),ms=vn(wh),Ah={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ch={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ih(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Ch[s])?!!a[s]:!1}function kr(){return Ih}var zn=g({},Dr,{key:function(s){if(s.key){var a=Ah[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=qa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Rh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(s){return s.type==="keypress"?qa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?qa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Dh=vn(zn),Mh=g({},Yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fs=vn(Mh),p=g({},Dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),b=vn(p),T=g({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=vn(T),Q=g({},Yo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),et=vn(Q),dt=g({},Bs,{newState:0,oldState:0}),Lt=vn(dt),Le=[9,13,27,32],te=vi&&"CompositionEvent"in window,Se=null;vi&&"documentMode"in document&&(Se=document.documentMode);var bi=vi&&"TextEvent"in window&&!Se,gs=vi&&(!te||Se&&8<Se&&11>=Se),Hi=" ",qi=!1;function Wa(s,a){switch(s){case"keyup":return Le.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $o(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ko=!1;function BR(s,a){switch(s){case"compositionend":return $o(a);case"keypress":return a.which!==32?null:(qi=!0,Hi);case"textInput":return s=a.data,s===Hi&&qi?null:s;default:return null}}function FR(s,a){if(Ko)return s==="compositionend"||!te&&Wa(s,a)?(s=gc(),Ha=mc=fs=null,Ko=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return gs&&a.locale!=="ko"?null:a.data;default:return null}}var HR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ov(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!HR[s.type]:a==="textarea"}function lv(s,a,c,h){Cr?hs?hs.push(h):hs=[h]:Cr=h,a=xf(a,"onChange"),0<a.length&&(c=new ds("onChange","change",null,c,h),s.push({event:c,listeners:a}))}var bc=null,xc=null;function qR(s){q0(s,0)}function kh(s){var a=ii(s);if(za(a))return s}function cv(s,a){if(s==="change")return a}var uv=!1;if(vi){var Rp;if(vi){var Cp="oninput"in document;if(!Cp){var hv=document.createElement("div");hv.setAttribute("oninput","return;"),Cp=typeof hv.oninput=="function"}Rp=Cp}else Rp=!1;uv=Rp&&(!document.documentMode||9<document.documentMode)}function fv(){bc&&(bc.detachEvent("onpropertychange",dv),xc=bc=null)}function dv(s){if(s.propertyName==="value"&&kh(xc)){var a=[];lv(a,xc,s,_i(s)),Ir(qR,a)}}function GR(s,a,c){s==="focusin"?(fv(),bc=a,xc=c,bc.attachEvent("onpropertychange",dv)):s==="focusout"&&fv()}function YR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return kh(xc)}function WR(s,a){if(s==="click")return kh(a)}function $R(s,a){if(s==="input"||s==="change")return kh(a)}function KR(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var ri=typeof Object.is=="function"?Object.is:KR;function Ec(s,a){if(ri(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var m=c[h];if(!ne.call(a,m)||!ri(s[m],a[m]))return!1}return!0}function pv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function mv(s,a){var c=pv(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=a&&h>=a)return{node:c,offset:a-s};s=h}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=pv(c)}}function gv(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?gv(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function yv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=us(s.document);a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=us(s.document)}return a}function Ip(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var XR=vi&&"documentMode"in document&&11>=document.documentMode,Xo=null,Dp=null,Sc=null,Mp=!1;function _v(s,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Mp||Xo==null||Xo!==us(h)||(h=Xo,"selectionStart"in h&&Ip(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Sc&&Ec(Sc,h)||(Sc=h,h=xf(Dp,"onSelect"),0<h.length&&(a=new ds("onSelect","select",null,a,c),s.push({event:a,listeners:h}),a.target=Xo)))}function $a(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Qo={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionrun:$a("Transition","TransitionRun"),transitionstart:$a("Transition","TransitionStart"),transitioncancel:$a("Transition","TransitionCancel"),transitionend:$a("Transition","TransitionEnd")},kp={},vv={};vi&&(vv=document.createElement("div").style,"AnimationEvent"in window||(delete Qo.animationend.animation,delete Qo.animationiteration.animation,delete Qo.animationstart.animation),"TransitionEvent"in window||delete Qo.transitionend.transition);function Ka(s){if(kp[s])return kp[s];if(!Qo[s])return s;var a=Qo[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in vv)return kp[s]=a[c];return s}var bv=Ka("animationend"),xv=Ka("animationiteration"),Ev=Ka("animationstart"),QR=Ka("transitionrun"),JR=Ka("transitionstart"),ZR=Ka("transitioncancel"),Sv=Ka("transitionend"),Tv=new Map,Np="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Np.push("scrollEnd");function Gi(s,a){Tv.set(s,a),ls(a,[s])}var Nh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},xi=[],Jo=0,Op=0;function Oh(){for(var s=Jo,a=Op=Jo=0;a<s;){var c=xi[a];xi[a++]=null;var h=xi[a];xi[a++]=null;var m=xi[a];xi[a++]=null;var _=xi[a];if(xi[a++]=null,h!==null&&m!==null){var x=h.pending;x===null?m.next=m:(m.next=x.next,x.next=m),h.pending=m}_!==0&&wv(c,m,_)}}function Ph(s,a,c,h){xi[Jo++]=s,xi[Jo++]=a,xi[Jo++]=c,xi[Jo++]=h,Op|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function Pp(s,a,c,h){return Ph(s,a,c,h),Lh(s)}function Xa(s,a){return Ph(s,null,null,a),Lh(s)}function wv(s,a,c){s.lanes|=c;var h=s.alternate;h!==null&&(h.lanes|=c);for(var m=!1,_=s.return;_!==null;)_.childLanes|=c,h=_.alternate,h!==null&&(h.childLanes|=c),_.tag===22&&(s=_.stateNode,s===null||s._visibility&1||(m=!0)),s=_,_=_.return;return s.tag===3?(_=s.stateNode,m&&a!==null&&(m=31-Ee(c),s=_.hiddenUpdates,h=s[m],h===null?s[m]=[a]:h.push(a),a.lane=c|536870912),_):null}function Lh(s){if(50<Gc)throw Gc=0,qm=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Zo={};function tC(s,a,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(s,a,c,h){return new tC(s,a,c,h)}function Lp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Hs(s,a){var c=s.alternate;return c===null?(c=ai(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function Av(s,a){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,a=c.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Vh(s,a,c,h,m,_){var x=0;if(h=s,typeof s=="function")Lp(s)&&(x=1);else if(typeof s=="string")x=rI(s,c,ct.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case M:return s=ai(31,c,a,m),s.elementType=M,s.lanes=_,s;case A:return Qa(c.children,m,_,a);case C:x=8,m|=24;break;case O:return s=ai(12,c,a,m|2),s.elementType=O,s.lanes=_,s;case U:return s=ai(13,c,a,m),s.elementType=U,s.lanes=_,s;case Y:return s=ai(19,c,a,m),s.elementType=Y,s.lanes=_,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case z:x=10;break t;case j:x=9;break t;case K:x=11;break t;case D:x=14;break t;case R:x=16,h=null;break t}x=29,c=Error(i(130,s===null?"null":typeof s,"")),h=null}return a=ai(x,c,a,m),a.elementType=s,a.type=h,a.lanes=_,a}function Qa(s,a,c,h){return s=ai(7,s,h,a),s.lanes=c,s}function Vp(s,a,c){return s=ai(6,s,null,a),s.lanes=c,s}function Rv(s){var a=ai(18,null,null,0);return a.stateNode=s,a}function jp(s,a,c){return a=ai(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Cv=new WeakMap;function Ei(s,a){if(typeof s=="object"&&s!==null){var c=Cv.get(s);return c!==void 0?c:(a={value:s,source:a,stack:Sr(a)},Cv.set(s,a),a)}return{value:s,source:a,stack:Sr(a)}}var tl=[],el=0,jh=null,Tc=0,Si=[],Ti=0,Nr=null,ys=1,_s="";function qs(s,a){tl[el++]=Tc,tl[el++]=jh,jh=s,Tc=a}function Iv(s,a,c){Si[Ti++]=ys,Si[Ti++]=_s,Si[Ti++]=Nr,Nr=s;var h=ys;s=_s;var m=32-Ee(h)-1;h&=~(1<<m),c+=1;var _=32-Ee(a)+m;if(30<_){var x=m-m%5;_=(h&(1<<x)-1).toString(32),h>>=x,m-=x,ys=1<<32-Ee(a)+m|c<<m|h,_s=_+s}else ys=1<<_|c<<m|h,_s=s}function zp(s){s.return!==null&&(qs(s,1),Iv(s,1,0))}function Up(s){for(;s===jh;)jh=tl[--el],tl[el]=null,Tc=tl[--el],tl[el]=null;for(;s===Nr;)Nr=Si[--Ti],Si[Ti]=null,_s=Si[--Ti],Si[Ti]=null,ys=Si[--Ti],Si[Ti]=null}function Dv(s,a){Si[Ti++]=ys,Si[Ti++]=_s,Si[Ti++]=Nr,ys=a.id,_s=a.overflow,Nr=s}var bn=null,_e=null,$t=!1,Or=null,wi=!1,Bp=Error(i(519));function Pr(s){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wc(Ei(a,s)),Bp}function Mv(s){var a=s.stateNode,c=s.type,h=s.memoizedProps;switch(a[He]=s,a[on]=h,c){case"dialog":Ut("cancel",a),Ut("close",a);break;case"iframe":case"object":case"embed":Ut("load",a);break;case"video":case"audio":for(c=0;c<Wc.length;c++)Ut(Wc[c],a);break;case"source":Ut("error",a);break;case"img":case"image":case"link":Ut("error",a),Ut("load",a);break;case"details":Ut("toggle",a);break;case"input":Ut("invalid",a),yh(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Ut("invalid",a);break;case"textarea":Ut("invalid",a),Ar(a,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||h.suppressHydrationWarning===!0||$0(a.textContent,c)?(h.popover!=null&&(Ut("beforetoggle",a),Ut("toggle",a)),h.onScroll!=null&&Ut("scroll",a),h.onScrollEnd!=null&&Ut("scrollend",a),h.onClick!=null&&(a.onclick=Ui),a=!0):a=!1,a||Pr(s,!0)}function kv(s){for(bn=s.return;bn;)switch(bn.tag){case 5:case 31:case 13:wi=!1;return;case 27:case 3:wi=!0;return;default:bn=bn.return}}function nl(s){if(s!==bn)return!1;if(!$t)return kv(s),$t=!0,!1;var a=s.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||rg(s.type,s.memoizedProps)),c=!c),c&&_e&&Pr(s),kv(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));_e=ix(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));_e=ix(s)}else a===27?(a=_e,Kr(s.type)?(s=ug,ug=null,_e=s):_e=a):_e=bn?Ri(s.stateNode.nextSibling):null;return!0}function Ja(){_e=bn=null,$t=!1}function Fp(){var s=Or;return s!==null&&(Yn===null?Yn=s:Yn.push.apply(Yn,s),Or=null),s}function wc(s){Or===null?Or=[s]:Or.push(s)}var Hp=B(null),Za=null,Gs=null;function Lr(s,a,c){it(Hp,a._currentValue),a._currentValue=c}function Ys(s){s._currentValue=Hp.current,X(Hp)}function qp(s,a,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===c)break;s=s.return}}function Gp(s,a,c,h){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var _=m.dependencies;if(_!==null){var x=m.child;_=_.firstContext;t:for(;_!==null;){var I=_;_=m;for(var F=0;F<a.length;F++)if(I.context===a[F]){_.lanes|=c,I=_.alternate,I!==null&&(I.lanes|=c),qp(_.return,c,s),h||(x=null);break t}_=I.next}}else if(m.tag===18){if(x=m.return,x===null)throw Error(i(341));x.lanes|=c,_=x.alternate,_!==null&&(_.lanes|=c),qp(x,c,s),x=null}else x=m.child;if(x!==null)x.return=m;else for(x=m;x!==null;){if(x===s){x=null;break}if(m=x.sibling,m!==null){m.return=x.return,x=m;break}x=x.return}m=x}}function il(s,a,c,h){s=null;for(var m=a,_=!1;m!==null;){if(!_){if((m.flags&524288)!==0)_=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var x=m.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var I=m.type;ri(m.pendingProps.value,x.value)||(s!==null?s.push(I):s=[I])}}else if(m===It.current){if(x=m.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(Jc):s=[Jc])}m=m.return}s!==null&&Gp(a,s,c,h),a.flags|=262144}function zh(s){for(s=s.firstContext;s!==null;){if(!ri(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function to(s){Za=s,Gs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function xn(s){return Nv(Za,s)}function Uh(s,a){return Za===null&&to(s),Nv(s,a)}function Nv(s,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},Gs===null){if(s===null)throw Error(i(308));Gs=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Gs=Gs.next=a;return c}var eC=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(c,h){s.push(h)}};this.abort=function(){a.aborted=!0,s.forEach(function(c){return c()})}},nC=n.unstable_scheduleCallback,iC=n.unstable_NormalPriority,Ye={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yp(){return{controller:new eC,data:new Map,refCount:0}}function Ac(s){s.refCount--,s.refCount===0&&nC(iC,function(){s.controller.abort()})}var Rc=null,Wp=0,sl=0,rl=null;function sC(s,a){if(Rc===null){var c=Rc=[];Wp=0,sl=Xm(),rl={status:"pending",value:void 0,then:function(h){c.push(h)}}}return Wp++,a.then(Ov,Ov),a}function Ov(){if(--Wp===0&&Rc!==null){rl!==null&&(rl.status="fulfilled");var s=Rc;Rc=null,sl=0,rl=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function rC(s,a){var c=[],h={status:"pending",value:null,reason:null,then:function(m){c.push(m)}};return s.then(function(){h.status="fulfilled",h.value=a;for(var m=0;m<c.length;m++)(0,c[m])(a)},function(m){for(h.status="rejected",h.reason=m,m=0;m<c.length;m++)(0,c[m])(void 0)}),h}var Pv=q.S;q.S=function(s,a){_0=mn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&sC(s,a),Pv!==null&&Pv(s,a)};var eo=B(null);function $p(){var s=eo.current;return s!==null?s:pe.pooledCache}function Bh(s,a){a===null?it(eo,eo.current):it(eo,a.pool)}function Lv(){var s=$p();return s===null?null:{parent:Ye._currentValue,pool:s}}var al=Error(i(460)),Kp=Error(i(474)),Fh=Error(i(542)),Hh={then:function(){}};function Vv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function jv(s,a,c){switch(c=s[c],c===void 0?s.push(a):c!==a&&(a.then(Ui,Ui),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Uv(s),s;default:if(typeof a.status=="string")a.then(Ui,Ui);else{if(s=pe,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(h){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=h}},function(h){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Uv(s),s}throw io=a,al}}function no(s){try{var a=s._init;return a(s._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(io=c,al):c}}var io=null;function zv(){if(io===null)throw Error(i(459));var s=io;return io=null,s}function Uv(s){if(s===al||s===Fh)throw Error(i(483))}var ol=null,Cc=0;function qh(s){var a=Cc;return Cc+=1,ol===null&&(ol=[]),jv(ol,s,a)}function Ic(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Gh(s,a){throw a.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function Bv(s){function a(W,H){if(s){var J=W.deletions;J===null?(W.deletions=[H],W.flags|=16):J.push(H)}}function c(W,H){if(!s)return null;for(;H!==null;)a(W,H),H=H.sibling;return null}function h(W){for(var H=new Map;W!==null;)W.key!==null?H.set(W.key,W):H.set(W.index,W),W=W.sibling;return H}function m(W,H){return W=Hs(W,H),W.index=0,W.sibling=null,W}function _(W,H,J){return W.index=J,s?(J=W.alternate,J!==null?(J=J.index,J<H?(W.flags|=67108866,H):J):(W.flags|=67108866,H)):(W.flags|=1048576,H)}function x(W){return s&&W.alternate===null&&(W.flags|=67108866),W}function I(W,H,J,rt){return H===null||H.tag!==6?(H=Vp(J,W.mode,rt),H.return=W,H):(H=m(H,J),H.return=W,H)}function F(W,H,J,rt){var St=J.type;return St===A?st(W,H,J.props.children,rt,J.key):H!==null&&(H.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===R&&no(St)===H.type)?(H=m(H,J.props),Ic(H,J),H.return=W,H):(H=Vh(J.type,J.key,J.props,null,W.mode,rt),Ic(H,J),H.return=W,H)}function Z(W,H,J,rt){return H===null||H.tag!==4||H.stateNode.containerInfo!==J.containerInfo||H.stateNode.implementation!==J.implementation?(H=jp(J,W.mode,rt),H.return=W,H):(H=m(H,J.children||[]),H.return=W,H)}function st(W,H,J,rt,St){return H===null||H.tag!==7?(H=Qa(J,W.mode,rt,St),H.return=W,H):(H=m(H,J),H.return=W,H)}function ot(W,H,J){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Vp(""+H,W.mode,J),H.return=W,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case E:return J=Vh(H.type,H.key,H.props,null,W.mode,J),Ic(J,H),J.return=W,J;case w:return H=jp(H,W.mode,J),H.return=W,H;case R:return H=no(H),ot(W,H,J)}if(_t(H)||V(H))return H=Qa(H,W.mode,J,null),H.return=W,H;if(typeof H.then=="function")return ot(W,qh(H),J);if(H.$$typeof===z)return ot(W,Uh(W,H),J);Gh(W,H)}return null}function tt(W,H,J,rt){var St=H!==null?H.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return St!==null?null:I(W,H,""+J,rt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case E:return J.key===St?F(W,H,J,rt):null;case w:return J.key===St?Z(W,H,J,rt):null;case R:return J=no(J),tt(W,H,J,rt)}if(_t(J)||V(J))return St!==null?null:st(W,H,J,rt,null);if(typeof J.then=="function")return tt(W,H,qh(J),rt);if(J.$$typeof===z)return tt(W,H,Uh(W,J),rt);Gh(W,J)}return null}function nt(W,H,J,rt,St){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return W=W.get(J)||null,I(H,W,""+rt,St);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case E:return W=W.get(rt.key===null?J:rt.key)||null,F(H,W,rt,St);case w:return W=W.get(rt.key===null?J:rt.key)||null,Z(H,W,rt,St);case R:return rt=no(rt),nt(W,H,J,rt,St)}if(_t(rt)||V(rt))return W=W.get(J)||null,st(H,W,rt,St,null);if(typeof rt.then=="function")return nt(W,H,J,qh(rt),St);if(rt.$$typeof===z)return nt(W,H,J,Uh(H,rt),St);Gh(H,rt)}return null}function xt(W,H,J,rt){for(var St=null,Qt=null,Et=H,jt=H=0,Ht=null;Et!==null&&jt<J.length;jt++){Et.index>jt?(Ht=Et,Et=null):Ht=Et.sibling;var Jt=tt(W,Et,J[jt],rt);if(Jt===null){Et===null&&(Et=Ht);break}s&&Et&&Jt.alternate===null&&a(W,Et),H=_(Jt,H,jt),Qt===null?St=Jt:Qt.sibling=Jt,Qt=Jt,Et=Ht}if(jt===J.length)return c(W,Et),$t&&qs(W,jt),St;if(Et===null){for(;jt<J.length;jt++)Et=ot(W,J[jt],rt),Et!==null&&(H=_(Et,H,jt),Qt===null?St=Et:Qt.sibling=Et,Qt=Et);return $t&&qs(W,jt),St}for(Et=h(Et);jt<J.length;jt++)Ht=nt(Et,W,jt,J[jt],rt),Ht!==null&&(s&&Ht.alternate!==null&&Et.delete(Ht.key===null?jt:Ht.key),H=_(Ht,H,jt),Qt===null?St=Ht:Qt.sibling=Ht,Qt=Ht);return s&&Et.forEach(function(ta){return a(W,ta)}),$t&&qs(W,jt),St}function At(W,H,J,rt){if(J==null)throw Error(i(151));for(var St=null,Qt=null,Et=H,jt=H=0,Ht=null,Jt=J.next();Et!==null&&!Jt.done;jt++,Jt=J.next()){Et.index>jt?(Ht=Et,Et=null):Ht=Et.sibling;var ta=tt(W,Et,Jt.value,rt);if(ta===null){Et===null&&(Et=Ht);break}s&&Et&&ta.alternate===null&&a(W,Et),H=_(ta,H,jt),Qt===null?St=ta:Qt.sibling=ta,Qt=ta,Et=Ht}if(Jt.done)return c(W,Et),$t&&qs(W,jt),St;if(Et===null){for(;!Jt.done;jt++,Jt=J.next())Jt=ot(W,Jt.value,rt),Jt!==null&&(H=_(Jt,H,jt),Qt===null?St=Jt:Qt.sibling=Jt,Qt=Jt);return $t&&qs(W,jt),St}for(Et=h(Et);!Jt.done;jt++,Jt=J.next())Jt=nt(Et,W,jt,Jt.value,rt),Jt!==null&&(s&&Jt.alternate!==null&&Et.delete(Jt.key===null?jt:Jt.key),H=_(Jt,H,jt),Qt===null?St=Jt:Qt.sibling=Jt,Qt=Jt);return s&&Et.forEach(function(gI){return a(W,gI)}),$t&&qs(W,jt),St}function de(W,H,J,rt){if(typeof J=="object"&&J!==null&&J.type===A&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case E:t:{for(var St=J.key;H!==null;){if(H.key===St){if(St=J.type,St===A){if(H.tag===7){c(W,H.sibling),rt=m(H,J.props.children),rt.return=W,W=rt;break t}}else if(H.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===R&&no(St)===H.type){c(W,H.sibling),rt=m(H,J.props),Ic(rt,J),rt.return=W,W=rt;break t}c(W,H);break}else a(W,H);H=H.sibling}J.type===A?(rt=Qa(J.props.children,W.mode,rt,J.key),rt.return=W,W=rt):(rt=Vh(J.type,J.key,J.props,null,W.mode,rt),Ic(rt,J),rt.return=W,W=rt)}return x(W);case w:t:{for(St=J.key;H!==null;){if(H.key===St)if(H.tag===4&&H.stateNode.containerInfo===J.containerInfo&&H.stateNode.implementation===J.implementation){c(W,H.sibling),rt=m(H,J.children||[]),rt.return=W,W=rt;break t}else{c(W,H);break}else a(W,H);H=H.sibling}rt=jp(J,W.mode,rt),rt.return=W,W=rt}return x(W);case R:return J=no(J),de(W,H,J,rt)}if(_t(J))return xt(W,H,J,rt);if(V(J)){if(St=V(J),typeof St!="function")throw Error(i(150));return J=St.call(J),At(W,H,J,rt)}if(typeof J.then=="function")return de(W,H,qh(J),rt);if(J.$$typeof===z)return de(W,H,Uh(W,J),rt);Gh(W,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,H!==null&&H.tag===6?(c(W,H.sibling),rt=m(H,J),rt.return=W,W=rt):(c(W,H),rt=Vp(J,W.mode,rt),rt.return=W,W=rt),x(W)):c(W,H)}return function(W,H,J,rt){try{Cc=0;var St=de(W,H,J,rt);return ol=null,St}catch(Et){if(Et===al||Et===Fh)throw Et;var Qt=ai(29,Et,null,W.mode);return Qt.lanes=rt,Qt.return=W,Qt}finally{}}}var so=Bv(!0),Fv=Bv(!1),Vr=!1;function Xp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qp(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function jr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function zr(s,a,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(ee&2)!==0){var m=h.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),h.pending=a,a=Lh(s),wv(s,null,c),a}return Ph(s,h,a,c),Lh(s)}function Dc(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,gn(s,c)}}function Jp(s,a){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var m=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var x={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};_===null?m=_=x:_=_.next=x,c=c.next}while(c!==null);_===null?m=_=a:_=_.next=a}else m=_=a;c={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}var Zp=!1;function Mc(){if(Zp){var s=rl;if(s!==null)throw s}}function kc(s,a,c,h){Zp=!1;var m=s.updateQueue;Vr=!1;var _=m.firstBaseUpdate,x=m.lastBaseUpdate,I=m.shared.pending;if(I!==null){m.shared.pending=null;var F=I,Z=F.next;F.next=null,x===null?_=Z:x.next=Z,x=F;var st=s.alternate;st!==null&&(st=st.updateQueue,I=st.lastBaseUpdate,I!==x&&(I===null?st.firstBaseUpdate=Z:I.next=Z,st.lastBaseUpdate=F))}if(_!==null){var ot=m.baseState;x=0,st=Z=F=null,I=_;do{var tt=I.lane&-536870913,nt=tt!==I.lane;if(nt?(Ft&tt)===tt:(h&tt)===tt){tt!==0&&tt===sl&&(Zp=!0),st!==null&&(st=st.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});t:{var xt=s,At=I;tt=a;var de=c;switch(At.tag){case 1:if(xt=At.payload,typeof xt=="function"){ot=xt.call(de,ot,tt);break t}ot=xt;break t;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=At.payload,tt=typeof xt=="function"?xt.call(de,ot,tt):xt,tt==null)break t;ot=g({},ot,tt);break t;case 2:Vr=!0}}tt=I.callback,tt!==null&&(s.flags|=64,nt&&(s.flags|=8192),nt=m.callbacks,nt===null?m.callbacks=[tt]:nt.push(tt))}else nt={lane:tt,tag:I.tag,payload:I.payload,callback:I.callback,next:null},st===null?(Z=st=nt,F=ot):st=st.next=nt,x|=tt;if(I=I.next,I===null){if(I=m.shared.pending,I===null)break;nt=I,I=nt.next,nt.next=null,m.lastBaseUpdate=nt,m.shared.pending=null}}while(!0);st===null&&(F=ot),m.baseState=F,m.firstBaseUpdate=Z,m.lastBaseUpdate=st,_===null&&(m.shared.lanes=0),qr|=x,s.lanes=x,s.memoizedState=ot}}function Hv(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function qv(s,a){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)Hv(c[s],a)}var ll=B(null),Yh=B(0);function Gv(s,a){s=er,it(Yh,s),it(ll,a),er=s|a.baseLanes}function tm(){it(Yh,er),it(ll,ll.current)}function em(){er=Yh.current,X(ll),X(Yh)}var oi=B(null),Ai=null;function Ur(s){var a=s.alternate;it(Ve,Ve.current&1),it(oi,s),Ai===null&&(a===null||ll.current!==null||a.memoizedState!==null)&&(Ai=s)}function nm(s){it(Ve,Ve.current),it(oi,s),Ai===null&&(Ai=s)}function Yv(s){s.tag===22?(it(Ve,Ve.current),it(oi,s),Ai===null&&(Ai=s)):Br()}function Br(){it(Ve,Ve.current),it(oi,oi.current)}function li(s){X(oi),Ai===s&&(Ai=null),X(Ve)}var Ve=B(0);function Wh(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||lg(c)||cg(c)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ws=0,Vt=null,he=null,We=null,$h=!1,cl=!1,ro=!1,Kh=0,Nc=0,ul=null,aC=0;function Me(){throw Error(i(321))}function im(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!ri(s[c],a[c]))return!1;return!0}function sm(s,a,c,h,m,_){return Ws=_,Vt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,q.H=s===null||s.memoizedState===null?Ib:vm,ro=!1,_=c(h,m),ro=!1,cl&&(_=$v(a,c,h,m)),Wv(s),_}function Wv(s){q.H=Lc;var a=he!==null&&he.next!==null;if(Ws=0,We=he=Vt=null,$h=!1,Nc=0,ul=null,a)throw Error(i(300));s===null||$e||(s=s.dependencies,s!==null&&zh(s)&&($e=!0))}function $v(s,a,c,h){Vt=s;var m=0;do{if(cl&&(ul=null),Nc=0,cl=!1,25<=m)throw Error(i(301));if(m+=1,We=he=null,s.updateQueue!=null){var _=s.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}q.H=Db,_=a(c,h)}while(cl);return _}function oC(){var s=q.H,a=s.useState()[0];return a=typeof a.then=="function"?Oc(a):a,s=s.useState()[0],(he!==null?he.memoizedState:null)!==s&&(Vt.flags|=1024),a}function rm(){var s=Kh!==0;return Kh=0,s}function am(s,a,c){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~c}function om(s){if($h){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}$h=!1}Ws=0,We=he=Vt=null,cl=!1,Nc=Kh=0,ul=null}function Un(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Vt.memoizedState=We=s:We=We.next=s,We}function je(){if(he===null){var s=Vt.alternate;s=s!==null?s.memoizedState:null}else s=he.next;var a=We===null?Vt.memoizedState:We.next;if(a!==null)We=a,he=s;else{if(s===null)throw Vt.alternate===null?Error(i(467)):Error(i(310));he=s,s={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},We===null?Vt.memoizedState=We=s:We=We.next=s}return We}function Xh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oc(s){var a=Nc;return Nc+=1,ul===null&&(ul=[]),s=jv(ul,s,a),a=Vt,(We===null?a.memoizedState:We.next)===null&&(a=a.alternate,q.H=a===null||a.memoizedState===null?Ib:vm),s}function Qh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Oc(s);if(s.$$typeof===z)return xn(s)}throw Error(i(438,String(s)))}function lm(s){var a=null,c=Vt.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var h=Vt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=Xh(),Vt.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(s),h=0;h<s;h++)c[h]=L;return a.index++,c}function $s(s,a){return typeof a=="function"?a(s):a}function Jh(s){var a=je();return cm(a,he,s)}function cm(s,a,c){var h=s.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=c;var m=s.baseQueue,_=h.pending;if(_!==null){if(m!==null){var x=m.next;m.next=_.next,_.next=x}a.baseQueue=m=_,h.pending=null}if(_=s.baseState,m===null)s.memoizedState=_;else{a=m.next;var I=x=null,F=null,Z=a,st=!1;do{var ot=Z.lane&-536870913;if(ot!==Z.lane?(Ft&ot)===ot:(Ws&ot)===ot){var tt=Z.revertLane;if(tt===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ot===sl&&(st=!0);else if((Ws&tt)===tt){Z=Z.next,tt===sl&&(st=!0);continue}else ot={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},F===null?(I=F=ot,x=_):F=F.next=ot,Vt.lanes|=tt,qr|=tt;ot=Z.action,ro&&c(_,ot),_=Z.hasEagerState?Z.eagerState:c(_,ot)}else tt={lane:ot,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},F===null?(I=F=tt,x=_):F=F.next=tt,Vt.lanes|=ot,qr|=ot;Z=Z.next}while(Z!==null&&Z!==a);if(F===null?x=_:F.next=I,!ri(_,s.memoizedState)&&($e=!0,st&&(c=rl,c!==null)))throw c;s.memoizedState=_,s.baseState=x,s.baseQueue=F,h.lastRenderedState=_}return m===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function um(s){var a=je(),c=a.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=s;var h=c.dispatch,m=c.pending,_=a.memoizedState;if(m!==null){c.pending=null;var x=m=m.next;do _=s(_,x.action),x=x.next;while(x!==m);ri(_,a.memoizedState)||($e=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),c.lastRenderedState=_}return[_,h]}function Kv(s,a,c){var h=Vt,m=je(),_=$t;if(_){if(c===void 0)throw Error(i(407));c=c()}else c=a();var x=!ri((he||m).memoizedState,c);if(x&&(m.memoizedState=c,$e=!0),m=m.queue,dm(Jv.bind(null,h,m,s),[s]),m.getSnapshot!==a||x||We!==null&&We.memoizedState.tag&1){if(h.flags|=2048,hl(9,{destroy:void 0},Qv.bind(null,h,m,c,a),null),pe===null)throw Error(i(349));_||(Ws&127)!==0||Xv(h,a,c)}return c}function Xv(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=Vt.updateQueue,a===null?(a=Xh(),Vt.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function Qv(s,a,c,h){a.value=c,a.getSnapshot=h,Zv(a)&&tb(s)}function Jv(s,a,c){return c(function(){Zv(a)&&tb(s)})}function Zv(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!ri(s,c)}catch{return!0}}function tb(s){var a=Xa(s,2);a!==null&&Wn(a,s,2)}function hm(s){var a=Un();if(typeof s=="function"){var c=s;if(s=c(),ro){Vn(!0);try{c()}finally{Vn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:s},a}function eb(s,a,c,h){return s.baseState=c,cm(s,he,typeof h=="function"?h:$s)}function lC(s,a,c,h,m){if(ef(s))throw Error(i(485));if(s=a.action,s!==null){var _={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){_.listeners.push(x)}};q.T!==null?c(!0):_.isTransition=!1,h(_),c=a.pending,c===null?(_.next=a.pending=_,nb(a,_)):(_.next=c.next,a.pending=c.next=_)}}function nb(s,a){var c=a.action,h=a.payload,m=s.state;if(a.isTransition){var _=q.T,x={};q.T=x;try{var I=c(m,h),F=q.S;F!==null&&F(x,I),ib(s,a,I)}catch(Z){fm(s,a,Z)}finally{_!==null&&x.types!==null&&(_.types=x.types),q.T=_}}else try{_=c(m,h),ib(s,a,_)}catch(Z){fm(s,a,Z)}}function ib(s,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){sb(s,a,h)},function(h){return fm(s,a,h)}):sb(s,a,c)}function sb(s,a,c){a.status="fulfilled",a.value=c,rb(a),s.state=c,a=s.pending,a!==null&&(c=a.next,c===a?s.pending=null:(c=c.next,a.next=c,nb(s,c)))}function fm(s,a,c){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=c,rb(a),a=a.next;while(a!==h)}s.action=null}function rb(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function ab(s,a){return a}function ob(s,a){if($t){var c=pe.formState;if(c!==null){t:{var h=Vt;if($t){if(_e){e:{for(var m=_e,_=wi;m.nodeType!==8;){if(!_){m=null;break e}if(m=Ri(m.nextSibling),m===null){m=null;break e}}_=m.data,m=_==="F!"||_==="F"?m:null}if(m){_e=Ri(m.nextSibling),h=m.data==="F!";break t}}Pr(h)}h=!1}h&&(a=c[0])}}return c=Un(),c.memoizedState=c.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ab,lastRenderedState:a},c.queue=h,c=Ab.bind(null,Vt,h),h.dispatch=c,h=hm(!1),_=_m.bind(null,Vt,!1,h.queue),h=Un(),m={state:a,dispatch:null,action:s,pending:null},h.queue=m,c=lC.bind(null,Vt,m,_,c),m.dispatch=c,h.memoizedState=s,[a,c,!1]}function lb(s){var a=je();return cb(a,he,s)}function cb(s,a,c){if(a=cm(s,a,ab)[0],s=Jh($s)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=Oc(a)}catch(x){throw x===al?Fh:x}else h=a;a=je();var m=a.queue,_=m.dispatch;return c!==a.memoizedState&&(Vt.flags|=2048,hl(9,{destroy:void 0},cC.bind(null,m,c),null)),[h,_,s]}function cC(s,a){s.action=a}function ub(s){var a=je(),c=he;if(c!==null)return cb(a,c,s);je(),a=a.memoizedState,c=je();var h=c.queue.dispatch;return c.memoizedState=s,[a,h,!1]}function hl(s,a,c,h){return s={tag:s,create:c,deps:h,inst:a,next:null},a=Vt.updateQueue,a===null&&(a=Xh(),Vt.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,a.lastEffect=s),s}function hb(){return je().memoizedState}function Zh(s,a,c,h){var m=Un();Vt.flags|=s,m.memoizedState=hl(1|a,{destroy:void 0},c,h===void 0?null:h)}function tf(s,a,c,h){var m=je();h=h===void 0?null:h;var _=m.memoizedState.inst;he!==null&&h!==null&&im(h,he.memoizedState.deps)?m.memoizedState=hl(a,_,c,h):(Vt.flags|=s,m.memoizedState=hl(1|a,_,c,h))}function fb(s,a){Zh(8390656,8,s,a)}function dm(s,a){tf(2048,8,s,a)}function uC(s){Vt.flags|=4;var a=Vt.updateQueue;if(a===null)a=Xh(),Vt.updateQueue=a,a.events=[s];else{var c=a.events;c===null?a.events=[s]:c.push(s)}}function db(s){var a=je().memoizedState;return uC({ref:a,nextImpl:s}),function(){if((ee&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function pb(s,a){return tf(4,2,s,a)}function mb(s,a){return tf(4,4,s,a)}function gb(s,a){if(typeof a=="function"){s=s();var c=a(s);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function yb(s,a,c){c=c!=null?c.concat([s]):null,tf(4,4,gb.bind(null,a,s),c)}function pm(){}function _b(s,a){var c=je();a=a===void 0?null:a;var h=c.memoizedState;return a!==null&&im(a,h[1])?h[0]:(c.memoizedState=[s,a],s)}function vb(s,a){var c=je();a=a===void 0?null:a;var h=c.memoizedState;if(a!==null&&im(a,h[1]))return h[0];if(h=s(),ro){Vn(!0);try{s()}finally{Vn(!1)}}return c.memoizedState=[h,a],h}function mm(s,a,c){return c===void 0||(Ws&1073741824)!==0&&(Ft&261930)===0?s.memoizedState=a:(s.memoizedState=c,s=b0(),Vt.lanes|=s,qr|=s,c)}function bb(s,a,c,h){return ri(c,a)?c:ll.current!==null?(s=mm(s,c,h),ri(s,a)||($e=!0),s):(Ws&42)===0||(Ws&1073741824)!==0&&(Ft&261930)===0?($e=!0,s.memoizedState=c):(s=b0(),Vt.lanes|=s,qr|=s,a)}function xb(s,a,c,h,m){var _=$.p;$.p=_!==0&&8>_?_:8;var x=q.T,I={};q.T=I,_m(s,!1,a,c);try{var F=m(),Z=q.S;if(Z!==null&&Z(I,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var st=rC(F,h);Pc(s,a,st,hi(s))}else Pc(s,a,h,hi(s))}catch(ot){Pc(s,a,{then:function(){},status:"rejected",reason:ot},hi())}finally{$.p=_,x!==null&&I.types!==null&&(x.types=I.types),q.T=x}}function hC(){}function gm(s,a,c,h){if(s.tag!==5)throw Error(i(476));var m=Eb(s).queue;xb(s,m,a,lt,c===null?hC:function(){return Sb(s),c(h)})}function Eb(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:lt},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:c},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function Sb(s){var a=Eb(s);a.next===null&&(a=s.alternate.memoizedState),Pc(s,a.next.queue,{},hi())}function ym(){return xn(Jc)}function Tb(){return je().memoizedState}function wb(){return je().memoizedState}function fC(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var c=hi();s=jr(c);var h=zr(a,s,c);h!==null&&(Wn(h,a,c),Dc(h,a,c)),a={cache:Yp()},s.payload=a;return}a=a.return}}function dC(s,a,c){var h=hi();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},ef(s)?Rb(a,c):(c=Pp(s,a,c,h),c!==null&&(Wn(c,s,h),Cb(c,a,h)))}function Ab(s,a,c){var h=hi();Pc(s,a,c,h)}function Pc(s,a,c,h){var m={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(ef(s))Rb(a,m);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var x=a.lastRenderedState,I=_(x,c);if(m.hasEagerState=!0,m.eagerState=I,ri(I,x))return Ph(s,a,m,0),pe===null&&Oh(),!1}catch{}finally{}if(c=Pp(s,a,m,h),c!==null)return Wn(c,s,h),Cb(c,a,h),!0}return!1}function _m(s,a,c,h){if(h={lane:2,revertLane:Xm(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},ef(s)){if(a)throw Error(i(479))}else a=Pp(s,c,h,2),a!==null&&Wn(a,s,2)}function ef(s){var a=s.alternate;return s===Vt||a!==null&&a===Vt}function Rb(s,a){cl=$h=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function Cb(s,a,c){if((c&4194048)!==0){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,gn(s,c)}}var Lc={readContext:xn,use:Qh,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useLayoutEffect:Me,useInsertionEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useSyncExternalStore:Me,useId:Me,useHostTransitionStatus:Me,useFormState:Me,useActionState:Me,useOptimistic:Me,useMemoCache:Me,useCacheRefresh:Me};Lc.useEffectEvent=Me;var Ib={readContext:xn,use:Qh,useCallback:function(s,a){return Un().memoizedState=[s,a===void 0?null:a],s},useContext:xn,useEffect:fb,useImperativeHandle:function(s,a,c){c=c!=null?c.concat([s]):null,Zh(4194308,4,gb.bind(null,a,s),c)},useLayoutEffect:function(s,a){return Zh(4194308,4,s,a)},useInsertionEffect:function(s,a){Zh(4,2,s,a)},useMemo:function(s,a){var c=Un();a=a===void 0?null:a;var h=s();if(ro){Vn(!0);try{s()}finally{Vn(!1)}}return c.memoizedState=[h,a],h},useReducer:function(s,a,c){var h=Un();if(c!==void 0){var m=c(a);if(ro){Vn(!0);try{c(a)}finally{Vn(!1)}}}else m=a;return h.memoizedState=h.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},h.queue=s,s=s.dispatch=dC.bind(null,Vt,s),[h.memoizedState,s]},useRef:function(s){var a=Un();return s={current:s},a.memoizedState=s},useState:function(s){s=hm(s);var a=s.queue,c=Ab.bind(null,Vt,a);return a.dispatch=c,[s.memoizedState,c]},useDebugValue:pm,useDeferredValue:function(s,a){var c=Un();return mm(c,s,a)},useTransition:function(){var s=hm(!1);return s=xb.bind(null,Vt,s.queue,!0,!1),Un().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,c){var h=Vt,m=Un();if($t){if(c===void 0)throw Error(i(407));c=c()}else{if(c=a(),pe===null)throw Error(i(349));(Ft&127)!==0||Xv(h,a,c)}m.memoizedState=c;var _={value:c,getSnapshot:a};return m.queue=_,fb(Jv.bind(null,h,_,s),[s]),h.flags|=2048,hl(9,{destroy:void 0},Qv.bind(null,h,_,c,a),null),c},useId:function(){var s=Un(),a=pe.identifierPrefix;if($t){var c=_s,h=ys;c=(h&~(1<<32-Ee(h)-1)).toString(32)+c,a="_"+a+"R_"+c,c=Kh++,0<c&&(a+="H"+c.toString(32)),a+="_"}else c=aC++,a="_"+a+"r_"+c.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:ym,useFormState:ob,useActionState:ob,useOptimistic:function(s){var a=Un();a.memoizedState=a.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=_m.bind(null,Vt,!0,c),c.dispatch=a,[s,a]},useMemoCache:lm,useCacheRefresh:function(){return Un().memoizedState=fC.bind(null,Vt)},useEffectEvent:function(s){var a=Un(),c={impl:s};return a.memoizedState=c,function(){if((ee&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}},vm={readContext:xn,use:Qh,useCallback:_b,useContext:xn,useEffect:dm,useImperativeHandle:yb,useInsertionEffect:pb,useLayoutEffect:mb,useMemo:vb,useReducer:Jh,useRef:hb,useState:function(){return Jh($s)},useDebugValue:pm,useDeferredValue:function(s,a){var c=je();return bb(c,he.memoizedState,s,a)},useTransition:function(){var s=Jh($s)[0],a=je().memoizedState;return[typeof s=="boolean"?s:Oc(s),a]},useSyncExternalStore:Kv,useId:Tb,useHostTransitionStatus:ym,useFormState:lb,useActionState:lb,useOptimistic:function(s,a){var c=je();return eb(c,he,s,a)},useMemoCache:lm,useCacheRefresh:wb};vm.useEffectEvent=db;var Db={readContext:xn,use:Qh,useCallback:_b,useContext:xn,useEffect:dm,useImperativeHandle:yb,useInsertionEffect:pb,useLayoutEffect:mb,useMemo:vb,useReducer:um,useRef:hb,useState:function(){return um($s)},useDebugValue:pm,useDeferredValue:function(s,a){var c=je();return he===null?mm(c,s,a):bb(c,he.memoizedState,s,a)},useTransition:function(){var s=um($s)[0],a=je().memoizedState;return[typeof s=="boolean"?s:Oc(s),a]},useSyncExternalStore:Kv,useId:Tb,useHostTransitionStatus:ym,useFormState:ub,useActionState:ub,useOptimistic:function(s,a){var c=je();return he!==null?eb(c,he,s,a):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:lm,useCacheRefresh:wb};Db.useEffectEvent=db;function bm(s,a,c,h){a=s.memoizedState,c=c(h,a),c=c==null?a:g({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var xm={enqueueSetState:function(s,a,c){s=s._reactInternals;var h=hi(),m=jr(h);m.payload=a,c!=null&&(m.callback=c),a=zr(s,m,h),a!==null&&(Wn(a,s,h),Dc(a,s,h))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var h=hi(),m=jr(h);m.tag=1,m.payload=a,c!=null&&(m.callback=c),a=zr(s,m,h),a!==null&&(Wn(a,s,h),Dc(a,s,h))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=hi(),h=jr(c);h.tag=2,a!=null&&(h.callback=a),a=zr(s,h,c),a!==null&&(Wn(a,s,c),Dc(a,s,c))}};function Mb(s,a,c,h,m,_,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,_,x):a.prototype&&a.prototype.isPureReactComponent?!Ec(c,h)||!Ec(m,_):!0}function kb(s,a,c,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==s&&xm.enqueueReplaceState(a,a.state,null)}function ao(s,a){var c=a;if("ref"in a){c={};for(var h in a)h!=="ref"&&(c[h]=a[h])}if(s=s.defaultProps){c===a&&(c=g({},c));for(var m in s)c[m]===void 0&&(c[m]=s[m])}return c}function Nb(s){Nh(s)}function Ob(s){console.error(s)}function Pb(s){Nh(s)}function nf(s,a){try{var c=s.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function Lb(s,a,c){try{var h=s.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Em(s,a,c){return c=jr(c),c.tag=3,c.payload={element:null},c.callback=function(){nf(s,a)},c}function Vb(s){return s=jr(s),s.tag=3,s}function jb(s,a,c,h){var m=c.type.getDerivedStateFromError;if(typeof m=="function"){var _=h.value;s.payload=function(){return m(_)},s.callback=function(){Lb(a,c,h)}}var x=c.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(s.callback=function(){Lb(a,c,h),typeof m!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var I=h.stack;this.componentDidCatch(h.value,{componentStack:I!==null?I:""})})}function pC(s,a,c,h,m){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=c.alternate,a!==null&&il(a,c,m,!0),c=oi.current,c!==null){switch(c.tag){case 31:case 13:return Ai===null?mf():c.alternate===null&&ke===0&&(ke=3),c.flags&=-257,c.flags|=65536,c.lanes=m,h===Hh?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([h]):a.add(h),Wm(s,h,m)),!1;case 22:return c.flags|=65536,h===Hh?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([h]):c.add(h)),Wm(s,h,m)),!1}throw Error(i(435,c.tag))}return Wm(s,h,m),mf(),!1}if($t)return a=oi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,h!==Bp&&(s=Error(i(422),{cause:h}),wc(Ei(s,c)))):(h!==Bp&&(a=Error(i(423),{cause:h}),wc(Ei(a,c))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,h=Ei(h,c),m=Em(s.stateNode,h,m),Jp(s,m),ke!==4&&(ke=2)),!1;var _=Error(i(520),{cause:h});if(_=Ei(_,c),qc===null?qc=[_]:qc.push(_),ke!==4&&(ke=2),a===null)return!0;h=Ei(h,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,s=m&-m,c.lanes|=s,s=Em(c.stateNode,h,s),Jp(c,s),!1;case 1:if(a=c.type,_=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Gr===null||!Gr.has(_))))return c.flags|=65536,m&=-m,c.lanes|=m,m=Vb(m),jb(m,s,c,h),Jp(c,m),!1}c=c.return}while(c!==null);return!1}var Sm=Error(i(461)),$e=!1;function En(s,a,c,h){a.child=s===null?Fv(a,null,c,h):so(a,s.child,c,h)}function zb(s,a,c,h,m){c=c.render;var _=a.ref;if("ref"in h){var x={};for(var I in h)I!=="ref"&&(x[I]=h[I])}else x=h;return to(a),h=sm(s,a,c,x,_,m),I=rm(),s!==null&&!$e?(am(s,a,m),Ks(s,a,m)):($t&&I&&zp(a),a.flags|=1,En(s,a,h,m),a.child)}function Ub(s,a,c,h,m){if(s===null){var _=c.type;return typeof _=="function"&&!Lp(_)&&_.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=_,Bb(s,a,_,h,m)):(s=Vh(c.type,null,h,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(_=s.child,!Mm(s,m)){var x=_.memoizedProps;if(c=c.compare,c=c!==null?c:Ec,c(x,h)&&s.ref===a.ref)return Ks(s,a,m)}return a.flags|=1,s=Hs(_,h),s.ref=a.ref,s.return=a,a.child=s}function Bb(s,a,c,h,m){if(s!==null){var _=s.memoizedProps;if(Ec(_,h)&&s.ref===a.ref)if($e=!1,a.pendingProps=h=_,Mm(s,m))(s.flags&131072)!==0&&($e=!0);else return a.lanes=s.lanes,Ks(s,a,m)}return Tm(s,a,c,h,m)}function Fb(s,a,c,h){var m=h.children,_=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((a.flags&128)!==0){if(_=_!==null?_.baseLanes|c:c,s!==null){for(h=a.child=s.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;h=m&~_}else h=0,a.child=null;return Hb(s,a,_,c,h)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Bh(a,_!==null?_.cachePool:null),_!==null?Gv(a,_):tm(),Yv(a);else return h=a.lanes=536870912,Hb(s,a,_!==null?_.baseLanes|c:c,c,h)}else _!==null?(Bh(a,_.cachePool),Gv(a,_),Br(),a.memoizedState=null):(s!==null&&Bh(a,null),tm(),Br());return En(s,a,m,c),a.child}function Vc(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Hb(s,a,c,h,m){var _=$p();return _=_===null?null:{parent:Ye._currentValue,pool:_},a.memoizedState={baseLanes:c,cachePool:_},s!==null&&Bh(a,null),tm(),Yv(a),s!==null&&il(s,a,h,!0),a.childLanes=m,null}function sf(s,a){return a=af({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function qb(s,a,c){return so(a,s.child,null,c),s=sf(a,a.pendingProps),s.flags|=2,li(a),a.memoizedState=null,s}function mC(s,a,c){var h=a.pendingProps,m=(a.flags&128)!==0;if(a.flags&=-129,s===null){if($t){if(h.mode==="hidden")return s=sf(a,h),a.lanes=536870912,Vc(null,s);if(nm(a),(s=_e)?(s=nx(s,wi),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Nr!==null?{id:ys,overflow:_s}:null,retryLane:536870912,hydrationErrors:null},c=Rv(s),c.return=a,a.child=c,bn=a,_e=null)):s=null,s===null)throw Pr(a);return a.lanes=536870912,null}return sf(a,h)}var _=s.memoizedState;if(_!==null){var x=_.dehydrated;if(nm(a),m)if(a.flags&256)a.flags&=-257,a=qb(s,a,c);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(i(558));else if($e||il(s,a,c,!1),m=(c&s.childLanes)!==0,$e||m){if(h=pe,h!==null&&(x=yn(h,c),x!==0&&x!==_.retryLane))throw _.retryLane=x,Xa(s,x),Wn(h,s,x),Sm;mf(),a=qb(s,a,c)}else s=_.treeContext,_e=Ri(x.nextSibling),bn=a,$t=!0,Or=null,wi=!1,s!==null&&Dv(a,s),a=sf(a,h),a.flags|=4096;return a}return s=Hs(s.child,{mode:h.mode,children:h.children}),s.ref=a.ref,a.child=s,s.return=a,s}function rf(s,a){var c=a.ref;if(c===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(s===null||s.ref!==c)&&(a.flags|=4194816)}}function Tm(s,a,c,h,m){return to(a),c=sm(s,a,c,h,void 0,m),h=rm(),s!==null&&!$e?(am(s,a,m),Ks(s,a,m)):($t&&h&&zp(a),a.flags|=1,En(s,a,c,m),a.child)}function Gb(s,a,c,h,m,_){return to(a),a.updateQueue=null,c=$v(a,h,c,m),Wv(s),h=rm(),s!==null&&!$e?(am(s,a,_),Ks(s,a,_)):($t&&h&&zp(a),a.flags|=1,En(s,a,c,_),a.child)}function Yb(s,a,c,h,m){if(to(a),a.stateNode===null){var _=Zo,x=c.contextType;typeof x=="object"&&x!==null&&(_=xn(x)),_=new c(h,_),a.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=xm,a.stateNode=_,_._reactInternals=a,_=a.stateNode,_.props=h,_.state=a.memoizedState,_.refs={},Xp(a),x=c.contextType,_.context=typeof x=="object"&&x!==null?xn(x):Zo,_.state=a.memoizedState,x=c.getDerivedStateFromProps,typeof x=="function"&&(bm(a,c,x,h),_.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(x=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),x!==_.state&&xm.enqueueReplaceState(_,_.state,null),kc(a,h,_,m),Mc(),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(s===null){_=a.stateNode;var I=a.memoizedProps,F=ao(c,I);_.props=F;var Z=_.context,st=c.contextType;x=Zo,typeof st=="object"&&st!==null&&(x=xn(st));var ot=c.getDerivedStateFromProps;st=typeof ot=="function"||typeof _.getSnapshotBeforeUpdate=="function",I=a.pendingProps!==I,st||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I||Z!==x)&&kb(a,_,h,x),Vr=!1;var tt=a.memoizedState;_.state=tt,kc(a,h,_,m),Mc(),Z=a.memoizedState,I||tt!==Z||Vr?(typeof ot=="function"&&(bm(a,c,ot,h),Z=a.memoizedState),(F=Vr||Mb(a,c,F,h,tt,Z,x))?(st||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(a.flags|=4194308)):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=Z),_.props=h,_.state=Z,_.context=x,h=F):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{_=a.stateNode,Qp(s,a),x=a.memoizedProps,st=ao(c,x),_.props=st,ot=a.pendingProps,tt=_.context,Z=c.contextType,F=Zo,typeof Z=="object"&&Z!==null&&(F=xn(Z)),I=c.getDerivedStateFromProps,(Z=typeof I=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(x!==ot||tt!==F)&&kb(a,_,h,F),Vr=!1,tt=a.memoizedState,_.state=tt,kc(a,h,_,m),Mc();var nt=a.memoizedState;x!==ot||tt!==nt||Vr||s!==null&&s.dependencies!==null&&zh(s.dependencies)?(typeof I=="function"&&(bm(a,c,I,h),nt=a.memoizedState),(st=Vr||Mb(a,c,st,h,tt,nt,F)||s!==null&&s.dependencies!==null&&zh(s.dependencies))?(Z||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,nt,F),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,nt,F)),typeof _.componentDidUpdate=="function"&&(a.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof _.componentDidUpdate!="function"||x===s.memoizedProps&&tt===s.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&tt===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=nt),_.props=h,_.state=nt,_.context=F,h=st):(typeof _.componentDidUpdate!="function"||x===s.memoizedProps&&tt===s.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&tt===s.memoizedState||(a.flags|=1024),h=!1)}return _=h,rf(s,a),h=(a.flags&128)!==0,_||h?(_=a.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:_.render(),a.flags|=1,s!==null&&h?(a.child=so(a,s.child,null,m),a.child=so(a,null,c,m)):En(s,a,c,m),a.memoizedState=_.state,s=a.child):s=Ks(s,a,m),s}function Wb(s,a,c,h){return Ja(),a.flags|=256,En(s,a,c,h),a.child}var wm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Am(s){return{baseLanes:s,cachePool:Lv()}}function Rm(s,a,c){return s=s!==null?s.childLanes&~c:0,a&&(s|=ui),s}function $b(s,a,c){var h=a.pendingProps,m=!1,_=(a.flags&128)!==0,x;if((x=_)||(x=s!==null&&s.memoizedState===null?!1:(Ve.current&2)!==0),x&&(m=!0,a.flags&=-129),x=(a.flags&32)!==0,a.flags&=-33,s===null){if($t){if(m?Ur(a):Br(),(s=_e)?(s=nx(s,wi),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Nr!==null?{id:ys,overflow:_s}:null,retryLane:536870912,hydrationErrors:null},c=Rv(s),c.return=a,a.child=c,bn=a,_e=null)):s=null,s===null)throw Pr(a);return cg(s)?a.lanes=32:a.lanes=536870912,null}var I=h.children;return h=h.fallback,m?(Br(),m=a.mode,I=af({mode:"hidden",children:I},m),h=Qa(h,m,c,null),I.return=a,h.return=a,I.sibling=h,a.child=I,h=a.child,h.memoizedState=Am(c),h.childLanes=Rm(s,x,c),a.memoizedState=wm,Vc(null,h)):(Ur(a),Cm(a,I))}var F=s.memoizedState;if(F!==null&&(I=F.dehydrated,I!==null)){if(_)a.flags&256?(Ur(a),a.flags&=-257,a=Im(s,a,c)):a.memoizedState!==null?(Br(),a.child=s.child,a.flags|=128,a=null):(Br(),I=h.fallback,m=a.mode,h=af({mode:"visible",children:h.children},m),I=Qa(I,m,c,null),I.flags|=2,h.return=a,I.return=a,h.sibling=I,a.child=h,so(a,s.child,null,c),h=a.child,h.memoizedState=Am(c),h.childLanes=Rm(s,x,c),a.memoizedState=wm,a=Vc(null,h));else if(Ur(a),cg(I)){if(x=I.nextSibling&&I.nextSibling.dataset,x)var Z=x.dgst;x=Z,h=Error(i(419)),h.stack="",h.digest=x,wc({value:h,source:null,stack:null}),a=Im(s,a,c)}else if($e||il(s,a,c,!1),x=(c&s.childLanes)!==0,$e||x){if(x=pe,x!==null&&(h=yn(x,c),h!==0&&h!==F.retryLane))throw F.retryLane=h,Xa(s,h),Wn(x,s,h),Sm;lg(I)||mf(),a=Im(s,a,c)}else lg(I)?(a.flags|=192,a.child=s.child,a=null):(s=F.treeContext,_e=Ri(I.nextSibling),bn=a,$t=!0,Or=null,wi=!1,s!==null&&Dv(a,s),a=Cm(a,h.children),a.flags|=4096);return a}return m?(Br(),I=h.fallback,m=a.mode,F=s.child,Z=F.sibling,h=Hs(F,{mode:"hidden",children:h.children}),h.subtreeFlags=F.subtreeFlags&65011712,Z!==null?I=Hs(Z,I):(I=Qa(I,m,c,null),I.flags|=2),I.return=a,h.return=a,h.sibling=I,a.child=h,Vc(null,h),h=a.child,I=s.child.memoizedState,I===null?I=Am(c):(m=I.cachePool,m!==null?(F=Ye._currentValue,m=m.parent!==F?{parent:F,pool:F}:m):m=Lv(),I={baseLanes:I.baseLanes|c,cachePool:m}),h.memoizedState=I,h.childLanes=Rm(s,x,c),a.memoizedState=wm,Vc(s.child,h)):(Ur(a),c=s.child,s=c.sibling,c=Hs(c,{mode:"visible",children:h.children}),c.return=a,c.sibling=null,s!==null&&(x=a.deletions,x===null?(a.deletions=[s],a.flags|=16):x.push(s)),a.child=c,a.memoizedState=null,c)}function Cm(s,a){return a=af({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function af(s,a){return s=ai(22,s,null,a),s.lanes=0,s}function Im(s,a,c){return so(a,s.child,null,c),s=Cm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Kb(s,a,c){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),qp(s.return,a,c)}function Dm(s,a,c,h,m,_){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:m,treeForkCount:_}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=h,x.tail=c,x.tailMode=m,x.treeForkCount=_)}function Xb(s,a,c){var h=a.pendingProps,m=h.revealOrder,_=h.tail;h=h.children;var x=Ve.current,I=(x&2)!==0;if(I?(x=x&1|2,a.flags|=128):x&=1,it(Ve,x),En(s,a,h,c),h=$t?Tc:0,!I&&s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Kb(s,c,a);else if(s.tag===19)Kb(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(c=a.child,m=null;c!==null;)s=c.alternate,s!==null&&Wh(s)===null&&(m=c),c=c.sibling;c=m,c===null?(m=a.child,a.child=null):(m=c.sibling,c.sibling=null),Dm(a,!1,m,c,_,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&Wh(s)===null){a.child=m;break}s=m.sibling,m.sibling=c,c=m,m=s}Dm(a,!0,c,null,_,h);break;case"together":Dm(a,!1,null,null,void 0,h);break;default:a.memoizedState=null}return a.child}function Ks(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),qr|=a.lanes,(c&a.childLanes)===0)if(s!==null){if(il(s,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,c=Hs(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Hs(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function Mm(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&zh(s)))}function gC(s,a,c){switch(a.tag){case 3:Dt(a,a.stateNode.containerInfo),Lr(a,Ye,s.memoizedState.cache),Ja();break;case 27:case 5:Kt(a);break;case 4:Dt(a,a.stateNode.containerInfo);break;case 10:Lr(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,nm(a),null;break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Ur(a),a.flags|=128,null):(c&a.child.childLanes)!==0?$b(s,a,c):(Ur(a),s=Ks(s,a,c),s!==null?s.sibling:null);Ur(a);break;case 19:var m=(s.flags&128)!==0;if(h=(c&a.childLanes)!==0,h||(il(s,a,c,!1),h=(c&a.childLanes)!==0),m){if(h)return Xb(s,a,c);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),it(Ve,Ve.current),h)break;return null;case 22:return a.lanes=0,Fb(s,a,c,a.pendingProps);case 24:Lr(a,Ye,s.memoizedState.cache)}return Ks(s,a,c)}function Qb(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps)$e=!0;else{if(!Mm(s,c)&&(a.flags&128)===0)return $e=!1,gC(s,a,c);$e=(s.flags&131072)!==0}else $e=!1,$t&&(a.flags&1048576)!==0&&Iv(a,Tc,a.index);switch(a.lanes=0,a.tag){case 16:t:{var h=a.pendingProps;if(s=no(a.elementType),a.type=s,typeof s=="function")Lp(s)?(h=ao(s,h),a.tag=1,a=Yb(null,a,s,h,c)):(a.tag=0,a=Tm(null,a,s,h,c));else{if(s!=null){var m=s.$$typeof;if(m===K){a.tag=11,a=zb(null,a,s,h,c);break t}else if(m===D){a.tag=14,a=Ub(null,a,s,h,c);break t}}throw a=yt(s)||s,Error(i(306,a,""))}}return a;case 0:return Tm(s,a,a.type,a.pendingProps,c);case 1:return h=a.type,m=ao(h,a.pendingProps),Yb(s,a,h,m,c);case 3:t:{if(Dt(a,a.stateNode.containerInfo),s===null)throw Error(i(387));h=a.pendingProps;var _=a.memoizedState;m=_.element,Qp(s,a),kc(a,h,null,c);var x=a.memoizedState;if(h=x.cache,Lr(a,Ye,h),h!==_.cache&&Gp(a,[Ye],c,!0),Mc(),h=x.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:x.cache},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){a=Wb(s,a,h,c);break t}else if(h!==m){m=Ei(Error(i(424)),a),wc(m),a=Wb(s,a,h,c);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(_e=Ri(s.firstChild),bn=a,$t=!0,Or=null,wi=!0,c=Fv(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Ja(),h===m){a=Ks(s,a,c);break t}En(s,a,h,c)}a=a.child}return a;case 26:return rf(s,a),s===null?(c=lx(a.type,null,a.pendingProps,null))?a.memoizedState=c:$t||(c=a.type,s=a.pendingProps,h=Ef(bt.current).createElement(c),h[He]=a,h[on]=s,Sn(h,c,s),qe(h),a.stateNode=h):a.memoizedState=lx(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Kt(a),s===null&&$t&&(h=a.stateNode=rx(a.type,a.pendingProps,bt.current),bn=a,wi=!0,m=_e,Kr(a.type)?(ug=m,_e=Ri(h.firstChild)):_e=m),En(s,a,a.pendingProps.children,c),rf(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&$t&&((m=h=_e)&&(h=YC(h,a.type,a.pendingProps,wi),h!==null?(a.stateNode=h,bn=a,_e=Ri(h.firstChild),wi=!1,m=!0):m=!1),m||Pr(a)),Kt(a),m=a.type,_=a.pendingProps,x=s!==null?s.memoizedProps:null,h=_.children,rg(m,_)?h=null:x!==null&&rg(m,x)&&(a.flags|=32),a.memoizedState!==null&&(m=sm(s,a,oC,null,null,c),Jc._currentValue=m),rf(s,a),En(s,a,h,c),a.child;case 6:return s===null&&$t&&((s=c=_e)&&(c=WC(c,a.pendingProps,wi),c!==null?(a.stateNode=c,bn=a,_e=null,s=!0):s=!1),s||Pr(a)),null;case 13:return $b(s,a,c);case 4:return Dt(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=so(a,null,h,c):En(s,a,h,c),a.child;case 11:return zb(s,a,a.type,a.pendingProps,c);case 7:return En(s,a,a.pendingProps,c),a.child;case 8:return En(s,a,a.pendingProps.children,c),a.child;case 12:return En(s,a,a.pendingProps.children,c),a.child;case 10:return h=a.pendingProps,Lr(a,a.type,h.value),En(s,a,h.children,c),a.child;case 9:return m=a.type._context,h=a.pendingProps.children,to(a),m=xn(m),h=h(m),a.flags|=1,En(s,a,h,c),a.child;case 14:return Ub(s,a,a.type,a.pendingProps,c);case 15:return Bb(s,a,a.type,a.pendingProps,c);case 19:return Xb(s,a,c);case 31:return mC(s,a,c);case 22:return Fb(s,a,c,a.pendingProps);case 24:return to(a),h=xn(Ye),s===null?(m=$p(),m===null&&(m=pe,_=Yp(),m.pooledCache=_,_.refCount++,_!==null&&(m.pooledCacheLanes|=c),m=_),a.memoizedState={parent:h,cache:m},Xp(a),Lr(a,Ye,m)):((s.lanes&c)!==0&&(Qp(s,a),kc(a,null,null,c),Mc()),m=s.memoizedState,_=a.memoizedState,m.parent!==h?(m={parent:h,cache:h},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Lr(a,Ye,h)):(h=_.cache,Lr(a,Ye,h),h!==m.cache&&Gp(a,[Ye],c,!0))),En(s,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Xs(s){s.flags|=4}function km(s,a,c,h,m){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(T0())s.flags|=8192;else throw io=Hh,Kp}else s.flags&=-16777217}function Jb(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!dx(a))if(T0())s.flags|=8192;else throw io=Hh,Kp}function of(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?an():536870912,s.lanes|=a,ml|=a)}function jc(s,a){if(!$t)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function ve(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(a)for(var m=s.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags&65011712,h|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=h,s.childLanes=c,a}function yC(s,a,c){var h=a.pendingProps;switch(Up(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(a),null;case 1:return ve(a),null;case 3:return c=a.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),Ys(Ye),Pt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(nl(a)?Xs(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Fp())),ve(a),null;case 26:var m=a.type,_=a.memoizedState;return s===null?(Xs(a),_!==null?(ve(a),Jb(a,_)):(ve(a),km(a,m,null,h,c))):_?_!==s.memoizedState?(Xs(a),ve(a),Jb(a,_)):(ve(a),a.flags&=-16777217):(s=s.memoizedProps,s!==h&&Xs(a),ve(a),km(a,m,s,h,c)),null;case 27:if(Oe(a),c=bt.current,m=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Xs(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return ve(a),null}s=ct.current,nl(a)?Mv(a):(s=rx(m,h,c),a.stateNode=s,Xs(a))}return ve(a),null;case 5:if(Oe(a),m=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Xs(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return ve(a),null}if(_=ct.current,nl(a))Mv(a);else{var x=Ef(bt.current);switch(_){case 1:_=x.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:_=x.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":_=x.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":_=x.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":_=x.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof h.is=="string"?x.createElement("select",{is:h.is}):x.createElement("select"),h.multiple?_.multiple=!0:h.size&&(_.size=h.size);break;default:_=typeof h.is=="string"?x.createElement(m,{is:h.is}):x.createElement(m)}}_[He]=a,_[on]=h;t:for(x=a.child;x!==null;){if(x.tag===5||x.tag===6)_.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===a)break t;for(;x.sibling===null;){if(x.return===null||x.return===a)break t;x=x.return}x.sibling.return=x.return,x=x.sibling}a.stateNode=_;t:switch(Sn(_,m,h),m){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break t;case"img":h=!0;break t;default:h=!1}h&&Xs(a)}}return ve(a),km(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,c),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==h&&Xs(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(i(166));if(s=bt.current,nl(a)){if(s=a.stateNode,c=a.memoizedProps,h=null,m=bn,m!==null)switch(m.tag){case 27:case 5:h=m.memoizedProps}s[He]=a,s=!!(s.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||$0(s.nodeValue,c)),s||Pr(a,!0)}else s=Ef(s).createTextNode(h),s[He]=a,a.stateNode=s}return ve(a),null;case 31:if(c=a.memoizedState,s===null||s.memoizedState!==null){if(h=nl(a),c!==null){if(s===null){if(!h)throw Error(i(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[He]=a}else Ja(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ve(a),s=!1}else c=Fp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=c),s=!0;if(!s)return a.flags&256?(li(a),a):(li(a),null);if((a.flags&128)!==0)throw Error(i(558))}return ve(a),null;case 13:if(h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=nl(a),h!==null&&h.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[He]=a}else Ja(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ve(a),m=!1}else m=Fp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(li(a),a):(li(a),null)}return li(a),(a.flags&128)!==0?(a.lanes=c,a):(c=h!==null,s=s!==null&&s.memoizedState!==null,c&&(h=a.child,m=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(m=h.alternate.memoizedState.cachePool.pool),_=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==m&&(h.flags|=2048)),c!==s&&c&&(a.child.flags|=8192),of(a,a.updateQueue),ve(a),null);case 4:return Pt(),s===null&&tg(a.stateNode.containerInfo),ve(a),null;case 10:return Ys(a.type),ve(a),null;case 19:if(X(Ve),h=a.memoizedState,h===null)return ve(a),null;if(m=(a.flags&128)!==0,_=h.rendering,_===null)if(m)jc(h,!1);else{if(ke!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(_=Wh(s),_!==null){for(a.flags|=128,jc(h,!1),s=_.updateQueue,a.updateQueue=s,of(a,s),a.subtreeFlags=0,s=c,c=a.child;c!==null;)Av(c,s),c=c.sibling;return it(Ve,Ve.current&1|2),$t&&qs(a,h.treeForkCount),a.child}s=s.sibling}h.tail!==null&&mn()>ff&&(a.flags|=128,m=!0,jc(h,!1),a.lanes=4194304)}else{if(!m)if(s=Wh(_),s!==null){if(a.flags|=128,m=!0,s=s.updateQueue,a.updateQueue=s,of(a,s),jc(h,!0),h.tail===null&&h.tailMode==="hidden"&&!_.alternate&&!$t)return ve(a),null}else 2*mn()-h.renderingStartTime>ff&&c!==536870912&&(a.flags|=128,m=!0,jc(h,!1),a.lanes=4194304);h.isBackwards?(_.sibling=a.child,a.child=_):(s=h.last,s!==null?s.sibling=_:a.child=_,h.last=_)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=mn(),s.sibling=null,c=Ve.current,it(Ve,m?c&1|2:c&1),$t&&qs(a,h.treeForkCount),s):(ve(a),null);case 22:case 23:return li(a),em(),h=a.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(c&536870912)!==0&&(a.flags&128)===0&&(ve(a),a.subtreeFlags&6&&(a.flags|=8192)):ve(a),c=a.updateQueue,c!==null&&of(a,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==c&&(a.flags|=2048),s!==null&&X(eo),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Ys(Ye),ve(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function _C(s,a){switch(Up(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ys(Ye),Pt(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Oe(a),null;case 31:if(a.memoizedState!==null){if(li(a),a.alternate===null)throw Error(i(340));Ja()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(li(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Ja()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return X(Ve),null;case 4:return Pt(),null;case 10:return Ys(a.type),null;case 22:case 23:return li(a),em(),s!==null&&X(eo),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Ys(Ye),null;case 25:return null;default:return null}}function Zb(s,a){switch(Up(a),a.tag){case 3:Ys(Ye),Pt();break;case 26:case 27:case 5:Oe(a);break;case 4:Pt();break;case 31:a.memoizedState!==null&&li(a);break;case 13:li(a);break;case 19:X(Ve);break;case 10:Ys(a.type);break;case 22:case 23:li(a),em(),s!==null&&X(eo);break;case 24:Ys(Ye)}}function zc(s,a){try{var c=a.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var m=h.next;c=m;do{if((c.tag&s)===s){h=void 0;var _=c.create,x=c.inst;h=_(),x.destroy=h}c=c.next}while(c!==m)}}catch(I){oe(a,a.return,I)}}function Fr(s,a,c){try{var h=a.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var _=m.next;h=_;do{if((h.tag&s)===s){var x=h.inst,I=x.destroy;if(I!==void 0){x.destroy=void 0,m=a;var F=c,Z=I;try{Z()}catch(st){oe(m,F,st)}}}h=h.next}while(h!==_)}}catch(st){oe(a,a.return,st)}}function t0(s){var a=s.updateQueue;if(a!==null){var c=s.stateNode;try{qv(a,c)}catch(h){oe(s,s.return,h)}}}function e0(s,a,c){c.props=ao(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(h){oe(s,a,h)}}function Uc(s,a){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof c=="function"?s.refCleanup=c(h):c.current=h}}catch(m){oe(s,a,m)}}function vs(s,a){var c=s.ref,h=s.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(m){oe(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(m){oe(s,a,m)}else c.current=null}function n0(s){var a=s.type,c=s.memoizedProps,h=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break t;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(m){oe(s,s.return,m)}}function Nm(s,a,c){try{var h=s.stateNode;UC(h,s.type,c,a),h[on]=a}catch(m){oe(s,s.return,m)}}function i0(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Kr(s.type)||s.tag===4}function Om(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||i0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Kr(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Pm(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(s),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Ui));else if(h!==4&&(h===27&&Kr(s.type)&&(c=s.stateNode,a=null),s=s.child,s!==null))for(Pm(s,a,c),s=s.sibling;s!==null;)Pm(s,a,c),s=s.sibling}function lf(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(h!==4&&(h===27&&Kr(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(lf(s,a,c),s=s.sibling;s!==null;)lf(s,a,c),s=s.sibling}function s0(s){var a=s.stateNode,c=s.memoizedProps;try{for(var h=s.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);Sn(a,h,c),a[He]=s,a[on]=c}catch(_){oe(s,s.return,_)}}var Qs=!1,Ke=!1,Lm=!1,r0=typeof WeakSet=="function"?WeakSet:Set,cn=null;function vC(s,a){if(s=s.containerInfo,ig=If,s=yv(s),Ip(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else t:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var m=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break t}var x=0,I=-1,F=-1,Z=0,st=0,ot=s,tt=null;e:for(;;){for(var nt;ot!==c||m!==0&&ot.nodeType!==3||(I=x+m),ot!==_||h!==0&&ot.nodeType!==3||(F=x+h),ot.nodeType===3&&(x+=ot.nodeValue.length),(nt=ot.firstChild)!==null;)tt=ot,ot=nt;for(;;){if(ot===s)break e;if(tt===c&&++Z===m&&(I=x),tt===_&&++st===h&&(F=x),(nt=ot.nextSibling)!==null)break;ot=tt,tt=ot.parentNode}ot=nt}c=I===-1||F===-1?null:{start:I,end:F}}else c=null}c=c||{start:0,end:0}}else c=null;for(sg={focusedElem:s,selectionRange:c},If=!1,cn=a;cn!==null;)if(a=cn,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,cn=s;else for(;cn!==null;){switch(a=cn,_=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(c=0;c<s.length;c++)m=s[c],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&_!==null){s=void 0,c=a,m=_.memoizedProps,_=_.memoizedState,h=c.stateNode;try{var xt=ao(c.type,m);s=h.getSnapshotBeforeUpdate(xt,_),h.__reactInternalSnapshotBeforeUpdate=s}catch(At){oe(c,c.return,At)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,c=s.nodeType,c===9)og(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":og(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,cn=s;break}cn=a.return}}function a0(s,a,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Zs(s,c),h&4&&zc(5,c);break;case 1:if(Zs(s,c),h&4)if(s=c.stateNode,a===null)try{s.componentDidMount()}catch(x){oe(c,c.return,x)}else{var m=ao(c.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(x){oe(c,c.return,x)}}h&64&&t0(c),h&512&&Uc(c,c.return);break;case 3:if(Zs(s,c),h&64&&(s=c.updateQueue,s!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{qv(s,a)}catch(x){oe(c,c.return,x)}}break;case 27:a===null&&h&4&&s0(c);case 26:case 5:Zs(s,c),a===null&&h&4&&n0(c),h&512&&Uc(c,c.return);break;case 12:Zs(s,c);break;case 31:Zs(s,c),h&4&&c0(s,c);break;case 13:Zs(s,c),h&4&&u0(s,c),h&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=CC.bind(null,c),$C(s,c))));break;case 22:if(h=c.memoizedState!==null||Qs,!h){a=a!==null&&a.memoizedState!==null||Ke,m=Qs;var _=Ke;Qs=h,(Ke=a)&&!_?tr(s,c,(c.subtreeFlags&8772)!==0):Zs(s,c),Qs=m,Ke=_}break;case 30:break;default:Zs(s,c)}}function o0(s){var a=s.alternate;a!==null&&(s.alternate=null,o0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&zo(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Te=null,Hn=!1;function Js(s,a,c){for(c=c.child;c!==null;)l0(s,a,c),c=c.sibling}function l0(s,a,c){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(ti,c)}catch{}switch(c.tag){case 26:Ke||vs(c,a),Js(s,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Ke||vs(c,a);var h=Te,m=Hn;Kr(c.type)&&(Te=c.stateNode,Hn=!1),Js(s,a,c),Kc(c.stateNode),Te=h,Hn=m;break;case 5:Ke||vs(c,a);case 6:if(h=Te,m=Hn,Te=null,Js(s,a,c),Te=h,Hn=m,Te!==null)if(Hn)try{(Te.nodeType===9?Te.body:Te.nodeName==="HTML"?Te.ownerDocument.body:Te).removeChild(c.stateNode)}catch(_){oe(c,a,_)}else try{Te.removeChild(c.stateNode)}catch(_){oe(c,a,_)}break;case 18:Te!==null&&(Hn?(s=Te,tx(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),Sl(s)):tx(Te,c.stateNode));break;case 4:h=Te,m=Hn,Te=c.stateNode.containerInfo,Hn=!0,Js(s,a,c),Te=h,Hn=m;break;case 0:case 11:case 14:case 15:Fr(2,c,a),Ke||Fr(4,c,a),Js(s,a,c);break;case 1:Ke||(vs(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"&&e0(c,a,h)),Js(s,a,c);break;case 21:Js(s,a,c);break;case 22:Ke=(h=Ke)||c.memoizedState!==null,Js(s,a,c),Ke=h;break;default:Js(s,a,c)}}function c0(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Sl(s)}catch(c){oe(a,a.return,c)}}}function u0(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Sl(s)}catch(c){oe(a,a.return,c)}}function bC(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new r0),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new r0),a;default:throw Error(i(435,s.tag))}}function cf(s,a){var c=bC(s);a.forEach(function(h){if(!c.has(h)){c.add(h);var m=IC.bind(null,s,h);h.then(m,m)}})}function qn(s,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var m=c[h],_=s,x=a,I=x;t:for(;I!==null;){switch(I.tag){case 27:if(Kr(I.type)){Te=I.stateNode,Hn=!1;break t}break;case 5:Te=I.stateNode,Hn=!1;break t;case 3:case 4:Te=I.stateNode.containerInfo,Hn=!0;break t}I=I.return}if(Te===null)throw Error(i(160));l0(_,x,m),Te=null,Hn=!1,_=m.alternate,_!==null&&(_.return=null),m.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)h0(a,s),a=a.sibling}var Yi=null;function h0(s,a){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:qn(a,s),Gn(s),h&4&&(Fr(3,s,s.return),zc(3,s),Fr(5,s,s.return));break;case 1:qn(a,s),Gn(s),h&512&&(Ke||c===null||vs(c,c.return)),h&64&&Qs&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var m=Yi;if(qn(a,s),Gn(s),h&512&&(Ke||c===null||vs(c,c.return)),h&4){var _=c!==null?c.memoizedState:null;if(h=s.memoizedState,c===null)if(h===null)if(s.stateNode===null){t:{h=s.type,c=s.memoizedProps,m=m.ownerDocument||m;e:switch(h){case"title":_=m.getElementsByTagName("title")[0],(!_||_[rs]||_[He]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=m.createElement(h),m.head.insertBefore(_,m.querySelector("head > title"))),Sn(_,h,c),_[He]=s,qe(_),h=_;break t;case"link":var x=hx("link","href",m).get(h+(c.href||""));if(x){for(var I=0;I<x.length;I++)if(_=x[I],_.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&_.getAttribute("rel")===(c.rel==null?null:c.rel)&&_.getAttribute("title")===(c.title==null?null:c.title)&&_.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){x.splice(I,1);break e}}_=m.createElement(h),Sn(_,h,c),m.head.appendChild(_);break;case"meta":if(x=hx("meta","content",m).get(h+(c.content||""))){for(I=0;I<x.length;I++)if(_=x[I],_.getAttribute("content")===(c.content==null?null:""+c.content)&&_.getAttribute("name")===(c.name==null?null:c.name)&&_.getAttribute("property")===(c.property==null?null:c.property)&&_.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&_.getAttribute("charset")===(c.charSet==null?null:c.charSet)){x.splice(I,1);break e}}_=m.createElement(h),Sn(_,h,c),m.head.appendChild(_);break;default:throw Error(i(468,h))}_[He]=s,qe(_),h=_}s.stateNode=h}else fx(m,s.type,s.stateNode);else s.stateNode=ux(m,h,s.memoizedProps);else _!==h?(_===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):_.count--,h===null?fx(m,s.type,s.stateNode):ux(m,h,s.memoizedProps)):h===null&&s.stateNode!==null&&Nm(s,s.memoizedProps,c.memoizedProps)}break;case 27:qn(a,s),Gn(s),h&512&&(Ke||c===null||vs(c,c.return)),c!==null&&h&4&&Nm(s,s.memoizedProps,c.memoizedProps);break;case 5:if(qn(a,s),Gn(s),h&512&&(Ke||c===null||vs(c,c.return)),s.flags&32){m=s.stateNode;try{Fn(m,"")}catch(xt){oe(s,s.return,xt)}}h&4&&s.stateNode!=null&&(m=s.memoizedProps,Nm(s,m,c!==null?c.memoizedProps:m)),h&1024&&(Lm=!0);break;case 6:if(qn(a,s),Gn(s),h&4){if(s.stateNode===null)throw Error(i(162));h=s.memoizedProps,c=s.stateNode;try{c.nodeValue=h}catch(xt){oe(s,s.return,xt)}}break;case 3:if(wf=null,m=Yi,Yi=Sf(a.containerInfo),qn(a,s),Yi=m,Gn(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Sl(a.containerInfo)}catch(xt){oe(s,s.return,xt)}Lm&&(Lm=!1,f0(s));break;case 4:h=Yi,Yi=Sf(s.stateNode.containerInfo),qn(a,s),Gn(s),Yi=h;break;case 12:qn(a,s),Gn(s);break;case 31:qn(a,s),Gn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,cf(s,h)));break;case 13:qn(a,s),Gn(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(hf=mn()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,cf(s,h)));break;case 22:m=s.memoizedState!==null;var F=c!==null&&c.memoizedState!==null,Z=Qs,st=Ke;if(Qs=Z||m,Ke=st||F,qn(a,s),Ke=st,Qs=Z,Gn(s),h&8192)t:for(a=s.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(c===null||F||Qs||Ke||oo(s)),c=null,a=s;;){if(a.tag===5||a.tag===26){if(c===null){F=c=a;try{if(_=F.stateNode,m)x=_.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{I=F.stateNode;var ot=F.memoizedProps.style,tt=ot!=null&&ot.hasOwnProperty("display")?ot.display:null;I.style.display=tt==null||typeof tt=="boolean"?"":(""+tt).trim()}}catch(xt){oe(F,F.return,xt)}}}else if(a.tag===6){if(c===null){F=a;try{F.stateNode.nodeValue=m?"":F.memoizedProps}catch(xt){oe(F,F.return,xt)}}}else if(a.tag===18){if(c===null){F=a;try{var nt=F.stateNode;m?ex(nt,!0):ex(F.stateNode,!1)}catch(xt){oe(F,F.return,xt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=s.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,cf(s,c))));break;case 19:qn(a,s),Gn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,cf(s,h)));break;case 30:break;case 21:break;default:qn(a,s),Gn(s)}}function Gn(s){var a=s.flags;if(a&2){try{for(var c,h=s.return;h!==null;){if(i0(h)){c=h;break}h=h.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var m=c.stateNode,_=Om(s);lf(s,_,m);break;case 5:var x=c.stateNode;c.flags&32&&(Fn(x,""),c.flags&=-33);var I=Om(s);lf(s,I,x);break;case 3:case 4:var F=c.stateNode.containerInfo,Z=Om(s);Pm(s,Z,F);break;default:throw Error(i(161))}}catch(st){oe(s,s.return,st)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function f0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;f0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Zs(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)a0(s,a.alternate,a),a=a.sibling}function oo(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Fr(4,a,a.return),oo(a);break;case 1:vs(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&e0(a,a.return,c),oo(a);break;case 27:Kc(a.stateNode);case 26:case 5:vs(a,a.return),oo(a);break;case 22:a.memoizedState===null&&oo(a);break;case 30:oo(a);break;default:oo(a)}s=s.sibling}}function tr(s,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,m=s,_=a,x=_.flags;switch(_.tag){case 0:case 11:case 15:tr(m,_,c),zc(4,_);break;case 1:if(tr(m,_,c),h=_,m=h.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Z){oe(h,h.return,Z)}if(h=_,m=h.updateQueue,m!==null){var I=h.stateNode;try{var F=m.shared.hiddenCallbacks;if(F!==null)for(m.shared.hiddenCallbacks=null,m=0;m<F.length;m++)Hv(F[m],I)}catch(Z){oe(h,h.return,Z)}}c&&x&64&&t0(_),Uc(_,_.return);break;case 27:s0(_);case 26:case 5:tr(m,_,c),c&&h===null&&x&4&&n0(_),Uc(_,_.return);break;case 12:tr(m,_,c);break;case 31:tr(m,_,c),c&&x&4&&c0(m,_);break;case 13:tr(m,_,c),c&&x&4&&u0(m,_);break;case 22:_.memoizedState===null&&tr(m,_,c),Uc(_,_.return);break;case 30:break;default:tr(m,_,c)}a=a.sibling}}function Vm(s,a){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&Ac(c))}function jm(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Ac(s))}function Wi(s,a,c,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)d0(s,a,c,h),a=a.sibling}function d0(s,a,c,h){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Wi(s,a,c,h),m&2048&&zc(9,a);break;case 1:Wi(s,a,c,h);break;case 3:Wi(s,a,c,h),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Ac(s)));break;case 12:if(m&2048){Wi(s,a,c,h),s=a.stateNode;try{var _=a.memoizedProps,x=_.id,I=_.onPostCommit;typeof I=="function"&&I(x,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(F){oe(a,a.return,F)}}else Wi(s,a,c,h);break;case 31:Wi(s,a,c,h);break;case 13:Wi(s,a,c,h);break;case 23:break;case 22:_=a.stateNode,x=a.alternate,a.memoizedState!==null?_._visibility&2?Wi(s,a,c,h):Bc(s,a):_._visibility&2?Wi(s,a,c,h):(_._visibility|=2,fl(s,a,c,h,(a.subtreeFlags&10256)!==0||!1)),m&2048&&Vm(x,a);break;case 24:Wi(s,a,c,h),m&2048&&jm(a.alternate,a);break;default:Wi(s,a,c,h)}}function fl(s,a,c,h,m){for(m=m&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var _=s,x=a,I=c,F=h,Z=x.flags;switch(x.tag){case 0:case 11:case 15:fl(_,x,I,F,m),zc(8,x);break;case 23:break;case 22:var st=x.stateNode;x.memoizedState!==null?st._visibility&2?fl(_,x,I,F,m):Bc(_,x):(st._visibility|=2,fl(_,x,I,F,m)),m&&Z&2048&&Vm(x.alternate,x);break;case 24:fl(_,x,I,F,m),m&&Z&2048&&jm(x.alternate,x);break;default:fl(_,x,I,F,m)}a=a.sibling}}function Bc(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=s,h=a,m=h.flags;switch(h.tag){case 22:Bc(c,h),m&2048&&Vm(h.alternate,h);break;case 24:Bc(c,h),m&2048&&jm(h.alternate,h);break;default:Bc(c,h)}a=a.sibling}}var Fc=8192;function dl(s,a,c){if(s.subtreeFlags&Fc)for(s=s.child;s!==null;)p0(s,a,c),s=s.sibling}function p0(s,a,c){switch(s.tag){case 26:dl(s,a,c),s.flags&Fc&&s.memoizedState!==null&&aI(c,Yi,s.memoizedState,s.memoizedProps);break;case 5:dl(s,a,c);break;case 3:case 4:var h=Yi;Yi=Sf(s.stateNode.containerInfo),dl(s,a,c),Yi=h;break;case 22:s.memoizedState===null&&(h=s.alternate,h!==null&&h.memoizedState!==null?(h=Fc,Fc=16777216,dl(s,a,c),Fc=h):dl(s,a,c));break;default:dl(s,a,c)}}function m0(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Hc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];cn=h,y0(h,s)}m0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)g0(s),s=s.sibling}function g0(s){switch(s.tag){case 0:case 11:case 15:Hc(s),s.flags&2048&&Fr(9,s,s.return);break;case 3:Hc(s);break;case 12:Hc(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,uf(s)):Hc(s);break;default:Hc(s)}}function uf(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];cn=h,y0(h,s)}m0(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Fr(8,a,a.return),uf(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,uf(a));break;default:uf(a)}s=s.sibling}}function y0(s,a){for(;cn!==null;){var c=cn;switch(c.tag){case 0:case 11:case 15:Fr(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Ac(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,cn=h;else t:for(c=s;cn!==null;){h=cn;var m=h.sibling,_=h.return;if(o0(h),h===c){cn=null;break t}if(m!==null){m.return=_,cn=m;break t}cn=_}}}var xC={getCacheForType:function(s){var a=xn(Ye),c=a.data.get(s);return c===void 0&&(c=s(),a.data.set(s,c)),c},cacheSignal:function(){return xn(Ye).controller.signal}},EC=typeof WeakMap=="function"?WeakMap:Map,ee=0,pe=null,zt=null,Ft=0,ae=0,ci=null,Hr=!1,pl=!1,zm=!1,er=0,ke=0,qr=0,lo=0,Um=0,ui=0,ml=0,qc=null,Yn=null,Bm=!1,hf=0,_0=0,ff=1/0,df=null,Gr=null,en=0,Yr=null,gl=null,nr=0,Fm=0,Hm=null,v0=null,Gc=0,qm=null;function hi(){return(ee&2)!==0&&Ft!==0?Ft&-Ft:q.T!==null?Xm():sc()}function b0(){if(ui===0)if((Ft&536870912)===0||$t){var s=zs;zs<<=1,(zs&3932160)===0&&(zs=262144),ui=s}else ui=536870912;return s=oi.current,s!==null&&(s.flags|=32),ui}function Wn(s,a,c){(s===pe&&(ae===2||ae===9)||s.cancelPendingCommit!==null)&&(yl(s,0),Wr(s,Ft,ui,!1)),ye(s,c),((ee&2)===0||s!==pe)&&(s===pe&&((ee&2)===0&&(lo|=c),ke===4&&Wr(s,Ft,ui,!1)),bs(s))}function x0(s,a,c){if((ee&6)!==0)throw Error(i(327));var h=!c&&(a&127)===0&&(a&s.expiredLanes)===0||ie(s,a),m=h?wC(s,a):Ym(s,a,!0),_=h;do{if(m===0){pl&&!h&&Wr(s,a,0,!1);break}else{if(c=s.current.alternate,_&&!SC(c)){m=Ym(s,a,!1),_=!1;continue}if(m===2){if(_=a,s.errorRecoveryDisabledLanes&_)var x=0;else x=s.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){a=x;t:{var I=s;m=qc;var F=I.current.memoizedState.isDehydrated;if(F&&(yl(I,x).flags|=256),x=Ym(I,x,!1),x!==2){if(zm&&!F){I.errorRecoveryDisabledLanes|=_,lo|=_,m=4;break t}_=Yn,Yn=m,_!==null&&(Yn===null?Yn=_:Yn.push.apply(Yn,_))}m=x}if(_=!1,m!==2)continue}}if(m===1){yl(s,0),Wr(s,a,0,!0);break}t:{switch(h=s,_=m,_){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Wr(h,a,ui,!Hr);break t;case 2:Yn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(m=hf+300-mn(),10<m)){if(Wr(h,a,ui,!Hr),wt(h,0,!0)!==0)break t;nr=a,h.timeoutHandle=J0(E0.bind(null,h,c,Yn,df,Bm,a,ui,lo,ml,Hr,_,"Throttled",-0,0),m);break t}E0(h,c,Yn,df,Bm,a,ui,lo,ml,Hr,_,null,-0,0)}}break}while(!0);bs(s)}function E0(s,a,c,h,m,_,x,I,F,Z,st,ot,tt,nt){if(s.timeoutHandle=-1,ot=a.subtreeFlags,ot&8192||(ot&16785408)===16785408){ot={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ui},p0(a,_,ot);var xt=(_&62914560)===_?hf-mn():(_&4194048)===_?_0-mn():0;if(xt=oI(ot,xt),xt!==null){nr=_,s.cancelPendingCommit=xt(D0.bind(null,s,a,_,c,h,m,x,I,F,st,ot,null,tt,nt)),Wr(s,_,x,!Z);return}}D0(s,a,_,c,h,m,x,I,F)}function SC(s){for(var a=s;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var m=c[h],_=m.getSnapshot;m=m.value;try{if(!ri(_(),m))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Wr(s,a,c,h){a&=~Um,a&=~lo,s.suspendedLanes|=a,s.pingedLanes&=~a,h&&(s.warmLanes|=a),h=s.expirationTimes;for(var m=a;0<m;){var _=31-Ee(m),x=1<<_;h[_]=-1,m&=~x}c!==0&&gi(s,c,a)}function pf(){return(ee&6)===0?(Yc(0),!1):!0}function Gm(){if(zt!==null){if(ae===0)var s=zt.return;else s=zt,Gs=Za=null,om(s),ol=null,Cc=0,s=zt;for(;s!==null;)Zb(s.alternate,s),s=s.return;zt=null}}function yl(s,a){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,HC(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),nr=0,Gm(),pe=s,zt=c=Hs(s.current,null),Ft=a,ae=0,ci=null,Hr=!1,pl=ie(s,a),zm=!1,ml=ui=Um=lo=qr=ke=0,Yn=qc=null,Bm=!1,(a&8)!==0&&(a|=a&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=a;0<h;){var m=31-Ee(h),_=1<<m;a|=s[m],h&=~_}return er=a,Oh(),c}function S0(s,a){Vt=null,q.H=Lc,a===al||a===Fh?(a=zv(),ae=3):a===Kp?(a=zv(),ae=4):ae=a===Sm?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ci=a,zt===null&&(ke=1,nf(s,Ei(a,s.current)))}function T0(){var s=oi.current;return s===null?!0:(Ft&4194048)===Ft?Ai===null:(Ft&62914560)===Ft||(Ft&536870912)!==0?s===Ai:!1}function w0(){var s=q.H;return q.H=Lc,s===null?Lc:s}function A0(){var s=q.A;return q.A=xC,s}function mf(){ke=4,Hr||(Ft&4194048)!==Ft&&oi.current!==null||(pl=!0),(qr&134217727)===0&&(lo&134217727)===0||pe===null||Wr(pe,Ft,ui,!1)}function Ym(s,a,c){var h=ee;ee|=2;var m=w0(),_=A0();(pe!==s||Ft!==a)&&(df=null,yl(s,a)),a=!1;var x=ke;t:do try{if(ae!==0&&zt!==null){var I=zt,F=ci;switch(ae){case 8:Gm(),x=6;break t;case 3:case 2:case 9:case 6:oi.current===null&&(a=!0);var Z=ae;if(ae=0,ci=null,_l(s,I,F,Z),c&&pl){x=0;break t}break;default:Z=ae,ae=0,ci=null,_l(s,I,F,Z)}}TC(),x=ke;break}catch(st){S0(s,st)}while(!0);return a&&s.shellSuspendCounter++,Gs=Za=null,ee=h,q.H=m,q.A=_,zt===null&&(pe=null,Ft=0,Oh()),x}function TC(){for(;zt!==null;)R0(zt)}function wC(s,a){var c=ee;ee|=2;var h=w0(),m=A0();pe!==s||Ft!==a?(df=null,ff=mn()+500,yl(s,a)):pl=ie(s,a);t:do try{if(ae!==0&&zt!==null){a=zt;var _=ci;e:switch(ae){case 1:ae=0,ci=null,_l(s,a,_,1);break;case 2:case 9:if(Vv(_)){ae=0,ci=null,C0(a);break}a=function(){ae!==2&&ae!==9||pe!==s||(ae=7),bs(s)},_.then(a,a);break t;case 3:ae=7;break t;case 4:ae=5;break t;case 7:Vv(_)?(ae=0,ci=null,C0(a)):(ae=0,ci=null,_l(s,a,_,7));break;case 5:var x=null;switch(zt.tag){case 26:x=zt.memoizedState;case 5:case 27:var I=zt;if(x?dx(x):I.stateNode.complete){ae=0,ci=null;var F=I.sibling;if(F!==null)zt=F;else{var Z=I.return;Z!==null?(zt=Z,gf(Z)):zt=null}break e}}ae=0,ci=null,_l(s,a,_,5);break;case 6:ae=0,ci=null,_l(s,a,_,6);break;case 8:Gm(),ke=6;break t;default:throw Error(i(462))}}AC();break}catch(st){S0(s,st)}while(!0);return Gs=Za=null,q.H=h,q.A=m,ee=c,zt!==null?0:(pe=null,Ft=0,Oh(),ke)}function AC(){for(;zt!==null&&!pn();)R0(zt)}function R0(s){var a=Qb(s.alternate,s,er);s.memoizedProps=s.pendingProps,a===null?gf(s):zt=a}function C0(s){var a=s,c=a.alternate;switch(a.tag){case 15:case 0:a=Gb(c,a,a.pendingProps,a.type,void 0,Ft);break;case 11:a=Gb(c,a,a.pendingProps,a.type.render,a.ref,Ft);break;case 5:om(a);default:Zb(c,a),a=zt=Av(a,er),a=Qb(c,a,er)}s.memoizedProps=s.pendingProps,a===null?gf(s):zt=a}function _l(s,a,c,h){Gs=Za=null,om(a),ol=null,Cc=0;var m=a.return;try{if(pC(s,m,a,c,Ft)){ke=1,nf(s,Ei(c,s.current)),zt=null;return}}catch(_){if(m!==null)throw zt=m,_;ke=1,nf(s,Ei(c,s.current)),zt=null;return}a.flags&32768?($t||h===1?s=!0:pl||(Ft&536870912)!==0?s=!1:(Hr=s=!0,(h===2||h===9||h===3||h===6)&&(h=oi.current,h!==null&&h.tag===13&&(h.flags|=16384))),I0(a,s)):gf(a)}function gf(s){var a=s;do{if((a.flags&32768)!==0){I0(a,Hr);return}s=a.return;var c=yC(a.alternate,a,er);if(c!==null){zt=c;return}if(a=a.sibling,a!==null){zt=a;return}zt=a=s}while(a!==null);ke===0&&(ke=5)}function I0(s,a){do{var c=_C(s.alternate,s);if(c!==null){c.flags&=32767,zt=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(s=s.sibling,s!==null)){zt=s;return}zt=s=c}while(s!==null);ke=6,zt=null}function D0(s,a,c,h,m,_,x,I,F){s.cancelPendingCommit=null;do yf();while(en!==0);if((ee&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(_=a.lanes|a.childLanes,_|=Op,Rn(s,c,_,x,I,F),s===pe&&(zt=pe=null,Ft=0),gl=a,Yr=s,nr=c,Fm=_,Hm=m,v0=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,DC(Pi,function(){return P0(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=q.T,q.T=null,m=$.p,$.p=2,x=ee,ee|=4;try{vC(s,a,c)}finally{ee=x,$.p=m,q.T=h}}en=1,M0(),k0(),N0()}}function M0(){if(en===1){en=0;var s=Yr,a=gl,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=q.T,q.T=null;var h=$.p;$.p=2;var m=ee;ee|=4;try{h0(a,s);var _=sg,x=yv(s.containerInfo),I=_.focusedElem,F=_.selectionRange;if(x!==I&&I&&I.ownerDocument&&gv(I.ownerDocument.documentElement,I)){if(F!==null&&Ip(I)){var Z=F.start,st=F.end;if(st===void 0&&(st=Z),"selectionStart"in I)I.selectionStart=Z,I.selectionEnd=Math.min(st,I.value.length);else{var ot=I.ownerDocument||document,tt=ot&&ot.defaultView||window;if(tt.getSelection){var nt=tt.getSelection(),xt=I.textContent.length,At=Math.min(F.start,xt),de=F.end===void 0?At:Math.min(F.end,xt);!nt.extend&&At>de&&(x=de,de=At,At=x);var W=mv(I,At),H=mv(I,de);if(W&&H&&(nt.rangeCount!==1||nt.anchorNode!==W.node||nt.anchorOffset!==W.offset||nt.focusNode!==H.node||nt.focusOffset!==H.offset)){var J=ot.createRange();J.setStart(W.node,W.offset),nt.removeAllRanges(),At>de?(nt.addRange(J),nt.extend(H.node,H.offset)):(J.setEnd(H.node,H.offset),nt.addRange(J))}}}}for(ot=[],nt=I;nt=nt.parentNode;)nt.nodeType===1&&ot.push({element:nt,left:nt.scrollLeft,top:nt.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<ot.length;I++){var rt=ot[I];rt.element.scrollLeft=rt.left,rt.element.scrollTop=rt.top}}If=!!ig,sg=ig=null}finally{ee=m,$.p=h,q.T=c}}s.current=a,en=2}}function k0(){if(en===2){en=0;var s=Yr,a=gl,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=q.T,q.T=null;var h=$.p;$.p=2;var m=ee;ee|=4;try{a0(s,a.alternate,a)}finally{ee=m,$.p=h,q.T=c}}en=3}}function N0(){if(en===4||en===3){en=0,Oi();var s=Yr,a=gl,c=nr,h=v0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?en=5:(en=0,gl=Yr=null,O0(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(Gr=null),_n(c),a=a.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(ti,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=q.T,m=$.p,$.p=2,q.T=null;try{for(var _=s.onRecoverableError,x=0;x<h.length;x++){var I=h[x];_(I.value,{componentStack:I.stack})}}finally{q.T=a,$.p=m}}(nr&3)!==0&&yf(),bs(s),m=s.pendingLanes,(c&261930)!==0&&(m&42)!==0?s===qm?Gc++:(Gc=0,qm=s):Gc=0,Yc(0)}}function O0(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Ac(a)))}function yf(){return M0(),k0(),N0(),P0()}function P0(){if(en!==5)return!1;var s=Yr,a=Fm;Fm=0;var c=_n(nr),h=q.T,m=$.p;try{$.p=32>c?32:c,q.T=null,c=Hm,Hm=null;var _=Yr,x=nr;if(en=0,gl=Yr=null,nr=0,(ee&6)!==0)throw Error(i(331));var I=ee;if(ee|=4,g0(_.current),d0(_,_.current,x,c),ee=I,Yc(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(ti,_)}catch{}return!0}finally{$.p=m,q.T=h,O0(s,a)}}function L0(s,a,c){a=Ei(c,a),a=Em(s.stateNode,a,2),s=zr(s,a,2),s!==null&&(ye(s,2),bs(s))}function oe(s,a,c){if(s.tag===3)L0(s,s,c);else for(;a!==null;){if(a.tag===3){L0(a,s,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Gr===null||!Gr.has(h))){s=Ei(c,s),c=Vb(2),h=zr(a,c,2),h!==null&&(jb(c,h,a,s),ye(h,2),bs(h));break}}a=a.return}}function Wm(s,a,c){var h=s.pingCache;if(h===null){h=s.pingCache=new EC;var m=new Set;h.set(a,m)}else m=h.get(a),m===void 0&&(m=new Set,h.set(a,m));m.has(c)||(zm=!0,m.add(c),s=RC.bind(null,s,a,c),a.then(s,s))}function RC(s,a,c){var h=s.pingCache;h!==null&&h.delete(a),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,pe===s&&(Ft&c)===c&&(ke===4||ke===3&&(Ft&62914560)===Ft&&300>mn()-hf?(ee&2)===0&&yl(s,0):Um|=c,ml===Ft&&(ml=0)),bs(s)}function V0(s,a){a===0&&(a=an()),s=Xa(s,a),s!==null&&(ye(s,a),bs(s))}function CC(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),V0(s,c)}function IC(s,a){var c=0;switch(s.tag){case 31:case 13:var h=s.stateNode,m=s.memoizedState;m!==null&&(c=m.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(a),V0(s,c)}function DC(s,a){return Pe(s,a)}var _f=null,vl=null,$m=!1,vf=!1,Km=!1,$r=0;function bs(s){s!==vl&&s.next===null&&(vl===null?_f=vl=s:vl=vl.next=s),vf=!0,$m||($m=!0,kC())}function Yc(s,a){if(!Km&&vf){Km=!0;do for(var c=!1,h=_f;h!==null;){if(s!==0){var m=h.pendingLanes;if(m===0)var _=0;else{var x=h.suspendedLanes,I=h.pingedLanes;_=(1<<31-Ee(42|s)+1)-1,_&=m&~(x&~I),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(c=!0,B0(h,_))}else _=Ft,_=wt(h,h===pe?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||ie(h,_)||(c=!0,B0(h,_));h=h.next}while(c);Km=!1}}function MC(){j0()}function j0(){vf=$m=!1;var s=0;$r!==0&&FC()&&(s=$r);for(var a=mn(),c=null,h=_f;h!==null;){var m=h.next,_=z0(h,a);_===0?(h.next=null,c===null?_f=m:c.next=m,m===null&&(vl=c)):(c=h,(s!==0||(_&3)!==0)&&(vf=!0)),h=m}en!==0&&en!==5||Yc(s),$r!==0&&($r=0)}function z0(s,a){for(var c=s.suspendedLanes,h=s.pingedLanes,m=s.expirationTimes,_=s.pendingLanes&-62914561;0<_;){var x=31-Ee(_),I=1<<x,F=m[x];F===-1?((I&c)===0||(I&h)!==0)&&(m[x]=Fe(I,a)):F<=a&&(s.expiredLanes|=I),_&=~I}if(a=pe,c=Ft,c=wt(s,s===a?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,c===0||s===a&&(ae===2||ae===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&ts(h),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||ie(s,c)){if(a=c&-c,a===s.callbackPriority)return a;switch(h!==null&&ts(h),_n(c)){case 2:case 8:c=La;break;case 32:c=Pi;break;case 268435456:c=Li;break;default:c=Pi}return h=U0.bind(null,s),c=Pe(c,h),s.callbackPriority=a,s.callbackNode=c,a}return h!==null&&h!==null&&ts(h),s.callbackPriority=2,s.callbackNode=null,2}function U0(s,a){if(en!==0&&en!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(yf()&&s.callbackNode!==c)return null;var h=Ft;return h=wt(s,s===pe?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(x0(s,h,a),z0(s,mn()),s.callbackNode!=null&&s.callbackNode===c?U0.bind(null,s):null)}function B0(s,a){if(yf())return null;x0(s,a,!0)}function kC(){qC(function(){(ee&6)!==0?Pe(es,MC):j0()})}function Xm(){if($r===0){var s=sl;s===0&&(s=mi,mi<<=1,(mi&261888)===0&&(mi=256)),$r=s}return $r}function F0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ho(""+s)}function H0(s,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,s.id&&c.setAttribute("form",s.id),a.parentNode.insertBefore(c,a),s=new FormData(s),c.parentNode.removeChild(c),s}function NC(s,a,c,h,m){if(a==="submit"&&c&&c.stateNode===m){var _=F0((m[on]||null).action),x=h.submitter;x&&(a=(a=x[on]||null)?F0(a.formAction):x.getAttribute("formAction"),a!==null&&(_=a,x=null));var I=new ds("action","action",null,h,m);s.push({event:I,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if($r!==0){var F=x?H0(m,x):new FormData(m);gm(c,{pending:!0,data:F,method:m.method,action:_},null,F)}}else typeof _=="function"&&(I.preventDefault(),F=x?H0(m,x):new FormData(m),gm(c,{pending:!0,data:F,method:m.method,action:_},_,F))},currentTarget:m}]})}}for(var Qm=0;Qm<Np.length;Qm++){var Jm=Np[Qm],OC=Jm.toLowerCase(),PC=Jm[0].toUpperCase()+Jm.slice(1);Gi(OC,"on"+PC)}Gi(bv,"onAnimationEnd"),Gi(xv,"onAnimationIteration"),Gi(Ev,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(QR,"onTransitionRun"),Gi(JR,"onTransitionStart"),Gi(ZR,"onTransitionCancel"),Gi(Sv,"onTransitionEnd"),cs("onMouseEnter",["mouseout","mouseover"]),cs("onMouseLeave",["mouseout","mouseover"]),cs("onPointerEnter",["pointerout","pointerover"]),cs("onPointerLeave",["pointerout","pointerover"]),ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ls("onBeforeInput",["compositionend","keypress","textInput","paste"]),ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wc));function q0(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],m=h.event;h=h.listeners;t:{var _=void 0;if(a)for(var x=h.length-1;0<=x;x--){var I=h[x],F=I.instance,Z=I.currentTarget;if(I=I.listener,F!==_&&m.isPropagationStopped())break t;_=I,m.currentTarget=Z;try{_(m)}catch(st){Nh(st)}m.currentTarget=null,_=F}else for(x=0;x<h.length;x++){if(I=h[x],F=I.instance,Z=I.currentTarget,I=I.listener,F!==_&&m.isPropagationStopped())break t;_=I,m.currentTarget=Z;try{_(m)}catch(st){Nh(st)}m.currentTarget=null,_=F}}}}function Ut(s,a){var c=a[jo];c===void 0&&(c=a[jo]=new Set);var h=s+"__bubble";c.has(h)||(G0(a,s,2,!1),c.add(h))}function Zm(s,a,c){var h=0;a&&(h|=4),G0(c,s,h,a)}var bf="_reactListening"+Math.random().toString(36).slice(2);function tg(s){if(!s[bf]){s[bf]=!0,rc.forEach(function(c){c!=="selectionchange"&&(LC.has(c)||Zm(c,!1,s),Zm(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[bf]||(a[bf]=!0,Zm("selectionchange",!1,a))}}function G0(s,a,c,h){switch(bx(a)){case 2:var m=uI;break;case 8:m=hI;break;default:m=mg}c=m.bind(null,a,c,s),m=void 0,!Fa||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),h?m!==void 0?s.addEventListener(a,c,{capture:!0,passive:m}):s.addEventListener(a,c,!0):m!==void 0?s.addEventListener(a,c,{passive:m}):s.addEventListener(a,c,!1)}function eg(s,a,c,h,m){var _=h;if((a&1)===0&&(a&2)===0&&h!==null)t:for(;;){if(h===null)return;var x=h.tag;if(x===3||x===4){var I=h.stateNode.containerInfo;if(I===m)break;if(x===4)for(x=h.return;x!==null;){var F=x.tag;if((F===3||F===4)&&x.stateNode.containerInfo===m)return;x=x.return}for(;I!==null;){if(x=as(I),x===null)return;if(F=x.tag,F===5||F===6||F===26||F===27){h=_=x;continue t}I=I.parentNode}}h=h.return}Ir(function(){var Z=_,st=_i(c),ot=[];t:{var tt=Tv.get(s);if(tt!==void 0){var nt=ds,xt=s;switch(s){case"keypress":if(qa(c)===0)break t;case"keydown":case"keyup":nt=Dh;break;case"focusin":xt="focus",nt=Ya;break;case"focusout":xt="blur",nt=Ya;break;case"beforeblur":case"afterblur":nt=Ya;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":nt=_c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":nt=xh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":nt=b;break;case bv:case xv:case Ev:nt=Sh;break;case Sv:nt=k;break;case"scroll":case"scrollend":nt=yc;break;case"wheel":nt=et;break;case"copy":case"cut":case"paste":nt=Th;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":nt=Fs;break;case"toggle":case"beforetoggle":nt=Lt}var At=(a&4)!==0,de=!At&&(s==="scroll"||s==="scrollend"),W=At?tt!==null?tt+"Capture":null:tt;At=[];for(var H=Z,J;H!==null;){var rt=H;if(J=rt.stateNode,rt=rt.tag,rt!==5&&rt!==26&&rt!==27||J===null||W===null||(rt=Bi(H,W),rt!=null&&At.push($c(H,rt,J))),de)break;H=H.return}0<At.length&&(tt=new nt(tt,xt,null,c,st),ot.push({event:tt,listeners:At}))}}if((a&7)===0){t:{if(tt=s==="mouseover"||s==="pointerover",nt=s==="mouseout"||s==="pointerout",tt&&c!==pc&&(xt=c.relatedTarget||c.fromElement)&&(as(xt)||xt[ss]))break t;if((nt||tt)&&(tt=st.window===st?st:(tt=st.ownerDocument)?tt.defaultView||tt.parentWindow:window,nt?(xt=c.relatedTarget||c.toElement,nt=Z,xt=xt?as(xt):null,xt!==null&&(de=o(xt),At=xt.tag,xt!==de||At!==5&&At!==27&&At!==6)&&(xt=null)):(nt=null,xt=Z),nt!==xt)){if(At=_c,rt="onMouseLeave",W="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(At=Fs,rt="onPointerLeave",W="onPointerEnter",H="pointer"),de=nt==null?tt:ii(nt),J=xt==null?tt:ii(xt),tt=new At(rt,H+"leave",nt,c,st),tt.target=de,tt.relatedTarget=J,rt=null,as(st)===Z&&(At=new At(W,H+"enter",xt,c,st),At.target=J,At.relatedTarget=de,rt=At),de=rt,nt&&xt)e:{for(At=VC,W=nt,H=xt,J=0,rt=W;rt;rt=At(rt))J++;rt=0;for(var St=H;St;St=At(St))rt++;for(;0<J-rt;)W=At(W),J--;for(;0<rt-J;)H=At(H),rt--;for(;J--;){if(W===H||H!==null&&W===H.alternate){At=W;break e}W=At(W),H=At(H)}At=null}else At=null;nt!==null&&Y0(ot,tt,nt,At,!1),xt!==null&&de!==null&&Y0(ot,de,xt,At,!0)}}t:{if(tt=Z?ii(Z):window,nt=tt.nodeName&&tt.nodeName.toLowerCase(),nt==="select"||nt==="input"&&tt.type==="file")var Qt=cv;else if(ov(tt))if(uv)Qt=$R;else{Qt=YR;var Et=GR}else nt=tt.nodeName,!nt||nt.toLowerCase()!=="input"||tt.type!=="checkbox"&&tt.type!=="radio"?Z&&Fo(Z.elementType)&&(Qt=cv):Qt=WR;if(Qt&&(Qt=Qt(s,Z))){lv(ot,Qt,c,st);break t}Et&&Et(s,tt,Z),s==="focusout"&&Z&&tt.type==="number"&&Z.memoizedProps.value!=null&&hc(tt,"number",tt.value)}switch(Et=Z?ii(Z):window,s){case"focusin":(ov(Et)||Et.contentEditable==="true")&&(Xo=Et,Dp=Z,Sc=null);break;case"focusout":Sc=Dp=Xo=null;break;case"mousedown":Mp=!0;break;case"contextmenu":case"mouseup":case"dragend":Mp=!1,_v(ot,c,st);break;case"selectionchange":if(XR)break;case"keydown":case"keyup":_v(ot,c,st)}var jt;if(te)t:{switch(s){case"compositionstart":var Ht="onCompositionStart";break t;case"compositionend":Ht="onCompositionEnd";break t;case"compositionupdate":Ht="onCompositionUpdate";break t}Ht=void 0}else Ko?Wa(s,c)&&(Ht="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Ht="onCompositionStart");Ht&&(gs&&c.locale!=="ko"&&(Ko||Ht!=="onCompositionStart"?Ht==="onCompositionEnd"&&Ko&&(jt=gc()):(fs=st,mc="value"in fs?fs.value:fs.textContent,Ko=!0)),Et=xf(Z,Ht),0<Et.length&&(Ht=new ms(Ht,s,null,c,st),ot.push({event:Ht,listeners:Et}),jt?Ht.data=jt:(jt=$o(c),jt!==null&&(Ht.data=jt)))),(jt=bi?BR(s,c):FR(s,c))&&(Ht=xf(Z,"onBeforeInput"),0<Ht.length&&(Et=new ms("onBeforeInput","beforeinput",null,c,st),ot.push({event:Et,listeners:Ht}),Et.data=jt)),NC(ot,s,Z,c,st)}q0(ot,a)})}function $c(s,a,c){return{instance:s,listener:a,currentTarget:c}}function xf(s,a){for(var c=a+"Capture",h=[];s!==null;){var m=s,_=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||_===null||(m=Bi(s,c),m!=null&&h.unshift($c(s,m,_)),m=Bi(s,a),m!=null&&h.push($c(s,m,_))),s.tag===3)return h;s=s.return}return[]}function VC(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Y0(s,a,c,h,m){for(var _=a._reactName,x=[];c!==null&&c!==h;){var I=c,F=I.alternate,Z=I.stateNode;if(I=I.tag,F!==null&&F===h)break;I!==5&&I!==26&&I!==27||Z===null||(F=Z,m?(Z=Bi(c,_),Z!=null&&x.unshift($c(c,Z,F))):m||(Z=Bi(c,_),Z!=null&&x.push($c(c,Z,F)))),c=c.return}x.length!==0&&s.push({event:a,listeners:x})}var jC=/\r\n?/g,zC=/\u0000|\uFFFD/g;function W0(s){return(typeof s=="string"?s:""+s).replace(jC,`
`).replace(zC,"")}function $0(s,a){return a=W0(a),W0(s)===a}function fe(s,a,c,h,m,_){switch(c){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||Fn(s,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&Fn(s,""+h);break;case"className":si(s,"class",h);break;case"tabIndex":si(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":si(s,c,h);break;case"style":dc(s,h,_);break;case"data":if(a!=="object"){si(s,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||c!=="href")){s.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=Ho(""+h),s.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(c==="formAction"?(a!=="input"&&fe(s,a,"name",m.name,m,null),fe(s,a,"formEncType",m.formEncType,m,null),fe(s,a,"formMethod",m.formMethod,m,null),fe(s,a,"formTarget",m.formTarget,m,null)):(fe(s,a,"encType",m.encType,m,null),fe(s,a,"method",m.method,m,null),fe(s,a,"target",m.target,m,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=Ho(""+h),s.setAttribute(c,h);break;case"onClick":h!=null&&(s.onclick=Ui);break;case"onScroll":h!=null&&Ut("scroll",s);break;case"onScrollEnd":h!=null&&Ut("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}c=Ho(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""+h):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":h===!0?s.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,h):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(c,h):s.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(c):s.setAttribute(c,h);break;case"popover":Ut("beforetoggle",s),Ut("toggle",s),Uo(s,"popover",h);break;case"xlinkActuate":Ge(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ge(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ge(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ge(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ge(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ge(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ge(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ge(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ge(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Uo(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=bh.get(c)||c,Uo(s,c,h))}}function ng(s,a,c,h,m,_){switch(c){case"style":dc(s,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"children":typeof h=="string"?Fn(s,h):(typeof h=="number"||typeof h=="bigint")&&Fn(s,""+h);break;case"onScroll":h!=null&&Ut("scroll",s);break;case"onScrollEnd":h!=null&&Ut("scrollend",s);break;case"onClick":h!=null&&(s.onclick=Ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ac.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(m=c.endsWith("Capture"),a=c.slice(2,m?c.length-7:void 0),_=s[on]||null,_=_!=null?_[c]:null,typeof _=="function"&&s.removeEventListener(a,_,m),typeof h=="function")){typeof _!="function"&&_!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(a,h,m);break t}c in s?s[c]=h:h===!0?s.setAttribute(c,""):Uo(s,c,h)}}}function Sn(s,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",s),Ut("load",s);var h=!1,m=!1,_;for(_ in c)if(c.hasOwnProperty(_)){var x=c[_];if(x!=null)switch(_){case"src":h=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:fe(s,a,_,x,c,null)}}m&&fe(s,a,"srcSet",c.srcSet,c,null),h&&fe(s,a,"src",c.src,c,null);return;case"input":Ut("invalid",s);var I=_=x=m=null,F=null,Z=null;for(h in c)if(c.hasOwnProperty(h)){var st=c[h];if(st!=null)switch(h){case"name":m=st;break;case"type":x=st;break;case"checked":F=st;break;case"defaultChecked":Z=st;break;case"value":_=st;break;case"defaultValue":I=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(i(137,a));break;default:fe(s,a,h,st,c,null)}}yh(s,_,I,F,Z,x,m,!1);return;case"select":Ut("invalid",s),h=x=_=null;for(m in c)if(c.hasOwnProperty(m)&&(I=c[m],I!=null))switch(m){case"value":_=I;break;case"defaultValue":x=I;break;case"multiple":h=I;default:fe(s,a,m,I,c,null)}a=_,c=x,s.multiple=!!h,a!=null?wr(s,!!h,a,!1):c!=null&&wr(s,!!h,c,!0);return;case"textarea":Ut("invalid",s),_=m=h=null;for(x in c)if(c.hasOwnProperty(x)&&(I=c[x],I!=null))switch(x){case"value":h=I;break;case"defaultValue":m=I;break;case"children":_=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:fe(s,a,x,I,c,null)}Ar(s,h,m,_);return;case"option":for(F in c)if(c.hasOwnProperty(F)&&(h=c[F],h!=null))switch(F){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:fe(s,a,F,h,c,null)}return;case"dialog":Ut("beforetoggle",s),Ut("toggle",s),Ut("cancel",s),Ut("close",s);break;case"iframe":case"object":Ut("load",s);break;case"video":case"audio":for(h=0;h<Wc.length;h++)Ut(Wc[h],s);break;case"image":Ut("error",s),Ut("load",s);break;case"details":Ut("toggle",s);break;case"embed":case"source":case"link":Ut("error",s),Ut("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in c)if(c.hasOwnProperty(Z)&&(h=c[Z],h!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:fe(s,a,Z,h,c,null)}return;default:if(Fo(a)){for(st in c)c.hasOwnProperty(st)&&(h=c[st],h!==void 0&&ng(s,a,st,h,c,void 0));return}}for(I in c)c.hasOwnProperty(I)&&(h=c[I],h!=null&&fe(s,a,I,h,c,null))}function UC(s,a,c,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,_=null,x=null,I=null,F=null,Z=null,st=null;for(nt in c){var ot=c[nt];if(c.hasOwnProperty(nt)&&ot!=null)switch(nt){case"checked":break;case"value":break;case"defaultValue":F=ot;default:h.hasOwnProperty(nt)||fe(s,a,nt,null,h,ot)}}for(var tt in h){var nt=h[tt];if(ot=c[tt],h.hasOwnProperty(tt)&&(nt!=null||ot!=null))switch(tt){case"type":_=nt;break;case"name":m=nt;break;case"checked":Z=nt;break;case"defaultChecked":st=nt;break;case"value":x=nt;break;case"defaultValue":I=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(i(137,a));break;default:nt!==ot&&fe(s,a,tt,nt,h,ot)}}Bo(s,x,I,F,Z,st,_,m);return;case"select":nt=x=I=tt=null;for(_ in c)if(F=c[_],c.hasOwnProperty(_)&&F!=null)switch(_){case"value":break;case"multiple":nt=F;default:h.hasOwnProperty(_)||fe(s,a,_,null,h,F)}for(m in h)if(_=h[m],F=c[m],h.hasOwnProperty(m)&&(_!=null||F!=null))switch(m){case"value":tt=_;break;case"defaultValue":I=_;break;case"multiple":x=_;default:_!==F&&fe(s,a,m,_,h,F)}a=I,c=x,h=nt,tt!=null?wr(s,!!c,tt,!1):!!h!=!!c&&(a!=null?wr(s,!!c,a,!0):wr(s,!!c,c?[]:"",!1));return;case"textarea":nt=tt=null;for(I in c)if(m=c[I],c.hasOwnProperty(I)&&m!=null&&!h.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:fe(s,a,I,null,h,m)}for(x in h)if(m=h[x],_=c[x],h.hasOwnProperty(x)&&(m!=null||_!=null))switch(x){case"value":tt=m;break;case"defaultValue":nt=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==_&&fe(s,a,x,m,h,_)}_h(s,tt,nt);return;case"option":for(var xt in c)if(tt=c[xt],c.hasOwnProperty(xt)&&tt!=null&&!h.hasOwnProperty(xt))switch(xt){case"selected":s.selected=!1;break;default:fe(s,a,xt,null,h,tt)}for(F in h)if(tt=h[F],nt=c[F],h.hasOwnProperty(F)&&tt!==nt&&(tt!=null||nt!=null))switch(F){case"selected":s.selected=tt&&typeof tt!="function"&&typeof tt!="symbol";break;default:fe(s,a,F,tt,h,nt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in c)tt=c[At],c.hasOwnProperty(At)&&tt!=null&&!h.hasOwnProperty(At)&&fe(s,a,At,null,h,tt);for(Z in h)if(tt=h[Z],nt=c[Z],h.hasOwnProperty(Z)&&tt!==nt&&(tt!=null||nt!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(i(137,a));break;default:fe(s,a,Z,tt,h,nt)}return;default:if(Fo(a)){for(var de in c)tt=c[de],c.hasOwnProperty(de)&&tt!==void 0&&!h.hasOwnProperty(de)&&ng(s,a,de,void 0,h,tt);for(st in h)tt=h[st],nt=c[st],!h.hasOwnProperty(st)||tt===nt||tt===void 0&&nt===void 0||ng(s,a,st,tt,h,nt);return}}for(var W in c)tt=c[W],c.hasOwnProperty(W)&&tt!=null&&!h.hasOwnProperty(W)&&fe(s,a,W,null,h,tt);for(ot in h)tt=h[ot],nt=c[ot],!h.hasOwnProperty(ot)||tt===nt||tt==null&&nt==null||fe(s,a,ot,tt,h,nt)}function K0(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function BC(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var m=c[h],_=m.transferSize,x=m.initiatorType,I=m.duration;if(_&&I&&K0(x)){for(x=0,I=m.responseEnd,h+=1;h<c.length;h++){var F=c[h],Z=F.startTime;if(Z>I)break;var st=F.transferSize,ot=F.initiatorType;st&&K0(ot)&&(F=F.responseEnd,x+=st*(F<I?1:(I-Z)/(F-Z)))}if(--h,a+=8*(_+x)/(m.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var ig=null,sg=null;function Ef(s){return s.nodeType===9?s:s.ownerDocument}function X0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Q0(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function rg(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var ag=null;function FC(){var s=window.event;return s&&s.type==="popstate"?s===ag?!1:(ag=s,!0):(ag=null,!1)}var J0=typeof setTimeout=="function"?setTimeout:void 0,HC=typeof clearTimeout=="function"?clearTimeout:void 0,Z0=typeof Promise=="function"?Promise:void 0,qC=typeof queueMicrotask=="function"?queueMicrotask:typeof Z0<"u"?function(s){return Z0.resolve(null).then(s).catch(GC)}:J0;function GC(s){setTimeout(function(){throw s})}function Kr(s){return s==="head"}function tx(s,a){var c=a,h=0;do{var m=c.nextSibling;if(s.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"||c==="/&"){if(h===0){s.removeChild(m),Sl(a);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")Kc(s.ownerDocument.documentElement);else if(c==="head"){c=s.ownerDocument.head,Kc(c);for(var _=c.firstChild;_;){var x=_.nextSibling,I=_.nodeName;_[rs]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&_.rel.toLowerCase()==="stylesheet"||c.removeChild(_),_=x}}else c==="body"&&Kc(s.ownerDocument.body);c=m}while(c);Sl(a)}function ex(s,a){var c=s;s=0;do{var h=c.nextSibling;if(c.nodeType===1?a?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(a?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(s===0)break;s--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||s++;c=h}while(c)}function og(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":og(c),zo(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function YC(s,a,c,h){for(;s.nodeType===1;){var m=c;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[rs])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(_=s.getAttribute("rel"),_==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(_!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(_=s.getAttribute("src"),(_!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&_&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var _=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===_)return s}else return s;if(s=Ri(s.nextSibling),s===null)break}return null}function WC(s,a,c){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Ri(s.nextSibling),s===null))return null;return s}function nx(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=Ri(s.nextSibling),s===null))return null;return s}function lg(s){return s.data==="$?"||s.data==="$~"}function cg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function $C(s,a){var c=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||c.readyState!=="loading")a();else{var h=function(){a(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function Ri(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var ug=null;function ix(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"||c==="/&"){if(a===0)return Ri(s.nextSibling);a--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||a++}s=s.nextSibling}return null}function sx(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(a===0)return s;a--}else c!=="/$"&&c!=="/&"||a++}s=s.previousSibling}return null}function rx(s,a,c){switch(a=Ef(c),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Kc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);zo(s)}var Ci=new Map,ax=new Set;function Sf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ir=$.d;$.d={f:KC,r:XC,D:QC,C:JC,L:ZC,m:tI,X:nI,S:eI,M:iI};function KC(){var s=ir.f(),a=pf();return s||a}function XC(s){var a=yi(s);a!==null&&a.tag===5&&a.type==="form"?Sb(a):ir.r(s)}var bl=typeof document>"u"?null:document;function ox(s,a,c){var h=bl;if(h&&typeof a=="string"&&a){var m=Bn(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof c=="string"&&(m+='[crossorigin="'+c+'"]'),ax.has(m)||(ax.add(m),s={rel:s,crossOrigin:c,href:a},h.querySelector(m)===null&&(a=h.createElement("link"),Sn(a,"link",s),qe(a),h.head.appendChild(a)))}}function QC(s){ir.D(s),ox("dns-prefetch",s,null)}function JC(s,a){ir.C(s,a),ox("preconnect",s,a)}function ZC(s,a,c){ir.L(s,a,c);var h=bl;if(h&&s&&a){var m='link[rel="preload"][as="'+Bn(a)+'"]';a==="image"&&c&&c.imageSrcSet?(m+='[imagesrcset="'+Bn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(m+='[imagesizes="'+Bn(c.imageSizes)+'"]')):m+='[href="'+Bn(s)+'"]';var _=m;switch(a){case"style":_=xl(s);break;case"script":_=El(s)}Ci.has(_)||(s=g({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:s,as:a},c),Ci.set(_,s),h.querySelector(m)!==null||a==="style"&&h.querySelector(Xc(_))||a==="script"&&h.querySelector(Qc(_))||(a=h.createElement("link"),Sn(a,"link",s),qe(a),h.head.appendChild(a)))}}function tI(s,a){ir.m(s,a);var c=bl;if(c&&s){var h=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+Bn(h)+'"][href="'+Bn(s)+'"]',_=m;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=El(s)}if(!Ci.has(_)&&(s=g({rel:"modulepreload",href:s},a),Ci.set(_,s),c.querySelector(m)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Qc(_)))return}h=c.createElement("link"),Sn(h,"link",s),qe(h),c.head.appendChild(h)}}}function eI(s,a,c){ir.S(s,a,c);var h=bl;if(h&&s){var m=os(h).hoistableStyles,_=xl(s);a=a||"default";var x=m.get(_);if(!x){var I={loading:0,preload:null};if(x=h.querySelector(Xc(_)))I.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":a},c),(c=Ci.get(_))&&hg(s,c);var F=x=h.createElement("link");qe(F),Sn(F,"link",s),F._p=new Promise(function(Z,st){F.onload=Z,F.onerror=st}),F.addEventListener("load",function(){I.loading|=1}),F.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Tf(x,a,h)}x={type:"stylesheet",instance:x,count:1,state:I},m.set(_,x)}}}function nI(s,a){ir.X(s,a);var c=bl;if(c&&s){var h=os(c).hoistableScripts,m=El(s),_=h.get(m);_||(_=c.querySelector(Qc(m)),_||(s=g({src:s,async:!0},a),(a=Ci.get(m))&&fg(s,a),_=c.createElement("script"),qe(_),Sn(_,"link",s),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(m,_))}}function iI(s,a){ir.M(s,a);var c=bl;if(c&&s){var h=os(c).hoistableScripts,m=El(s),_=h.get(m);_||(_=c.querySelector(Qc(m)),_||(s=g({src:s,async:!0,type:"module"},a),(a=Ci.get(m))&&fg(s,a),_=c.createElement("script"),qe(_),Sn(_,"link",s),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(m,_))}}function lx(s,a,c,h){var m=(m=bt.current)?Sf(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=xl(c.href),c=os(m).hoistableStyles,h=c.get(a),h||(h={type:"style",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=xl(c.href);var _=os(m).hoistableStyles,x=_.get(s);if(x||(m=m.ownerDocument||m,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(s,x),(_=m.querySelector(Xc(s)))&&!_._p&&(x.instance=_,x.state.loading=5),Ci.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Ci.set(s,c),_||sI(m,s,c,x.state))),a&&h===null)throw Error(i(528,""));return x}if(a&&h!==null)throw Error(i(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=El(c),c=os(m).hoistableScripts,h=c.get(a),h||(h={type:"script",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function xl(s){return'href="'+Bn(s)+'"'}function Xc(s){return'link[rel="stylesheet"]['+s+"]"}function cx(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function sI(s,a,c,h){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=s.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),Sn(a,"link",c),qe(a),s.head.appendChild(a))}function El(s){return'[src="'+Bn(s)+'"]'}function Qc(s){return"script[async]"+s}function ux(s,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var h=s.querySelector('style[data-href~="'+Bn(c.href)+'"]');if(h)return a.instance=h,qe(h),h;var m=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),qe(h),Sn(h,"style",m),Tf(h,c.precedence,s),a.instance=h;case"stylesheet":m=xl(c.href);var _=s.querySelector(Xc(m));if(_)return a.state.loading|=4,a.instance=_,qe(_),_;h=cx(c),(m=Ci.get(m))&&hg(h,m),_=(s.ownerDocument||s).createElement("link"),qe(_);var x=_;return x._p=new Promise(function(I,F){x.onload=I,x.onerror=F}),Sn(_,"link",h),a.state.loading|=4,Tf(_,c.precedence,s),a.instance=_;case"script":return _=El(c.src),(m=s.querySelector(Qc(_)))?(a.instance=m,qe(m),m):(h=c,(m=Ci.get(_))&&(h=g({},c),fg(h,m)),s=s.ownerDocument||s,m=s.createElement("script"),qe(m),Sn(m,"link",h),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,Tf(h,c.precedence,s));return a.instance}function Tf(s,a,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=h.length?h[h.length-1]:null,_=m,x=0;x<h.length;x++){var I=h[x];if(I.dataset.precedence===a)_=I;else if(_!==m)break}_?_.parentNode.insertBefore(s,_.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(s,a.firstChild))}function hg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function fg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var wf=null;function hx(s,a,c){if(wf===null){var h=new Map,m=wf=new Map;m.set(c,h)}else m=wf,h=m.get(c),h||(h=new Map,m.set(c,h));if(h.has(s))return h;for(h.set(s,null),c=c.getElementsByTagName(s),m=0;m<c.length;m++){var _=c[m];if(!(_[rs]||_[He]||s==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var x=_.getAttribute(a)||"";x=s+x;var I=h.get(x);I?I.push(_):h.set(x,[_])}}return h}function fx(s,a,c){s=s.ownerDocument||s,s.head.insertBefore(c,a==="title"?s.querySelector("head > title"):null)}function rI(s,a,c){if(c===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function dx(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function aI(s,a,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var m=xl(h.href),_=a.querySelector(Xc(m));if(_){a=_._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=Af.bind(s),a.then(s,s)),c.state.loading|=4,c.instance=_,qe(_);return}_=a.ownerDocument||a,h=cx(h),(m=Ci.get(m))&&hg(h,m),_=_.createElement("link"),qe(_);var x=_;x._p=new Promise(function(I,F){x.onload=I,x.onerror=F}),Sn(_,"link",h),c.instance=_}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(s.count++,c=Af.bind(s),a.addEventListener("load",c),a.addEventListener("error",c))}}var dg=0;function oI(s,a){return s.stylesheets&&s.count===0&&Cf(s,s.stylesheets),0<s.count||0<s.imgCount?function(c){var h=setTimeout(function(){if(s.stylesheets&&Cf(s,s.stylesheets),s.unsuspend){var _=s.unsuspend;s.unsuspend=null,_()}},6e4+a);0<s.imgBytes&&dg===0&&(dg=62500*BC());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Cf(s,s.stylesheets),s.unsuspend)){var _=s.unsuspend;s.unsuspend=null,_()}},(s.imgBytes>dg?50:800)+a);return s.unsuspend=c,function(){s.unsuspend=null,clearTimeout(h),clearTimeout(m)}}:null}function Af(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cf(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Rf=null;function Cf(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Rf=new Map,a.forEach(lI,s),Rf=null,Af.call(s))}function lI(s,a){if(!(a.state.loading&4)){var c=Rf.get(s);if(c)var h=c.get(null);else{c=new Map,Rf.set(s,c);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<m.length;_++){var x=m[_];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(c.set(x.dataset.precedence,x),h=x)}h&&c.set(null,h)}m=a.instance,x=m.getAttribute("data-precedence"),_=c.get(x)||h,_===h&&c.set(null,m),c.set(x,m),this.count++,h=Af.bind(this),m.addEventListener("load",h),m.addEventListener("error",h),_?_.parentNode.insertBefore(m,_.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var Jc={$$typeof:z,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function cI(s,a,c,h,m,_,x,I,F){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jn(0),this.hiddenUpdates=jn(null),this.identifierPrefix=h,this.onUncaughtError=m,this.onCaughtError=_,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function px(s,a,c,h,m,_,x,I,F,Z,st,ot){return s=new cI(s,a,c,x,F,Z,st,ot,I),a=1,_===!0&&(a|=24),_=ai(3,null,null,a),s.current=_,_.stateNode=s,a=Yp(),a.refCount++,s.pooledCache=a,a.refCount++,_.memoizedState={element:h,isDehydrated:c,cache:a},Xp(_),s}function mx(s){return s?(s=Zo,s):Zo}function gx(s,a,c,h,m,_){m=mx(m),h.context===null?h.context=m:h.pendingContext=m,h=jr(a),h.payload={element:c},_=_===void 0?null:_,_!==null&&(h.callback=_),c=zr(s,h,a),c!==null&&(Wn(c,s,a),Dc(c,s,a))}function yx(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function pg(s,a){yx(s,a),(s=s.alternate)&&yx(s,a)}function _x(s){if(s.tag===13||s.tag===31){var a=Xa(s,67108864);a!==null&&Wn(a,s,67108864),pg(s,67108864)}}function vx(s){if(s.tag===13||s.tag===31){var a=hi();a=is(a);var c=Xa(s,a);c!==null&&Wn(c,s,a),pg(s,a)}}var If=!0;function uI(s,a,c,h){var m=q.T;q.T=null;var _=$.p;try{$.p=2,mg(s,a,c,h)}finally{$.p=_,q.T=m}}function hI(s,a,c,h){var m=q.T;q.T=null;var _=$.p;try{$.p=8,mg(s,a,c,h)}finally{$.p=_,q.T=m}}function mg(s,a,c,h){if(If){var m=gg(h);if(m===null)eg(s,a,h,Df,c),xx(s,h);else if(dI(m,s,a,c,h))h.stopPropagation();else if(xx(s,h),a&4&&-1<fI.indexOf(s)){for(;m!==null;){var _=yi(m);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var x=ni(_.pendingLanes);if(x!==0){var I=_;for(I.pendingLanes|=2,I.entangledLanes|=2;x;){var F=1<<31-Ee(x);I.entanglements[1]|=F,x&=~F}bs(_),(ee&6)===0&&(ff=mn()+500,Yc(0))}}break;case 31:case 13:I=Xa(_,2),I!==null&&Wn(I,_,2),pf(),pg(_,2)}if(_=gg(h),_===null&&eg(s,a,h,Df,c),_===m)break;m=_}m!==null&&h.stopPropagation()}else eg(s,a,h,null,c)}}function gg(s){return s=_i(s),yg(s)}var Df=null;function yg(s){if(Df=null,s=as(s),s!==null){var a=o(s);if(a===null)s=null;else{var c=a.tag;if(c===13){if(s=l(a),s!==null)return s;s=null}else if(c===31){if(s=u(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Df=s,null}function bx(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(js()){case es:return 2;case La:return 8;case Pi:case Va:return 32;case Li:return 268435456;default:return 32}default:return 32}}var _g=!1,Xr=null,Qr=null,Jr=null,Zc=new Map,tu=new Map,Zr=[],fI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xx(s,a){switch(s){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Zc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(a.pointerId)}}function eu(s,a,c,h,m,_){return s===null||s.nativeEvent!==_?(s={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:_,targetContainers:[m]},a!==null&&(a=yi(a),a!==null&&_x(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function dI(s,a,c,h,m){switch(a){case"focusin":return Xr=eu(Xr,s,a,c,h,m),!0;case"dragenter":return Qr=eu(Qr,s,a,c,h,m),!0;case"mouseover":return Jr=eu(Jr,s,a,c,h,m),!0;case"pointerover":var _=m.pointerId;return Zc.set(_,eu(Zc.get(_)||null,s,a,c,h,m)),!0;case"gotpointercapture":return _=m.pointerId,tu.set(_,eu(tu.get(_)||null,s,a,c,h,m)),!0}return!1}function Ex(s){var a=as(s.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){s.blockedOn=a,ji(s.priority,function(){vx(c)});return}}else if(a===31){if(a=u(c),a!==null){s.blockedOn=a,ji(s.priority,function(){vx(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Mf(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=gg(s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);pc=h,c.target.dispatchEvent(h),pc=null}else return a=yi(c),a!==null&&_x(a),s.blockedOn=c,!1;a.shift()}return!0}function Sx(s,a,c){Mf(s)&&c.delete(a)}function pI(){_g=!1,Xr!==null&&Mf(Xr)&&(Xr=null),Qr!==null&&Mf(Qr)&&(Qr=null),Jr!==null&&Mf(Jr)&&(Jr=null),Zc.forEach(Sx),tu.forEach(Sx)}function kf(s,a){s.blockedOn===a&&(s.blockedOn=null,_g||(_g=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,pI)))}var Nf=null;function Tx(s){Nf!==s&&(Nf=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Nf===s&&(Nf=null);for(var a=0;a<s.length;a+=3){var c=s[a],h=s[a+1],m=s[a+2];if(typeof h!="function"){if(yg(h||c)===null)continue;break}var _=yi(c);_!==null&&(s.splice(a,3),a-=3,gm(_,{pending:!0,data:m,method:c.method,action:h},h,m))}}))}function Sl(s){function a(F){return kf(F,s)}Xr!==null&&kf(Xr,s),Qr!==null&&kf(Qr,s),Jr!==null&&kf(Jr,s),Zc.forEach(a),tu.forEach(a);for(var c=0;c<Zr.length;c++){var h=Zr[c];h.blockedOn===s&&(h.blockedOn=null)}for(;0<Zr.length&&(c=Zr[0],c.blockedOn===null);)Ex(c),c.blockedOn===null&&Zr.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var m=c[h],_=c[h+1],x=m[on]||null;if(typeof _=="function")x||Tx(c);else if(x){var I=null;if(_&&_.hasAttribute("formAction")){if(m=_,x=_[on]||null)I=x.formAction;else if(yg(m)!==null)continue}else I=x.action;typeof I=="function"?c[h+1]=I:(c.splice(h,3),h-=3),Tx(c)}}}function wx(){function s(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(x){return m=x})},focusReset:"manual",scroll:"manual"})}function a(){m!==null&&(m(),m=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),m!==null&&(m(),m=null)}}}function vg(s){this._internalRoot=s}Of.prototype.render=vg.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var c=a.current,h=hi();gx(c,h,s,a,null,null)},Of.prototype.unmount=vg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;gx(s.current,2,null,s,null,null),pf(),a[ss]=null}};function Of(s){this._internalRoot=s}Of.prototype.unstable_scheduleHydration=function(s){if(s){var a=sc();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Zr.length&&a!==0&&a<Zr[c].priority;c++);Zr.splice(c,0,s),c===0&&Ex(s)}};var Ax=t.version;if(Ax!=="19.2.0")throw Error(i(527,Ax,"19.2.0"));$.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=d(a),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var mI={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pf.isDisabled&&Pf.supportsFiber)try{ti=Pf.inject(mI),tn=Pf}catch{}}return iu.createRoot=function(s,a){if(!r(s))throw Error(i(299));var c=!1,h="",m=Nb,_=Ob,x=Pb;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=px(s,1,!1,null,null,c,h,null,m,_,x,wx),s[ss]=a.current,tg(s),new vg(a)},iu.hydrateRoot=function(s,a,c){if(!r(s))throw Error(i(299));var h=!1,m="",_=Nb,x=Ob,I=Pb,F=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(x=c.onCaughtError),c.onRecoverableError!==void 0&&(I=c.onRecoverableError),c.formState!==void 0&&(F=c.formState)),a=px(s,1,!0,a,c??null,h,m,F,_,x,I,wx),a.context=mx(null),c=a.current,h=hi(),h=is(h),m=jr(h),m.callback=null,zr(c,m,h),c=h,a.current.lanes=c,ye(a,c),bs(a),s[ss]=a.current,tg(s),new Of(a)},iu.version="19.2.0",iu}var Lx;function TI(){if(Lx)return Eg.exports;Lx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Eg.exports=SI(),Eg.exports}var wI=TI();const AI=Fy(wI);var Vx="popstate";function RI(n={}){function t(r,o){let{pathname:l="/",search:u="",hash:f=""}=Do(r.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),ey("",{pathname:l,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function e(r,o){let l=r.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let f=r.location.href,d=f.indexOf("#");u=d===-1?f:f.slice(0,d)}return u+"#"+(typeof o=="string"?o:Du(o))}function i(r,o){ki(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return II(t,e,i,n)}function Ie(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function ki(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function CI(){return Math.random().toString(36).substring(2,10)}function jx(n,t){return{usr:n.state,key:n.key,idx:t}}function ey(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Do(t):t,state:e,key:t&&t.key||i||CI()}}function Du({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function Do(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function II(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,l=r.history,u="POP",f=null,d=y();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function y(){return(l.state||{idx:null}).idx}function g(){u="POP";let C=y(),O=C==null?null:C-d;d=C,f&&f({action:u,location:A.location,delta:O})}function v(C,O){u="PUSH";let j=ey(A.location,C,O);e&&e(j,C),d=y()+1;let z=jx(j,d),K=A.createHref(j);try{l.pushState(z,"",K)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;r.location.assign(K)}o&&f&&f({action:u,location:A.location,delta:1})}function E(C,O){u="REPLACE";let j=ey(A.location,C,O);e&&e(j,C),d=y();let z=jx(j,d),K=A.createHref(j);l.replaceState(z,"",K),o&&f&&f({action:u,location:A.location,delta:0})}function w(C){return DI(C)}let A={get action(){return u},get location(){return n(r,l)},listen(C){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(Vx,g),f=C,()=>{r.removeEventListener(Vx,g),f=null}},createHref(C){return t(r,C)},createURL:w,encodeLocation(C){let O=w(C);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:v,replace:E,go(C){return l.go(C)}};return A}function DI(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Ie(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Du(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function WT(n,t,e="/"){return MI(n,t,e,!1)}function MI(n,t,e,i){let r=typeof t=="string"?Do(t):t,o=mr(r.pathname||"/",e);if(o==null)return null;let l=$T(n);kI(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let d=HI(o);u=BI(l[f],d,i)}return u}function $T(n,t=[],e=[],i="",r=!1){let o=(l,u,f=r,d)=>{let y={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&f)return;Ie(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let g=dr([i,y.relativePath]),v=e.concat(y);l.children&&l.children.length>0&&(Ie(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),$T(l.children,t,v,g,f)),!(l.path==null&&!l.index)&&t.push({path:g,score:zI(g,l.index),routesMeta:v})};return n.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))o(l,u);else for(let f of KT(l.path))o(l,u,!0,f)}),t}function KT(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let l=KT(i.join("/")),u=[];return u.push(...l.map(f=>f===""?o:[o,f].join("/"))),r&&u.push(...l),u.map(f=>n.startsWith("/")&&f===""?"/":f)}function kI(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:UI(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var NI=/^:[\w-]+$/,OI=3,PI=2,LI=1,VI=10,jI=-2,zx=n=>n==="*";function zI(n,t){let e=n.split("/"),i=e.length;return e.some(zx)&&(i+=jI),t&&(i+=PI),e.filter(r=>!zx(r)).reduce((r,o)=>r+(NI.test(o)?OI:o===""?LI:VI),i)}function UI(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function BI(n,t,e=!1){let{routesMeta:i}=n,r={},o="/",l=[];for(let u=0;u<i.length;++u){let f=i[u],d=u===i.length-1,y=o==="/"?t:t.slice(o.length)||"/",g=yd({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},y),v=f.route;if(!g&&d&&e&&!i[i.length-1].route.index&&(g=yd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!g)return null;Object.assign(r,g.params),l.push({params:r,pathname:dr([o,g.pathname]),pathnameBase:$I(dr([o,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(o=dr([o,g.pathnameBase]))}return l}function yd(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=FI(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((d,{paramName:y,isOptional:g},v)=>{if(y==="*"){let w=u[v]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const E=u[v];return g&&!E?d[y]=void 0:d[y]=(E||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:l,pattern:n}}function FI(n,t=!1,e=!0){ki(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(i.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function HI(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ki(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function mr(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}var qI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GI=n=>qI.test(n);function YI(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?Do(n):n,o;if(e)if(GI(e))o=e;else{if(e.includes("//")){let l=e;e=e.replace(/\/\/+/g,"/"),ki(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${e}`)}e.startsWith("/")?o=Ux(e.substring(1),"/"):o=Ux(e,t)}else o=t;return{pathname:o,search:KI(i),hash:XI(r)}}function Ux(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function Ag(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WI(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function XT(n){let t=WI(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function QT(n,t,e,i=!1){let r;typeof n=="string"?r=Do(n):(r={...n},Ie(!r.pathname||!r.pathname.includes("?"),Ag("?","pathname","search",r)),Ie(!r.pathname||!r.pathname.includes("#"),Ag("#","pathname","hash",r)),Ie(!r.search||!r.search.includes("#"),Ag("#","search","hash",r)));let o=n===""||r.pathname==="",l=o?"/":r.pathname,u;if(l==null)u=e;else{let g=t.length-1;if(!i&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;r.pathname=v.join("/")}u=g>=0?t[g]:"/"}let f=YI(r,u),d=l&&l!=="/"&&l.endsWith("/"),y=(o||l===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(d||y)&&(f.pathname+="/"),f}var dr=n=>n.join("/").replace(/\/\/+/g,"/"),$I=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),KI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,XI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function QI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var JT=["POST","PUT","PATCH","DELETE"];new Set(JT);var JI=["GET",...JT];new Set(JI);var Kl=G.createContext(null);Kl.displayName="DataRouter";var Gd=G.createContext(null);Gd.displayName="DataRouterState";G.createContext(!1);var ZT=G.createContext({isTransitioning:!1});ZT.displayName="ViewTransition";var ZI=G.createContext(new Map);ZI.displayName="Fetchers";var t2=G.createContext(null);t2.displayName="Await";var Ls=G.createContext(null);Ls.displayName="Navigation";var Xu=G.createContext(null);Xu.displayName="Location";var Vs=G.createContext({outlet:null,matches:[],isDataRoute:!1});Vs.displayName="Route";var qy=G.createContext(null);qy.displayName="RouteError";function e2(n,{relative:t}={}){Ie(Qu(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=G.useContext(Ls),{hash:r,pathname:o,search:l}=Ju(n,{relative:t}),u=o;return e!=="/"&&(u=o==="/"?e:dr([e,o])),i.createHref({pathname:u,search:l,hash:r})}function Qu(){return G.useContext(Xu)!=null}function Mo(){return Ie(Qu(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(Xu).location}var t1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function e1(n){G.useContext(Ls).static||G.useLayoutEffect(n)}function Gy(){let{isDataRoute:n}=G.useContext(Vs);return n?m2():n2()}function n2(){Ie(Qu(),"useNavigate() may be used only in the context of a <Router> component.");let n=G.useContext(Kl),{basename:t,navigator:e}=G.useContext(Ls),{matches:i}=G.useContext(Vs),{pathname:r}=Mo(),o=JSON.stringify(XT(i)),l=G.useRef(!1);return e1(()=>{l.current=!0}),G.useCallback((f,d={})=>{if(ki(l.current,t1),!l.current)return;if(typeof f=="number"){e.go(f);return}let y=QT(f,JSON.parse(o),r,d.relative==="path");n==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:dr([t,y.pathname])),(d.replace?e.replace:e.push)(y,d.state,d)},[t,e,o,r,n])}var n1=G.createContext(null);function ko(){return G.useContext(n1)}function i2(n){let t=G.useContext(Vs).outlet;return G.useMemo(()=>t&&G.createElement(n1.Provider,{value:n},t),[t,n])}function Ju(n,{relative:t}={}){let{matches:e}=G.useContext(Vs),{pathname:i}=Mo(),r=JSON.stringify(XT(e));return G.useMemo(()=>QT(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function s2(n,t){return i1(n,t)}function i1(n,t,e,i,r){Ie(Qu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=G.useContext(Ls),{matches:l}=G.useContext(Vs),u=l[l.length-1],f=u?u.params:{},d=u?u.pathname:"/",y=u?u.pathnameBase:"/",g=u&&u.route;{let j=g&&g.path||"";s1(d,!g||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let v=Mo(),E;if(t){let j=typeof t=="string"?Do(t):t;Ie(y==="/"||j.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${j.pathname}" was given in the \`location\` prop.`),E=j}else E=v;let w=E.pathname||"/",A=w;if(y!=="/"){let j=y.replace(/^\//,"").split("/");A="/"+w.replace(/^\//,"").split("/").slice(j.length).join("/")}let C=WT(n,{pathname:A});ki(g||C!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),ki(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=c2(C&&C.map(j=>Object.assign({},j,{params:Object.assign({},f,j.params),pathname:dr([y,o.encodeLocation?o.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?y:dr([y,o.encodeLocation?o.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),l,e,i,r);return t&&O?G.createElement(Xu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},O):O}function r2(){let n=p2(),t=QI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:o},"ErrorBoundary")," or"," ",G.createElement("code",{style:o},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},t),e?G.createElement("pre",{style:r},e):null,l)}var a2=G.createElement(r2,null),o2=class extends G.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?G.createElement(Vs.Provider,{value:this.props.routeContext},G.createElement(qy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function l2({routeContext:n,match:t,children:e}){let i=G.useContext(Kl);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),G.createElement(Vs.Provider,{value:n},e)}function c2(n,t=[],e=null,i=null,r=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let o=n,l=e?.errors;if(l!=null){let y=o.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);Ie(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let u=!1,f=-1;if(e)for(let y=0;y<o.length;y++){let g=o[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=y),g.route.id){let{loaderData:v,errors:E}=e,w=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!E||E[g.route.id]===void 0);if(g.route.lazy||w){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let d=e&&i?(y,g)=>{i(y,{location:e.location,params:e.matches?.[0]?.params??{},errorInfo:g})}:void 0;return o.reduceRight((y,g,v)=>{let E,w=!1,A=null,C=null;e&&(E=l&&g.route.id?l[g.route.id]:void 0,A=g.route.errorElement||a2,u&&(f<0&&v===0?(s1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,C=null):f===v&&(w=!0,C=g.route.hydrateFallbackElement||null)));let O=t.concat(o.slice(0,v+1)),j=()=>{let z;return E?z=A:w?z=C:g.route.Component?z=G.createElement(g.route.Component,null):g.route.element?z=g.route.element:z=y,G.createElement(l2,{match:g,routeContext:{outlet:y,matches:O,isDataRoute:e!=null},children:z})};return e&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?G.createElement(o2,{location:e.location,revalidation:e.revalidation,component:A,error:E,children:j(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:d}):j()},null)}function Yy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u2(n){let t=G.useContext(Kl);return Ie(t,Yy(n)),t}function h2(n){let t=G.useContext(Gd);return Ie(t,Yy(n)),t}function f2(n){let t=G.useContext(Vs);return Ie(t,Yy(n)),t}function Wy(n){let t=f2(n),e=t.matches[t.matches.length-1];return Ie(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function d2(){return Wy("useRouteId")}function p2(){let n=G.useContext(qy),t=h2("useRouteError"),e=Wy("useRouteError");return n!==void 0?n:t.errors?.[e]}function m2(){let{router:n}=u2("useNavigate"),t=Wy("useNavigate"),e=G.useRef(!1);return e1(()=>{e.current=!0}),G.useCallback(async(r,o={})=>{ki(e.current,t1),e.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:t,...o}))},[n,t])}var Bx={};function s1(n,t,e){!t&&!Bx[n]&&(Bx[n]=!0,ki(!1,e))}G.memo(g2);function g2({routes:n,future:t,state:e,unstable_onError:i}){return i1(n,void 0,e,i,t)}function y2(n){return i2(n.context)}function Es(n){Ie(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _2({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:o=!1}){Ie(!Qu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=G.useMemo(()=>({basename:l,navigator:r,static:o,future:{}}),[l,r,o]);typeof e=="string"&&(e=Do(e));let{pathname:f="/",search:d="",hash:y="",state:g=null,key:v="default"}=e,E=G.useMemo(()=>{let w=mr(f,l);return w==null?null:{location:{pathname:w,search:d,hash:y,state:g,key:v},navigationType:i}},[l,f,d,y,g,v,i]);return ki(E!=null,`<Router basename="${l}"> is not able to match the URL "${f}${d}${y}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:G.createElement(Ls.Provider,{value:u},G.createElement(Xu.Provider,{children:t,value:E}))}function v2({children:n,location:t}){return s2(ny(n),t)}function ny(n,t=[]){let e=[];return G.Children.forEach(n,(i,r)=>{if(!G.isValidElement(i))return;let o=[...t,r];if(i.type===G.Fragment){e.push.apply(e,ny(i.props.children,o));return}Ie(i.type===Es,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ie(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=ny(i.props.children,o)),e.push(l)}),e}var id="get",sd="application/x-www-form-urlencoded";function Yd(n){return n!=null&&typeof n.tagName=="string"}function b2(n){return Yd(n)&&n.tagName.toLowerCase()==="button"}function x2(n){return Yd(n)&&n.tagName.toLowerCase()==="form"}function E2(n){return Yd(n)&&n.tagName.toLowerCase()==="input"}function S2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function T2(n,t){return n.button===0&&(!t||t==="_self")&&!S2(n)}var Lf=null;function w2(){if(Lf===null)try{new FormData(document.createElement("form"),0),Lf=!1}catch{Lf=!0}return Lf}var A2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rg(n){return n!=null&&!A2.has(n)?(ki(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sd}"`),null):n}function R2(n,t){let e,i,r,o,l;if(x2(n)){let u=n.getAttribute("action");i=u?mr(u,t):null,e=n.getAttribute("method")||id,r=Rg(n.getAttribute("enctype"))||sd,o=new FormData(n)}else if(b2(n)||E2(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||u.getAttribute("action");if(i=f?mr(f,t):null,e=n.getAttribute("formmethod")||u.getAttribute("method")||id,r=Rg(n.getAttribute("formenctype"))||Rg(u.getAttribute("enctype"))||sd,o=new FormData(u,n),!w2()){let{name:d,type:y,value:g}=n;if(y==="image"){let v=d?`${d}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else d&&o.append(d,g)}}else{if(Yd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=id,i=null,r=sd,l=n}return o&&r==="text/plain"&&(l=o,o=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $y(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function C2(n,t,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&mr(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function I2(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function D2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function M2(n,t,e){let i=await Promise.all(n.map(async r=>{let o=t.routes[r.route.id];if(o){let l=await I2(o,e);return l.links?l.links():[]}return[]}));return P2(i.flat(1).filter(D2).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Fx(n,t,e,i,r,o){let l=(f,d)=>e[d]?f.route.id!==e[d].route.id:!0,u=(f,d)=>e[d].pathname!==f.pathname||e[d].route.path?.endsWith("*")&&e[d].params["*"]!==f.params["*"];return o==="assets"?t.filter((f,d)=>l(f,d)||u(f,d)):o==="data"?t.filter((f,d)=>{let y=i.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(l(f,d)||u(f,d))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function k2(n,t,{includeHydrateFallback:e}={}){return N2(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function N2(n){return[...new Set(n)]}function O2(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function P2(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let o=JSON.stringify(O2(r));return e.has(o)||(e.add(o),i.push({key:o,link:r})),i},[])}function r1(){let n=G.useContext(Kl);return $y(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function L2(){let n=G.useContext(Gd);return $y(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ky=G.createContext(void 0);Ky.displayName="FrameworkContext";function a1(){let n=G.useContext(Ky);return $y(n,"You must render this element inside a <HydratedRouter> element"),n}function V2(n,t){let e=G.useContext(Ky),[i,r]=G.useState(!1),[o,l]=G.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:d,onMouseLeave:y,onTouchStart:g}=t,v=G.useRef(null);G.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let A=O=>{O.forEach(j=>{l(j.isIntersecting)})},C=new IntersectionObserver(A,{threshold:.5});return v.current&&C.observe(v.current),()=>{C.disconnect()}}},[n]),G.useEffect(()=>{if(i){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[i]);let E=()=>{r(!0)},w=()=>{r(!1),l(!1)};return e?n!=="intent"?[o,v,{}]:[o,v,{onFocus:su(u,E),onBlur:su(f,w),onMouseEnter:su(d,E),onMouseLeave:su(y,w),onTouchStart:su(g,E)}]:[!1,v,{}]}function su(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function j2({page:n,...t}){let{router:e}=r1(),i=G.useMemo(()=>WT(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?G.createElement(U2,{page:n,matches:i,...t}):null}function z2(n){let{manifest:t,routeModules:e}=a1(),[i,r]=G.useState([]);return G.useEffect(()=>{let o=!1;return M2(n,t,e).then(l=>{o||r(l)}),()=>{o=!0}},[n,t,e]),i}function U2({page:n,matches:t,...e}){let i=Mo(),{manifest:r,routeModules:o}=a1(),{basename:l}=r1(),{loaderData:u,matches:f}=L2(),d=G.useMemo(()=>Fx(n,t,f,r,i,"data"),[n,t,f,r,i]),y=G.useMemo(()=>Fx(n,t,f,r,i,"assets"),[n,t,f,r,i]),g=G.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let w=new Set,A=!1;if(t.forEach(O=>{let j=r.routes[O.route.id];!j||!j.hasLoader||(!d.some(z=>z.route.id===O.route.id)&&O.route.id in u&&o[O.route.id]?.shouldRevalidate||j.hasClientLoader?A=!0:w.add(O.route.id))}),w.size===0)return[];let C=C2(n,l,"data");return A&&w.size>0&&C.searchParams.set("_routes",t.filter(O=>w.has(O.route.id)).map(O=>O.route.id).join(",")),[C.pathname+C.search]},[l,u,i,r,d,t,n,o]),v=G.useMemo(()=>k2(y,r),[y,r]),E=z2(y);return G.createElement(G.Fragment,null,g.map(w=>G.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...e})),v.map(w=>G.createElement("link",{key:w,rel:"modulepreload",href:w,...e})),E.map(({key:w,link:A})=>G.createElement("link",{key:w,nonce:e.nonce,...A})))}function B2(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var o1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{o1&&(window.__reactRouterVersion="7.9.6")}catch{}function F2({basename:n,children:t,window:e}){let i=G.useRef();i.current==null&&(i.current=RI({window:e,v5Compat:!0}));let r=i.current,[o,l]=G.useState({action:r.action,location:r.location}),u=G.useCallback(f=>{G.startTransition(()=>l(f))},[l]);return G.useLayoutEffect(()=>r.listen(u),[r,u]),G.createElement(_2,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:r})}var l1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,c1=G.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:o,replace:l,state:u,target:f,to:d,preventScrollReset:y,viewTransition:g,...v},E){let{basename:w}=G.useContext(Ls),A=typeof d=="string"&&l1.test(d),C,O=!1;if(typeof d=="string"&&A&&(C=d,o1))try{let M=new URL(window.location.href),L=d.startsWith("//")?new URL(M.protocol+d):new URL(d),N=mr(L.pathname,w);L.origin===M.origin&&N!=null?d=N+L.search+L.hash:O=!0}catch{ki(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=e2(d,{relative:r}),[z,K,U]=V2(i,v),Y=G2(d,{replace:l,state:u,target:f,preventScrollReset:y,relative:r,viewTransition:g});function D(M){t&&t(M),M.defaultPrevented||Y(M)}let R=G.createElement("a",{...v,...U,href:C||j,onClick:O||o?t:D,ref:B2(E,K),target:f,"data-discover":!A&&e==="render"?"true":void 0});return z&&!A?G.createElement(G.Fragment,null,R,G.createElement(j2,{page:j})):R});c1.displayName="Link";var na=G.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:o,to:l,viewTransition:u,children:f,...d},y){let g=Ju(l,{relative:d.relative}),v=Mo(),E=G.useContext(Gd),{navigator:w,basename:A}=G.useContext(Ls),C=E!=null&&X2(g)&&u===!0,O=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,j=v.pathname,z=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;e||(j=j.toLowerCase(),z=z?z.toLowerCase():null,O=O.toLowerCase()),z&&A&&(z=mr(z,A)||z);const K=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let U=j===O||!r&&j.startsWith(O)&&j.charAt(K)==="/",Y=z!=null&&(z===O||!r&&z.startsWith(O)&&z.charAt(O.length)==="/"),D={isActive:U,isPending:Y,isTransitioning:C},R=U?t:void 0,M;typeof i=="function"?M=i(D):M=[i,U?"active":null,Y?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(D):o;return G.createElement(c1,{...d,"aria-current":R,className:M,ref:y,style:L,to:l,viewTransition:u},typeof f=="function"?f(D):f)});na.displayName="NavLink";var H2=G.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:o,method:l=id,action:u,onSubmit:f,relative:d,preventScrollReset:y,viewTransition:g,...v},E)=>{let w=$2(),A=K2(u,{relative:d}),C=l.toLowerCase()==="get"?"get":"post",O=typeof u=="string"&&l1.test(u),j=z=>{if(f&&f(z),z.defaultPrevented)return;z.preventDefault();let K=z.nativeEvent.submitter,U=K?.getAttribute("formmethod")||l;w(K||z.currentTarget,{fetcherKey:t,method:U,navigate:e,replace:r,state:o,relative:d,preventScrollReset:y,viewTransition:g})};return G.createElement("form",{ref:E,method:C,action:A,onSubmit:i?f:j,...v,"data-discover":!O&&n==="render"?"true":void 0})});H2.displayName="Form";function q2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u1(n){let t=G.useContext(Kl);return Ie(t,q2(n)),t}function G2(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:o,viewTransition:l}={}){let u=Gy(),f=Mo(),d=Ju(n,{relative:o});return G.useCallback(y=>{if(T2(y,t)){y.preventDefault();let g=e!==void 0?e:Du(f)===Du(d);u(n,{replace:g,state:i,preventScrollReset:r,relative:o,viewTransition:l})}},[f,u,d,e,i,t,n,r,o,l])}var Y2=0,W2=()=>`__${String(++Y2)}__`;function $2(){let{router:n}=u1("useSubmit"),{basename:t}=G.useContext(Ls),e=d2();return G.useCallback(async(i,r={})=>{let{action:o,method:l,encType:u,formData:f,body:d}=R2(i,t);if(r.navigate===!1){let y=r.fetcherKey||W2();await n.fetch(y,e,r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:d,formMethod:r.method||l,formEncType:r.encType||u,flushSync:r.flushSync})}else await n.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:d,formMethod:r.method||l,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,t,e])}function K2(n,{relative:t}={}){let{basename:e}=G.useContext(Ls),i=G.useContext(Vs);Ie(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...Ju(n||".",{relative:t})},l=Mo();if(n==null){o.search=l.search;let u=new URLSearchParams(o.search),f=u.getAll("index");if(f.some(y=>y==="")){u.delete("index"),f.filter(g=>g).forEach(g=>u.append("index",g));let y=u.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:dr([e,o.pathname])),Du(o)}function X2(n,{relative:t}={}){let e=G.useContext(ZT);Ie(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=u1("useViewTransitionState"),r=Ju(n,{relative:t});if(!e.isTransitioning)return!1;let o=mr(e.currentLocation.pathname,i)||e.currentLocation.pathname,l=mr(e.nextLocation.pathname,i)||e.nextLocation.pathname;return yd(r.pathname,l)!=null||yd(r.pathname,o)!=null}var Q2=YT();const J2=Fy(Q2);function Z2(n){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.appendChild(e),e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}const tD=n=>{switch(n){case"success":return iD;case"info":return rD;case"warning":return sD;case"error":return aD;default:return null}},eD=Array(12).fill(0),nD=({visible:n,className:t})=>pt.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":n},pt.createElement("div",{className:"sonner-spinner"},eD.map((e,i)=>pt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),iD=pt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),sD=pt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},pt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),rD=pt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),aD=pt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),oD=pt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},pt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),pt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),lD=()=>{const[n,t]=pt.useState(document.hidden);return pt.useEffect(()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),n};let iy=1;class cD{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;const{message:i,...r}=t,o=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:iy++,l=this.toasts.find(f=>f.id===o),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),l?this.toasts=this.toasts.map(f=>f.id===o?(this.publish({...f,...t,id:o,title:i}),{...f,...t,id:o,dismissible:u,title:i}):f):this.addToast({title:i,...r,dismissible:u,id:o}),o},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(e=>e({id:t,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(i=>i({id:e.id,dismiss:!0}))}),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let i;e.loading!==void 0&&(i=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));const r=Promise.resolve(t instanceof Function?t():t);let o=i!==void 0,l;const u=r.then(async d=>{if(l=["resolve",d],pt.isValidElement(d))o=!1,this.create({id:i,type:"default",message:d});else if(hD(d)&&!d.ok){o=!1;const g=typeof e.error=="function"?await e.error(`HTTP error! status: ${d.status}`):e.error,v=typeof e.description=="function"?await e.description(`HTTP error! status: ${d.status}`):e.description,w=typeof g=="object"&&!pt.isValidElement(g)?g:{message:g};this.create({id:i,type:"error",description:v,...w})}else if(d instanceof Error){o=!1;const g=typeof e.error=="function"?await e.error(d):e.error,v=typeof e.description=="function"?await e.description(d):e.description,w=typeof g=="object"&&!pt.isValidElement(g)?g:{message:g};this.create({id:i,type:"error",description:v,...w})}else if(e.success!==void 0){o=!1;const g=typeof e.success=="function"?await e.success(d):e.success,v=typeof e.description=="function"?await e.description(d):e.description,w=typeof g=="object"&&!pt.isValidElement(g)?g:{message:g};this.create({id:i,type:"success",description:v,...w})}}).catch(async d=>{if(l=["reject",d],e.error!==void 0){o=!1;const y=typeof e.error=="function"?await e.error(d):e.error,g=typeof e.description=="function"?await e.description(d):e.description,E=typeof y=="object"&&!pt.isValidElement(y)?y:{message:y};this.create({id:i,type:"error",description:g,...E})}}).finally(()=>{o&&(this.dismiss(i),i=void 0),e.finally==null||e.finally.call(e)}),f=()=>new Promise((d,y)=>u.then(()=>l[0]==="reject"?y(l[1]):d(l[1])).catch(y));return typeof i!="string"&&typeof i!="number"?{unwrap:f}:Object.assign(i,{unwrap:f})},this.custom=(t,e)=>{const i=e?.id||iy++;return this.create({jsx:t(i),id:i,...e}),i},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Kn=new cD,uD=(n,t)=>{const e=t?.id||iy++;return Kn.addToast({title:n,...t,id:e}),e},hD=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",fD=uD,dD=()=>Kn.toasts,pD=()=>Kn.getActiveToasts(),ce=Object.assign(fD,{success:Kn.success,info:Kn.info,warning:Kn.warning,error:Kn.error,custom:Kn.custom,message:Kn.message,promise:Kn.promise,dismiss:Kn.dismiss,loading:Kn.loading},{getHistory:dD,getToasts:pD});Z2("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Vf(n){return n.label!==void 0}const mD=3,gD="24px",yD="16px",Hx=4e3,_D=356,vD=14,bD=45,xD=200;function xs(...n){return n.filter(Boolean).join(" ")}function ED(n){const[t,e]=n.split("-"),i=[];return t&&i.push(t),e&&i.push(e),i}const SD=n=>{var t,e,i,r,o,l,u,f,d;const{invert:y,toast:g,unstyled:v,interacting:E,setHeights:w,visibleToasts:A,heights:C,index:O,toasts:j,expanded:z,removeToast:K,defaultRichColors:U,closeButton:Y,style:D,cancelButtonStyle:R,actionButtonStyle:M,className:L="",descriptionClassName:N="",duration:V,position:P,gap:yt,expandByDefault:_t,classNames:q,icons:$,closeButtonAriaLabel:lt="Close toast"}=n,[ft,mt]=pt.useState(null),[B,X]=pt.useState(null),[it,ct]=pt.useState(!1),[ht,bt]=pt.useState(!1),[It,Dt]=pt.useState(!1),[Pt,Kt]=pt.useState(!1),[Oe,Be]=pt.useState(!1),[pi,dn]=pt.useState(0),[Pa,Zi]=pt.useState(0),Ni=pt.useRef(g.duration||V||Hx),Sr=pt.useRef(null),ne=pt.useRef(null),Pe=O===0,ts=O+1<=A,pn=g.type,Oi=g.dismissible!==!1,mn=g.className||"",js=g.descriptionClassName||"",es=pt.useMemo(()=>C.findIndex(wt=>wt.toastId===g.id)||0,[C,g.id]),La=pt.useMemo(()=>{var wt;return(wt=g.closeButton)!=null?wt:Y},[g.closeButton,Y]),Pi=pt.useMemo(()=>g.duration||V||Hx,[g.duration,V]),Va=pt.useRef(0),Li=pt.useRef(0),ja=pt.useRef(0),Vi=pt.useRef(null),[ti,tn]=P.split("-"),Vn=pt.useMemo(()=>C.reduce((wt,ie,Fe)=>Fe>=es?wt:wt+ie.height,0),[C,es]),Ee=lD(),Vo=g.invert||y,ns=pn==="loading";Li.current=pt.useMemo(()=>es*yt+Vn,[es,Vn]),pt.useEffect(()=>{Ni.current=Pi},[Pi]),pt.useEffect(()=>{ct(!0)},[]),pt.useEffect(()=>{const wt=ne.current;if(wt){const ie=wt.getBoundingClientRect().height;return Zi(ie),w(Fe=>[{toastId:g.id,height:ie,position:g.position},...Fe]),()=>w(Fe=>Fe.filter(an=>an.toastId!==g.id))}},[w,g.id]),pt.useLayoutEffect(()=>{if(!it)return;const wt=ne.current,ie=wt.style.height;wt.style.height="auto";const Fe=wt.getBoundingClientRect().height;wt.style.height=ie,Zi(Fe),w(an=>an.find(ye=>ye.toastId===g.id)?an.map(ye=>ye.toastId===g.id?{...ye,height:Fe}:ye):[{toastId:g.id,height:Fe,position:g.position},...an])},[it,g.title,g.description,w,g.id,g.jsx,g.action,g.cancel]);const ei=pt.useCallback(()=>{bt(!0),dn(Li.current),w(wt=>wt.filter(ie=>ie.toastId!==g.id)),setTimeout(()=>{K(g)},xD)},[g,K,w,Li]);pt.useEffect(()=>{if(g.promise&&pn==="loading"||g.duration===1/0||g.type==="loading")return;let wt;return z||E||Ee?(()=>{if(ja.current<Va.current){const an=new Date().getTime()-Va.current;Ni.current=Ni.current-an}ja.current=new Date().getTime()})():(()=>{Ni.current!==1/0&&(Va.current=new Date().getTime(),wt=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),ei()},Ni.current))})(),()=>clearTimeout(wt)},[z,E,g,pn,Ee,ei]),pt.useEffect(()=>{g.delete&&(ei(),g.onDismiss==null||g.onDismiss.call(g,g))},[ei,g.delete]);function mi(){var wt;if($?.loading){var ie;return pt.createElement("div",{className:xs(q?.loader,g==null||(ie=g.classNames)==null?void 0:ie.loader,"sonner-loader"),"data-visible":pn==="loading"},$.loading)}return pt.createElement(nD,{className:xs(q?.loader,g==null||(wt=g.classNames)==null?void 0:wt.loader),visible:pn==="loading"})}const zs=g.icon||$?.[pn]||tD(pn);var Ce,ni;return pt.createElement("li",{tabIndex:0,ref:ne,className:xs(L,mn,q?.toast,g==null||(t=g.classNames)==null?void 0:t.toast,q?.default,q?.[pn],g==null||(e=g.classNames)==null?void 0:e[pn]),"data-sonner-toast":"","data-rich-colors":(Ce=g.richColors)!=null?Ce:U,"data-styled":!(g.jsx||g.unstyled||v),"data-mounted":it,"data-promise":!!g.promise,"data-swiped":Oe,"data-removed":ht,"data-visible":ts,"data-y-position":ti,"data-x-position":tn,"data-index":O,"data-front":Pe,"data-swiping":It,"data-dismissible":Oi,"data-type":pn,"data-invert":Vo,"data-swipe-out":Pt,"data-swipe-direction":B,"data-expanded":!!(z||_t&&it),"data-testid":g.testId,style:{"--index":O,"--toasts-before":O,"--z-index":j.length-O,"--offset":`${ht?pi:Li.current}px`,"--initial-height":_t?"auto":`${Pa}px`,...D,...g.style},onDragEnd:()=>{Dt(!1),mt(null),Vi.current=null},onPointerDown:wt=>{wt.button!==2&&(ns||!Oi||(Sr.current=new Date,dn(Li.current),wt.target.setPointerCapture(wt.pointerId),wt.target.tagName!=="BUTTON"&&(Dt(!0),Vi.current={x:wt.clientX,y:wt.clientY})))},onPointerUp:()=>{var wt,ie,Fe;if(Pt||!Oi)return;Vi.current=null;const an=Number(((wt=ne.current)==null?void 0:wt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),jn=Number(((ie=ne.current)==null?void 0:ie.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ye=new Date().getTime()-((Fe=Sr.current)==null?void 0:Fe.getTime()),Rn=ft==="x"?an:jn,gi=Math.abs(Rn)/ye;if(Math.abs(Rn)>=bD||gi>.11){dn(Li.current),g.onDismiss==null||g.onDismiss.call(g,g),X(ft==="x"?an>0?"right":"left":jn>0?"down":"up"),ei(),Kt(!0);return}else{var gn,yn;(gn=ne.current)==null||gn.style.setProperty("--swipe-amount-x","0px"),(yn=ne.current)==null||yn.style.setProperty("--swipe-amount-y","0px")}Be(!1),Dt(!1),mt(null)},onPointerMove:wt=>{var ie,Fe,an;if(!Vi.current||!Oi||((ie=window.getSelection())==null?void 0:ie.toString().length)>0)return;const ye=wt.clientY-Vi.current.y,Rn=wt.clientX-Vi.current.x;var gi;const gn=(gi=n.swipeDirections)!=null?gi:ED(P);!ft&&(Math.abs(Rn)>1||Math.abs(ye)>1)&&mt(Math.abs(Rn)>Math.abs(ye)?"x":"y");let yn={x:0,y:0};const is=_n=>1/(1.5+Math.abs(_n)/20);if(ft==="y"){if(gn.includes("top")||gn.includes("bottom"))if(gn.includes("top")&&ye<0||gn.includes("bottom")&&ye>0)yn.y=ye;else{const _n=ye*is(ye);yn.y=Math.abs(_n)<Math.abs(ye)?_n:ye}}else if(ft==="x"&&(gn.includes("left")||gn.includes("right")))if(gn.includes("left")&&Rn<0||gn.includes("right")&&Rn>0)yn.x=Rn;else{const _n=Rn*is(Rn);yn.x=Math.abs(_n)<Math.abs(Rn)?_n:Rn}(Math.abs(yn.x)>0||Math.abs(yn.y)>0)&&Be(!0),(Fe=ne.current)==null||Fe.style.setProperty("--swipe-amount-x",`${yn.x}px`),(an=ne.current)==null||an.style.setProperty("--swipe-amount-y",`${yn.y}px`)}},La&&!g.jsx&&pn!=="loading"?pt.createElement("button",{"aria-label":lt,"data-disabled":ns,"data-close-button":!0,onClick:ns||!Oi?()=>{}:()=>{ei(),g.onDismiss==null||g.onDismiss.call(g,g)},className:xs(q?.closeButton,g==null||(i=g.classNames)==null?void 0:i.closeButton)},(ni=$?.close)!=null?ni:oD):null,(pn||g.icon||g.promise)&&g.icon!==null&&($?.[pn]!==null||g.icon)?pt.createElement("div",{"data-icon":"",className:xs(q?.icon,g==null||(r=g.classNames)==null?void 0:r.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||mi():null,g.type!=="loading"?zs:null):null,pt.createElement("div",{"data-content":"",className:xs(q?.content,g==null||(o=g.classNames)==null?void 0:o.content)},pt.createElement("div",{"data-title":"",className:xs(q?.title,g==null||(l=g.classNames)==null?void 0:l.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?pt.createElement("div",{"data-description":"",className:xs(N,js,q?.description,g==null||(u=g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),pt.isValidElement(g.cancel)?g.cancel:g.cancel&&Vf(g.cancel)?pt.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||R,onClick:wt=>{Vf(g.cancel)&&Oi&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,wt),ei())},className:xs(q?.cancelButton,g==null||(f=g.classNames)==null?void 0:f.cancelButton)},g.cancel.label):null,pt.isValidElement(g.action)?g.action:g.action&&Vf(g.action)?pt.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||M,onClick:wt=>{Vf(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,wt),!wt.defaultPrevented&&ei())},className:xs(q?.actionButton,g==null||(d=g.classNames)==null?void 0:d.actionButton)},g.action.label):null)};function qx(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function TD(n,t){const e={};return[n,t].forEach((i,r)=>{const o=r===1,l=o?"--mobile-offset":"--offset",u=o?yD:gD;function f(d){["top","right","bottom","left"].forEach(y=>{e[`${l}-${y}`]=typeof d=="number"?`${d}px`:d})}typeof i=="number"||typeof i=="string"?f(i):typeof i=="object"?["top","right","bottom","left"].forEach(d=>{i[d]===void 0?e[`${l}-${d}`]=u:e[`${l}-${d}`]=typeof i[d]=="number"?`${i[d]}px`:i[d]}):f(u)}),e}const h1=pt.forwardRef(function(t,e){const{id:i,invert:r,position:o="bottom-right",hotkey:l=["altKey","KeyT"],expand:u,closeButton:f,className:d,offset:y,mobileOffset:g,theme:v="light",richColors:E,duration:w,style:A,visibleToasts:C=mD,toastOptions:O,dir:j=qx(),gap:z=vD,icons:K,containerAriaLabel:U="Notifications"}=t,[Y,D]=pt.useState([]),R=pt.useMemo(()=>i?Y.filter(it=>it.toasterId===i):Y.filter(it=>!it.toasterId),[Y,i]),M=pt.useMemo(()=>Array.from(new Set([o].concat(R.filter(it=>it.position).map(it=>it.position)))),[R,o]),[L,N]=pt.useState([]),[V,P]=pt.useState(!1),[yt,_t]=pt.useState(!1),[q,$]=pt.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),lt=pt.useRef(null),ft=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),mt=pt.useRef(null),B=pt.useRef(!1),X=pt.useCallback(it=>{D(ct=>{var ht;return(ht=ct.find(bt=>bt.id===it.id))!=null&&ht.delete||Kn.dismiss(it.id),ct.filter(({id:bt})=>bt!==it.id)})},[]);return pt.useEffect(()=>Kn.subscribe(it=>{if(it.dismiss){requestAnimationFrame(()=>{D(ct=>ct.map(ht=>ht.id===it.id?{...ht,delete:!0}:ht))});return}setTimeout(()=>{J2.flushSync(()=>{D(ct=>{const ht=ct.findIndex(bt=>bt.id===it.id);return ht!==-1?[...ct.slice(0,ht),{...ct[ht],...it},...ct.slice(ht+1)]:[it,...ct]})})})}),[Y]),pt.useEffect(()=>{if(v!=="system"){$(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window>"u")return;const it=window.matchMedia("(prefers-color-scheme: dark)");try{it.addEventListener("change",({matches:ct})=>{$(ct?"dark":"light")})}catch{it.addListener(({matches:ht})=>{try{$(ht?"dark":"light")}catch(bt){console.error(bt)}})}},[v]),pt.useEffect(()=>{Y.length<=1&&P(!1)},[Y]),pt.useEffect(()=>{const it=ct=>{var ht;if(l.every(Dt=>ct[Dt]||ct.code===Dt)){var It;P(!0),(It=lt.current)==null||It.focus()}ct.code==="Escape"&&(document.activeElement===lt.current||(ht=lt.current)!=null&&ht.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",it),()=>document.removeEventListener("keydown",it)},[l]),pt.useEffect(()=>{if(lt.current)return()=>{mt.current&&(mt.current.focus({preventScroll:!0}),mt.current=null,B.current=!1)}},[lt.current]),pt.createElement("section",{ref:e,"aria-label":`${U} ${ft}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},M.map((it,ct)=>{var ht;const[bt,It]=it.split("-");return R.length?pt.createElement("ol",{key:it,dir:j==="auto"?qx():j,tabIndex:-1,ref:lt,className:d,"data-sonner-toaster":!0,"data-sonner-theme":q,"data-y-position":bt,"data-x-position":It,style:{"--front-toast-height":`${((ht=L[0])==null?void 0:ht.height)||0}px`,"--width":`${_D}px`,"--gap":`${z}px`,...A,...TD(y,g)},onBlur:Dt=>{B.current&&!Dt.currentTarget.contains(Dt.relatedTarget)&&(B.current=!1,mt.current&&(mt.current.focus({preventScroll:!0}),mt.current=null))},onFocus:Dt=>{Dt.target instanceof HTMLElement&&Dt.target.dataset.dismissible==="false"||B.current||(B.current=!0,mt.current=Dt.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{yt||P(!1)},onDragEnd:()=>P(!1),onPointerDown:Dt=>{Dt.target instanceof HTMLElement&&Dt.target.dataset.dismissible==="false"||_t(!0)},onPointerUp:()=>_t(!1)},R.filter(Dt=>!Dt.position&&ct===0||Dt.position===it).map((Dt,Pt)=>{var Kt,Oe;return pt.createElement(SD,{key:Dt.id,icons:K,index:Pt,toast:Dt,defaultRichColors:E,duration:(Kt=O?.duration)!=null?Kt:w,className:O?.className,descriptionClassName:O?.descriptionClassName,invert:r,visibleToasts:C,closeButton:(Oe=O?.closeButton)!=null?Oe:f,interacting:yt,position:it,style:O?.style,unstyled:O?.unstyled,classNames:O?.classNames,cancelButtonStyle:O?.cancelButtonStyle,actionButtonStyle:O?.actionButtonStyle,closeButtonAriaLabel:O?.closeButtonAriaLabel,removeToast:X,toasts:R.filter(Be=>Be.position==Dt.position),heights:L.filter(Be=>Be.position==Dt.position),setHeights:N,expandByDefault:u,gap:z,expanded:V,swipeDirections:t.swipeDirections})})):null}))}),wD=()=>{};var Gx={};const f1=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},AD=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],l=n[e++],u=n[e++],f=((r&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],l=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|l&63)}}return t.join("")},d1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],l=r+1<n.length,u=l?n[r+1]:0,f=r+2<n.length,d=f?n[r+2]:0,y=o>>2,g=(o&3)<<4|u>>4;let v=(u&15)<<2|d>>6,E=d&63;f||(E=64,l||(v=64)),i.push(e[y],e[g],e[v],e[E])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(f1(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):AD(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],u=r<n.length?e[n.charAt(r)]:0;++r;const d=r<n.length?e[n.charAt(r)]:64;++r;const g=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||u==null||d==null||g==null)throw new RD;const v=o<<2|u>>4;if(i.push(v),d!==64){const E=u<<4&240|d>>2;if(i.push(E),g!==64){const w=d<<6&192|g;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class RD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CD=function(n){const t=f1(n);return d1.encodeByteArray(t,!0)},_d=function(n){return CD(n).replace(/\./g,"")},p1=function(n){try{return d1.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ID(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const DD=()=>ID().__FIREBASE_DEFAULTS__,MD=()=>{if(typeof process>"u"||typeof Gx>"u")return;const n=Gx.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},kD=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&p1(n[1]);return t&&JSON.parse(t)},Wd=()=>{try{return wD()||DD()||MD()||kD()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},m1=n=>Wd()?.emulatorHosts?.[n],ND=n=>{const t=m1(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},g1=()=>Wd()?.config,y1=n=>Wd()?.[`_${n}`];class OD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function Xl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _1(n){return(await fetch(n,{credentials:"include"})).ok}function PD(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[_d(JSON.stringify(e)),_d(JSON.stringify(l)),""].join(".")}const bu={};function LD(){const n={prod:[],emulator:[]};for(const t of Object.keys(bu))bu[t]?n.emulator.push(t):n.prod.push(t);return n}function VD(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Yx=!1;function v1(n,t){if(typeof window>"u"||typeof document>"u"||!Xl(window.location.host)||bu[n]===t||bu[n]||Yx)return;bu[n]=t;function e(v){return`__firebase__banner__${v}`}const i="__firebase__banner",o=LD().prod.length>0;function l(){const v=document.getElementById(i);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,E){v.setAttribute("width","24"),v.setAttribute("id",E),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Yx=!0,l()},v}function y(v,E){v.setAttribute("id",E),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=VD(i),E=e("text"),w=document.getElementById(E)||document.createElement("span"),A=e("learnmore"),C=document.getElementById(A)||document.createElement("a"),O=e("preprendIcon"),j=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const z=v.element;u(z),y(C,A);const K=d();f(j,O),z.append(j,w,C,K),document.body.appendChild(z)}o?(w.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function Pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pn())}function zD(){const n=Wd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BD(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function FD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HD(){const n=Pn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function qD(){return!zD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GD(){try{return typeof indexedDB=="object"}catch{return!1}}function YD(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}const WD="FirebaseError";class br extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=WD,Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zu.prototype.create)}}class Zu{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],l=o?$D(o,i):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new br(r,u,i)}}function $D(n,t){return n.replace(KD,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const KD=/\{\$([^}]+)}/g;function XD(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Eo(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],l=t[r];if(Wx(o)&&Wx(l)){if(!Eo(o,l))return!1}else if(o!==l)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function Wx(n){return n!==null&&typeof n=="object"}function th(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function uu(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function hu(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function QD(n,t){const e=new JD(n,t);return e.subscribe.bind(e)}class JD{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");ZD(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Cg),r.error===void 0&&(r.error=Cg),r.complete===void 0&&(r.complete=Cg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZD(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Cg(){}function rn(n){return n&&n._delegate?n._delegate:n}class So{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const po="[DEFAULT]";class tM{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new OD;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(nM(t))try{this.getOrInitializeService({instanceIdentifier:po})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=po){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=po){return this.instances.has(t)}getOptions(t=po){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&l.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:eM(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=po){return this.component?this.component.multipleInstances?t:po:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eM(n){return n===po?void 0:n}function nM(n){return n.instantiationMode==="EAGER"}class iM{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new tM(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var qt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(qt||(qt={}));const sM={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},rM=qt.INFO,aM={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},oM=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=aM[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Xy{constructor(t){this.name=t,this._logLevel=rM,this._logHandler=oM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?sM[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...t),this._logHandler(this,qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...t),this._logHandler(this,qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...t),this._logHandler(this,qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...t),this._logHandler(this,qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...t),this._logHandler(this,qt.ERROR,...t)}}const lM=(n,t)=>t.some(e=>n instanceof e);let $x,Kx;function cM(){return $x||($x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uM(){return Kx||(Kx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b1=new WeakMap,sy=new WeakMap,x1=new WeakMap,Ig=new WeakMap,Qy=new WeakMap;function hM(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{e(da(n.result)),r()},l=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",l)});return t.then(e=>{e instanceof IDBCursor&&b1.set(e,n)}).catch(()=>{}),Qy.set(t,n),t}function fM(n){if(sy.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{e(),r()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});sy.set(n,t)}let ry={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return sy.get(n);if(t==="objectStoreNames")return n.objectStoreNames||x1.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return da(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function dM(n){ry=n(ry)}function pM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Dg(this),t,...e);return x1.set(i,t.sort?t.sort():[t]),da(i)}:uM().includes(n)?function(...t){return n.apply(Dg(this),t),da(b1.get(this))}:function(...t){return da(n.apply(Dg(this),t))}}function mM(n){return typeof n=="function"?pM(n):(n instanceof IDBTransaction&&fM(n),lM(n,cM())?new Proxy(n,ry):n)}function da(n){if(n instanceof IDBRequest)return hM(n);if(Ig.has(n))return Ig.get(n);const t=mM(n);return t!==n&&(Ig.set(n,t),Qy.set(t,n)),t}const Dg=n=>Qy.get(n);function gM(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const l=indexedDB.open(n,t),u=da(l);return i&&l.addEventListener("upgradeneeded",f=>{i(da(l.result),f.oldVersion,f.newVersion,da(l.transaction),f)}),e&&l.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const yM=["get","getKey","getAll","getAllKeys","count"],_M=["put","add","delete","clear"],Mg=new Map;function Xx(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Mg.get(t))return Mg.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=_M.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||yM.includes(e)))return;const o=async function(l,...u){const f=this.transaction(l,r?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(u.shift())),(await Promise.all([d[e](...u),r&&f.done]))[0]};return Mg.set(t,o),o}dM(n=>({...n,get:(t,e,i)=>Xx(t,e)||n.get(t,e,i),has:(t,e)=>!!Xx(t,e)||n.has(t,e)}));class vM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(bM(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function bM(n){return n.getComponent()?.type==="VERSION"}const ay="@firebase/app",Qx="0.14.6";const gr=new Xy("@firebase/app"),xM="@firebase/app-compat",EM="@firebase/analytics-compat",SM="@firebase/analytics",TM="@firebase/app-check-compat",wM="@firebase/app-check",AM="@firebase/auth",RM="@firebase/auth-compat",CM="@firebase/database",IM="@firebase/data-connect",DM="@firebase/database-compat",MM="@firebase/functions",kM="@firebase/functions-compat",NM="@firebase/installations",OM="@firebase/installations-compat",PM="@firebase/messaging",LM="@firebase/messaging-compat",VM="@firebase/performance",jM="@firebase/performance-compat",zM="@firebase/remote-config",UM="@firebase/remote-config-compat",BM="@firebase/storage",FM="@firebase/storage-compat",HM="@firebase/firestore",qM="@firebase/ai",GM="@firebase/firestore-compat",YM="firebase",WM="12.6.0";const oy="[DEFAULT]",$M={[ay]:"fire-core",[xM]:"fire-core-compat",[SM]:"fire-analytics",[EM]:"fire-analytics-compat",[wM]:"fire-app-check",[TM]:"fire-app-check-compat",[AM]:"fire-auth",[RM]:"fire-auth-compat",[CM]:"fire-rtdb",[IM]:"fire-data-connect",[DM]:"fire-rtdb-compat",[MM]:"fire-fn",[kM]:"fire-fn-compat",[NM]:"fire-iid",[OM]:"fire-iid-compat",[PM]:"fire-fcm",[LM]:"fire-fcm-compat",[VM]:"fire-perf",[jM]:"fire-perf-compat",[zM]:"fire-rc",[UM]:"fire-rc-compat",[BM]:"fire-gcs",[FM]:"fire-gcs-compat",[HM]:"fire-fst",[GM]:"fire-fst-compat",[qM]:"fire-vertex","fire-js":"fire-js",[YM]:"fire-js-all"};const vd=new Map,KM=new Map,ly=new Map;function Jx(n,t){try{n.container.addComponent(t)}catch(e){gr.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Ll(n){const t=n.name;if(ly.has(t))return gr.debug(`There were multiple attempts to register component ${t}.`),!1;ly.set(t,n);for(const e of vd.values())Jx(e,n);for(const e of KM.values())Jx(e,n);return!0}function Jy(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Di(n){return n==null?!1:n.settings!==void 0}const XM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pa=new Zu("app","Firebase",XM);class QM{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new So("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw pa.create("app-deleted",{appName:this._name})}}const Ql=WM;function E1(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:oy,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw pa.create("bad-app-name",{appName:String(r)});if(e||(e=g1()),!e)throw pa.create("no-options");const o=vd.get(r);if(o){if(Eo(e,o.options)&&Eo(i,o.config))return o;throw pa.create("duplicate-app",{appName:r})}const l=new iM(r);for(const f of ly.values())l.addComponent(f);const u=new QM(e,i,l);return vd.set(r,u),u}function S1(n=oy){const t=vd.get(n);if(!t&&n===oy&&g1())return E1();if(!t)throw pa.create("no-app",{appName:n});return t}function ma(n,t,e){let i=$M[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const l=[`Unable to register library "${i}" with version "${t}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),gr.warn(l.join(" "));return}Ll(new So(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const JM="firebase-heartbeat-database",ZM=1,Mu="firebase-heartbeat-store";let kg=null;function T1(){return kg||(kg=gM(JM,ZM,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Mu)}catch(e){console.warn(e)}}}}).catch(n=>{throw pa.create("idb-open",{originalErrorMessage:n.message})})),kg}async function tk(n){try{const e=(await T1()).transaction(Mu),i=await e.objectStore(Mu).get(w1(n));return await e.done,i}catch(t){if(t instanceof br)gr.warn(t.message);else{const e=pa.create("idb-get",{originalErrorMessage:t?.message});gr.warn(e.message)}}}async function Zx(n,t){try{const i=(await T1()).transaction(Mu,"readwrite");await i.objectStore(Mu).put(t,w1(n)),await i.done}catch(e){if(e instanceof br)gr.warn(e.message);else{const i=pa.create("idb-set",{originalErrorMessage:e?.message});gr.warn(i.message)}}}function w1(n){return`${n.name}!${n.options.appId}`}const ek=1024,nk=30;class ik{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new rk(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=tE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>nk){const r=ak(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){gr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=tE(),{heartbeatsToSend:e,unsentEntries:i}=sk(this._heartbeatsCache.heartbeats),r=_d(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return gr.warn(t),""}}}function tE(){return new Date().toISOString().substring(0,10)}function sk(n,t=ek){const e=[];let i=n.slice();for(const r of n){const o=e.find(l=>l.agent===r.agent);if(o){if(o.dates.push(r.date),eE(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),eE(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class rk{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GD()?YD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await tk(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Zx(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Zx(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function eE(n){return _d(JSON.stringify({version:2,heartbeats:n})).length}function ak(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function ok(n){Ll(new So("platform-logger",t=>new vM(t),"PRIVATE")),Ll(new So("heartbeat",t=>new ik(t),"PRIVATE")),ma(ay,Qx,n),ma(ay,Qx,"esm2020"),ma("fire-js","")}ok("");function A1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lk=A1,R1=new Zu("auth","Firebase",A1());const bd=new Xy("@firebase/auth");function ck(n,...t){bd.logLevel<=qt.WARN&&bd.warn(`Auth (${Ql}): ${n}`,...t)}function rd(n,...t){bd.logLevel<=qt.ERROR&&bd.error(`Auth (${Ql}): ${n}`,...t)}function Qi(n,...t){throw Zy(n,...t)}function As(n,...t){return Zy(n,...t)}function C1(n,t,e){const i={...lk(),[t]:e};return new Zu("auth","Firebase",i).create(t,{appName:n.name})}function pr(n){return C1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zy(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return R1.create(n,...t)}function Rt(n,t,...e){if(!n)throw Zy(t,...e)}function lr(n){const t="INTERNAL ASSERTION FAILED: "+n;throw rd(t),new Error(t)}function yr(n,t){n||lr(t)}function cy(){return typeof self<"u"&&self.location?.href||""}function uk(){return nE()==="http:"||nE()==="https:"}function nE(){return typeof self<"u"&&self.location?.protocol||null}function hk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uk()||BD()||"connection"in navigator)?navigator.onLine:!0}function fk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class eh{constructor(t,e){this.shortDelay=t,this.longDelay=e,yr(e>t,"Short delay should be less than long delay!"),this.isMobile=jD()||FD()}get(){return hk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function t_(n,t){yr(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class I1{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const pk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mk=new eh(3e4,6e4);function Ia(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Da(n,t,e,i,r={}){return D1(n,r,async()=>{let o={},l={};i&&(t==="GET"?l=i:o={body:JSON.stringify(i)});const u=th({key:n.config.apiKey,...l}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:t,headers:f,...o};return UD()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Xl(n.emulatorConfig.host)&&(d.credentials="include"),I1.fetch()(await M1(n,n.config.apiHost,e,u),d)})}async function D1(n,t,e){n._canInitEmulator=!1;const i={...dk,...t};try{const r=new yk(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw jf(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[f,d]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw jf(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw jf(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw jf(n,"user-disabled",l);const y=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw C1(n,y,d);Qi(n,y)}}catch(r){if(r instanceof br)throw r;Qi(n,"network-request-failed",{message:String(r)})}}async function nh(n,t,e,i,r={}){const o=await Da(n,t,e,i,r);return"mfaPendingCredential"in o&&Qi(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function M1(n,t,e,i){const r=`${t}${e}?${i}`,o=n,l=o.config.emulator?t_(n.config,r):`${n.config.apiScheme}://${r}`;return pk.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function gk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(As(this.auth,"network-request-failed")),mk.get())})}}function jf(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=As(n,t,i);return r.customData._tokenResponse=e,r}function iE(n){return n!==void 0&&n.enterprise!==void 0}class _k{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return gk(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vk(n,t){return Da(n,"GET","/v2/recaptchaConfig",Ia(n,t))}async function bk(n,t){return Da(n,"POST","/v1/accounts:delete",t)}async function xd(n,t){return Da(n,"POST","/v1/accounts:lookup",t)}function xu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function xk(n,t=!1){const e=rn(n),i=await e.getIdToken(t),r=e_(i);Rt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,l=o?.sign_in_provider;return{claims:r,token:i,authTime:xu(Ng(r.auth_time)),issuedAtTime:xu(Ng(r.iat)),expirationTime:xu(Ng(r.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Ng(n){return Number(n)*1e3}function e_(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return rd("JWT malformed, contained fewer than 3 sections"),null;try{const r=p1(e);return r?JSON.parse(r):(rd("Failed to decode base64 JWT payload"),null)}catch(r){return rd("Caught error parsing JWT payload as JSON",r?.toString()),null}}function sE(n){const t=e_(n);return Rt(t,"internal-error"),Rt(typeof t.exp<"u","internal-error"),Rt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function ku(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof br&&Ek(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function Ek({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class Sk{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class uy{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=xu(this.lastLoginAt),this.creationTime=xu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ed(n){const t=n.auth,e=await n.getIdToken(),i=await ku(n,xd(t,{idToken:e}));Rt(i?.users.length,t,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?k1(r.providerUserInfo):[],l=wk(n.providerData,o),u=n.isAnonymous,f=!(n.email&&r.passwordHash)&&!l?.length,d=u?f:!1,y={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new uy(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(n,y)}async function Tk(n){const t=rn(n);await Ed(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function wk(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function k1(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function Ak(n,t){const e=await D1(n,{},async()=>{const i=th({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,l=await M1(n,r,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:i};return n.emulatorConfig&&Xl(n.emulatorConfig.host)&&(f.credentials="include"),I1.fetch()(l,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function Rk(n,t){return Da(n,"POST","/v2/accounts:revokeToken",Ia(n,t))}class Ml{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Rt(t.idToken,"internal-error"),Rt(typeof t.idToken<"u","internal-error"),Rt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):sE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Rt(t.length!==0,"internal-error");const e=sE(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Rt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await Ak(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,l=new Ml;return i&&(Rt(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),r&&(Rt(typeof r=="string","internal-error",{appName:t}),l.accessToken=r),o&&(Rt(typeof o=="number","internal-error",{appName:t}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ml,this.toJSON())}_performRefresh(){return lr("not implemented")}}function ea(n,t){Rt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class $i{constructor({uid:t,auth:e,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new Sk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new uy(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await ku(this,this.stsTokenManager.getToken(this.auth,t));return Rt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return xk(this,t)}reload(){return Tk(this)}_assign(t){this!==t&&(Rt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new $i({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Ed(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Di(this.auth.app))return Promise.reject(pr(this.auth));const t=await this.getIdToken();return await ku(this,bk(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,r=e.email??void 0,o=e.phoneNumber??void 0,l=e.photoURL??void 0,u=e.tenantId??void 0,f=e._redirectEventId??void 0,d=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:g,emailVerified:v,isAnonymous:E,providerData:w,stsTokenManager:A}=e;Rt(g&&A,t,"internal-error");const C=Ml.fromJSON(this.name,A);Rt(typeof g=="string",t,"internal-error"),ea(i,t.name),ea(r,t.name),Rt(typeof v=="boolean",t,"internal-error"),Rt(typeof E=="boolean",t,"internal-error"),ea(o,t.name),ea(l,t.name),ea(u,t.name),ea(f,t.name),ea(d,t.name),ea(y,t.name);const O=new $i({uid:g,auth:t,email:r,emailVerified:v,displayName:i,isAnonymous:E,photoURL:l,phoneNumber:o,tenantId:u,stsTokenManager:C,createdAt:d,lastLoginAt:y});return w&&Array.isArray(w)&&(O.providerData=w.map(j=>({...j}))),f&&(O._redirectEventId=f),O}static async _fromIdTokenResponse(t,e,i=!1){const r=new Ml;r.updateFromServerResponse(e);const o=new $i({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Ed(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];Rt(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?k1(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!o?.length,u=new Ml;u.updateFromIdToken(i);const f=new $i({uid:r.localId,auth:t,stsTokenManager:u,isAnonymous:l}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new uy(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(f,d),f}}const rE=new Map;function cr(n){yr(n instanceof Function,"Expected a class definition");let t=rE.get(n);return t?(yr(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,rE.set(n,t),t)}class N1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}N1.type="NONE";const aE=N1;function ad(n,t,e){return`firebase:${n}:${t}:${e}`}class kl{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=ad(this.userKey,r.apiKey,o),this.fullPersistenceKey=ad("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await xd(this.auth,{idToken:t}).catch(()=>{});return e?$i._fromGetAccountInfoResponse(this.auth,e,t):null}return $i._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new kl(cr(aE),t,i);const r=(await Promise.all(e.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=r[0]||cr(aE);const l=ad(i,t.config.apiKey,t.name);let u=null;for(const d of e)try{const y=await d._get(l);if(y){let g;if(typeof y=="string"){const v=await xd(t,{idToken:y}).catch(()=>{});if(!v)break;g=await $i._fromGetAccountInfoResponse(t,v,y)}else g=$i._fromJSON(t,y);d!==o&&(u=g),o=d;break}}catch{}const f=r.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new kl(o,t,i):(o=f[0],u&&await o._set(l,u.toJSON()),await Promise.all(e.map(async d=>{if(d!==o)try{await d._remove(l)}catch{}})),new kl(o,t,i))}}function oE(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(V1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(O1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(z1(t))return"Blackberry";if(U1(t))return"Webos";if(P1(t))return"Safari";if((t.includes("chrome/")||L1(t))&&!t.includes("edge/"))return"Chrome";if(j1(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function O1(n=Pn()){return/firefox\//i.test(n)}function P1(n=Pn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function L1(n=Pn()){return/crios\//i.test(n)}function V1(n=Pn()){return/iemobile/i.test(n)}function j1(n=Pn()){return/android/i.test(n)}function z1(n=Pn()){return/blackberry/i.test(n)}function U1(n=Pn()){return/webos/i.test(n)}function n_(n=Pn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Ck(n=Pn()){return n_(n)&&!!window.navigator?.standalone}function Ik(){return HD()&&document.documentMode===10}function B1(n=Pn()){return n_(n)||j1(n)||U1(n)||z1(n)||/windows phone/i.test(n)||V1(n)}function F1(n,t=[]){let e;switch(n){case"Browser":e=oE(Pn());break;case"Worker":e=`${oE(Pn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ql}/${i}`}class Dk{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((l,u)=>{try{const f=t(o);l(f)}catch(f){u(f)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function Mk(n,t={}){return Da(n,"GET","/v2/passwordPolicy",Ia(n,t))}const kk=6;class Nk{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??kk,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class Ok{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lE(this),this.idTokenSubscription=new lE(this),this.beforeStateQueue=new Dk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=R1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=cr(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await kl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await xd(this,{idToken:t}),i=await $i._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Di(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=i?._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===l)&&u?.user&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Ed(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=fk()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Di(this.app))return Promise.reject(pr(this));const e=t?rn(t):null;return e&&Rt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Rt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Di(this.app)?Promise.reject(pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Di(this.app)?Promise.reject(pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Mk(this),e=new Nk(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Zu("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await Rk(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&cr(t)||this._popupRedirectResolver;Rt(e,this,"argument-error"),this.redirectPersistenceManager=await kl.create(this,[cr(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Rt(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,r);return()=>{l=!0,f()}}else{const f=t.addObserver(e);return()=>{l=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=F1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(Di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&ck(`Error while retrieving App Check token: ${t.error}`),t?.token}}function No(n){return rn(n)}class lE{constructor(t){this.auth=t,this.observer=null,this.addObserver=QD(e=>this.observer=e)}get next(){return Rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let $d={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Pk(n){$d=n}function H1(n){return $d.loadJS(n)}function Lk(){return $d.recaptchaEnterpriseScript}function Vk(){return $d.gapiScript}function jk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class zk{constructor(){this.enterprise=new Uk}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class Uk{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const Bk="recaptcha-enterprise",q1="NO_RECAPTCHA";class Fk{constructor(t){this.type=Bk,this.auth=No(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{vk(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new _k(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,l(d.siteKey)}}).catch(f=>{u(f)})})}function r(o,l,u){const f=window.grecaptcha;iE(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(d=>{l(d)}).catch(()=>{l(q1)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zk().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{i(this.auth).then(u=>{if(!e&&iE(window.grecaptcha))r(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=Lk();f.length!==0&&(f+=u),H1(f).then(()=>{r(u,o,l)}).catch(d=>{l(d)})}}).catch(u=>{l(u)})})}}async function cE(n,t,e,i=!1,r=!1){const o=new Fk(n);let l;if(r)l=q1;else try{l=await o.verify(e)}catch{l=await o.verify(e,!0)}const u={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function hy(n,t,e,i,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await cE(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await cE(n,t,e,e==="getOobCode");return i(n,l)}else return Promise.reject(o)})}function Hk(n,t){const e=Jy(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(Eo(o,t??{}))return r;Qi(r,"already-initialized")}return e.initialize({options:t})}function qk(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(cr);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function Gk(n,t,e){const i=No(n);Rt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=G1(t),{host:l,port:u}=Yk(t),f=u===null?"":`:${u}`,d={url:`${o}//${l}${f}/`},y=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Rt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Rt(Eo(d,i.config.emulator)&&Eo(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Xl(l)?(_1(`${o}//${l}${f}`),v1("Auth",!0)):Wk()}function G1(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function Yk(n){const t=G1(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:uE(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:uE(l)}}}function uE(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function Wk(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class i_{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return lr("not implemented")}_getIdTokenResponse(t){return lr("not implemented")}_linkToIdToken(t,e){return lr("not implemented")}_getReauthenticationResolver(t){return lr("not implemented")}}async function $k(n,t){return Da(n,"POST","/v1/accounts:signUp",t)}async function Kk(n,t){return nh(n,"POST","/v1/accounts:signInWithPassword",Ia(n,t))}async function Xk(n,t){return nh(n,"POST","/v1/accounts:signInWithEmailLink",Ia(n,t))}async function Qk(n,t){return nh(n,"POST","/v1/accounts:signInWithEmailLink",Ia(n,t))}class Nu extends i_{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Nu(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Nu(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hy(t,e,"signInWithPassword",Kk);case"emailLink":return Xk(t,{email:this._email,oobCode:this._password});default:Qi(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hy(t,i,"signUpPassword",$k);case"emailLink":return Qk(t,{idToken:e,email:this._email,oobCode:this._password});default:Qi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Nl(n,t){return nh(n,"POST","/v1/accounts:signInWithIdp",Ia(n,t))}const Jk="http://localhost";class To extends i_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new To(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Qi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...o}=e;if(!i||!r)return null;const l=new To(i,r);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(t){const e=this.buildRequest();return Nl(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Nl(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Nl(t,e)}buildRequest(){const t={requestUri:Jk,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=th(e)}return t}}function Zk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tN(n){const t=uu(hu(n)).link,e=t?uu(hu(t)).deep_link_id:null,i=uu(hu(n)).deep_link_id;return(i?uu(hu(i)).link:null)||i||e||t||n}class s_{constructor(t){const e=uu(hu(t)),i=e.apiKey??null,r=e.oobCode??null,o=Zk(e.mode??null);Rt(i&&r&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=r,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=tN(t);try{return new s_(e)}catch{return null}}}class Jl{constructor(){this.providerId=Jl.PROVIDER_ID}static credential(t,e){return Nu._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=s_.parseLink(e);return Rt(i,"argument-error"),Nu._fromEmailAndCode(t,i.code,i.tenantId)}}Jl.PROVIDER_ID="password";Jl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Y1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ih extends Y1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ia extends ih{constructor(){super("facebook.com")}static credential(t){return To._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ia.credentialFromTaggedObject(t)}static credentialFromError(t){return ia.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ia.credential(t.oauthAccessToken)}catch{return null}}}ia.FACEBOOK_SIGN_IN_METHOD="facebook.com";ia.PROVIDER_ID="facebook.com";class sa extends ih{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return To._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return sa.credentialFromTaggedObject(t)}static credentialFromError(t){return sa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return sa.credential(e,i)}catch{return null}}}sa.GOOGLE_SIGN_IN_METHOD="google.com";sa.PROVIDER_ID="google.com";class ra extends ih{constructor(){super("github.com")}static credential(t){return To._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ra.credentialFromTaggedObject(t)}static credentialFromError(t){return ra.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ra.credential(t.oauthAccessToken)}catch{return null}}}ra.GITHUB_SIGN_IN_METHOD="github.com";ra.PROVIDER_ID="github.com";class aa extends ih{constructor(){super("twitter.com")}static credential(t,e){return To._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return aa.credentialFromTaggedObject(t)}static credentialFromError(t){return aa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return aa.credential(e,i)}catch{return null}}}aa.TWITTER_SIGN_IN_METHOD="twitter.com";aa.PROVIDER_ID="twitter.com";async function eN(n,t){return nh(n,"POST","/v1/accounts:signUp",Ia(n,t))}class wo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await $i._fromIdTokenResponse(t,i,r),l=hE(i);return new wo({user:o,providerId:l,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=hE(i);return new wo({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function hE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Sd extends br{constructor(t,e,i,r){super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Sd.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new Sd(t,e,i,r)}}function W1(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Sd._fromErrorAndOperation(n,o,t,i):o})}async function nN(n,t,e=!1){const i=await ku(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return wo._forOperation(n,"link",i)}async function iN(n,t,e=!1){const{auth:i}=n;if(Di(i.app))return Promise.reject(pr(i));const r="reauthenticate";try{const o=await ku(n,W1(i,r,t,n),e);Rt(o.idToken,i,"internal-error");const l=e_(o.idToken);Rt(l,i,"internal-error");const{sub:u}=l;return Rt(n.uid===u,i,"user-mismatch"),wo._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Qi(i,"user-mismatch"),o}}async function $1(n,t,e=!1){if(Di(n.app))return Promise.reject(pr(n));const i="signIn",r=await W1(n,i,t),o=await wo._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function sN(n,t){return $1(No(n),t)}async function K1(n){const t=No(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function rN(n,t,e){if(Di(n.app))return Promise.reject(pr(n));const i=No(n),l=await hy(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eN).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&K1(n),f}),u=await wo._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(u.user),u}function fE(n,t,e){return Di(n.app)?Promise.reject(pr(n)):sN(rn(n),Jl.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&K1(n),i})}function aN(n,t,e,i){return rn(n).onIdTokenChanged(t,e,i)}function oN(n,t,e){return rn(n).beforeAuthStateChanged(t,e)}const Td="__sak";class X1{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Td,"1"),this.storage.removeItem(Td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const lN=1e3,cN=10;class Q1 extends X1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=B1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!e&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);Ik()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,cN):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},lN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Q1.type="LOCAL";const uN=Q1;class J1 extends X1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}J1.type="SESSION";const Z1=J1;function hN(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class Kd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new Kd(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,l=this.handlersMap[r];if(!l?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(l).map(async d=>d(e.origin,o)),f=await hN(u);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kd.receivers=[];function r_(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}class fN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,l;return new Promise((u,f)=>{const d=r_("",20);r.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(g){const v=g;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(v.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:d,data:e},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Rs(){return window}function dN(n){Rs().location.href=n}function tw(){return typeof Rs().WorkerGlobalScope<"u"&&typeof Rs().importScripts=="function"}async function pN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mN(){return navigator?.serviceWorker?.controller||null}function gN(){return tw()?self:null}const ew="firebaseLocalStorageDb",yN=1,wd="firebaseLocalStorage",nw="fbase_key";class sh{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Xd(n,t){return n.transaction([wd],t?"readwrite":"readonly").objectStore(wd)}function _N(){const n=indexedDB.deleteDatabase(ew);return new sh(n).toPromise()}function fy(){const n=indexedDB.open(ew,yN);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(wd,{keyPath:nw})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(wd)?t(i):(i.close(),await _N(),t(await fy()))})})}async function dE(n,t,e){const i=Xd(n,!0).put({[nw]:t,value:e});return new sh(i).toPromise()}async function vN(n,t){const e=Xd(n,!1).get(t),i=await new sh(e).toPromise();return i===void 0?null:i.value}function pE(n,t){const e=Xd(n,!0).delete(t);return new sh(e).toPromise()}const bN=800,xN=3;class iw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fy(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>xN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kd._getInstance(gN()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pN(),!this.activeServiceWorker)return;this.sender=new fN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||mN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await fy();return await dE(t,Td,"1"),await pE(t,Td),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>dE(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>vN(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>pE(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=Xd(r,!1).getAll();return new sh(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iw.type="LOCAL";const EN=iw;new eh(3e4,6e4);function SN(n,t){return t?cr(t):(Rt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class a_ extends i_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Nl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Nl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Nl(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function TN(n){return $1(n.auth,new a_(n),n.bypassAuthState)}function wN(n){const{auth:t,user:e}=n;return Rt(e,t,"internal-error"),iN(e,new a_(n),n.bypassAuthState)}async function AN(n){const{auth:t,user:e}=n;return Rt(e,t,"internal-error"),nN(e,new a_(n),n.bypassAuthState)}class sw{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:l,type:u}=t;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return TN;case"linkViaPopup":case"linkViaRedirect":return AN;case"reauthViaPopup":case"reauthViaRedirect":return wN;default:Qi(this.auth,"internal-error")}}resolve(t){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const RN=new eh(2e3,1e4);class Dl extends sw{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Dl.currentPopupAction&&Dl.currentPopupAction.cancel(),Dl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Rt(t,this.auth,"internal-error"),t}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const t=r_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(As(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(As(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Dl.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(As(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,RN.get())};t()}}Dl.currentPopupAction=null;const CN="pendingRedirect",od=new Map;class IN extends sw{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=od.get(this.auth._key());if(!t){try{const i=await DN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}od.set(this.auth._key(),t)}return this.bypassAuthState||od.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DN(n,t){const e=NN(t),i=kN(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function MN(n,t){od.set(n._key(),t)}function kN(n){return cr(n._redirectPersistence)}function NN(n){return ad(CN,n.config.apiKey,n.name)}async function ON(n,t,e=!1){if(Di(n.app))return Promise.reject(pr(n));const i=No(n),r=SN(i,t),l=await new IN(i,r,e).execute();return l&&!e&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}const PN=600*1e3;class LN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!VN(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!rw(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(As(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=PN&&this.cachedEventUids.clear(),this.cachedEventUids.has(mE(t))}saveEventToCache(t){this.cachedEventUids.add(mE(t)),this.lastProcessedEventTime=Date.now()}}function mE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function rw({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function VN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rw(n);default:return!1}}async function jN(n,t={}){return Da(n,"GET","/v1/projects",t)}const zN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UN=/^https?/;async function BN(n){if(n.config.emulator)return;const{authorizedDomains:t}=await jN(n);for(const e of t)try{if(FN(e))return}catch{}Qi(n,"unauthorized-domain")}function FN(n){const t=cy(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&l.hostname===i}if(!UN.test(e))return!1;if(zN.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const HN=new eh(3e4,6e4);function gE(){const n=Rs().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function qN(n){return new Promise((t,e)=>{function i(){gE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{gE(),e(As(n,"network-request-failed"))},timeout:HN.get()})}if(Rs().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Rs().gapi?.load)i();else{const r=jk("iframefcb");return Rs()[r]=()=>{gapi.load?i():e(As(n,"network-request-failed"))},H1(`${Vk()}?onload=${r}`).catch(o=>e(o))}}).catch(t=>{throw ld=null,t})}let ld=null;function GN(n){return ld=ld||qN(n),ld}const YN=new eh(5e3,15e3),WN="__/auth/iframe",$N="emulator/auth/iframe",KN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QN(n){const t=n.config;Rt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?t_(t,$N):`https://${n.config.authDomain}/${WN}`,i={apiKey:t.apiKey,appName:n.name,v:Ql},r=XN.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${th(i).slice(1)}`}async function JN(n){const t=await GN(n),e=Rs().gapi;return Rt(e,n,"internal-error"),t.open({where:document.body,url:QN(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KN,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const l=As(n,"network-request-failed"),u=Rs().setTimeout(()=>{o(l)},YN.get());function f(){Rs().clearTimeout(u),r(i)}i.ping(f).then(f,()=>{o(l)})}))}const ZN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tO=500,eO=600,nO="_blank",iO="http://localhost";class yE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sO(n,t,e,i=tO,r=eO){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const f={...ZN,width:i.toString(),height:r.toString(),top:o,left:l},d=Pn().toLowerCase();e&&(u=L1(d)?nO:e),O1(d)&&(t=t||iO,f.scrollbars="yes");const y=Object.entries(f).reduce((v,[E,w])=>`${v}${E}=${w},`,"");if(Ck(d)&&u!=="_self")return rO(t||"",u),new yE(null);const g=window.open(t||"",u,y);Rt(g,n,"popup-blocked");try{g.focus()}catch{}return new yE(g)}function rO(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}const aO="__/auth/handler",oO="emulator/auth/handler",lO=encodeURIComponent("fac");async function _E(n,t,e,i,r,o){Rt(n.config.authDomain,n,"auth-domain-config-required"),Rt(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Ql,eventId:r};if(t instanceof Y1){t.setDefaultLanguage(n.languageCode),l.providerId=t.providerId||"",XD(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,g]of Object.entries({}))l[y]=g}if(t instanceof ih){const y=t.getScopes().filter(g=>g!=="");y.length>0&&(l.scopes=y.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const y of Object.keys(u))u[y]===void 0&&delete u[y];const f=await n._getAppCheckToken(),d=f?`#${lO}=${encodeURIComponent(f)}`:"";return`${cO(n)}?${th(u).slice(1)}${d}`}function cO({config:n}){return n.emulator?t_(n,oO):`https://${n.authDomain}/${aO}`}const Og="webStorageSupport";class uO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Z1,this._completeRedirectFn=ON,this._overrideRedirectResult=MN}async _openPopup(t,e,i,r){yr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await _E(t,e,i,cy(),r);return sO(t,o,r_())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await _E(t,e,i,cy(),r);return dN(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(yr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await JN(t),i=new LN(t);return e.register("authEvent",r=>(Rt(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Og,{type:Og},r=>{const o=r?.[0]?.[Og];o!==void 0&&e(!!o),Qi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=BN(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return B1()||P1()||n_()}}const hO=uO;var vE="@firebase/auth",bE="1.11.1";class fO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function dO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pO(n){Ll(new So("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;Rt(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F1(n)},d=new Ok(i,r,o,f);return qk(d,e),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Ll(new So("auth-internal",t=>{const e=No(t.getProvider("auth").getImmediate());return(i=>new fO(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),ma(vE,bE,dO(n)),ma(vE,bE,"esm2020")}const mO=300,gO=y1("authIdTokenMaxAge")||mO;let xE=null;const yO=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>gO)return;const r=e?.token;xE!==r&&(xE=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function _O(n=S1()){const t=Jy(n,"auth");if(t.isInitialized())return t.getImmediate();const e=Hk(n,{popupRedirectResolver:hO,persistence:[EN,uN,Z1]}),i=y1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=yO(o.toString());oN(e,l,()=>l(e.currentUser)),aN(e,u=>l(u))}}const r=m1("auth");return r&&Gk(e,`http://${r}`),e}function vO(){return document.getElementsByTagName("head")?.[0]??document}Pk({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=As("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",vO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pO("Browser");var bO="firebase",xO="12.6.0";ma(bO,xO,"app");var EE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ga,aw;(function(){var n;function t(D,R){function M(){}M.prototype=R.prototype,D.F=R.prototype,D.prototype=new M,D.prototype.constructor=D,D.D=function(L,N,V){for(var P=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)P[yt-2]=arguments[yt];return R.prototype[N].apply(L,P)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(D,R,M){M||(M=0);const L=Array(16);if(typeof R=="string")for(var N=0;N<16;++N)L[N]=R.charCodeAt(M++)|R.charCodeAt(M++)<<8|R.charCodeAt(M++)<<16|R.charCodeAt(M++)<<24;else for(N=0;N<16;++N)L[N]=R[M++]|R[M++]<<8|R[M++]<<16|R[M++]<<24;R=D.g[0],M=D.g[1],N=D.g[2];let V=D.g[3],P;P=R+(V^M&(N^V))+L[0]+3614090360&4294967295,R=M+(P<<7&4294967295|P>>>25),P=V+(N^R&(M^N))+L[1]+3905402710&4294967295,V=R+(P<<12&4294967295|P>>>20),P=N+(M^V&(R^M))+L[2]+606105819&4294967295,N=V+(P<<17&4294967295|P>>>15),P=M+(R^N&(V^R))+L[3]+3250441966&4294967295,M=N+(P<<22&4294967295|P>>>10),P=R+(V^M&(N^V))+L[4]+4118548399&4294967295,R=M+(P<<7&4294967295|P>>>25),P=V+(N^R&(M^N))+L[5]+1200080426&4294967295,V=R+(P<<12&4294967295|P>>>20),P=N+(M^V&(R^M))+L[6]+2821735955&4294967295,N=V+(P<<17&4294967295|P>>>15),P=M+(R^N&(V^R))+L[7]+4249261313&4294967295,M=N+(P<<22&4294967295|P>>>10),P=R+(V^M&(N^V))+L[8]+1770035416&4294967295,R=M+(P<<7&4294967295|P>>>25),P=V+(N^R&(M^N))+L[9]+2336552879&4294967295,V=R+(P<<12&4294967295|P>>>20),P=N+(M^V&(R^M))+L[10]+4294925233&4294967295,N=V+(P<<17&4294967295|P>>>15),P=M+(R^N&(V^R))+L[11]+2304563134&4294967295,M=N+(P<<22&4294967295|P>>>10),P=R+(V^M&(N^V))+L[12]+1804603682&4294967295,R=M+(P<<7&4294967295|P>>>25),P=V+(N^R&(M^N))+L[13]+4254626195&4294967295,V=R+(P<<12&4294967295|P>>>20),P=N+(M^V&(R^M))+L[14]+2792965006&4294967295,N=V+(P<<17&4294967295|P>>>15),P=M+(R^N&(V^R))+L[15]+1236535329&4294967295,M=N+(P<<22&4294967295|P>>>10),P=R+(N^V&(M^N))+L[1]+4129170786&4294967295,R=M+(P<<5&4294967295|P>>>27),P=V+(M^N&(R^M))+L[6]+3225465664&4294967295,V=R+(P<<9&4294967295|P>>>23),P=N+(R^M&(V^R))+L[11]+643717713&4294967295,N=V+(P<<14&4294967295|P>>>18),P=M+(V^R&(N^V))+L[0]+3921069994&4294967295,M=N+(P<<20&4294967295|P>>>12),P=R+(N^V&(M^N))+L[5]+3593408605&4294967295,R=M+(P<<5&4294967295|P>>>27),P=V+(M^N&(R^M))+L[10]+38016083&4294967295,V=R+(P<<9&4294967295|P>>>23),P=N+(R^M&(V^R))+L[15]+3634488961&4294967295,N=V+(P<<14&4294967295|P>>>18),P=M+(V^R&(N^V))+L[4]+3889429448&4294967295,M=N+(P<<20&4294967295|P>>>12),P=R+(N^V&(M^N))+L[9]+568446438&4294967295,R=M+(P<<5&4294967295|P>>>27),P=V+(M^N&(R^M))+L[14]+3275163606&4294967295,V=R+(P<<9&4294967295|P>>>23),P=N+(R^M&(V^R))+L[3]+4107603335&4294967295,N=V+(P<<14&4294967295|P>>>18),P=M+(V^R&(N^V))+L[8]+1163531501&4294967295,M=N+(P<<20&4294967295|P>>>12),P=R+(N^V&(M^N))+L[13]+2850285829&4294967295,R=M+(P<<5&4294967295|P>>>27),P=V+(M^N&(R^M))+L[2]+4243563512&4294967295,V=R+(P<<9&4294967295|P>>>23),P=N+(R^M&(V^R))+L[7]+1735328473&4294967295,N=V+(P<<14&4294967295|P>>>18),P=M+(V^R&(N^V))+L[12]+2368359562&4294967295,M=N+(P<<20&4294967295|P>>>12),P=R+(M^N^V)+L[5]+4294588738&4294967295,R=M+(P<<4&4294967295|P>>>28),P=V+(R^M^N)+L[8]+2272392833&4294967295,V=R+(P<<11&4294967295|P>>>21),P=N+(V^R^M)+L[11]+1839030562&4294967295,N=V+(P<<16&4294967295|P>>>16),P=M+(N^V^R)+L[14]+4259657740&4294967295,M=N+(P<<23&4294967295|P>>>9),P=R+(M^N^V)+L[1]+2763975236&4294967295,R=M+(P<<4&4294967295|P>>>28),P=V+(R^M^N)+L[4]+1272893353&4294967295,V=R+(P<<11&4294967295|P>>>21),P=N+(V^R^M)+L[7]+4139469664&4294967295,N=V+(P<<16&4294967295|P>>>16),P=M+(N^V^R)+L[10]+3200236656&4294967295,M=N+(P<<23&4294967295|P>>>9),P=R+(M^N^V)+L[13]+681279174&4294967295,R=M+(P<<4&4294967295|P>>>28),P=V+(R^M^N)+L[0]+3936430074&4294967295,V=R+(P<<11&4294967295|P>>>21),P=N+(V^R^M)+L[3]+3572445317&4294967295,N=V+(P<<16&4294967295|P>>>16),P=M+(N^V^R)+L[6]+76029189&4294967295,M=N+(P<<23&4294967295|P>>>9),P=R+(M^N^V)+L[9]+3654602809&4294967295,R=M+(P<<4&4294967295|P>>>28),P=V+(R^M^N)+L[12]+3873151461&4294967295,V=R+(P<<11&4294967295|P>>>21),P=N+(V^R^M)+L[15]+530742520&4294967295,N=V+(P<<16&4294967295|P>>>16),P=M+(N^V^R)+L[2]+3299628645&4294967295,M=N+(P<<23&4294967295|P>>>9),P=R+(N^(M|~V))+L[0]+4096336452&4294967295,R=M+(P<<6&4294967295|P>>>26),P=V+(M^(R|~N))+L[7]+1126891415&4294967295,V=R+(P<<10&4294967295|P>>>22),P=N+(R^(V|~M))+L[14]+2878612391&4294967295,N=V+(P<<15&4294967295|P>>>17),P=M+(V^(N|~R))+L[5]+4237533241&4294967295,M=N+(P<<21&4294967295|P>>>11),P=R+(N^(M|~V))+L[12]+1700485571&4294967295,R=M+(P<<6&4294967295|P>>>26),P=V+(M^(R|~N))+L[3]+2399980690&4294967295,V=R+(P<<10&4294967295|P>>>22),P=N+(R^(V|~M))+L[10]+4293915773&4294967295,N=V+(P<<15&4294967295|P>>>17),P=M+(V^(N|~R))+L[1]+2240044497&4294967295,M=N+(P<<21&4294967295|P>>>11),P=R+(N^(M|~V))+L[8]+1873313359&4294967295,R=M+(P<<6&4294967295|P>>>26),P=V+(M^(R|~N))+L[15]+4264355552&4294967295,V=R+(P<<10&4294967295|P>>>22),P=N+(R^(V|~M))+L[6]+2734768916&4294967295,N=V+(P<<15&4294967295|P>>>17),P=M+(V^(N|~R))+L[13]+1309151649&4294967295,M=N+(P<<21&4294967295|P>>>11),P=R+(N^(M|~V))+L[4]+4149444226&4294967295,R=M+(P<<6&4294967295|P>>>26),P=V+(M^(R|~N))+L[11]+3174756917&4294967295,V=R+(P<<10&4294967295|P>>>22),P=N+(R^(V|~M))+L[2]+718787259&4294967295,N=V+(P<<15&4294967295|P>>>17),P=M+(V^(N|~R))+L[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(N+(P<<21&4294967295|P>>>11))&4294967295,D.g[2]=D.g[2]+N&4294967295,D.g[3]=D.g[3]+V&4294967295}i.prototype.v=function(D,R){R===void 0&&(R=D.length);const M=R-this.blockSize,L=this.C;let N=this.h,V=0;for(;V<R;){if(N==0)for(;V<=M;)r(this,D,V),V+=this.blockSize;if(typeof D=="string"){for(;V<R;)if(L[N++]=D.charCodeAt(V++),N==this.blockSize){r(this,L),N=0;break}}else for(;V<R;)if(L[N++]=D[V++],N==this.blockSize){r(this,L),N=0;break}}this.h=N,this.o+=R},i.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;R=this.o*8;for(var M=D.length-8;M<D.length;++M)D[M]=R&255,R/=256;for(this.v(D),D=Array(16),R=0,M=0;M<4;++M)for(let L=0;L<32;L+=8)D[R++]=this.g[M]>>>L&255;return D};function o(D,R){var M=u;return Object.prototype.hasOwnProperty.call(M,D)?M[D]:M[D]=R(D)}function l(D,R){this.h=R;const M=[];let L=!0;for(let N=D.length-1;N>=0;N--){const V=D[N]|0;L&&V==R||(M[N]=V,L=!1)}this.g=M}var u={};function f(D){return-128<=D&&D<128?o(D,function(R){return new l([R|0],R<0?-1:0)}):new l([D|0],D<0?-1:0)}function d(D){if(isNaN(D)||!isFinite(D))return g;if(D<0)return C(d(-D));const R=[];let M=1;for(let L=0;D>=M;L++)R[L]=D/M|0,M*=4294967296;return new l(R,0)}function y(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return C(y(D.substring(1),R));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=d(Math.pow(R,8));let L=g;for(let V=0;V<D.length;V+=8){var N=Math.min(8,D.length-V);const P=parseInt(D.substring(V,V+N),R);N<8?(N=d(Math.pow(R,N)),L=L.j(N).add(d(P))):(L=L.j(M),L=L.add(d(P)))}return L}var g=f(0),v=f(1),E=f(16777216);n=l.prototype,n.m=function(){if(A(this))return-C(this).m();let D=0,R=1;for(let M=0;M<this.g.length;M++){const L=this.i(M);D+=(L>=0?L:4294967296+L)*R,R*=4294967296}return D},n.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(w(this))return"0";if(A(this))return"-"+C(this).toString(D);const R=d(Math.pow(D,6));var M=this;let L="";for(;;){const N=K(M,R).g;M=O(M,N.j(R));let V=((M.g.length>0?M.g[0]:M.h)>>>0).toString(D);if(M=N,w(M))return V+L;for(;V.length<6;)V="0"+V;L=V+L}},n.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function w(D){if(D.h!=0)return!1;for(let R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function A(D){return D.h==-1}n.l=function(D){return D=O(this,D),A(D)?-1:w(D)?0:1};function C(D){const R=D.g.length,M=[];for(let L=0;L<R;L++)M[L]=~D.g[L];return new l(M,~D.h).add(v)}n.abs=function(){return A(this)?C(this):this},n.add=function(D){const R=Math.max(this.g.length,D.g.length),M=[];let L=0;for(let N=0;N<=R;N++){let V=L+(this.i(N)&65535)+(D.i(N)&65535),P=(V>>>16)+(this.i(N)>>>16)+(D.i(N)>>>16);L=P>>>16,V&=65535,P&=65535,M[N]=P<<16|V}return new l(M,M[M.length-1]&-2147483648?-1:0)};function O(D,R){return D.add(C(R))}n.j=function(D){if(w(this)||w(D))return g;if(A(this))return A(D)?C(this).j(C(D)):C(C(this).j(D));if(A(D))return C(this.j(C(D)));if(this.l(E)<0&&D.l(E)<0)return d(this.m()*D.m());const R=this.g.length+D.g.length,M=[];for(var L=0;L<2*R;L++)M[L]=0;for(L=0;L<this.g.length;L++)for(let N=0;N<D.g.length;N++){const V=this.i(L)>>>16,P=this.i(L)&65535,yt=D.i(N)>>>16,_t=D.i(N)&65535;M[2*L+2*N]+=P*_t,j(M,2*L+2*N),M[2*L+2*N+1]+=V*_t,j(M,2*L+2*N+1),M[2*L+2*N+1]+=P*yt,j(M,2*L+2*N+1),M[2*L+2*N+2]+=V*yt,j(M,2*L+2*N+2)}for(D=0;D<R;D++)M[D]=M[2*D+1]<<16|M[2*D];for(D=R;D<2*R;D++)M[D]=0;return new l(M,0)};function j(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function z(D,R){this.g=D,this.h=R}function K(D,R){if(w(R))throw Error("division by zero");if(w(D))return new z(g,g);if(A(D))return R=K(C(D),R),new z(C(R.g),C(R.h));if(A(R))return R=K(D,C(R)),new z(C(R.g),R.h);if(D.g.length>30){if(A(D)||A(R))throw Error("slowDivide_ only works with positive integers.");for(var M=v,L=R;L.l(D)<=0;)M=U(M),L=U(L);var N=Y(M,1),V=Y(L,1);for(L=Y(L,2),M=Y(M,2);!w(L);){var P=V.add(L);P.l(D)<=0&&(N=N.add(M),V=P),L=Y(L,1),M=Y(M,1)}return R=O(D,N.j(R)),new z(N,R)}for(N=g;D.l(R)>=0;){for(M=Math.max(1,Math.floor(D.m()/R.m())),L=Math.ceil(Math.log(M)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),V=d(M),P=V.j(R);A(P)||P.l(D)>0;)M-=L,V=d(M),P=V.j(R);w(V)&&(V=v),N=N.add(V),D=O(D,P)}return new z(N,D)}n.B=function(D){return K(this,D).h},n.and=function(D){const R=Math.max(this.g.length,D.g.length),M=[];for(let L=0;L<R;L++)M[L]=this.i(L)&D.i(L);return new l(M,this.h&D.h)},n.or=function(D){const R=Math.max(this.g.length,D.g.length),M=[];for(let L=0;L<R;L++)M[L]=this.i(L)|D.i(L);return new l(M,this.h|D.h)},n.xor=function(D){const R=Math.max(this.g.length,D.g.length),M=[];for(let L=0;L<R;L++)M[L]=this.i(L)^D.i(L);return new l(M,this.h^D.h)};function U(D){const R=D.g.length+1,M=[];for(let L=0;L<R;L++)M[L]=D.i(L)<<1|D.i(L-1)>>>31;return new l(M,D.h)}function Y(D,R){const M=R>>5;R%=32;const L=D.g.length-M,N=[];for(let V=0;V<L;V++)N[V]=R>0?D.i(V+M)>>>R|D.i(V+M+1)<<32-R:D.i(V+M);return new l(N,D.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,aw=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=y,ga=l}).apply(typeof EE<"u"?EE:typeof self<"u"?self:typeof window<"u"?window:{});var zf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ow,fu,lw,cd,dy,cw,uw,hw;(function(){var n,t=Object.defineProperty;function e(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof zf=="object"&&zf];for(var b=0;b<p.length;++b){var T=p[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=e(this);function r(p,b){if(b)t:{var T=i;p=p.split(".");for(var k=0;k<p.length-1;k++){var Q=p[k];if(!(Q in T))break t;T=T[Q]}p=p[p.length-1],k=T[p],b=b(k),b!=k&&b!=null&&t(T,p,{configurable:!0,writable:!0,value:b})}}r("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(p){return p||function(b){var T=[],k;for(k in b)Object.prototype.hasOwnProperty.call(b,k)&&T.push([k,b[k]]);return T}});var o=o||{},l=this||self;function u(p){var b=typeof p;return b=="object"&&p!=null||b=="function"}function f(p,b,T){return p.call.apply(p.bind,arguments)}function d(p,b,T){return d=f,d.apply(null,arguments)}function y(p,b){var T=Array.prototype.slice.call(arguments,1);return function(){var k=T.slice();return k.push.apply(k,arguments),p.apply(this,k)}}function g(p,b){function T(){}T.prototype=b.prototype,p.Z=b.prototype,p.prototype=new T,p.prototype.constructor=p,p.Ob=function(k,Q,et){for(var dt=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)dt[Lt-2]=arguments[Lt];return b.prototype[Q].apply(k,dt)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function E(p){const b=p.length;if(b>0){const T=Array(b);for(let k=0;k<b;k++)T[k]=p[k];return T}return[]}function w(p,b){for(let k=1;k<arguments.length;k++){const Q=arguments[k];var T=typeof Q;if(T=T!="object"?T:Q?Array.isArray(Q)?"array":T:"null",T=="array"||T=="object"&&typeof Q.length=="number"){T=p.length||0;const et=Q.length||0;p.length=T+et;for(let dt=0;dt<et;dt++)p[T+dt]=Q[dt]}else p.push(Q)}}class A{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function C(p){l.setTimeout(()=>{throw p},0)}function O(){var p=D;let b=null;return p.g&&(b=p.g,p.g=p.g.next,p.g||(p.h=null),b.next=null),b}class j{constructor(){this.h=this.g=null}add(b,T){const k=z.get();k.set(b,T),this.h?this.h.next=k:this.g=k,this.h=k}}var z=new A(()=>new K,p=>p.reset());class K{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let U,Y=!1,D=new j,R=()=>{const p=Promise.resolve(void 0);U=()=>{p.then(M)}};function M(){for(var p;p=O();){try{p.h.call(p.g)}catch(T){C(T)}var b=z;b.j(p),b.h<100&&(b.h++,p.next=b.g,b.g=p)}Y=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(p,b){this.type=p,this.g=this.target=b,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var p=!1,b=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const T=()=>{};l.addEventListener("test",T,b),l.removeEventListener("test",T,b)}catch{}return p})();function P(p){return/^[\s\xa0]*$/.test(p)}function yt(p,b){N.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,b)}g(yt,N),yt.prototype.init=function(p,b){const T=this.type=p.type,k=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=b,b=p.relatedTarget,b||(T=="mouseover"?b=p.fromElement:T=="mouseout"&&(b=p.toElement)),this.relatedTarget=b,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&yt.Z.h.call(this)},yt.prototype.h=function(){yt.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var _t="closure_listenable_"+(Math.random()*1e6|0),q=0;function $(p,b,T,k,Q){this.listener=p,this.proxy=null,this.src=b,this.type=T,this.capture=!!k,this.ha=Q,this.key=++q,this.da=this.fa=!1}function lt(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function ft(p,b,T){for(const k in p)b.call(T,p[k],k,p)}function mt(p,b){for(const T in p)b.call(void 0,p[T],T,p)}function B(p){const b={};for(const T in p)b[T]=p[T];return b}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(p,b){let T,k;for(let Q=1;Q<arguments.length;Q++){k=arguments[Q];for(T in k)p[T]=k[T];for(let et=0;et<X.length;et++)T=X[et],Object.prototype.hasOwnProperty.call(k,T)&&(p[T]=k[T])}}function ct(p){this.src=p,this.g={},this.h=0}ct.prototype.add=function(p,b,T,k,Q){const et=p.toString();p=this.g[et],p||(p=this.g[et]=[],this.h++);const dt=bt(p,b,k,Q);return dt>-1?(b=p[dt],T||(b.fa=!1)):(b=new $(b,this.src,et,!!k,Q),b.fa=T,p.push(b)),b};function ht(p,b){const T=b.type;if(T in p.g){var k=p.g[T],Q=Array.prototype.indexOf.call(k,b,void 0),et;(et=Q>=0)&&Array.prototype.splice.call(k,Q,1),et&&(lt(b),p.g[T].length==0&&(delete p.g[T],p.h--))}}function bt(p,b,T,k){for(let Q=0;Q<p.length;++Q){const et=p[Q];if(!et.da&&et.listener==b&&et.capture==!!T&&et.ha==k)return Q}return-1}var It="closure_lm_"+(Math.random()*1e6|0),Dt={};function Pt(p,b,T,k,Q){if(Array.isArray(b)){for(let et=0;et<b.length;et++)Pt(p,b[et],T,k,Q);return null}return T=Sr(T),p&&p[_t]?p.J(b,T,u(k)?!!k.capture:!1,Q):Kt(p,b,T,!1,k,Q)}function Kt(p,b,T,k,Q,et){if(!b)throw Error("Invalid event type");const dt=u(Q)?!!Q.capture:!!Q;let Lt=Zi(p);if(Lt||(p[It]=Lt=new ct(p)),T=Lt.add(b,T,k,dt,et),T.proxy)return T;if(k=Oe(),T.proxy=k,k.src=p,k.listener=T,p.addEventListener)V||(Q=dt),Q===void 0&&(Q=!1),p.addEventListener(b.toString(),k,Q);else if(p.attachEvent)p.attachEvent(dn(b.toString()),k);else if(p.addListener&&p.removeListener)p.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Oe(){function p(T){return b.call(p.src,p.listener,T)}const b=Pa;return p}function Be(p,b,T,k,Q){if(Array.isArray(b))for(var et=0;et<b.length;et++)Be(p,b[et],T,k,Q);else k=u(k)?!!k.capture:!!k,T=Sr(T),p&&p[_t]?(p=p.i,et=String(b).toString(),et in p.g&&(b=p.g[et],T=bt(b,T,k,Q),T>-1&&(lt(b[T]),Array.prototype.splice.call(b,T,1),b.length==0&&(delete p.g[et],p.h--)))):p&&(p=Zi(p))&&(b=p.g[b.toString()],p=-1,b&&(p=bt(b,T,k,Q)),(T=p>-1?b[p]:null)&&pi(T))}function pi(p){if(typeof p!="number"&&p&&!p.da){var b=p.src;if(b&&b[_t])ht(b.i,p);else{var T=p.type,k=p.proxy;b.removeEventListener?b.removeEventListener(T,k,p.capture):b.detachEvent?b.detachEvent(dn(T),k):b.addListener&&b.removeListener&&b.removeListener(k),(T=Zi(b))?(ht(T,p),T.h==0&&(T.src=null,b[It]=null)):lt(p)}}}function dn(p){return p in Dt?Dt[p]:Dt[p]="on"+p}function Pa(p,b){if(p.da)p=!0;else{b=new yt(b,this);const T=p.listener,k=p.ha||p.src;p.fa&&pi(p),p=T.call(k,b)}return p}function Zi(p){return p=p[It],p instanceof ct?p:null}var Ni="__closure_events_fn_"+(Math.random()*1e9>>>0);function Sr(p){return typeof p=="function"?p:(p[Ni]||(p[Ni]=function(b){return p.handleEvent(b)}),p[Ni])}function ne(){L.call(this),this.i=new ct(this),this.M=this,this.G=null}g(ne,L),ne.prototype[_t]=!0,ne.prototype.removeEventListener=function(p,b,T,k){Be(this,p,b,T,k)};function Pe(p,b){var T,k=p.G;if(k)for(T=[];k;k=k.G)T.push(k);if(p=p.M,k=b.type||b,typeof b=="string")b=new N(b,p);else if(b instanceof N)b.target=b.target||p;else{var Q=b;b=new N(k,p),it(b,Q)}Q=!0;let et,dt;if(T)for(dt=T.length-1;dt>=0;dt--)et=b.g=T[dt],Q=ts(et,k,!0,b)&&Q;if(et=b.g=p,Q=ts(et,k,!0,b)&&Q,Q=ts(et,k,!1,b)&&Q,T)for(dt=0;dt<T.length;dt++)et=b.g=T[dt],Q=ts(et,k,!1,b)&&Q}ne.prototype.N=function(){if(ne.Z.N.call(this),this.i){var p=this.i;for(const b in p.g){const T=p.g[b];for(let k=0;k<T.length;k++)lt(T[k]);delete p.g[b],p.h--}}this.G=null},ne.prototype.J=function(p,b,T,k){return this.i.add(String(p),b,!1,T,k)},ne.prototype.K=function(p,b,T,k){return this.i.add(String(p),b,!0,T,k)};function ts(p,b,T,k){if(b=p.i.g[String(b)],!b)return!0;b=b.concat();let Q=!0;for(let et=0;et<b.length;++et){const dt=b[et];if(dt&&!dt.da&&dt.capture==T){const Lt=dt.listener,Le=dt.ha||dt.src;dt.fa&&ht(p.i,dt),Q=Lt.call(Le,k)!==!1&&Q}}return Q&&!k.defaultPrevented}function pn(p,b){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=d(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:l.setTimeout(p,b||0)}function Oi(p){p.g=pn(()=>{p.g=null,p.i&&(p.i=!1,Oi(p))},p.l);const b=p.h;p.h=null,p.m.apply(null,b)}class mn extends L{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Oi(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function js(p){L.call(this),this.h=p,this.g={}}g(js,L);var es=[];function La(p){ft(p.g,function(b,T){this.g.hasOwnProperty(T)&&pi(b)},p),p.g={}}js.prototype.N=function(){js.Z.N.call(this),La(this)},js.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pi=l.JSON.stringify,Va=l.JSON.parse,Li=class{stringify(p){return l.JSON.stringify(p,void 0)}parse(p){return l.JSON.parse(p,void 0)}};function ja(){}function Vi(){}var ti={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tn(){N.call(this,"d")}g(tn,N);function Vn(){N.call(this,"c")}g(Vn,N);var Ee={},Vo=null;function ns(){return Vo=Vo||new ne}Ee.Ia="serverreachability";function ei(p){N.call(this,Ee.Ia,p)}g(ei,N);function mi(p){const b=ns();Pe(b,new ei(b))}Ee.STAT_EVENT="statevent";function zs(p,b){N.call(this,Ee.STAT_EVENT,p),this.stat=b}g(zs,N);function Ce(p){const b=ns();Pe(b,new zs(b,p))}Ee.Ja="timingevent";function ni(p,b){N.call(this,Ee.Ja,p),this.size=b}g(ni,N);function wt(p,b){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){p()},b)}function ie(){this.g=!0}ie.prototype.ua=function(){this.g=!1};function Fe(p,b,T,k,Q,et){p.info(function(){if(p.g)if(et){var dt="",Lt=et.split("&");for(let te=0;te<Lt.length;te++){var Le=Lt[te].split("=");if(Le.length>1){const Se=Le[0];Le=Le[1];const bi=Se.split("_");dt=bi.length>=2&&bi[1]=="type"?dt+(Se+"="+Le+"&"):dt+(Se+"=redacted&")}}}else dt=null;else dt=et;return"XMLHTTP REQ ("+k+") [attempt "+Q+"]: "+b+`
`+T+`
`+dt})}function an(p,b,T,k,Q,et,dt){p.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+Q+"]: "+b+`
`+T+`
`+et+" "+dt})}function jn(p,b,T,k){p.info(function(){return"XMLHTTP TEXT ("+b+"): "+Rn(p,T)+(k?" "+k:"")})}function ye(p,b){p.info(function(){return"TIMEOUT: "+b})}ie.prototype.info=function(){};function Rn(p,b){if(!p.g)return b;if(!b)return null;try{const et=JSON.parse(b);if(et){for(p=0;p<et.length;p++)if(Array.isArray(et[p])){var T=et[p];if(!(T.length<2)){var k=T[1];if(Array.isArray(k)&&!(k.length<1)){var Q=k[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let dt=1;dt<k.length;dt++)k[dt]=""}}}}return Pi(et)}catch{return b}}var gi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yn;function is(){}g(is,ja),is.prototype.g=function(){return new XMLHttpRequest},yn=new is;function _n(p){return encodeURIComponent(String(p))}function sc(p){var b=1;p=p.split(":");const T=[];for(;b>0&&p.length;)T.push(p.shift()),b--;return p.length&&T.push(p.join(":")),T}function ji(p,b,T,k){this.j=p,this.i=b,this.l=T,this.S=k||1,this.V=new js(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zi}function zi(){this.i=null,this.g="",this.h=!1}var He={},on={};function ss(p,b,T){p.M=1,p.A=za(Ge(b)),p.u=T,p.R=!0,jo(p,null)}function jo(p,b){p.F=Date.now(),rs(p),p.B=Ge(p.A);var T=p.B,k=p.S;Array.isArray(k)||(k=[String(k)]),Fo(T.i,"t",k),p.C=0,T=p.j.L,p.h=new zi,p.g=Ch(p.j,T?b:null,!p.u),p.P>0&&(p.O=new mn(d(p.Y,p,p.g),p.P)),b=p.V,T=p.g,k=p.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(es[0]=Q.toString()),Q=es);for(let et=0;et<Q.length;et++){const dt=Pt(T,Q[et],k||b.handleEvent,!1,b.h||b);if(!dt)break;b.g[dt.key]=dt}b=p.J?B(p.J):{},p.u?(p.v||(p.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,b)):(p.v="GET",p.g.ea(p.B,p.v,null,b)),mi(),Fe(p.i,p.v,p.B,p.l,p.S,p.u)}ji.prototype.ba=function(p){p=p.target;const b=this.O;b&&Fi(p)==3?b.j():this.Y(p)},ji.prototype.Y=function(p){try{if(p==this.g)t:{const Lt=Fi(this.g),Le=this.g.ya(),te=this.g.ca();if(!(Lt<3)&&(Lt!=3||this.g&&(this.h.h||this.g.la()||vn(this.g)))){this.K||Lt!=4||Le==7||(Le==8||te<=0?mi(3):mi(2)),as(this);var b=this.g.ca();this.X=b;var T=Ap(this);if(this.o=b==200,an(this.i,this.v,this.B,this.l,this.S,Lt,b),this.o){if(this.U&&!this.L){e:{if(this.g){var k,Q=this.g;if((k=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(k)){var et=k;break e}}et=null}if(p=et)jn(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,os(this,p);else{this.o=!1,this.m=3,Ce(12),ii(this),yi(this);break t}}if(this.R){p=!0;let Se;for(;!this.K&&this.C<T.length;)if(Se=mh(this,T),Se==on){Lt==4&&(this.m=4,Ce(14),p=!1),jn(this.i,this.l,null,"[Incomplete Response]");break}else if(Se==He){this.m=4,Ce(15),jn(this.i,this.l,T,"[Invalid Chunk]"),p=!1;break}else jn(this.i,this.l,Se,null),os(this,Se);if(ph(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||T.length!=0||this.h.h||(this.m=1,Ce(16),p=!1),this.o=this.o&&p,!p)jn(this.i,this.l,T,"[Invalid Chunked Response]"),ii(this),yi(this);else if(T.length>0&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.aa&&!dt.P&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),vc(dt),dt.P=!0,Ce(11))}}else jn(this.i,this.l,T,null),os(this,T);Lt==4&&ii(this),this.o&&!this.K&&(Lt==4?Th(this.j,this):(this.o=!1,rs(this)))}else Bs(this.g),b==400&&T.indexOf("Unknown SID")>0?(this.m=3,Ce(12)):(this.m=0,Ce(13)),ii(this),yi(this)}}}catch{}finally{}};function Ap(p){if(!ph(p))return p.g.la();const b=vn(p.g);if(b==="")return"";let T="";const k=b.length,Q=Fi(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return ii(p),yi(p),"";p.h.i=new l.TextDecoder}for(let et=0;et<k;et++)p.h.h=!0,T+=p.h.i.decode(b[et],{stream:!(Q&&et==k-1)});return b.length=0,p.h.g+=T,p.C=0,p.h.g}function ph(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function mh(p,b){var T=p.C,k=b.indexOf(`
`,T);return k==-1?on:(T=Number(b.substring(T,k)),isNaN(T)?He:(k+=1,k+T>b.length?on:(b=b.slice(k,k+T),p.C=k+T,b)))}ji.prototype.cancel=function(){this.K=!0,ii(this)};function rs(p){p.T=Date.now()+p.H,zo(p,p.H)}function zo(p,b){if(p.D!=null)throw Error("WatchDog timer not null");p.D=wt(d(p.aa,p),b)}function as(p){p.D&&(l.clearTimeout(p.D),p.D=null)}ji.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(ye(this.i,this.B),this.M!=2&&(mi(),Ce(17)),ii(this),this.m=2,yi(this)):zo(this,this.T-p)};function yi(p){p.j.I==0||p.K||Th(p.j,p)}function ii(p){as(p);var b=p.O;b&&typeof b.dispose=="function"&&b.dispose(),p.O=null,La(p.V),p.g&&(b=p.g,p.g=null,b.abort(),b.dispose())}function os(p,b){try{var T=p.j;if(T.I!=0&&(T.g==p||cs(T.h,p))){if(!p.L&&cs(T.h,p)&&T.I==3){try{var k=T.Ba.g.parse(b)}catch{k=null}if(Array.isArray(k)&&k.length==3){var Q=k;if(Q[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<p.F)Wo(T),Mr(T);else break t;Ya(T),Ce(18)}}else T.xa=Q[1],0<T.xa-T.K&&Q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=wt(d(T.Va,T),6e3));ls(T.h)<=1&&T.ta&&(T.ta=void 0)}else ms(T,11)}else if((p.L||T.g==p)&&Wo(T),!P(b))for(Q=T.Ba.g.parse(b),b=0;b<Q.length;b++){let te=Q[b];const Se=te[0];if(!(Se<=T.K))if(T.K=Se,te=te[1],T.I==2)if(te[0]=="c"){T.M=te[1],T.ba=te[2];const bi=te[3];bi!=null&&(T.ka=bi,T.j.info("VER="+T.ka));const gs=te[4];gs!=null&&(T.za=gs,T.j.info("SVER="+T.za));const Hi=te[5];Hi!=null&&typeof Hi=="number"&&Hi>0&&(k=1.5*Hi,T.O=k,T.j.info("backChannelRequestTimeoutMs_="+k)),k=T;const qi=p.g;if(qi){const Wa=qi.g?qi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wa){var et=k.h;et.g||Wa.indexOf("spdy")==-1&&Wa.indexOf("quic")==-1&&Wa.indexOf("h2")==-1||(et.j=et.l,et.g=new Set,et.h&&(oc(et,et.h),et.h=null))}if(k.G){const $o=qi.g?qi.g.getResponseHeader("X-HTTP-Session-Id"):null;$o&&(k.wa=$o,re(k.J,k.G,$o))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-p.F,T.j.info("Handshake RTT: "+T.T+"ms")),k=T;var dt=p;if(k.na=Rh(k,k.L?k.ba:null,k.W),dt.L){lc(k.h,dt);var Lt=dt,Le=k.O;Le&&(Lt.H=Le),Lt.D&&(as(Lt),rs(Lt)),k.g=dt}else Eh(k);T.i.length>0&&ps(T)}else te[0]!="stop"&&te[0]!="close"||ms(T,7);else T.I==3&&(te[0]=="stop"||te[0]=="close"?te[0]=="stop"?ms(T,7):yc(T):te[0]!="noop"&&T.l&&T.l.qa(te),T.A=0)}}mi(4)}catch{}}var qe=class{constructor(p,b){this.g=p,this.map=b}};function rc(p){this.l=p||10,l.PerformanceNavigationTiming?(p=l.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ac(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function ls(p){return p.h?1:p.g?p.g.size:0}function cs(p,b){return p.h?p.h==b:p.g?p.g.has(b):!1}function oc(p,b){p.g?p.g.add(b):p.h=b}function lc(p,b){p.h&&p.h==b?p.h=null:p.g&&p.g.has(b)&&p.g.delete(b)}rc.prototype.cancel=function(){if(this.i=cc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function cc(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let b=p.i;for(const T of p.g.values())b=b.concat(T.G);return b}return E(p.i)}var gh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Uo(p,b){if(p){p=p.split("&");for(let T=0;T<p.length;T++){const k=p[T].indexOf("=");let Q,et=null;k>=0?(Q=p[T].substring(0,k),et=p[T].substring(k+1)):Q=p[T],b(Q,et?decodeURIComponent(et.replace(/\+/g," ")):"")}}}function si(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;p instanceof si?(this.l=p.l,ln(this,p.j),this.o=p.o,this.g=p.g,Tr(this,p.u),this.h=p.h,uc(this,bh(p.i)),this.m=p.m):p&&(b=String(p).match(gh))?(this.l=!1,ln(this,b[1]||"",!0),this.o=us(b[2]||""),this.g=us(b[3]||"",!0),Tr(this,b[4]),this.h=us(b[5]||"",!0),uc(this,b[6]||"",!0),this.m=us(b[7]||"")):(this.l=!1,this.i=new Ar(null,this.l))}si.prototype.toString=function(){const p=[];var b=this.j;b&&p.push(Ua(b,Bo,!0),":");var T=this.g;return(T||b=="file")&&(p.push("//"),(b=this.o)&&p.push(Ua(b,Bo,!0),"@"),p.push(_n(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&p.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&p.push("/"),p.push(Ua(T,T.charAt(0)=="/"?hc:yh,!0))),(T=this.i.toString())&&p.push("?",T),(T=this.m)&&p.push("#",Ua(T,_h)),p.join("")},si.prototype.resolve=function(p){const b=Ge(this);let T=!!p.j;T?ln(b,p.j):T=!!p.o,T?b.o=p.o:T=!!p.g,T?b.g=p.g:T=p.u!=null;var k=p.h;if(T)Tr(b,p.u);else if(T=!!p.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var Q=b.h.lastIndexOf("/");Q!=-1&&(k=b.h.slice(0,Q+1)+k)}if(Q=k,Q==".."||Q==".")k="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){k=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const et=[];for(let dt=0;dt<Q.length;){const Lt=Q[dt++];Lt=="."?k&&dt==Q.length&&et.push(""):Lt==".."?((et.length>1||et.length==1&&et[0]!="")&&et.pop(),k&&dt==Q.length&&et.push("")):(et.push(Lt),k=!0)}k=et.join("/")}else k=Q}return T?b.h=k:T=p.i.toString()!=="",T?uc(b,bh(p.i)):T=!!p.m,T&&(b.m=p.m),b};function Ge(p){return new si(p)}function ln(p,b,T){p.j=T?us(b,!0):b,p.j&&(p.j=p.j.replace(/:$/,""))}function Tr(p,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);p.u=b}else p.u=null}function uc(p,b,T){b instanceof Ar?(p.i=b,Ho(p.i,p.l)):(T||(b=Ua(b,wr)),p.i=new Ar(b,p.l))}function re(p,b,T){p.i.set(b,T)}function za(p){return re(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function us(p,b){return p?b?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Ua(p,b,T){return typeof p=="string"?(p=encodeURI(p).replace(b,Bn),T&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Bn(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Bo=/[#\/\?@]/g,yh=/[#\?:]/g,hc=/[#\?]/g,wr=/[#\?@]/g,_h=/#/g;function Ar(p,b){this.h=this.g=null,this.i=p||null,this.j=!!b}function Fn(p){p.g||(p.g=new Map,p.h=0,p.i&&Uo(p.i,function(b,T){p.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}n=Ar.prototype,n.add=function(p,b){Fn(this),this.i=null,p=Rr(this,p);let T=this.g.get(p);return T||this.g.set(p,T=[]),T.push(b),this.h+=1,this};function vh(p,b){Fn(p),b=Rr(p,b),p.g.has(b)&&(p.i=null,p.h-=p.g.get(b).length,p.g.delete(b))}function fc(p,b){return Fn(p),b=Rr(p,b),p.g.has(b)}n.forEach=function(p,b){Fn(this),this.g.forEach(function(T,k){T.forEach(function(Q){p.call(b,Q,k,this)},this)},this)};function dc(p,b){Fn(p);let T=[];if(typeof b=="string")fc(p,b)&&(T=T.concat(p.g.get(Rr(p,b))));else for(p=Array.from(p.g.values()),b=0;b<p.length;b++)T=T.concat(p[b]);return T}n.set=function(p,b){return Fn(this),this.i=null,p=Rr(this,p),fc(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[b]),this.h+=1,this},n.get=function(p,b){return p?(p=dc(this,p),p.length>0?String(p[0]):b):b};function Fo(p,b,T){vh(p,b),T.length>0&&(p.i=null,p.g.set(Rr(p,b),E(T)),p.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],b=Array.from(this.g.keys());for(let k=0;k<b.length;k++){var T=b[k];const Q=_n(T);T=dc(this,T);for(let et=0;et<T.length;et++){let dt=Q;T[et]!==""&&(dt+="="+_n(T[et])),p.push(dt)}}return this.i=p.join("&")};function bh(p){const b=new Ar;return b.i=p.i,p.g&&(b.g=new Map(p.g),b.h=p.h),b}function Rr(p,b){return b=String(b),p.j&&(b=b.toLowerCase()),b}function Ho(p,b){b&&!p.j&&(Fn(p),p.i=null,p.g.forEach(function(T,k){const Q=k.toLowerCase();k!=Q&&(vh(this,k),Fo(this,Q,T))},p)),p.j=b}function Ui(p,b){const T=new ie;if(l.Image){const k=new Image;k.onload=y(_i,T,"TestLoadImage: loaded",!0,b,k),k.onerror=y(_i,T,"TestLoadImage: error",!1,b,k),k.onabort=y(_i,T,"TestLoadImage: abort",!1,b,k),k.ontimeout=y(_i,T,"TestLoadImage: timeout",!1,b,k),l.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=p}else b(!1)}function pc(p,b){const T=new ie,k=new AbortController,Q=setTimeout(()=>{k.abort(),_i(T,"TestPingServer: timeout",!1,b)},1e4);fetch(p,{signal:k.signal}).then(et=>{clearTimeout(Q),et.ok?_i(T,"TestPingServer: ok",!0,b):_i(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Q),_i(T,"TestPingServer: error",!1,b)})}function _i(p,b,T,k,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),k(T)}catch{}}function Cr(){this.g=new Li}function hs(p){this.i=p.Sb||null,this.h=p.ab||!1}g(hs,ja),hs.prototype.g=function(){return new Ba(this.i,this.h)};function Ba(p,b){ne.call(this),this.H=p,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Ba,ne),n=Ba.prototype,n.open=function(p,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=b,this.readyState=1,Bi(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(b.body=p),(this.H||l).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ir(this)),this.readyState=0},n.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Bi(this)),this.g&&(this.readyState=3,Bi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;qo(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function qo(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}n.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var b=p.value?p.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!p.done}))&&(this.response=this.responseText+=b)}p.done?Ir(this):Bi(this),this.readyState==3&&qo(this)}},n.Oa=function(p){this.g&&(this.response=this.responseText=p,Ir(this))},n.Na=function(p){this.g&&(this.response=p,Ir(this))},n.ga=function(){this.g&&Ir(this)};function Ir(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Bi(p)}n.setRequestHeader=function(p,b){this.A.append(p,b)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,p.push(T[0]+": "+T[1]),T=b.next();return p.join(`\r
`)};function Bi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Ba.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function vi(p){let b="";return ft(p,function(T,k){b+=k,b+=":",b+=T,b+=`\r
`}),b}function Fa(p,b,T){t:{for(k in T){var k=!1;break t}k=!0}k||(T=vi(T),typeof p=="string"?T!=null&&_n(T):re(p,b,T))}function ue(p){ne.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(ue,ne);var fs=/^https?$/i,mc=["POST","PUT"];n=ue.prototype,n.Fa=function(p){this.H=p},n.ea=function(p,b,T,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);b=b?b.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yn.g(),this.g.onreadystatechange=v(d(this.Ca,this));try{this.B=!0,this.g.open(b,String(p),!0),this.B=!1}catch(et){Ha(this,et);return}if(p=T||"",T=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var Q in k)T.set(Q,k[Q]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const et of k.keys())T.set(et,k.get(et));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(T.keys()).find(et=>et.toLowerCase()=="content-type"),Q=l.FormData&&p instanceof l.FormData,!(Array.prototype.indexOf.call(mc,b,void 0)>=0)||k||Q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[et,dt]of T)this.g.setRequestHeader(et,dt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(et){Ha(this,et)}};function Ha(p,b){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=b,p.o=5,gc(p),Us(p)}function gc(p){p.A||(p.A=!0,Pe(p,"complete"),Pe(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,Pe(this,"complete"),Pe(this,"abort"),Us(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Us(this,!0)),ue.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?qa(this):this.Xa())},n.Xa=function(){qa(this)};function qa(p){if(p.h&&typeof o<"u"){if(p.v&&Fi(p)==4)setTimeout(p.Ca.bind(p),0);else if(Pe(p,"readystatechange"),Fi(p)==4){p.h=!1;try{const et=p.ca();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break t;default:b=!1}var T;if(!(T=b)){var k;if(k=et===0){let dt=String(p.D).match(gh)[1]||null;!dt&&l.self&&l.self.location&&(dt=l.self.location.protocol.slice(0,-1)),k=!fs.test(dt?dt.toLowerCase():"")}T=k}if(T)Pe(p,"complete"),Pe(p,"success");else{p.o=6;try{var Q=Fi(p)>2?p.g.statusText:""}catch{Q=""}p.l=Q+" ["+p.ca()+"]",gc(p)}}finally{Us(p)}}}}function Us(p,b){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const T=p.g;p.g=null,b||Pe(p,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Fi(p){return p.g?p.g.readyState:0}n.ca=function(){try{return Fi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(p){if(this.g){var b=this.g.responseText;return p&&b.indexOf(p)==0&&(b=b.substring(p.length)),Va(b)}};function vn(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Bs(p){const b={};p=(p.g&&Fi(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<p.length;k++){if(P(p[k]))continue;var T=sc(p[k]);const Q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const et=b[Q]||[];b[Q]=et,et.push(T)}mt(b,function(k){return k.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ds(p,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[p]||b}function Dr(p){this.za=0,this.i=[],this.j=new ie,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ds("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ds("baseRetryDelayMs",5e3,p),this.Za=ds("retryDelaySeedMs",1e4,p),this.Ta=ds("forwardChannelMaxRetries",2,p),this.va=ds("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new rc(p&&p.concurrentRequestLimit),this.Ba=new Cr,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Dr.prototype,n.ka=8,n.I=1,n.connect=function(p,b,T,k){Ce(0),this.W=p,this.H=b||{},T&&k!==void 0&&(this.H.OSID=T,this.H.OAID=k),this.F=this.X,this.J=Rh(this,null,this.W),ps(this)};function yc(p){if(Go(p),p.I==3){var b=p.V++,T=Ge(p.J);if(re(T,"SID",p.M),re(T,"RID",b),re(T,"TYPE","terminate"),Ga(p,T),b=new ji(p,p.j,b),b.M=2,b.A=za(Ge(T)),T=!1,l.navigator&&l.navigator.sendBeacon)try{T=l.navigator.sendBeacon(b.A.toString(),"")}catch{}!T&&l.Image&&(new Image().src=b.A,T=!0),T||(b.g=Ch(b.j,null),b.g.ea(b.A)),b.F=Date.now(),rs(b)}Ah(p)}function Mr(p){p.g&&(vc(p),p.g.cancel(),p.g=null)}function Go(p){Mr(p),p.v&&(l.clearTimeout(p.v),p.v=null),Wo(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&l.clearTimeout(p.m),p.m=null)}function ps(p){if(!ac(p.h)&&!p.m){p.m=!0;var b=p.Ea;U||R(),Y||(U(),Y=!0),D.add(b,p),p.D=0}}function Yo(p,b){return ls(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=b.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=wt(d(p.Ea,p,b),wh(p,p.D)),p.D++,!0)}n.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const Q=new ji(this,this.j,p);let et=this.o;if(this.U&&(et?(et=B(et),it(et,this.U)):et=this.U),this.u!==null||this.R||(Q.J=et,et=null),this.S)t:{for(var b=0,T=0;T<this.i.length;T++){e:{var k=this.i[T];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break e}k=void 0}if(k===void 0)break;if(b+=k,b>4096){b=T;break t}if(b===4096||T===this.i.length-1){b=T+1;break t}}b=1e3}else b=1e3;b=xh(this,Q,b),T=Ge(this.J),re(T,"RID",p),re(T,"CVER",22),this.G&&re(T,"X-HTTP-Session-Id",this.G),Ga(this,T),et&&(this.R?b="headers="+_n(vi(et))+"&"+b:this.u&&Fa(T,this.u,et)),oc(this.h,Q),this.Ra&&re(T,"TYPE","init"),this.S?(re(T,"$req",b),re(T,"SID","null"),Q.U=!0,ss(Q,T,null)):ss(Q,T,b),this.I=2}}else this.I==3&&(p?_c(this,p):this.i.length==0||ac(this.h)||_c(this))};function _c(p,b){var T;b?T=b.l:T=p.V++;const k=Ge(p.J);re(k,"SID",p.M),re(k,"RID",T),re(k,"AID",p.K),Ga(p,k),p.u&&p.o&&Fa(k,p.u,p.o),T=new ji(p,p.j,T,p.D+1),p.u===null&&(T.J=p.o),b&&(p.i=b.G.concat(p.i)),b=xh(p,T,1e3),T.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),oc(p.h,T),ss(T,k,b)}function Ga(p,b){p.H&&ft(p.H,function(T,k){re(b,k,T)}),p.l&&ft({},function(T,k){re(b,k,T)})}function xh(p,b,T){T=Math.min(p.i.length,T);const k=p.l?d(p.l.Ka,p.l,p):null;t:{var Q=p.i;let Lt=-1;for(;;){const Le=["count="+T];Lt==-1?T>0?(Lt=Q[0].g,Le.push("ofs="+Lt)):Lt=0:Le.push("ofs="+Lt);let te=!0;for(let Se=0;Se<T;Se++){var et=Q[Se].g;const bi=Q[Se].map;if(et-=Lt,et<0)Lt=Math.max(0,Q[Se].g-100),te=!1;else try{et="req"+et+"_"||"";try{var dt=bi instanceof Map?bi:Object.entries(bi);for(const[gs,Hi]of dt){let qi=Hi;u(Hi)&&(qi=Pi(Hi)),Le.push(et+gs+"="+encodeURIComponent(qi))}}catch(gs){throw Le.push(et+"type="+encodeURIComponent("_badmap")),gs}}catch{k&&k(bi)}}if(te){dt=Le.join("&");break t}}dt=void 0}return p=p.i.splice(0,T),b.G=p,dt}function Eh(p){if(!p.g&&!p.v){p.Y=1;var b=p.Da;U||R(),Y||(U(),Y=!0),D.add(b,p),p.A=0}}function Ya(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=wt(d(p.Da,p),wh(p,p.A)),p.A++,!0)}n.Da=function(){if(this.v=null,Sh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=wt(d(this.Wa,this),p)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ce(10),Mr(this),Sh(this))};function vc(p){p.B!=null&&(l.clearTimeout(p.B),p.B=null)}function Sh(p){p.g=new ji(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var b=Ge(p.na);re(b,"RID","rpc"),re(b,"SID",p.M),re(b,"AID",p.K),re(b,"CI",p.F?"0":"1"),!p.F&&p.ia&&re(b,"TO",p.ia),re(b,"TYPE","xmlhttp"),Ga(p,b),p.u&&p.o&&Fa(b,p.u,p.o),p.O&&(p.g.H=p.O);var T=p.g;p=p.ba,T.M=1,T.A=za(Ge(b)),T.u=null,T.R=!0,jo(T,p)}n.Va=function(){this.C!=null&&(this.C=null,Mr(this),Ya(this),Ce(19))};function Wo(p){p.C!=null&&(l.clearTimeout(p.C),p.C=null)}function Th(p,b){var T=null;if(p.g==b){Wo(p),vc(p),p.g=null;var k=2}else if(cs(p.h,b))T=b.G,lc(p.h,b),k=1;else return;if(p.I!=0){if(b.o)if(k==1){T=b.u?b.u.length:0,b=Date.now()-b.F;var Q=p.D;k=ns(),Pe(k,new ni(k,T)),ps(p)}else Eh(p);else if(Q=b.m,Q==3||Q==0&&b.X>0||!(k==1&&Yo(p,b)||k==2&&Ya(p)))switch(T&&T.length>0&&(b=p.h,b.i=b.i.concat(T)),Q){case 1:ms(p,5);break;case 4:ms(p,10);break;case 3:ms(p,6);break;default:ms(p,2)}}}function wh(p,b){let T=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(T*=2),T*b}function ms(p,b){if(p.j.info("Error code "+b),b==2){var T=d(p.bb,p),k=p.Ua;const Q=!k;k=new si(k||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ln(k,"https"),za(k),Q?Ui(k.toString(),T):pc(k.toString(),T)}else Ce(2);p.I=0,p.l&&p.l.pa(b),Ah(p),Go(p)}n.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))};function Ah(p){if(p.I=0,p.ja=[],p.l){const b=cc(p.h);(b.length!=0||p.i.length!=0)&&(w(p.ja,b),w(p.ja,p.i),p.h.i.length=0,E(p.i),p.i.length=0),p.l.oa()}}function Rh(p,b,T){var k=T instanceof si?Ge(T):new si(T);if(k.g!="")b&&(k.g=b+"."+k.g),Tr(k,k.u);else{var Q=l.location;k=Q.protocol,b=b?b+"."+Q.hostname:Q.hostname,Q=+Q.port;const et=new si(null);k&&ln(et,k),b&&(et.g=b),Q&&Tr(et,Q),T&&(et.h=T),k=et}return T=p.G,b=p.wa,T&&b&&re(k,T,b),re(k,"VER",p.ka),Ga(p,k),k}function Ch(p,b,T){if(b&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=p.Aa&&!p.ma?new ue(new hs({ab:T})):new ue(p.ma),b.Fa(p.L),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ih(){}n=Ih.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function kr(){}kr.prototype.g=function(p,b){return new zn(p,b)};function zn(p,b){ne.call(this),this.g=new Dr(b),this.l=p,this.h=b&&b.messageUrlParams||null,p=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(p?p["X-WebChannel-Content-Type"]=b.messageContentType:p={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(p?p["X-WebChannel-Client-Profile"]=b.sa:p={"X-WebChannel-Client-Profile":b.sa}),this.g.U=p,(p=b&&b.Qb)&&!P(p)&&(this.g.u=p),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!P(b)&&(this.g.G=b,p=this.h,p!==null&&b in p&&(p=this.h,b in p&&delete p[b])),this.j=new Fs(this)}g(zn,ne),zn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},zn.prototype.close=function(){yc(this.g)},zn.prototype.o=function(p){var b=this.g;if(typeof p=="string"){var T={};T.__data__=p,p=T}else this.v&&(T={},T.__data__=Pi(p),p=T);b.i.push(new qe(b.Ya++,p)),b.I==3&&ps(b)},zn.prototype.N=function(){this.g.l=null,delete this.j,yc(this.g),delete this.g,zn.Z.N.call(this)};function Dh(p){tn.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var b=p.__sm__;if(b){t:{for(const T in b){p=T;break t}p=void 0}(this.i=p)&&(p=this.i,b=b!==null&&p in b?b[p]:void 0),this.data=b}else this.data=p}g(Dh,tn);function Mh(){Vn.call(this),this.status=1}g(Mh,Vn);function Fs(p){this.g=p}g(Fs,Ih),Fs.prototype.ra=function(){Pe(this.g,"a")},Fs.prototype.qa=function(p){Pe(this.g,new Dh(p))},Fs.prototype.pa=function(p){Pe(this.g,new Mh)},Fs.prototype.oa=function(){Pe(this.g,"b")},kr.prototype.createWebChannel=kr.prototype.g,zn.prototype.send=zn.prototype.o,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,hw=function(){return new kr},uw=function(){return ns()},cw=Ee,dy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gi.NO_ERROR=0,gi.TIMEOUT=8,gi.HTTP_ERROR=6,cd=gi,gn.COMPLETE="complete",lw=gn,Vi.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",ne.prototype.listen=ne.prototype.J,fu=Vi,ue.prototype.listenOnce=ue.prototype.K,ue.prototype.getLastError=ue.prototype.Ha,ue.prototype.getLastErrorCode=ue.prototype.ya,ue.prototype.getStatus=ue.prototype.ca,ue.prototype.getResponseJson=ue.prototype.La,ue.prototype.getResponseText=ue.prototype.la,ue.prototype.send=ue.prototype.ea,ue.prototype.setWithCredentials=ue.prototype.Fa,ow=ue}).apply(typeof zf<"u"?zf:typeof self<"u"?self:typeof window<"u"?window:{});const SE="@firebase/firestore",TE="4.9.2";class Mn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Mn.UNAUTHENTICATED=new Mn(null),Mn.GOOGLE_CREDENTIALS=new Mn("google-credentials-uid"),Mn.FIRST_PARTY=new Mn("first-party-uid"),Mn.MOCK_USER=new Mn("mock-user");let Zl="12.3.0";const Ao=new Xy("@firebase/firestore");function Al(){return Ao.logLevel}function vt(n,...t){if(Ao.logLevel<=qt.DEBUG){const e=t.map(o_);Ao.debug(`Firestore (${Zl}): ${n}`,...e)}}function _r(n,...t){if(Ao.logLevel<=qt.ERROR){const e=t.map(o_);Ao.error(`Firestore (${Zl}): ${n}`,...e)}}function Vl(n,...t){if(Ao.logLevel<=qt.WARN){const e=t.map(o_);Ao.warn(`Firestore (${Zl}): ${n}`,...e)}}function o_(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function Ct(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,fw(n,i,e)}function fw(n,t,e){let i=`FIRESTORE (${Zl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw _r(i),new Error(i)}function se(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||fw(t,r,i)}function Ot(n,t){return n}const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends br{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ya{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class dw{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class EO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(Mn.UNAUTHENTICATED)))}shutdown(){}}class SO{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class TO{constructor(t){this.t=t,this.currentUser=Mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){se(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new ya;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ya,t.enqueueRetryable((()=>r(this.currentUser)))};const l=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await r(this.currentUser)}))},u=f=>{vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ya)}}),0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(se(typeof i.accessToken=="string",31837,{l:i}),new dw(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return se(t===null||typeof t=="string",2055,{h:t}),new Mn(t)}}class wO{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=Mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AO{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new wO(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(Mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class wE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RO{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Di(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){se(this.o===void 0,3512);const i=o=>{o.error!=null&&vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,vt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const r=o=>{vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new wE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(se(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new wE(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function CO(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class l_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=CO(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function Gt(n,t){return n<t?-1:n>t?1:0}function py(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),o=t.charAt(i);if(r!==o)return Pg(r)===Pg(o)?Gt(r,o):Pg(r)?1:-1}return Gt(n.length,t.length)}const IO=55296,DO=57343;function Pg(n){const t=n.charCodeAt(0);return t>=IO&&t<=DO}function jl(n,t,e){return n.length===t.length&&n.every(((i,r)=>e(i,t[r])))}const AE="__name__";class ws{constructor(t,e,i){e===void 0?e=0:e>t.length&&Ct(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Ct(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return ws.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ws?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=ws.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return Gt(t.length,e.length)}static compareSegments(t,e){const i=ws.isNumericId(t),r=ws.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?ws.extractNumericId(t).compare(ws.extractNumericId(e)):py(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ga.fromString(t.substring(4,t.length-2))}}class ge extends ws{construct(t,e,i){return new ge(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new gt(at.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((r=>r.length>0)))}return new ge(e)}static emptyPath(){return new ge([])}}const MO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wn extends ws{construct(t,e,i){return new wn(t,e,i)}static isValidIdentifier(t){return MO.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===AE}static keyField(){return new wn([AE])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new gt(at.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;r<t.length;){const u=t[r];if(u==="\\"){if(r+1===t.length)throw new gt(at.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new gt(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else u==="`"?(l=!l,r++):u!=="."||l?(i+=u,r++):(o(),r++)}if(o(),l)throw new gt(at.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new wn(e)}static emptyPath(){return new wn([])}}class Tt{constructor(t){this.path=t}static fromPath(t){return new Tt(ge.fromString(t))}static fromName(t){return new Tt(ge.fromString(t).popFirst(5))}static empty(){return new Tt(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ge.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ge.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Tt(new ge(t.slice()))}}function pw(n,t,e){if(!e)throw new gt(at.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function kO(n,t,e,i){if(t===!0&&i===!0)throw new gt(at.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function RE(n){if(!Tt.isDocumentKey(n))throw new gt(at.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function CE(n){if(Tt.isDocumentKey(n))throw new gt(at.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function mw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Qd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Ct(12329,{type:typeof n})}function Xi(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new gt(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Qd(n);throw new gt(at.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Je(n,t){const e={typeString:n};return t&&(e.value=t),e}function rh(n,t){if(!mw(n))throw new gt(at.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const l=n[i];if(r&&typeof l!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&l!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new gt(at.INVALID_ARGUMENT,e);return!0}const IE=-62135596800,DE=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(t){return be.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*DE);return new be(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new gt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new gt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<IE)throw new gt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/DE}_compareTo(t){return this.seconds===t.seconds?Gt(this.nanoseconds,t.nanoseconds):Gt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:be._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(rh(t,be._jsonSchema))return new be(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-IE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}be._jsonSchemaVersion="firestore/timestamp/1.0",be._jsonSchema={type:Je("string",be._jsonSchemaVersion),seconds:Je("number"),nanoseconds:Je("number")};class Mt{static fromTimestamp(t){return new Mt(t)}static min(){return new Mt(new be(0,0))}static max(){return new Mt(new be(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ou=-1;function NO(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Mt.fromTimestamp(i===1e9?new be(e+1,0):new be(e,i));return new ba(r,Tt.empty(),t)}function OO(n){return new ba(n.readTime,n.key,Ou)}class ba{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ba(Mt.min(),Tt.empty(),Ou)}static max(){return new ba(Mt.max(),Tt.empty(),Ou)}}function PO(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Tt.comparator(n.documentKey,t.documentKey),e!==0?e:Gt(n.largestBatchId,t.largestBatchId))}const LO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function tc(n){if(n.code!==at.FAILED_PRECONDITION||n.message!==LO)throw n;vt("LocalStore","Unexpectedly lost primary lease")}class ut{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Ct(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ut(((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof ut?e:ut.resolve(e)}catch(e){return ut.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):ut.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):ut.reject(e)}static resolve(t){return new ut(((e,i)=>{e(t)}))}static reject(t){return new ut(((e,i)=>{i(t)}))}static waitFor(t){return new ut(((e,i)=>{let r=0,o=0,l=!1;t.forEach((u=>{++r,u.next((()=>{++o,l&&o===r&&e()}),(f=>i(f)))})),l=!0,o===r&&e()}))}static or(t){let e=ut.resolve(!1);for(const i of t)e=e.next((r=>r?ut.resolve(r):i()));return e}static forEach(t,e){const i=[];return t.forEach(((r,o)=>{i.push(e.call(this,r,o))})),this.waitFor(i)}static mapArray(t,e){return new ut(((i,r)=>{const o=t.length,l=new Array(o);let u=0;for(let f=0;f<o;f++){const d=f;e(t[d]).next((y=>{l[d]=y,++u,u===o&&i(l)}),(y=>r(y)))}}))}static doWhile(t,e){return new ut(((i,r)=>{const o=()=>{t()===!0?e().next((()=>{o()}),r):i()};o()}))}}function jO(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function ec(n){return n.name==="IndexedDbTransactionError"}class Jd{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Jd.ce=-1;const c_=-1;function Zd(n){return n==null}function Ad(n){return n===0&&1/n==-1/0}function zO(n){return typeof n=="number"&&Number.isInteger(n)&&!Ad(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const gw="";function UO(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=ME(t)),t=BO(n.get(e),t);return ME(t)}function BO(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case gw:e+="";break;default:e+=o}}return e}function ME(n){return n+gw+""}function kE(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Ma(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function yw(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class De{constructor(t,e){this.comparator=t,this.root=e||Tn.EMPTY}insert(t,e){return new De(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(t){return new De(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Uf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Uf(this.root,t,this.comparator,!1)}getReverseIterator(){return new Uf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Uf(this.root,t,this.comparator,!0)}}class Uf{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Tn{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Tn.RED,this.left=r??Tn.EMPTY,this.right=o??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Tn(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return Tn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ct(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ct(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ct(27949);return t+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ct(57766)}get value(){throw Ct(16141)}get color(){throw Ct(16727)}get left(){throw Ct(29726)}get right(){throw Ct(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new Tn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class sn{constructor(t){this.comparator=t,this.data=new De(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new NE(this.data.getIterator())}getIteratorFrom(t){return new NE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof sn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new sn(this.comparator);return e.data=t,e}}class NE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class di{constructor(t){this.fields=t,t.sort(wn.comparator)}static empty(){return new di([])}unionWith(t){let e=new sn(wn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new di(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return jl(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}class _w extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class An{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new _w("Invalid base64 string: "+o):o}})(t);return new An(e)}static fromUint8Array(t){const e=(function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o})(t);return new An(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Gt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}An.EMPTY_BYTE_STRING=new An("");const FO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xa(n){if(se(!!n,39018),typeof n=="string"){let t=0;const e=FO.exec(n);if(se(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ze(n.seconds),nanos:ze(n.nanos)}}function ze(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ea(n){return typeof n=="string"?An.fromBase64String(n):An.fromUint8Array(n)}const vw="server_timestamp",bw="__type__",xw="__previous_value__",Ew="__local_write_time__";function u_(n){return(n?.mapValue?.fields||{})[bw]?.stringValue===vw}function tp(n){const t=n.mapValue.fields[xw];return u_(t)?tp(t):t}function Pu(n){const t=xa(n.mapValue.fields[Ew].timestampValue);return new be(t.seconds,t.nanos)}class HO{constructor(t,e,i,r,o,l,u,f,d,y){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=y}}const Rd="(default)";class Lu{constructor(t,e){this.projectId=t,this.database=e||Rd}static empty(){return new Lu("","")}get isDefaultDatabase(){return this.database===Rd}isEqual(t){return t instanceof Lu&&t.projectId===this.projectId&&t.database===this.database}}const Sw="__type__",qO="__max__",Bf={mapValue:{}},Tw="__vector__",Cd="value";function Sa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?u_(n)?4:YO(n)?9007199254740991:GO(n)?10:11:Ct(28295,{value:n})}function Ps(n,t){if(n===t)return!0;const e=Sa(n);if(e!==Sa(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Pu(n).isEqual(Pu(t));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=xa(r.timestampValue),u=xa(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(r,o){return Ea(r.bytesValue).isEqual(Ea(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(r,o){return ze(r.geoPointValue.latitude)===ze(o.geoPointValue.latitude)&&ze(r.geoPointValue.longitude)===ze(o.geoPointValue.longitude)})(n,t);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return ze(r.integerValue)===ze(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=ze(r.doubleValue),u=ze(o.doubleValue);return l===u?Ad(l)===Ad(u):isNaN(l)&&isNaN(u)}return!1})(n,t);case 9:return jl(n.arrayValue.values||[],t.arrayValue.values||[],Ps);case 10:case 11:return(function(r,o){const l=r.mapValue.fields||{},u=o.mapValue.fields||{};if(kE(l)!==kE(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!Ps(l[f],u[f])))return!1;return!0})(n,t);default:return Ct(52216,{left:n})}}function Vu(n,t){return(n.values||[]).find((e=>Ps(e,t)))!==void 0}function zl(n,t){if(n===t)return 0;const e=Sa(n),i=Sa(t);if(e!==i)return Gt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Gt(n.booleanValue,t.booleanValue);case 2:return(function(o,l){const u=ze(o.integerValue||o.doubleValue),f=ze(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(n,t);case 3:return OE(n.timestampValue,t.timestampValue);case 4:return OE(Pu(n),Pu(t));case 5:return py(n.stringValue,t.stringValue);case 6:return(function(o,l){const u=Ea(o),f=Ea(l);return u.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,l){const u=o.split("/"),f=l.split("/");for(let d=0;d<u.length&&d<f.length;d++){const y=Gt(u[d],f[d]);if(y!==0)return y}return Gt(u.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,l){const u=Gt(ze(o.latitude),ze(l.latitude));return u!==0?u:Gt(ze(o.longitude),ze(l.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return PE(n.arrayValue,t.arrayValue);case 10:return(function(o,l){const u=o.fields||{},f=l.fields||{},d=u[Cd]?.arrayValue,y=f[Cd]?.arrayValue,g=Gt(d?.values?.length||0,y?.values?.length||0);return g!==0?g:PE(d,y)})(n.mapValue,t.mapValue);case 11:return(function(o,l){if(o===Bf.mapValue&&l===Bf.mapValue)return 0;if(o===Bf.mapValue)return 1;if(l===Bf.mapValue)return-1;const u=o.fields||{},f=Object.keys(u),d=l.fields||{},y=Object.keys(d);f.sort(),y.sort();for(let g=0;g<f.length&&g<y.length;++g){const v=py(f[g],y[g]);if(v!==0)return v;const E=zl(u[f[g]],d[y[g]]);if(E!==0)return E}return Gt(f.length,y.length)})(n.mapValue,t.mapValue);default:throw Ct(23264,{he:e})}}function OE(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Gt(n,t);const e=xa(n),i=xa(t),r=Gt(e.seconds,i.seconds);return r!==0?r:Gt(e.nanos,i.nanos)}function PE(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=zl(e[r],i[r]);if(o)return o}return Gt(e.length,i.length)}function Ul(n){return my(n)}function my(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=xa(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Ea(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return Tt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=my(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const l of i)o?o=!1:r+=",",r+=`${l}:${my(e.fields[l])}`;return r+"}"})(n.mapValue):Ct(61005,{value:n})}function ud(n){switch(Sa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=tp(n);return t?16+ud(t):16;case 5:return 2*n.stringValue.length;case 6:return Ea(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,o)=>r+ud(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return Ma(i.fields,((o,l)=>{r+=o.length+ud(l)})),r})(n.mapValue);default:throw Ct(13486,{value:n})}}function LE(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function gy(n){return!!n&&"integerValue"in n}function h_(n){return!!n&&"arrayValue"in n}function VE(n){return!!n&&"nullValue"in n}function jE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hd(n){return!!n&&"mapValue"in n}function GO(n){return(n?.mapValue?.fields||{})[Sw]?.stringValue===Tw}function Eu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Ma(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=Eu(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Eu(n.arrayValue.values[e]);return t}return{...n}}function YO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===qO}class Qn{constructor(t){this.value=t}static empty(){return new Qn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!hd(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Eu(e)}setAll(t){let e=wn.emptyPath(),i={},r=[];t.forEach(((l,u)=>{if(!e.isImmediateParentOf(u)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=u.popLast()}l?i[u.lastSegment()]=Eu(l):r.push(u.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());hd(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ps(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];hd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Ma(e,((r,o)=>t[r]=o));for(const r of i)delete t[r]}clone(){return new Qn(Eu(this.value))}}function ww(n){const t=[];return Ma(n.fields,((e,i)=>{const r=new wn([e]);if(hd(i)){const o=ww(i.mapValue).fields;if(o.length===0)t.push(r);else for(const l of o)t.push(r.child(l))}else t.push(r)})),new di(t)}class Nn{constructor(t,e,i,r,o,l,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(t){return new Nn(t,0,Mt.min(),Mt.min(),Mt.min(),Qn.empty(),0)}static newFoundDocument(t,e,i,r){return new Nn(t,1,e,Mt.min(),i,r,0)}static newNoDocument(t,e){return new Nn(t,2,e,Mt.min(),Mt.min(),Qn.empty(),0)}static newUnknownDocument(t,e){return new Nn(t,3,e,Mt.min(),Mt.min(),Qn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Id{constructor(t,e){this.position=t,this.inclusive=e}}function zE(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],l=n.position[r];if(o.field.isKeyField()?i=Tt.comparator(Tt.fromName(l.referenceValue),e.key):i=zl(l,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function UE(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ps(n.position[e],t.position[e]))return!1;return!0}class ju{constructor(t,e="asc"){this.field=t,this.dir=e}}function WO(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class Aw{}class Qe extends Aw{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new KO(t,e,i):e==="array-contains"?new JO(t,i):e==="in"?new ZO(t,i):e==="not-in"?new tP(t,i):e==="array-contains-any"?new eP(t,i):new Qe(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new XO(t,i):new QO(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(zl(e,this.value)):e!==null&&Sa(this.value)===Sa(e)&&this.matchesComparison(zl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ct(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ji extends Aw{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Ji(t,e)}matches(t){return Rw(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Rw(n){return n.op==="and"}function Cw(n){return $O(n)&&Rw(n)}function $O(n){for(const t of n.filters)if(t instanceof Ji)return!1;return!0}function yy(n){if(n instanceof Qe)return n.field.canonicalString()+n.op.toString()+Ul(n.value);if(Cw(n))return n.filters.map((t=>yy(t))).join(",");{const t=n.filters.map((e=>yy(e))).join(",");return`${n.op}(${t})`}}function Iw(n,t){return n instanceof Qe?(function(i,r){return r instanceof Qe&&i.op===r.op&&i.field.isEqual(r.field)&&Ps(i.value,r.value)})(n,t):n instanceof Ji?(function(i,r){return r instanceof Ji&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((o,l,u)=>o&&Iw(l,r.filters[u])),!0):!1})(n,t):void Ct(19439)}function Dw(n){return n instanceof Qe?(function(e){return`${e.field.canonicalString()} ${e.op} ${Ul(e.value)}`})(n):n instanceof Ji?(function(e){return e.op.toString()+" {"+e.getFilters().map(Dw).join(" ,")+"}"})(n):"Filter"}class KO extends Qe{constructor(t,e,i){super(t,e,i),this.key=Tt.fromName(i.referenceValue)}matches(t){const e=Tt.comparator(t.key,this.key);return this.matchesComparison(e)}}class XO extends Qe{constructor(t,e){super(t,"in",e),this.keys=Mw("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class QO extends Qe{constructor(t,e){super(t,"not-in",e),this.keys=Mw("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Mw(n,t){return(t.arrayValue?.values||[]).map((e=>Tt.fromName(e.referenceValue)))}class JO extends Qe{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return h_(e)&&Vu(e.arrayValue,this.value)}}class ZO extends Qe{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Vu(this.value.arrayValue,e)}}class tP extends Qe{constructor(t,e){super(t,"not-in",e)}matches(t){if(Vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Vu(this.value.arrayValue,e)}}class eP extends Qe{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!h_(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Vu(this.value.arrayValue,i)))}}class nP{constructor(t,e=null,i=[],r=[],o=null,l=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=l,this.endAt=u,this.Te=null}}function BE(n,t=null,e=[],i=[],r=null,o=null,l=null){return new nP(n,t,e,i,r,o,l)}function f_(n){const t=Ot(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>yy(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),Zd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>Ul(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>Ul(i))).join(",")),t.Te=e}return t.Te}function d_(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!WO(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Iw(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!UE(n.startAt,t.startAt)&&UE(n.endAt,t.endAt)}function _y(n){return Tt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class nc{constructor(t,e=null,i=[],r=[],o=null,l="F",u=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function iP(n,t,e,i,r,o,l,u){return new nc(n,t,e,i,r,o,l,u)}function p_(n){return new nc(n)}function FE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function kw(n){return n.collectionGroup!==null}function Su(n){const t=Ot(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new sn(wn.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(u=u.add(d.field))}))})),u})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new ju(o,i))})),e.has(wn.keyField().canonicalString())||t.Ie.push(new ju(wn.keyField(),i))}return t.Ie}function Cs(n){const t=Ot(n);return t.Ee||(t.Ee=sP(t,Su(n))),t.Ee}function sP(n,t){if(n.limitType==="F")return BE(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new ju(r.field,o)}));const e=n.endAt?new Id(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Id(n.startAt.position,n.startAt.inclusive):null;return BE(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function vy(n,t){const e=n.filters.concat([t]);return new nc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Dd(n,t,e){return new nc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function ep(n,t){return d_(Cs(n),Cs(t))&&n.limitType===t.limitType}function Nw(n){return`${f_(Cs(n))}|lt:${n.limitType}`}function Rl(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((r=>Dw(r))).join(", ")}]`),Zd(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((r=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(r))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Ul(r))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Ul(r))).join(",")),`Target(${i})`})(Cs(n))}; limitType=${n.limitType})`}function np(n,t){return t.isFoundDocument()&&(function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Tt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,r){for(const o of Su(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0})(n,t)&&(function(i,r){return!(i.startAt&&!(function(l,u,f){const d=zE(l,u,f);return l.inclusive?d<=0:d<0})(i.startAt,Su(i),r)||i.endAt&&!(function(l,u,f){const d=zE(l,u,f);return l.inclusive?d>=0:d>0})(i.endAt,Su(i),r))})(n,t)}function rP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Ow(n){return(t,e)=>{let i=!1;for(const r of Su(n)){const o=aP(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function aP(n,t,e){const i=n.field.isKeyField()?Tt.comparator(t.key,e.key):(function(o,l,u){const f=l.data.field(o),d=u.data.field(o);return f!==null&&d!==null?zl(f,d):Ct(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ct(19790,{direction:n.dir})}}class Oo{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Ma(this.inner,((e,i)=>{for(const[r,o]of i)t(r,o)}))}isEmpty(){return yw(this.inner)}size(){return this.innerSize}}const oP=new De(Tt.comparator);function vr(){return oP}const Pw=new De(Tt.comparator);function du(...n){let t=Pw;for(const e of n)t=t.insert(e.key,e);return t}function Lw(n){let t=Pw;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function yo(){return Tu()}function Vw(){return Tu()}function Tu(){return new Oo((n=>n.toString()),((n,t)=>n.isEqual(t)))}const lP=new De(Tt.comparator),cP=new sn(Tt.comparator);function Yt(...n){let t=cP;for(const e of n)t=t.add(e);return t}const uP=new sn(Gt);function hP(){return uP}function m_(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ad(t)?"-0":t}}function jw(n){return{integerValue:""+n}}function fP(n,t){return zO(t)?jw(t):m_(n,t)}class ip{constructor(){this._=void 0}}function dP(n,t,e){return n instanceof zu?(function(r,o){const l={fields:{[bw]:{stringValue:vw},[Ew]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&u_(o)&&(o=tp(o)),o&&(l.fields[xw]=o),{mapValue:l}})(e,t):n instanceof Uu?Uw(n,t):n instanceof Bu?Bw(n,t):(function(r,o){const l=zw(r,o),u=HE(l)+HE(r.Ae);return gy(l)&&gy(r.Ae)?jw(u):m_(r.serializer,u)})(n,t)}function pP(n,t,e){return n instanceof Uu?Uw(n,t):n instanceof Bu?Bw(n,t):e}function zw(n,t){return n instanceof Md?(function(i){return gy(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class zu extends ip{}class Uu extends ip{constructor(t){super(),this.elements=t}}function Uw(n,t){const e=Fw(t);for(const i of n.elements)e.some((r=>Ps(r,i)))||e.push(i);return{arrayValue:{values:e}}}class Bu extends ip{constructor(t){super(),this.elements=t}}function Bw(n,t){let e=Fw(t);for(const i of n.elements)e=e.filter((r=>!Ps(r,i)));return{arrayValue:{values:e}}}class Md extends ip{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function HE(n){return ze(n.integerValue||n.doubleValue)}function Fw(n){return h_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class mP{constructor(t,e){this.field=t,this.transform=e}}function gP(n,t){return n.field.isEqual(t.field)&&(function(i,r){return i instanceof Uu&&r instanceof Uu||i instanceof Bu&&r instanceof Bu?jl(i.elements,r.elements,Ps):i instanceof Md&&r instanceof Md?Ps(i.Ae,r.Ae):i instanceof zu&&r instanceof zu})(n.transform,t.transform)}class yP{constructor(t,e){this.version=t,this.transformResults=e}}class Zn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Zn}static exists(t){return new Zn(void 0,t)}static updateTime(t){return new Zn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function fd(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class sp{}function Hw(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new rp(n.key,Zn.none()):new ah(n.key,n.data,Zn.none());{const e=n.data,i=Qn.empty();let r=new sn(wn.comparator);for(let o of t.fields)if(!r.has(o)){let l=e.field(o);l===null&&o.length>1&&(o=o.popLast(),l=e.field(o)),l===null?i.delete(o):i.set(o,l),r=r.add(o)}return new ka(n.key,i,new di(r.toArray()),Zn.none())}}function _P(n,t,e){n instanceof ah?(function(r,o,l){const u=r.value.clone(),f=GE(r.fieldTransforms,o,l.transformResults);u.setAll(f),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,t,e):n instanceof ka?(function(r,o,l){if(!fd(r.precondition,o))return void o.convertToUnknownDocument(l.version);const u=GE(r.fieldTransforms,o,l.transformResults),f=o.data;f.setAll(qw(r)),f.setAll(u),o.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(n,t,e):(function(r,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,t,e)}function wu(n,t,e,i){return n instanceof ah?(function(o,l,u,f){if(!fd(o.precondition,l))return u;const d=o.value.clone(),y=YE(o.fieldTransforms,f,l);return d.setAll(y),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null})(n,t,e,i):n instanceof ka?(function(o,l,u,f){if(!fd(o.precondition,l))return u;const d=YE(o.fieldTransforms,f,l),y=l.data;return y.setAll(qw(o)),y.setAll(d),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((g=>g.field)))})(n,t,e,i):(function(o,l,u){return fd(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,t,e)}function vP(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=zw(i.transform,r||null);o!=null&&(e===null&&(e=Qn.empty()),e.set(i.field,o))}return e||null}function qE(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&jl(i,r,((o,l)=>gP(o,l)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class ah extends sp{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ka extends sp{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function qw(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function GE(n,t,e){const i=new Map;se(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let r=0;r<e.length;r++){const o=n[r],l=o.transform,u=t.data.field(o.field);i.set(o.field,pP(l,u,e[r]))}return i}function YE(n,t,e){const i=new Map;for(const r of n){const o=r.transform,l=e.data.field(r.field);i.set(r.field,dP(o,l,t))}return i}class rp extends sp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bP extends sp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xP{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&_P(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=wu(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=wu(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=Vw();return this.mutations.forEach((r=>{const o=t.get(r.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=e.has(r.key)?null:u;const f=Hw(l,u);f!==null&&i.set(r.key,f),l.isValidDocument()||l.convertToNoDocument(Mt.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Yt())}isEqual(t){return this.batchId===t.batchId&&jl(this.mutations,t.mutations,((e,i)=>qE(e,i)))&&jl(this.baseMutations,t.baseMutations,((e,i)=>qE(e,i)))}}class g_{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){se(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=(function(){return lP})();const o=t.mutations;for(let l=0;l<o.length;l++)r=r.insert(o[l].key,i[l].version);return new g_(t,e,i,r)}}class EP{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class SP{constructor(t,e){this.count=t,this.unchangedNames=e}}var Xe,Xt;function TP(n){switch(n){case at.OK:return Ct(64938);case at.CANCELLED:case at.UNKNOWN:case at.DEADLINE_EXCEEDED:case at.RESOURCE_EXHAUSTED:case at.INTERNAL:case at.UNAVAILABLE:case at.UNAUTHENTICATED:return!1;case at.INVALID_ARGUMENT:case at.NOT_FOUND:case at.ALREADY_EXISTS:case at.PERMISSION_DENIED:case at.FAILED_PRECONDITION:case at.ABORTED:case at.OUT_OF_RANGE:case at.UNIMPLEMENTED:case at.DATA_LOSS:return!0;default:return Ct(15467,{code:n})}}function Gw(n){if(n===void 0)return _r("GRPC error has no .code"),at.UNKNOWN;switch(n){case Xe.OK:return at.OK;case Xe.CANCELLED:return at.CANCELLED;case Xe.UNKNOWN:return at.UNKNOWN;case Xe.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case Xe.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case Xe.INTERNAL:return at.INTERNAL;case Xe.UNAVAILABLE:return at.UNAVAILABLE;case Xe.UNAUTHENTICATED:return at.UNAUTHENTICATED;case Xe.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case Xe.NOT_FOUND:return at.NOT_FOUND;case Xe.ALREADY_EXISTS:return at.ALREADY_EXISTS;case Xe.PERMISSION_DENIED:return at.PERMISSION_DENIED;case Xe.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case Xe.ABORTED:return at.ABORTED;case Xe.OUT_OF_RANGE:return at.OUT_OF_RANGE;case Xe.UNIMPLEMENTED:return at.UNIMPLEMENTED;case Xe.DATA_LOSS:return at.DATA_LOSS;default:return Ct(39323,{code:n})}}(Xt=Xe||(Xe={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";function wP(){return new TextEncoder}const AP=new ga([4294967295,4294967295],0);function WE(n){const t=wP().encode(n),e=new aw;return e.update(t),new Uint8Array(e.digest())}function $E(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new ga([e,i],0),new ga([r,o],0)]}class y_{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new pu(`Invalid padding: ${e}`);if(i<0)throw new pu(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new pu(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new pu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=ga.fromNumber(this.ge)}ye(t,e,i){let r=t.add(e.multiply(ga.fromNumber(i)));return r.compare(AP)===1&&(r=new ga([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=WE(t),[i,r]=$E(e);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,r,o);if(!this.we(l))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),l=new y_(o,r,e);return i.forEach((u=>l.insert(u))),l}insert(t){if(this.ge===0)return;const e=WE(t),[i,r]=$E(e);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,r,o);this.Se(l)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ap{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,oh.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new ap(Mt.min(),r,new De(Gt),vr(),Yt())}}class oh{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new oh(i,e,Yt(),Yt(),Yt())}}class dd{constructor(t,e,i,r){this.be=t,this.removedTargetIds=e,this.key=i,this.De=r}}class Yw{constructor(t,e){this.targetId=t,this.Ce=e}}class Ww{constructor(t,e,i=An.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class KE{constructor(){this.ve=0,this.Fe=XE(),this.Me=An.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Yt(),e=Yt(),i=Yt();return this.Fe.forEach(((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Ct(38017,{changeType:o})}})),new oh(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=XE()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,se(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class RP{constructor(t){this.Ge=t,this.ze=new Map,this.je=vr(),this.Je=Ff(),this.He=Ff(),this.Ye=new De(Gt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:Ct(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,r)=>{this.rt(r)&&e(r)}))}st(t){const e=t.targetId,i=t.Ce.count,r=this.ot(e);if(r){const o=r.target;if(_y(o))if(i===0){const l=new Tt(o.path);this.et(e,l,Nn.newNoDocument(l,Mt.min()))}else se(i===1,20013,{expectedCount:i});else{const l=this._t(e);if(l!==i){const u=this.ut(t),f=u?this.ct(u,t,l):1;if(f!==0){this.it(e);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,d)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let l,u;try{l=Ea(i).toUint8Array()}catch(f){if(f instanceof _w)return Vl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new y_(l,r,o)}catch(f){return Vl(f instanceof pu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let r=0;return i.forEach((o=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;t.mightContain(u)||(this.et(e,o,null),r++)})),r}Tt(t){const e=new Map;this.ze.forEach(((o,l)=>{const u=this.ot(l);if(u){if(o.current&&_y(u.target)){const f=new Tt(u.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,Nn.newNoDocument(f,t))}o.Be&&(e.set(l,o.ke()),o.qe())}}));let i=Yt();this.He.forEach(((o,l)=>{let u=!0;l.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(i=i.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(t)));const r=new ap(t,e,this.Ye,this.je,i);return this.je=vr(),this.Je=Ff(),this.He=Ff(),this.Ye=new De(Gt),r}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,e)?r.Qe(e,1):r.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new KE,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new sn(Gt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new sn(Gt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||vt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new KE),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Ff(){return new De(Tt.comparator)}function XE(){return new De(Tt.comparator)}const CP={asc:"ASCENDING",desc:"DESCENDING"},IP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DP={and:"AND",or:"OR"};class MP{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function by(n,t){return n.useProto3Json||Zd(t)?t:{value:t}}function kd(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function $w(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function kP(n,t){return kd(n,t.toTimestamp())}function Is(n){return se(!!n,49232),Mt.fromTimestamp((function(e){const i=xa(e);return new be(i.seconds,i.nanos)})(n))}function __(n,t){return xy(n,t).canonicalString()}function xy(n,t){const e=(function(r){return new ge(["projects",r.projectId,"databases",r.database])})(n).child("documents");return t===void 0?e:e.child(t)}function Kw(n){const t=ge.fromString(n);return se(tA(t),10190,{key:t.toString()}),t}function Ey(n,t){return __(n.databaseId,t.path)}function Lg(n,t){const e=Kw(t);if(e.get(1)!==n.databaseId.projectId)throw new gt(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new gt(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Tt(Qw(e))}function Xw(n,t){return __(n.databaseId,t)}function NP(n){const t=Kw(n);return t.length===4?ge.emptyPath():Qw(t)}function Sy(n){return new ge(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Qw(n){return se(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function QE(n,t,e){return{name:Ey(n,t),fields:e.value.mapValue.fields}}function OP(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ct(39313,{state:d})})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=(function(d,y){return d.useProto3Json?(se(y===void 0||typeof y=="string",58123),An.fromBase64String(y||"")):(se(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),An.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),l=t.targetChange.cause,u=l&&(function(d){const y=d.code===void 0?at.UNKNOWN:Gw(d.code);return new gt(y,d.message||"")})(l);e=new Ww(i,r,o,u||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Lg(n,i.document.name),o=Is(i.document.updateTime),l=i.document.createTime?Is(i.document.createTime):Mt.min(),u=new Qn({mapValue:{fields:i.document.fields}}),f=Nn.newFoundDocument(r,o,l,u),d=i.targetIds||[],y=i.removedTargetIds||[];e=new dd(d,y,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Lg(n,i.document),o=i.readTime?Is(i.readTime):Mt.min(),l=Nn.newNoDocument(r,o),u=i.removedTargetIds||[];e=new dd([],u,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Lg(n,i.document),o=i.removedTargetIds||[];e=new dd([],o,r,null)}else{if(!("filter"in t))return Ct(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,l=new SP(r,o),u=i.targetId;e=new Yw(u,l)}}return e}function PP(n,t){let e;if(t instanceof ah)e={update:QE(n,t.key,t.value)};else if(t instanceof rp)e={delete:Ey(n,t.key)};else if(t instanceof ka)e={update:QE(n,t.key,t.data),updateMask:qP(t.fieldMask)};else{if(!(t instanceof bP))return Ct(16599,{Vt:t.type});e={verify:Ey(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,l){const u=l.transform;if(u instanceof zu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Uu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Bu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Md)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Ct(20930,{transform:l.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:kP(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ct(27497)})(n,t.precondition)),e}function LP(n,t){return n&&n.length>0?(se(t!==void 0,14353),n.map((e=>(function(r,o){let l=r.updateTime?Is(r.updateTime):Is(o);return l.isEqual(Mt.min())&&(l=Is(o)),new yP(l,r.transformResults||[])})(e,t)))):[]}function VP(n,t){return{documents:[Xw(n,t.path)]}}function jP(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=Xw(n,r);const o=(function(d){if(d.length!==0)return Zw(Ji.create(d,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const l=(function(d){if(d.length!==0)return d.map((y=>(function(v){return{field:Cl(v.field),direction:BP(v.dir)}})(y)))})(t.orderBy);l&&(e.structuredQuery.orderBy=l);const u=by(n,t.limit);return u!==null&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(t.endAt)),{ft:e,parent:r}}function zP(n){let t=NP(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){se(i===1,65062);const y=e.from[0];y.allDescendants?r=y.collectionId:t=t.child(y.collectionId)}let o=[];e.where&&(o=(function(g){const v=Jw(g);return v instanceof Ji&&Cw(v)?v.getFilters():[v]})(e.where));let l=[];e.orderBy&&(l=(function(g){return g.map((v=>(function(w){return new ju(Il(w.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(v)))})(e.orderBy));let u=null;e.limit&&(u=(function(g){let v;return v=typeof g=="object"?g.value:g,Zd(v)?null:v})(e.limit));let f=null;e.startAt&&(f=(function(g){const v=!!g.before,E=g.values||[];return new Id(E,v)})(e.startAt));let d=null;return e.endAt&&(d=(function(g){const v=!g.before,E=g.values||[];return new Id(E,v)})(e.endAt)),iP(t,r,l,o,u,"F",f,d)}function UP(n,t){const e=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ct(28987,{purpose:r})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function Jw(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Il(e.unaryFilter.field);return Qe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Il(e.unaryFilter.field);return Qe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Il(e.unaryFilter.field);return Qe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Il(e.unaryFilter.field);return Qe.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ct(61313);default:return Ct(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Qe.create(Il(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ct(58110);default:return Ct(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Ji.create(e.compositeFilter.filters.map((i=>Jw(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ct(1026)}})(e.compositeFilter.op))})(n):Ct(30097,{filter:n})}function BP(n){return CP[n]}function FP(n){return IP[n]}function HP(n){return DP[n]}function Cl(n){return{fieldPath:n.canonicalString()}}function Il(n){return wn.fromServerFormat(n.fieldPath)}function Zw(n){return n instanceof Qe?(function(e){if(e.op==="=="){if(jE(e.value))return{unaryFilter:{field:Cl(e.field),op:"IS_NAN"}};if(VE(e.value))return{unaryFilter:{field:Cl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(jE(e.value))return{unaryFilter:{field:Cl(e.field),op:"IS_NOT_NAN"}};if(VE(e.value))return{unaryFilter:{field:Cl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cl(e.field),op:FP(e.op),value:e.value}}})(n):n instanceof Ji?(function(e){const i=e.getFilters().map((r=>Zw(r)));return i.length===1?i[0]:{compositeFilter:{op:HP(e.op),filters:i}}})(n):Ct(54877,{filter:n})}function qP(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function tA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class la{constructor(t,e,i,r,o=Mt.min(),l=Mt.min(),u=An.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(t){return new la(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class GP{constructor(t){this.yt=t}}function YP(n){const t=zP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Dd(t,t.limit,"L"):t}class WP{constructor(){this.Cn=new $P}addToCollectionParentIndex(t,e){return this.Cn.add(e),ut.resolve()}getCollectionParents(t,e){return ut.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return ut.resolve()}deleteFieldIndex(t,e){return ut.resolve()}deleteAllFieldIndexes(t){return ut.resolve()}createTargetIndexes(t,e){return ut.resolve()}getDocumentsMatchingTarget(t,e){return ut.resolve(null)}getIndexType(t,e){return ut.resolve(0)}getFieldIndexes(t,e){return ut.resolve([])}getNextCollectionGroupToUpdate(t){return ut.resolve(null)}getMinOffset(t,e){return ut.resolve(ba.min())}getMinOffsetFromCollectionGroup(t,e){return ut.resolve(ba.min())}updateCollectionGroup(t,e,i){return ut.resolve()}updateIndexEntries(t,e){return ut.resolve()}}class $P{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new sn(ge.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new sn(ge.comparator)).toArray()}}const JE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eA=41943040;class Xn{static withCacheSize(t){return new Xn(t,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}Xn.DEFAULT_COLLECTION_PERCENTILE=10,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xn.DEFAULT=new Xn(eA,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xn.DISABLED=new Xn(-1,0,0);class Bl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Bl(0)}static cr(){return new Bl(-1)}}const ZE="LruGarbageCollector",KP=1048576;function tS([n,t],[e,i]){const r=Gt(n,e);return r===0?Gt(t,i):r}class XP{constructor(t){this.Ir=t,this.buffer=new sn(tS),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();tS(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class QP{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){vt(ZE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ec(e)?vt(ZE,"Ignoring IndexedDB error during garbage collection: ",e):await tc(e)}await this.Vr(3e5)}))}}class JP{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return ut.resolve(Jd.ce);const i=new XP(e);return this.mr.forEachTarget(t,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(t,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(vt("LruGarbageCollector","Garbage collection skipped; disabled"),ut.resolve(JE)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(vt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JE):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,r,o,l,u,f,d;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(vt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),r=this.params.maximumSequenceNumbersToCollect):r=g,l=Date.now(),this.nthSequenceNumber(t,r)))).next((g=>(i=g,u=Date.now(),this.removeTargets(t,i,e)))).next((g=>(o=g,f=Date.now(),this.removeOrphanedDocuments(t,i)))).next((g=>(d=Date.now(),Al()<=qt.DEBUG&&vt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-y}ms
	Determined least recently used ${r} in `+(u-l)+`ms
	Removed ${o} targets in `+(f-u)+`ms
	Removed ${g} documents in `+(d-f)+`ms
Total Duration: ${d-y}ms`),ut.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:g}))))}}function ZP(n,t){return new JP(n,t)}class tL{constructor(){this.changes=new Oo((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Nn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?ut.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class eL{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class nL{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(i=r,this.remoteDocumentCache.getEntry(t,e)))).next((r=>(i!==null&&wu(i.mutation,r,di.empty(),be.now()),r)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Yt()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Yt()){const r=yo();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,i).next((o=>{let l=du();return o.forEach(((u,f)=>{l=l.insert(u,f.overlayedDocument)})),l}))))}getOverlayedDocuments(t,e){const i=yo();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Yt())))}populateOverlays(t,e,i){const r=[];return i.forEach((o=>{e.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(t,r).next((o=>{o.forEach(((l,u)=>{e.set(l,u)}))}))}computeViews(t,e,i,r){let o=vr();const l=Tu(),u=(function(){return Tu()})();return e.forEach(((f,d)=>{const y=i.get(d.key);r.has(d.key)&&(y===void 0||y.mutation instanceof ka)?o=o.insert(d.key,d):y!==void 0?(l.set(d.key,y.mutation.getFieldMask()),wu(y.mutation,d,y.mutation.getFieldMask(),be.now())):l.set(d.key,di.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((d,y)=>l.set(d,y))),e.forEach(((d,y)=>u.set(d,new eL(y,l.get(d)??null)))),u)))}recalculateAndSaveOverlays(t,e){const i=Tu();let r=new De(((l,u)=>l-u)),o=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((l=>{for(const u of l)u.keys().forEach((f=>{const d=e.get(f);if(d===null)return;let y=i.get(f)||di.empty();y=u.applyToLocalView(d,y),i.set(f,y);const g=(r.get(u.batchId)||Yt()).add(f);r=r.insert(u.batchId,g)}))})).next((()=>{const l=[],u=r.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),d=f.key,y=f.value,g=Vw();y.forEach((v=>{if(!o.has(v)){const E=Hw(e.get(v),i.get(v));E!==null&&g.set(v,E),o=o.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(t,d,g))}return ut.waitFor(l)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,r){return(function(l){return Tt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):kw(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next((o=>{const l=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):ut.resolve(yo());let u=Ou,f=o;return l.next((d=>ut.forEach(d,((y,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),o.get(y)?ut.resolve():this.remoteDocumentCache.getEntry(t,y).next((v=>{f=f.insert(y,v)}))))).next((()=>this.populateOverlays(t,d,o))).next((()=>this.computeViews(t,f,d,Yt()))).next((y=>({batchId:u,changes:Lw(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Tt(e)).next((i=>{let r=du();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let l=du();return this.indexManager.getCollectionParents(t,o).next((u=>ut.forEach(u,(f=>{const d=(function(g,v){return new nc(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,i,r).next((y=>{y.forEach(((g,v)=>{l=l.insert(g,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r)))).next((l=>{o.forEach(((f,d)=>{const y=d.getKey();l.get(y)===null&&(l=l.insert(y,Nn.newInvalidDocument(y)))}));let u=du();return l.forEach(((f,d)=>{const y=o.get(f);y!==void 0&&wu(y.mutation,d,di.empty(),be.now()),np(e,d)&&(u=u.insert(f,d))})),u}))}}class iL{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return ut.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:Is(r.createTime)}})(e)),ut.resolve()}getNamedQuery(t,e){return ut.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(r){return{name:r.name,query:YP(r.bundledQuery),readTime:Is(r.readTime)}})(e)),ut.resolve()}}class sL{constructor(){this.overlays=new De(Tt.comparator),this.qr=new Map}getOverlay(t,e){return ut.resolve(this.overlays.get(e))}getOverlays(t,e){const i=yo();return ut.forEach(e,(r=>this.getOverlay(t,r).next((o=>{o!==null&&i.set(r,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((r,o)=>{this.St(t,e,o)})),ut.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),ut.resolve()}getOverlaysForCollection(t,e,i){const r=yo(),o=e.length+1,l=new Tt(e.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,d=f.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return ut.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new De(((d,y)=>d-y));const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>i){let y=o.get(d.largestBatchId);y===null&&(y=yo(),o=o.insert(d.largestBatchId,y)),y.set(d.getKey(),d)}}const u=yo(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,y)=>u.set(d,y))),!(u.size()>=r)););return ut.resolve(u)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new EP(e,i));let o=this.qr.get(e);o===void 0&&(o=Yt(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}class rL{constructor(){this.sessionToken=An.EMPTY_BYTE_STRING}getSessionToken(t){return ut.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ut.resolve()}}class v_{constructor(){this.Qr=new sn(un.$r),this.Ur=new sn(un.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new un(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new un(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new Tt(new ge([])),i=new un(e,t),r=new un(e,t+1),o=[];return this.Ur.forEachInRange([i,r],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new Tt(new ge([])),i=new un(e,t),r=new un(e,t+1);let o=Yt();return this.Ur.forEachInRange([i,r],(l=>{o=o.add(l.key)})),o}containsKey(t){const e=new un(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class un{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return Tt.comparator(t.key,e.key)||Gt(t.Yr,e.Yr)}static Kr(t,e){return Gt(t.Yr,e.Yr)||Tt.comparator(t.key,e.key)}}class aL{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new sn(un.$r)}checkEmpty(t){return ut.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new xP(o,e,i,r);this.mutationQueue.push(l);for(const u of r)this.Zr=this.Zr.add(new un(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return ut.resolve(l)}lookupMutationBatch(t,e){return ut.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ei(i),o=r<0?0:r;return ut.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ut.resolve(this.mutationQueue.length===0?c_:this.tr-1)}getAllMutationBatches(t){return ut.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new un(e,0),r=new un(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,r],(l=>{const u=this.Xr(l.Yr);o.push(u)})),ut.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new sn(Gt);return e.forEach((r=>{const o=new un(r,0),l=new un(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(u=>{i=i.add(u.Yr)}))})),ut.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;Tt.isDocumentKey(o)||(o=o.child(""));const l=new un(new Tt(o),0);let u=new sn(Gt);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(u=u.add(f.Yr)),!0)}),l),ut.resolve(this.ti(u))}ti(t){const e=[];return t.forEach((i=>{const r=this.Xr(i);r!==null&&e.push(r)})),e}removeMutationBatch(t,e){se(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ut.forEach(e.mutations,(r=>{const o=new un(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new un(e,0),r=this.Zr.firstAfterOrEqual(i);return ut.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,ut.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class oL{constructor(t){this.ri=t,this.docs=(function(){return new De(Tt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,l=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ut.resolve(i?i.document.mutableCopy():Nn.newInvalidDocument(e))}getEntries(t,e){let i=vr();return e.forEach((r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Nn.newInvalidDocument(r))})),ut.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=vr();const l=e.path,u=new Tt(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:d,value:{document:y}}=f.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||PO(OO(y),i)<=0||(r.has(y.key)||np(e,y))&&(o=o.insert(y.key,y.mutableCopy()))}return ut.resolve(o)}getAllFromCollectionGroup(t,e,i,r){Ct(9500)}ii(t,e){return ut.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new lL(this)}getSize(t){return ut.resolve(this.size)}}class lL extends tL{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?e.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(i)})),ut.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class cL{constructor(t){this.persistence=t,this.si=new Oo((e=>f_(e)),d_),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this.oi=0,this._i=new v_,this.targetCount=0,this.ai=Bl.ur()}forEachTarget(t,e){return this.si.forEach(((i,r)=>e(r))),ut.resolve()}getLastRemoteSnapshotVersion(t){return ut.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ut.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ut.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),ut.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Bl(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,ut.resolve()}updateTargetData(t,e){return this.Pr(e),ut.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,ut.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=e&&i.get(u.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)})),ut.waitFor(o).next((()=>r))}getTargetCount(t){return ut.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return ut.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),ut.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach((l=>{o.push(r.markPotentiallyOrphaned(t,l))})),ut.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),ut.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return ut.resolve(i)}containsKey(t,e){return ut.resolve(this._i.containsKey(e))}}class nA{constructor(t,e){this.ui={},this.overlays={},this.ci=new Jd(0),this.li=!1,this.li=!0,this.hi=new rL,this.referenceDelegate=t(this),this.Pi=new cL(this),this.indexManager=new WP,this.remoteDocumentCache=(function(r){return new oL(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new GP(e),this.Ii=new iL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new sL,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new aL(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){vt("MemoryPersistence","Starting transaction:",t);const r=new uL(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((o=>this.referenceDelegate.di(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ai(t,e){return ut.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class uL extends VO{constructor(t){super(),this.currentSequenceNumber=t}}class b_{constructor(t){this.persistence=t,this.Ri=new v_,this.Vi=null}static mi(t){return new b_(t)}get fi(){if(this.Vi)return this.Vi;throw Ct(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),ut.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),ut.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),ut.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((r=>{r.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ut.forEach(this.fi,(i=>{const r=Tt.fromPath(i);return this.gi(t,r).next((o=>{o||e.removeEntry(r,Mt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return ut.or([()=>ut.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Nd{constructor(t,e){this.persistence=t,this.pi=new Oo((i=>UO(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=ZP(this,e)}static mi(t,e){return new Nd(t,e)}Ei(){}di(t){return ut.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((r=>i+r))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return ut.forEach(this.pi,((i,r)=>this.br(t,i,r).next((o=>o?ut.resolve():e(r)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(t,(l=>this.br(t,l,e).next((u=>{u||(i++,o.removeEntry(l,Mt.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),ut.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),ut.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),ut.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),ut.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=ud(t.data.value)),e}br(t,e,i){return ut.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.pi.get(e);return ut.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class x_{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=r}static As(t,e){let i=Yt(),r=Yt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new x_(t,e.fromCache,i,r)}}class hL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class fL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return qD()?8:jO(Pn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ys(t,e).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(t,e,r,i).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new hL;return this.Ss(t,e,l).next((u=>{if(o.result=u,this.Vs)return this.bs(t,e,l,u.size)}))})).next((()=>o.result))}bs(t,e,i,r){return i.documentReadCount<this.fs?(Al()<=qt.DEBUG&&vt("QueryEngine","SDK will not create cache indexes for query:",Rl(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ut.resolve()):(Al()<=qt.DEBUG&&vt("QueryEngine","Query:",Rl(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(Al()<=qt.DEBUG&&vt("QueryEngine","The SDK decides to create cache indexes for query:",Rl(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Cs(e))):ut.resolve())}ys(t,e){if(FE(e))return ut.resolve(null);let i=Cs(e);return this.indexManager.getIndexType(t,i).next((r=>r===0?null:(e.limit!==null&&r===1&&(e=Dd(e,null,"F"),i=Cs(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const l=Yt(...o);return this.ps.getDocuments(t,l).next((u=>this.indexManager.getMinOffset(t,i).next((f=>{const d=this.Ds(e,u);return this.Cs(e,d,l,f.readTime)?this.ys(t,Dd(e,null,"F")):this.vs(t,d,e,f)}))))})))))}ws(t,e,i,r){return FE(e)||r.isEqual(Mt.min())?ut.resolve(null):this.ps.getDocuments(t,i).next((o=>{const l=this.Ds(e,o);return this.Cs(e,l,i,r)?ut.resolve(null):(Al()<=qt.DEBUG&&vt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Rl(e)),this.vs(t,l,e,NO(r,Ou)).next((u=>u)))}))}Ds(t,e){let i=new sn(Ow(t));return e.forEach(((r,o)=>{np(t,o)&&(i=i.add(o))})),i}Cs(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(t,e,i){return Al()<=qt.DEBUG&&vt("QueryEngine","Using full collection scan to execute query:",Rl(e)),this.ps.getDocumentsMatchingQuery(t,e,ba.min(),i)}vs(t,e,i,r){return this.ps.getDocumentsMatchingQuery(t,i,r).next((o=>(e.forEach((l=>{o=o.insert(l.key,l)})),o)))}}const E_="LocalStore",dL=3e8;class pL{constructor(t,e,i,r){this.persistence=t,this.Fs=e,this.serializer=r,this.Ms=new De(Gt),this.xs=new Oo((o=>f_(o)),d_),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new nL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function mL(n,t,e,i){return new pL(n,t,e,i)}async function iA(n,t){const e=Ot(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next((o=>(r=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const l=[],u=[];let f=Yt();for(const d of r){l.push(d.batchId);for(const y of d.mutations)f=f.add(y.key)}for(const d of o){u.push(d.batchId);for(const y of d.mutations)f=f.add(y.key)}return e.localDocuments.getDocuments(i,f).next((d=>({Ls:d,removedBatchIds:l,addedBatchIds:u})))}))}))}function gL(n,t){const e=Ot(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,f,d,y){const g=d.batch,v=g.keys();let E=ut.resolve();return v.forEach((w=>{E=E.next((()=>y.getEntry(f,w))).next((A=>{const C=d.docVersions.get(w);se(C!==null,48541),A.version.compareTo(C)<0&&(g.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),y.addEntry(A)))}))})),E.next((()=>u.mutationQueue.removeMutationBatch(f,g)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(u){let f=Yt();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(f=f.add(u.batch.mutations[d].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(i,r)))}))}function sA(n){const t=Ot(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function yL(n,t){const e=Ot(n),i=t.snapshotVersion;let r=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=e.Ns.newChangeBuffer({trackRemovals:!0});r=e.Ms;const u=[];t.targetChanges.forEach(((y,g)=>{const v=r.get(g);if(!v)return;u.push(e.Pi.removeMatchingKeys(o,y.removedDocuments,g).next((()=>e.Pi.addMatchingKeys(o,y.addedDocuments,g))));let E=v.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(g)!==null?E=E.withResumeToken(An.EMPTY_BYTE_STRING,Mt.min()).withLastLimboFreeSnapshotVersion(Mt.min()):y.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(y.resumeToken,i)),r=r.insert(g,E),(function(A,C,O){return A.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=dL?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(v,E,y)&&u.push(e.Pi.updateTargetData(o,E))}));let f=vr(),d=Yt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(o,y))})),u.push(_L(o,l,t.documentUpdates).next((y=>{f=y.ks,d=y.qs}))),!i.isEqual(Mt.min())){const y=e.Pi.getLastRemoteSnapshotVersion(o).next((g=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));u.push(y)}return ut.waitFor(u).next((()=>l.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(e.Ms=r,o)))}function _L(n,t,e){let i=Yt(),r=Yt();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let l=vr();return e.forEach(((u,f)=>{const d=o.get(u);f.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(u)),f.isNoDocument()&&f.version.isEqual(Mt.min())?(t.removeEntry(u,f.readTime),l=l.insert(u,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(f),l=l.insert(u,f)):vt(E_,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",f.version)})),{ks:l,qs:r}}))}function vL(n,t){const e=Ot(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=c_),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function bL(n,t){const e=Ot(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return e.Pi.getTargetData(i,t).next((o=>o?(r=o,ut.resolve(r)):e.Pi.allocateTargetId(i).next((l=>(r=new la(t,l,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=e.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function Ty(n,t,e){const i=Ot(n),r=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!ec(l))throw l;vt(E_,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function eS(n,t,e){const i=Ot(n);let r=Mt.min(),o=Yt();return i.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,d,y){const g=Ot(f),v=g.xs.get(y);return v!==void 0?ut.resolve(g.Ms.get(v)):g.Pi.getTargetData(d,y)})(i,l,Cs(t)).next((u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(l,u.targetId).next((f=>{o=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(l,t,e?r:Mt.min(),e?o:Yt()))).next((u=>(xL(i,rP(t),u),{documents:u,Qs:o})))))}function xL(n,t,e){let i=n.Os.get(t)||Mt.min();e.forEach(((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(t,i)}class nS{constructor(){this.activeTargetIds=hP()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class EL{constructor(){this.Mo=new nS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new nS,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class SL{Oo(t){}shutdown(){}}const iS="ConnectivityMonitor";class sS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){vt(iS,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){vt(iS,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Hf=null;function wy(){return Hf===null?Hf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hf++,"0x"+Hf.toString(16)}const Vg="RestConnection",TL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wL{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Rd?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(t,e,i,r,o){const l=wy(),u=this.zo(t,e.toUriEncodedString());vt(Vg,`Sending RPC '${t}' ${l}:`,u,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,r,o);const{host:d}=new URL(u),y=Xl(d);return this.Jo(t,u,f,i,y).then((g=>(vt(Vg,`Received RPC '${t}' ${l}: `,g),g)),(g=>{throw Vl(Vg,`RPC '${t}' ${l} failed with error: `,g,"url: ",u,"request:",i),g}))}Ho(t,e,i,r,o,l){return this.Go(t,e,i,r,o)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((r,o)=>t[o]=r)),i&&i.headers.forEach(((r,o)=>t[o]=r))}zo(t,e){const i=TL[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}class AL{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const In="WebChannelConnection";class RL extends wL{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,r,o){const l=wy();return new Promise(((u,f)=>{const d=new ow;d.setWithCredentials(!0),d.listenOnce(lw.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case cd.NO_ERROR:const g=d.getResponseJson();vt(In,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(g)),u(g);break;case cd.TIMEOUT:vt(In,`RPC '${t}' ${l} timed out`),f(new gt(at.DEADLINE_EXCEEDED,"Request time out"));break;case cd.HTTP_ERROR:const v=d.getStatus();if(vt(In,`RPC '${t}' ${l} failed with status:`,v,"response text:",d.getResponseText()),v>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const w=E?.error;if(w&&w.status&&w.message){const A=(function(O){const j=O.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(j)>=0?j:at.UNKNOWN})(w.status);f(new gt(A,w.message))}else f(new gt(at.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new gt(at.UNAVAILABLE,"Connection failed."));break;default:Ct(9055,{l_:t,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{vt(In,`RPC '${t}' ${l} completed.`)}}));const y=JSON.stringify(r);vt(In,`RPC '${t}' ${l} sending request:`,r),d.send(e,"POST",y,i,15)}))}T_(t,e,i){const r=wy(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=hw(),u=uw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const y=o.join("");vt(In,`Creating RPC '${t}' stream ${r}: ${y}`,f);const g=l.createWebChannel(y,f);this.I_(g);let v=!1,E=!1;const w=new AL({Yo:C=>{E?vt(In,`Not sending because RPC '${t}' stream ${r} is closed:`,C):(v||(vt(In,`Opening RPC '${t}' stream ${r} transport.`),g.open(),v=!0),vt(In,`RPC '${t}' stream ${r} sending:`,C),g.send(C))},Zo:()=>g.close()}),A=(C,O,j)=>{C.listen(O,(z=>{try{j(z)}catch(K){setTimeout((()=>{throw K}),0)}}))};return A(g,fu.EventType.OPEN,(()=>{E||(vt(In,`RPC '${t}' stream ${r} transport opened.`),w.o_())})),A(g,fu.EventType.CLOSE,(()=>{E||(E=!0,vt(In,`RPC '${t}' stream ${r} transport closed`),w.a_(),this.E_(g))})),A(g,fu.EventType.ERROR,(C=>{E||(E=!0,Vl(In,`RPC '${t}' stream ${r} transport errored. Name:`,C.name,"Message:",C.message),w.a_(new gt(at.UNAVAILABLE,"The operation could not be completed")))})),A(g,fu.EventType.MESSAGE,(C=>{if(!E){const O=C.data[0];se(!!O,16349);const j=O,z=j?.error||j[0]?.error;if(z){vt(In,`RPC '${t}' stream ${r} received error:`,z);const K=z.status;let U=(function(R){const M=Xe[R];if(M!==void 0)return Gw(M)})(K),Y=z.message;U===void 0&&(U=at.INTERNAL,Y="Unknown error status: "+K+" with message "+z.message),E=!0,w.a_(new gt(U,Y)),g.close()}else vt(In,`RPC '${t}' stream ${r} received:`,O),w.u_(O)}})),A(u,cw.STAT_EVENT,(C=>{C.stat===dy.PROXY?vt(In,`RPC '${t}' stream ${r} detected buffering proxy`):C.stat===dy.NOPROXY&&vt(In,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function jg(){return typeof document<"u"?document:null}function op(n){return new MP(n,!0)}class rA{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&vt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const rS="PersistentStream";class aA{constructor(t,e,i,r,o,l,u,f){this.Mi=t,this.S_=i,this.b_=r,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rA(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===at.RESOURCE_EXHAUSTED?(_r(e.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===at.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===e&&this.G_(i,r)}),(i=>{t((()=>{const r=new gt(at.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return vt(rS,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(vt(rS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class CL extends aA{constructor(t,e,i,r,o,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,l),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=OP(this.serializer,t),i=(function(o){if(!("targetChange"in o))return Mt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Mt.min():l.readTime?Is(l.readTime):Mt.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=Sy(this.serializer),e.addTarget=(function(o,l){let u;const f=l.target;if(u=_y(f)?{documents:VP(o,f)}:{query:jP(o,f).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=$w(o,l.resumeToken);const d=by(o,l.expectedCount);d!==null&&(u.expectedCount=d)}else if(l.snapshotVersion.compareTo(Mt.min())>0){u.readTime=kd(o,l.snapshotVersion.toTimestamp());const d=by(o,l.expectedCount);d!==null&&(u.expectedCount=d)}return u})(this.serializer,t);const i=UP(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=Sy(this.serializer),e.removeTarget=t,this.q_(e)}}class IL extends aA{constructor(t,e,i,r,o,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return se(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,se(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){se(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=LP(t.writeResults,t.commitTime),i=Is(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=Sy(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>PP(this.serializer,i)))};this.q_(e)}}class DL{}class ML extends DL{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new gt(at.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(t,xy(e,i),r,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new gt(at.UNKNOWN,o.toString())}))}Ho(t,e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(t,xy(e,i),r,l,u,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new gt(at.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class kL{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_r(e),this.aa=!1):vt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ro="RemoteStore";class NL{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{i.enqueueAndForget((async()=>{Po(this)&&(vt(Ro,"Restarting streams for network reachability change."),await(async function(f){const d=Ot(f);d.Ea.add(4),await lh(d),d.Ra.set("Unknown"),d.Ea.delete(4),await lp(d)})(this))}))})),this.Ra=new kL(i,r)}}async function lp(n){if(Po(n))for(const t of n.da)await t(!0)}async function lh(n){for(const t of n.da)await t(!1)}function oA(n,t){const e=Ot(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),A_(e)?w_(e):ic(e).O_()&&T_(e,t))}function S_(n,t){const e=Ot(n),i=ic(e);e.Ia.delete(t),i.O_()&&lA(e,t),e.Ia.size===0&&(i.O_()?i.L_():Po(e)&&e.Ra.set("Unknown"))}function T_(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Mt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}ic(n).Y_(t)}function lA(n,t){n.Va.Ue(t),ic(n).Z_(t)}function w_(n){n.Va=new RP({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),ic(n).start(),n.Ra.ua()}function A_(n){return Po(n)&&!ic(n).x_()&&n.Ia.size>0}function Po(n){return Ot(n).Ea.size===0}function cA(n){n.Va=void 0}async function OL(n){n.Ra.set("Online")}async function PL(n){n.Ia.forEach(((t,e)=>{T_(n,t)}))}async function LL(n,t){cA(n),A_(n)?(n.Ra.ha(t),w_(n)):n.Ra.set("Unknown")}async function VL(n,t,e){if(n.Ra.set("Online"),t instanceof Ww&&t.state===2&&t.cause)try{await(async function(r,o){const l=o.cause;for(const u of o.targetIds)r.Ia.has(u)&&(await r.remoteSyncer.rejectListen(u,l),r.Ia.delete(u),r.Va.removeTarget(u))})(n,t)}catch(i){vt(Ro,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Od(n,i)}else if(t instanceof dd?n.Va.Ze(t):t instanceof Yw?n.Va.st(t):n.Va.tt(t),!e.isEqual(Mt.min()))try{const i=await sA(n.localStore);e.compareTo(i)>=0&&await(function(o,l){const u=o.Va.Tt(l);return u.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const y=o.Ia.get(d);y&&o.Ia.set(d,y.withResumeToken(f.resumeToken,l))}})),u.targetMismatches.forEach(((f,d)=>{const y=o.Ia.get(f);if(!y)return;o.Ia.set(f,y.withResumeToken(An.EMPTY_BYTE_STRING,y.snapshotVersion)),lA(o,f);const g=new la(y.target,f,d,y.sequenceNumber);T_(o,g)})),o.remoteSyncer.applyRemoteEvent(u)})(n,e)}catch(i){vt(Ro,"Failed to raise snapshot:",i),await Od(n,i)}}async function Od(n,t,e){if(!ec(t))throw t;n.Ea.add(1),await lh(n),n.Ra.set("Offline"),e||(e=()=>sA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{vt(Ro,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await lp(n)}))}function uA(n,t){return t().catch((e=>Od(n,e,t)))}async function cp(n){const t=Ot(n),e=Ta(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:c_;for(;jL(t);)try{const r=await vL(t.localStore,i);if(r===null){t.Ta.length===0&&e.L_();break}i=r.batchId,zL(t,r)}catch(r){await Od(t,r)}hA(t)&&fA(t)}function jL(n){return Po(n)&&n.Ta.length<10}function zL(n,t){n.Ta.push(t);const e=Ta(n);e.O_()&&e.X_&&e.ea(t.mutations)}function hA(n){return Po(n)&&!Ta(n).x_()&&n.Ta.length>0}function fA(n){Ta(n).start()}async function UL(n){Ta(n).ra()}async function BL(n){const t=Ta(n);for(const e of n.Ta)t.ea(e.mutations)}async function FL(n,t,e){const i=n.Ta.shift(),r=g_.from(i,t,e);await uA(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await cp(n)}async function HL(n,t){t&&Ta(n).X_&&await(async function(i,r){if((function(l){return TP(l)&&l!==at.ABORTED})(r.code)){const o=i.Ta.shift();Ta(i).B_(),await uA(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r))),await cp(i)}})(n,t),hA(n)&&fA(n)}async function aS(n,t){const e=Ot(n);e.asyncQueue.verifyOperationInProgress(),vt(Ro,"RemoteStore received new credentials");const i=Po(e);e.Ea.add(3),await lh(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await lp(e)}async function qL(n,t){const e=Ot(n);t?(e.Ea.delete(2),await lp(e)):t||(e.Ea.add(2),await lh(e),e.Ra.set("Unknown"))}function ic(n){return n.ma||(n.ma=(function(e,i,r){const o=Ot(e);return o.sa(),new CL(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:OL.bind(null,n),t_:PL.bind(null,n),r_:LL.bind(null,n),H_:VL.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),A_(n)?w_(n):n.Ra.set("Unknown")):(await n.ma.stop(),cA(n))}))),n.ma}function Ta(n){return n.fa||(n.fa=(function(e,i,r){const o=Ot(e);return o.sa(),new IL(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:UL.bind(null,n),r_:HL.bind(null,n),ta:BL.bind(null,n),na:FL.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await cp(n)):(await n.fa.stop(),n.Ta.length>0&&(vt(Ro,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class R_{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new ya,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const l=Date.now()+i,u=new R_(t,e,l,r,o);return u.start(i),u}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(at.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function C_(n,t){if(_r("AsyncQueue",`${t}: ${n}`),ec(n))return new gt(at.UNAVAILABLE,`${t}: ${n}`);throw n}class Ol{static emptySet(t){return new Ol(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||Tt.comparator(e.key,i.key):(e,i)=>Tt.comparator(e.key,i.key),this.keyedMap=du(),this.sortedSet=new De(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ol)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Ol;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class oS{constructor(){this.ga=new De(Tt.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Ct(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class Fl{constructor(t,e,i,r,o,l,u,f,d){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(t,e,i,r,o){const l=[];return e.forEach((u=>{l.push({type:0,doc:u})})),new Fl(t,e,Ol.emptySet(e),l,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ep(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class GL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class YL{constructor(){this.queries=lS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=Ot(e),o=r.queries;r.queries=lS(),o.forEach(((l,u)=>{for(const f of u.Sa)f.onError(i)}))})(this,new gt(at.ABORTED,"Firestore shutting down"))}}function lS(){return new Oo((n=>Nw(n)),ep)}async function dA(n,t){const e=Ot(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.ba()&&t.Da()&&(i=2):(o=new GL,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(r,!0);break;case 1:o.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(l){const u=C_(l,`Initialization of query '${Rl(t.query)}' failed`);return void t.onError(u)}e.queries.set(r,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&I_(e)}async function pA(n,t){const e=Ot(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const l=o.Sa.indexOf(t);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?r=t.Da()?0:1:!o.ba()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function WL(n,t){const e=Ot(n);let i=!1;for(const r of t){const o=r.query,l=e.queries.get(o);if(l){for(const u of l.Sa)u.Fa(r)&&(i=!0);l.wa=r}}i&&I_(e)}function $L(n,t,e){const i=Ot(n),r=i.queries.get(t);if(r)for(const o of r.Sa)o.onError(e);i.queries.delete(t)}function I_(n){n.Ca.forEach((t=>{t.next()}))}var Ay,cS;(cS=Ay||(Ay={})).Ma="default",cS.Cache="cache";class mA{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Fl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Fl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Ay.Cache}}class gA{constructor(t){this.key=t}}class yA{constructor(t){this.key=t}}class KL{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Yt(),this.mutatedKeys=Yt(),this.eu=Ow(t),this.tu=new Ol(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new oS,r=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,l=r,u=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((y,g)=>{const v=r.get(y),E=np(this.query,g)?g:null,w=!!v&&this.mutatedKeys.has(v.key),A=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let C=!1;v&&E?v.data.isEqual(E.data)?w!==A&&(i.track({type:3,doc:E}),C=!0):this.su(v,E)||(i.track({type:2,doc:E}),C=!0,(f&&this.eu(E,f)>0||d&&this.eu(E,d)<0)&&(u=!0)):!v&&E?(i.track({type:0,doc:E}),C=!0):v&&!E&&(i.track({type:1,doc:v}),C=!0,(f||d)&&(u=!0)),C&&(E?(l=l.add(E),o=A?o.add(y):o.delete(y)):(l=l.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{tu:l,iu:i,Cs:u,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const l=t.iu.ya();l.sort(((y,g)=>(function(E,w){const A=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ct(20277,{Rt:C})}};return A(E)-A(w)})(y.type,g.type)||this.eu(y.doc,g.doc))),this.ou(i),r=r??!1;const u=e&&!r?this._u():[],f=this.Xa.size===0&&this.current&&!r?1:0,d=f!==this.Za;return this.Za=f,l.length!==0||d?{snapshot:new Fl(this.query,t.tu,o,l,t.mutatedKeys,f===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new oS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Yt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new yA(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new gA(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=Yt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Fl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const D_="SyncEngine";class XL{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class QL{constructor(t){this.key=t,this.hu=!1}}class JL{constructor(t,e,i,r,o,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Oo((u=>Nw(u)),ep),this.Iu=new Map,this.Eu=new Set,this.du=new De(Tt.comparator),this.Au=new Map,this.Ru=new v_,this.Vu={},this.mu=new Map,this.fu=Bl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZL(n,t,e=!0){const i=SA(n);let r;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await _A(i,t,e,!0),r}async function tV(n,t){const e=SA(n);await _A(e,t,!0,!1)}async function _A(n,t,e,i){const r=await bL(n.localStore,Cs(t)),o=r.targetId,l=n.sharedClientState.addLocalQueryTarget(o,e);let u;return i&&(u=await eV(n,t,o,l==="current",r.resumeToken)),n.isPrimaryClient&&e&&oA(n.remoteStore,r),u}async function eV(n,t,e,i,r){n.pu=(g,v,E)=>(async function(A,C,O,j){let z=C.view.ru(O);z.Cs&&(z=await eS(A.localStore,C.query,!1).then((({documents:D})=>C.view.ru(D,z))));const K=j&&j.targetChanges.get(C.targetId),U=j&&j.targetMismatches.get(C.targetId)!=null,Y=C.view.applyChanges(z,A.isPrimaryClient,K,U);return hS(A,C.targetId,Y.au),Y.snapshot})(n,g,v,E);const o=await eS(n.localStore,t,!0),l=new KL(t,o.Qs),u=l.ru(o.documents),f=oh.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),d=l.applyChanges(u,n.isPrimaryClient,f);hS(n,e,d.au);const y=new XL(t,e,l);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),d.snapshot}async function nV(n,t,e){const i=Ot(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter((l=>!ep(l,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Ty(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),e&&S_(i.remoteStore,r.targetId),Ry(i,r.targetId)})).catch(tc)):(Ry(i,r.targetId),await Ty(i.localStore,r.targetId,!0))}async function iV(n,t){const e=Ot(n),i=e.Tu.get(t),r=e.Iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),S_(e.remoteStore,i.targetId))}async function sV(n,t,e){const i=hV(n);try{const r=await(function(l,u){const f=Ot(l),d=be.now(),y=u.reduce(((E,w)=>E.add(w.key)),Yt());let g,v;return f.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let w=vr(),A=Yt();return f.Ns.getEntries(E,y).next((C=>{w=C,w.forEach(((O,j)=>{j.isValidDocument()||(A=A.add(O))}))})).next((()=>f.localDocuments.getOverlayedDocuments(E,w))).next((C=>{g=C;const O=[];for(const j of u){const z=vP(j,g.get(j.key).overlayedDocument);z!=null&&O.push(new ka(j.key,z,ww(z.value.mapValue),Zn.exists(!0)))}return f.mutationQueue.addMutationBatch(E,d,O,u)})).next((C=>{v=C;const O=C.applyToLocalDocumentSet(g,A);return f.documentOverlayCache.saveOverlays(E,C.batchId,O)}))})).then((()=>({batchId:v.batchId,changes:Lw(g)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),(function(l,u,f){let d=l.Vu[l.currentUser.toKey()];d||(d=new De(Gt)),d=d.insert(u,f),l.Vu[l.currentUser.toKey()]=d})(i,r.batchId,e),await ch(i,r.changes),await cp(i.remoteStore)}catch(r){const o=C_(r,"Failed to persist write");e.reject(o)}}async function vA(n,t){const e=Ot(n);try{const i=await yL(e.localStore,t);t.targetChanges.forEach(((r,o)=>{const l=e.Au.get(o);l&&(se(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?l.hu=!0:r.modifiedDocuments.size>0?se(l.hu,14607):r.removedDocuments.size>0&&(se(l.hu,42227),l.hu=!1))})),await ch(e,i,t)}catch(i){await tc(i)}}function uS(n,t,e){const i=Ot(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Tu.forEach(((o,l)=>{const u=l.view.va(t);u.snapshot&&r.push(u.snapshot)})),(function(l,u){const f=Ot(l);f.onlineState=u;let d=!1;f.queries.forEach(((y,g)=>{for(const v of g.Sa)v.va(u)&&(d=!0)})),d&&I_(f)})(i.eventManager,t),r.length&&i.Pu.H_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function rV(n,t,e){const i=Ot(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Au.get(t),o=r&&r.key;if(o){let l=new De(Tt.comparator);l=l.insert(o,Nn.newNoDocument(o,Mt.min()));const u=Yt().add(o),f=new ap(Mt.min(),new Map,new De(Gt),l,u);await vA(i,f),i.du=i.du.remove(o),i.Au.delete(t),M_(i)}else await Ty(i.localStore,t,!1).then((()=>Ry(i,t,e))).catch(tc)}async function aV(n,t){const e=Ot(n),i=t.batch.batchId;try{const r=await gL(e.localStore,t);xA(e,i,null),bA(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await ch(e,r)}catch(r){await tc(r)}}async function oV(n,t,e){const i=Ot(n);try{const r=await(function(l,u){const f=Ot(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let y;return f.mutationQueue.lookupMutationBatch(d,u).next((g=>(se(g!==null,37113),y=g.keys(),f.mutationQueue.removeMutationBatch(d,g)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,y,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,y))).next((()=>f.localDocuments.getDocuments(d,y)))}))})(i.localStore,t);xA(i,t,e),bA(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await ch(i,r)}catch(r){await tc(r)}}function bA(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function xA(n,t,e){const i=Ot(n);let r=i.Vu[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function Ry(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||EA(n,i)}))}function EA(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(S_(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),M_(n))}function hS(n,t,e){for(const i of e)i instanceof gA?(n.Ru.addReference(i.key,t),lV(n,i)):i instanceof yA?(vt(D_,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||EA(n,i.key)):Ct(19791,{wu:i})}function lV(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(vt(D_,"New document in limbo: "+e),n.Eu.add(i),M_(n))}function M_(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new Tt(ge.fromString(t)),i=n.fu.next();n.Au.set(i,new QL(e)),n.du=n.du.insert(e,i),oA(n.remoteStore,new la(Cs(p_(e.path)),i,"TargetPurposeLimboResolution",Jd.ce))}}async function ch(n,t,e){const i=Ot(n),r=[],o=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach(((u,f)=>{l.push(i.pu(f,t,e).then((d=>{if((d||e)&&i.isPrimaryClient){const y=d?!d.fromCache:e?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(d){r.push(d);const y=x_.As(f.targetId,d);o.push(y)}})))})),await Promise.all(l),i.Pu.H_(r),await(async function(f,d){const y=Ot(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>ut.forEach(d,(v=>ut.forEach(v.Es,(E=>y.persistence.referenceDelegate.addReference(g,v.targetId,E))).next((()=>ut.forEach(v.ds,(E=>y.persistence.referenceDelegate.removeReference(g,v.targetId,E)))))))))}catch(g){if(!ec(g))throw g;vt(E_,"Failed to update sequence numbers: "+g)}for(const g of d){const v=g.targetId;if(!g.fromCache){const E=y.Ms.get(v),w=E.snapshotVersion,A=E.withLastLimboFreeSnapshotVersion(w);y.Ms=y.Ms.insert(v,A)}}})(i.localStore,o))}async function cV(n,t){const e=Ot(n);if(!e.currentUser.isEqual(t)){vt(D_,"User change. New user:",t.toKey());const i=await iA(e.localStore,t);e.currentUser=t,(function(o,l){o.mu.forEach((u=>{u.forEach((f=>{f.reject(new gt(at.CANCELLED,l))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await ch(e,i.Ls)}}function uV(n,t){const e=Ot(n),i=e.Au.get(t);if(i&&i.hu)return Yt().add(i.key);{let r=Yt();const o=e.Iu.get(t);if(!o)return r;for(const l of o){const u=e.Tu.get(l);r=r.unionWith(u.view.nu)}return r}}function SA(n){const t=Ot(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=vA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rV.bind(null,t),t.Pu.H_=WL.bind(null,t.eventManager),t.Pu.yu=$L.bind(null,t.eventManager),t}function hV(n){const t=Ot(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=aV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=oV.bind(null,t),t}class Pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=op(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return mL(this.persistence,new fL,t.initialUser,this.serializer)}Cu(t){return new nA(b_.mi,this.serializer)}Du(t){return new EL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pd.provider={build:()=>new Pd};class fV extends Pd{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){se(this.persistence.referenceDelegate instanceof Nd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new QP(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Xn.withCacheSize(this.cacheSizeBytes):Xn.DEFAULT;return new nA((i=>Nd.mi(i,e)),this.serializer)}}class Cy{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>uS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=cV.bind(null,this.syncEngine),await qL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new YL})()}createDatastore(t){const e=op(t.databaseInfo.databaseId),i=(function(o){return new RL(o)})(t.databaseInfo);return(function(o,l,u,f){return new ML(o,l,u,f)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,r,o,l,u){return new NL(i,r,o,l,u)})(this.localStore,this.datastore,t.asyncQueue,(e=>uS(this.syncEngine,e,0)),(function(){return sS.v()?new sS:new SL})())}createSyncEngine(t,e){return(function(r,o,l,u,f,d,y){const g=new JL(r,o,l,u,f,d);return y&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=Ot(e);vt(Ro,"RemoteStore shutting down."),i.Ea.add(5),await lh(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cy.provider={build:()=>new Cy};class TA{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):_r("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const wa="FirestoreClient";class dV{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Mn.UNAUTHENTICATED,this.clientId=l_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async l=>{vt(wa,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(i,(l=>(vt(wa,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ya;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=C_(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function zg(n,t){n.asyncQueue.verifyOperationInProgress(),vt(wa,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await iA(t.localStore,r),i=r)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function fS(n,t){n.asyncQueue.verifyOperationInProgress();const e=await pV(n);vt(wa,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>aS(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>aS(t.remoteStore,r))),n._onlineComponents=t}async function pV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){vt(wa,"Using user provided OfflineComponentProvider");try{await zg(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===at.FAILED_PRECONDITION||r.code===at.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;Vl("Error using user provided cache. Falling back to memory cache: "+e),await zg(n,new Pd)}}else vt(wa,"Using default OfflineComponentProvider"),await zg(n,new fV(void 0));return n._offlineComponents}async function wA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(vt(wa,"Using user provided OnlineComponentProvider"),await fS(n,n._uninitializedComponentsProvider._online)):(vt(wa,"Using default OnlineComponentProvider"),await fS(n,new Cy))),n._onlineComponents}function mV(n){return wA(n).then((t=>t.syncEngine))}async function Iy(n){const t=await wA(n),e=t.eventManager;return e.onListen=ZL.bind(null,t.syncEngine),e.onUnlisten=nV.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=tV.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=iV.bind(null,t.syncEngine),e}function gV(n,t,e={}){const i=new ya;return n.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,f,d){const y=new TA({next:v=>{y.Nu(),l.enqueueAndForget((()=>pA(o,g))),v.fromCache&&f.source==="server"?d.reject(new gt(at.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),g=new mA(u,y,{includeMetadataChanges:!0,qa:!0});return dA(o,g)})(await Iy(n),n.asyncQueue,t,e,i))),i.promise}function AA(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const dS=new Map;const RA="firestore.googleapis.com",pS=!0;class mS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new gt(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RA,this.ssl=pS}else this.host=t.host,this.ssl=t.ssl??pS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=eA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<KP)throw new gt(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}kO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AA(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new gt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new gt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new gt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class up{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gt(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new EO;switch(i.type){case"firstParty":return new AO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new gt(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=dS.get(e);i&&(vt("ComponentProvider","Removing Datastore"),dS.delete(e),i.terminate())})(this),Promise.resolve()}}function yV(n,t,e,i={}){n=Xi(n,up);const r=Xl(t),o=n._getSettings(),l={...o,emulatorOptions:n._getEmulatorOptions()},u=`${t}:${e}`;r&&(_1(`https://${u}`),v1("Firestore",!0)),o.host!==RA&&o.host!==u&&Vl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:u,ssl:r,emulatorOptions:i};if(!Eo(f,l)&&(n._setSettings(f),i.mockUserToken)){let d,y;if(typeof i.mockUserToken=="string")d=i.mockUserToken,y=Mn.MOCK_USER;else{d=PD(i.mockUserToken,n._app?.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new gt(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Mn(g)}n._authCredentials=new SO(new dw(d,y))}}class xr{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new xr(this.firestore,t,this._query)}}class Ze{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _a(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ze(this.firestore,t,this._key)}toJSON(){return{type:Ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(rh(e,Ze._jsonSchema))return new Ze(t,i||null,new Tt(ge.fromString(e.referencePath)))}}Ze._jsonSchemaVersion="firestore/documentReference/1.0",Ze._jsonSchema={type:Je("string",Ze._jsonSchemaVersion),referencePath:Je("string")};class _a extends xr{constructor(t,e,i){super(t,e,p_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ze(this.firestore,null,new Tt(t))}withConverter(t){return new _a(this.firestore,t,this._path)}}function hn(n,t,...e){if(n=rn(n),pw("collection","path",t),n instanceof up){const i=ge.fromString(t,...e);return CE(i),new _a(n,null,i)}{if(!(n instanceof Ze||n instanceof _a))throw new gt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ge.fromString(t,...e));return CE(i),new _a(n.firestore,null,i)}}function Hl(n,t,...e){if(n=rn(n),arguments.length===1&&(t=l_.newId()),pw("doc","path",t),n instanceof up){const i=ge.fromString(t,...e);return RE(i),new Ze(n,null,new Tt(i))}{if(!(n instanceof Ze||n instanceof _a))throw new gt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ge.fromString(t,...e));return RE(i),new Ze(n.firestore,n instanceof _a?n.converter:null,new Tt(i))}}const gS="AsyncQueue";class yS{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rA(this,"async_queue_retry"),this._c=()=>{const i=jg();i&&vt(gS,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=jg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=jg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new ya;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ec(t))throw t;vt(gS,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,_r("INTERNAL UNHANDLED ERROR: ",_S(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=R_.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&Ct(47125,{Pc:_S(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function _S(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}function vS(n){return(function(e,i){if(typeof e!="object"||e===null)return!1;const r=e;for(const o of i)if(o in r&&typeof r[o]=="function")return!0;return!1})(n,["next","error","complete"])}class Aa extends up{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new yS,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new yS(t),this._firestoreClient=void 0,await t}}}function _V(n,t){const e=typeof n=="object"?n:S1(),i=typeof n=="string"?n:Rd,r=Jy(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=ND("firestore");o&&yV(r,...o)}return r}function hp(n){if(n._terminated)throw new gt(at.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||vV(n),n._firestoreClient}function vV(n){const t=n._freezeSettings(),e=(function(r,o,l,u){return new HO(r,o,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,AA(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new dV(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}})(n._componentsProvider))}class Mi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Mi(An.fromBase64String(t))}catch(e){throw new gt(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Mi(An.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Mi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(rh(t,Mi._jsonSchema))return Mi.fromBase64String(t.bytes)}}Mi._jsonSchemaVersion="firestore/bytes/1.0",Mi._jsonSchema={type:Je("string",Mi._jsonSchemaVersion),bytes:Je("string")};class uh{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new gt(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class fp{constructor(t){this._methodName=t}}class Ds{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new gt(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new gt(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Gt(this._lat,t._lat)||Gt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ds._jsonSchemaVersion}}static fromJSON(t){if(rh(t,Ds._jsonSchema))return new Ds(t.latitude,t.longitude)}}Ds._jsonSchemaVersion="firestore/geoPoint/1.0",Ds._jsonSchema={type:Je("string",Ds._jsonSchemaVersion),latitude:Je("number"),longitude:Je("number")};class Ms{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ms._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(rh(t,Ms._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Ms(t.vectorValues);throw new gt(at.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ms._jsonSchemaVersion="firestore/vectorValue/1.0",Ms._jsonSchema={type:Je("string",Ms._jsonSchemaVersion),vectorValues:Je("object")};const bV=/^__.*__$/;class xV{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new ka(t,this.data,this.fieldMask,e,this.fieldTransforms):new ah(t,this.data,e,this.fieldTransforms)}}class CA{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new ka(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function IA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ct(40011,{Ac:n})}}class k_{constructor(t,e,i,r,o,l){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new k_({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Ld(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(IA(this.Ac)&&bV.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class EV{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||op(t)}Cc(t,e,i,r=!1){return new k_({Ac:t,methodName:e,Dc:i,path:wn.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dp(n){const t=n._freezeSettings(),e=op(n._databaseId);return new EV(n._databaseId,!!t.ignoreUndefinedProperties,e)}function DA(n,t,e,i,r,o={}){const l=n.Cc(o.merge||o.mergeFields?2:0,t,e,r);O_("Data must be an object, but it was:",l,i);const u=NA(i,l);let f,d;if(o.merge)f=new di(l.fieldMask),d=l.fieldTransforms;else if(o.mergeFields){const y=[];for(const g of o.mergeFields){const v=Dy(t,g,e);if(!l.contains(v))throw new gt(at.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);PA(y,v)||y.push(v)}f=new di(y),d=l.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,d=l.fieldTransforms;return new xV(new Qn(u),f,d)}class pp extends fp{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof pp}}class N_ extends fp{_toFieldTransform(t){return new mP(t.path,new zu)}isEqual(t){return t instanceof N_}}function MA(n,t,e,i){const r=n.Cc(1,t,e);O_("Data must be an object, but it was:",r,i);const o=[],l=Qn.empty();Ma(i,((f,d)=>{const y=P_(t,f,e);d=rn(d);const g=r.yc(y);if(d instanceof pp)o.push(y);else{const v=hh(d,g);v!=null&&(o.push(y),l.set(y,v))}}));const u=new di(o);return new CA(l,u,r.fieldTransforms)}function kA(n,t,e,i,r,o){const l=n.Cc(1,t,e),u=[Dy(t,i,e)],f=[r];if(o.length%2!=0)throw new gt(at.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)u.push(Dy(t,o[v])),f.push(o[v+1]);const d=[],y=Qn.empty();for(let v=u.length-1;v>=0;--v)if(!PA(d,u[v])){const E=u[v];let w=f[v];w=rn(w);const A=l.yc(E);if(w instanceof pp)d.push(E);else{const C=hh(w,A);C!=null&&(d.push(E),y.set(E,C))}}const g=new di(d);return new CA(y,g,l.fieldTransforms)}function SV(n,t,e,i=!1){return hh(e,n.Cc(i?4:3,t))}function hh(n,t){if(OA(n=rn(n)))return O_("Unsupported field value:",t,n),NA(n,t);if(n instanceof fp)return(function(i,r){if(!IA(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,r){const o=[];let l=0;for(const u of i){let f=hh(u,r.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),l++}return{arrayValue:{values:o}}})(n,t)}return(function(i,r){if((i=rn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return fP(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=be.fromDate(i);return{timestampValue:kd(r.serializer,o)}}if(i instanceof be){const o=new be(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:kd(r.serializer,o)}}if(i instanceof Ds)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Mi)return{bytesValue:$w(r.serializer,i._byteString)};if(i instanceof Ze){const o=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw r.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:__(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Ms)return(function(l,u){return{mapValue:{fields:{[Sw]:{stringValue:Tw},[Cd]:{arrayValue:{values:l.toArray().map((d=>{if(typeof d!="number")throw u.Sc("VectorValues must only contain numeric values.");return m_(u.serializer,d)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${Qd(i)}`)})(n,t)}function NA(n,t){const e={};return yw(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ma(n,((i,r)=>{const o=hh(r,t.mc(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function OA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof be||n instanceof Ds||n instanceof Mi||n instanceof Ze||n instanceof fp||n instanceof Ms)}function O_(n,t,e){if(!OA(e)||!mw(e)){const i=Qd(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function Dy(n,t,e){if((t=rn(t))instanceof uh)return t._internalPath;if(typeof t=="string")return P_(n,t);throw Ld("Field path arguments must be of type string or ",n,!1,void 0,e)}const TV=new RegExp("[~\\*/\\[\\]]");function P_(n,t,e){if(t.search(TV)>=0)throw Ld(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new uh(...t.split("."))._internalPath}catch{throw Ld(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Ld(n,t,e,i,r){const o=i&&!i.isEmpty(),l=r!==void 0;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(o||l)&&(f+=" (found",o&&(f+=` in field ${i}`),l&&(f+=` in document ${r}`),f+=")"),new gt(at.INVALID_ARGUMENT,u+n+f)}function PA(n,t){return n.some((e=>e.isEqual(t)))}class LA{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new wV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(mp("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class wV extends LA{data(){return super.data()}}function mp(n,t){return typeof t=="string"?P_(n,t):t instanceof uh?t._internalPath:t._delegate._internalPath}function VA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new gt(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class L_{}class V_ extends L_{}function ks(n,t,...e){let i=[];t instanceof L_&&i.push(t),i=i.concat(e),(function(o){const l=o.filter((f=>f instanceof j_)).length,u=o.filter((f=>f instanceof gp)).length;if(l>1||l>0&&u>0)throw new gt(at.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class gp extends V_{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new gp(t,e,i)}_apply(t){const e=this._parse(t);return jA(t._query,e),new xr(t.firestore,t.converter,vy(t._query,e))}_parse(t){const e=dp(t.firestore);return(function(o,l,u,f,d,y,g){let v;if(d.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new gt(at.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){xS(g,y);const w=[];for(const A of g)w.push(bS(f,o,A));v={arrayValue:{values:w}}}else v=bS(f,o,g)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||xS(g,y),v=SV(u,l,g,y==="in"||y==="not-in");return Qe.create(d,y,v)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function oa(n,t,e){const i=t,r=mp("where",n);return gp._create(r,i,e)}class j_ extends L_{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new j_(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:Ji.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(r,o){let l=r;const u=o.getFlattenedFilters();for(const f of u)jA(l,f),l=vy(l,f)})(t._query,e),new xr(t.firestore,t.converter,vy(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class z_ extends V_{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new z_(t,e)}_apply(t){const e=(function(r,o,l){if(r.startAt!==null)throw new gt(at.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new gt(at.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ju(o,l)})(t._query,this._field,this._direction);return new xr(t.firestore,t.converter,(function(r,o){const l=r.explicitOrderBy.concat([o]);return new nc(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(t._query,e))}}function ql(n,t="asc"){const e=t,i=mp("orderBy",n);return z_._create(i,e)}class U_ extends V_{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new U_(t,e,i)}_apply(t){return new xr(t.firestore,t.converter,Dd(t._query,this._limit,this._limitType))}}function AV(n){return U_._create("limit",n,"F")}function bS(n,t,e){if(typeof(e=rn(e))=="string"){if(e==="")throw new gt(at.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kw(t)&&e.indexOf("/")!==-1)throw new gt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(ge.fromString(e));if(!Tt.isDocumentKey(i))throw new gt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return LE(n,new Tt(i))}if(e instanceof Ze)return LE(n,e._key);throw new gt(at.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qd(e)}.`)}function xS(n,t){if(!Array.isArray(n)||n.length===0)throw new gt(at.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function jA(n,t){const e=(function(r,o){for(const l of r)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new gt(at.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new gt(at.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class RV{convertValue(t,e="none"){switch(Sa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ze(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ea(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Ct(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Ma(t,((r,o)=>{i[r]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[Cd].arrayValue?.values?.map((i=>ze(i.doubleValue)));return new Ms(e)}convertGeoPoint(t){return new Ds(ze(t.latitude),ze(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=tp(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Pu(t));default:return null}}convertTimestamp(t){const e=xa(t);return new be(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ge.fromString(t);se(tA(i),9688,{name:t});const r=new Lu(i.get(1),i.get(3)),o=new Tt(i.popFirst(5));return r.isEqual(e)||_r(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function zA(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class mu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class _o extends LA{constructor(t,e,i,r,o,l){super(t,e,i,r,l),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new pd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(mp("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(at.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=_o._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}_o._jsonSchemaVersion="firestore/documentSnapshot/1.0",_o._jsonSchema={type:Je("string",_o._jsonSchemaVersion),bundleSource:Je("string","DocumentSnapshot"),bundleName:Je("string"),bundle:Je("string")};class pd extends _o{data(t={}){return super.data(t)}}class vo{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new mu(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new pd(this._firestore,this._userDataWriter,i.key,i,new mu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new gt(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map((u=>{const f=new pd(r._firestore,r._userDataWriter,u.doc.key,u.doc,new mu(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const f=new pd(r._firestore,r._userDataWriter,u.doc.key,u.doc,new mu(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,y=-1;return u.type!==0&&(d=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),y=l.indexOf(u.doc.key)),{type:CV(u.type),doc:f,oldIndex:d,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(at.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=vo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=l_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function CV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ct(61501,{type:n})}}vo._jsonSchemaVersion="firestore/querySnapshot/1.0",vo._jsonSchema={type:Je("string",vo._jsonSchemaVersion),bundleSource:Je("string","QuerySnapshot"),bundleName:Je("string"),bundle:Je("string")};class B_ extends RV{constructor(t){super(),this.firestore=t}convertBytes(t){return new Mi(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ze(this.firestore,null,e)}}function Ns(n){n=Xi(n,xr);const t=Xi(n.firestore,Aa),e=hp(t),i=new B_(t);return VA(n._query),gV(e,n._query).then((r=>new vo(t,i,n,r)))}function UA(n,t,e,...i){n=Xi(n,Ze);const r=Xi(n.firestore,Aa),o=dp(r);let l;return l=typeof(t=rn(t))=="string"||t instanceof uh?kA(o,"updateDoc",n._key,t,e,i):MA(o,"updateDoc",n._key,t),yp(r,[l.toMutation(n._key,Zn.exists(!0))])}function BA(n){return yp(Xi(n.firestore,Aa),[new rp(n._key,Zn.none())])}function F_(n,t){const e=Xi(n.firestore,Aa),i=Hl(n),r=zA(n.converter,t);return yp(e,[DA(dp(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Zn.exists(!1))]).then((()=>i))}function Fu(n,...t){n=rn(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||vS(t[i])||(e=t[i++]);const r={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(vS(t[i])){const f=t[i];t[i]=f.next?.bind(f),t[i+1]=f.error?.bind(f),t[i+2]=f.complete?.bind(f)}let o,l,u;if(n instanceof Ze)l=Xi(n.firestore,Aa),u=p_(n._key.path),o={next:f=>{t[i]&&t[i](IV(l,n,f))},error:t[i+1],complete:t[i+2]};else{const f=Xi(n,xr);l=Xi(f.firestore,Aa),u=f._query;const d=new B_(l);o={next:y=>{t[i]&&t[i](new vo(l,d,f,y))},error:t[i+1],complete:t[i+2]},VA(n._query)}return(function(d,y,g,v){const E=new TA(v),w=new mA(y,E,g);return d.asyncQueue.enqueueAndForget((async()=>dA(await Iy(d),w))),()=>{E.Nu(),d.asyncQueue.enqueueAndForget((async()=>pA(await Iy(d),w)))}})(hp(l),u,r,o)}function yp(n,t){return(function(i,r){const o=new ya;return i.asyncQueue.enqueueAndForget((async()=>sV(await mV(i),r,o))),o.promise})(hp(n),t)}function IV(n,t,e){const i=e.docs.get(t._key),r=new B_(n);return new _o(n,r,t._key,i,new mu(e.hasPendingWrites,e.fromCache),t.converter)}class DV{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=dp(t)}set(t,e,i){this._verifyNotCommitted();const r=Ug(t,this._firestore),o=zA(r.converter,e,i),l=DA(this._dataReader,"WriteBatch.set",r._key,o,r.converter!==null,i);return this._mutations.push(l.toMutation(r._key,Zn.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Ug(t,this._firestore);let l;return l=typeof(e=rn(e))=="string"||e instanceof uh?kA(this._dataReader,"WriteBatch.update",o._key,e,i,r):MA(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(l.toMutation(o._key,Zn.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Ug(t,this._firestore);return this._mutations=this._mutations.concat(new rp(e._key,Zn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new gt(at.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ug(n,t){if((n=rn(n)).firestore!==t)throw new gt(at.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Gl(){return new N_("serverTimestamp")}function MV(n){return hp(n=Xi(n,Aa)),new DV(n,(t=>yp(n,t)))}(function(t,e=!0){(function(r){Zl=r})(Ql),Ll(new So("firestore",((i,{instanceIdentifier:r,options:o})=>{const l=i.getProvider("app").getImmediate(),u=new Aa(new TO(i.getProvider("auth-internal")),new RO(l,i.getProvider("app-check-internal")),(function(d,y){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new gt(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lu(d.options.projectId,y)})(l,r),l);return o={useFetchStreams:e,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),ma(SE,TE,t),ma(SE,TE,"esm2020")})();const kV={apiKey:"AIzaSyAGAvr1QAO5ZPPCtbYQLK_0694DEjoy5Bw",authDomain:"paud-rohani.firebaseapp.com",projectId:"paud-rohani",storageBucket:"paud-rohani.firebaseapp.com",messagingSenderId:"1051220684882",appId:"1:1051220684882:web:7d77a8367fa92b57c96f8b",measurementId:"G-SQHBZ6ST71"},FA=E1(kV),ES=_O(FA),we=_V(FA);function NV(){const n=Gy(),[t,e]=G.useState(!0),[i,r]=G.useState(""),[o,l]=G.useState(""),[u,f]=G.useState(!1),d=async g=>{if(g.preventDefault(),f(!0),console.log("=== MULAI PROSES AUTH ==="),console.log("Mode:",t?"LOGIN":"REGISTER"),console.log("Tipe Fungsi Login:",typeof fE),console.log("Email yang dikirim:",i),console.log("Password yang dikirim:",o),!i||!o){ce.error("Email atau Password kosong/tidak terbaca!"),f(!1);return}try{if(t){console.log(">> Mengeksekusi signInWithEmailAndPassword...");const v=await fE(ES,i,o);console.log(">> HASIL LOGIN:",v),ce.success("Login Berhasil! Mengalihkan..."),setTimeout(()=>{n("/dashboard")},1e3)}else console.log(">> Mengeksekusi Register..."),await rN(ES,i,o),ce.success("Registrasi Berhasil! Silahkan login."),e(!0)}catch(v){console.error("!!! TERJADI ERROR !!!"),console.error("Code:",v.code),console.error("Message:",v.message),ce.error(`Gagal: ${v.code}`)}finally{f(!1),console.log("=== SELESAI ===")}},y=()=>{e(!t)};return S.jsxs("div",{className:"login-page-wrapper",children:[S.jsx(h1,{position:"top-center",richColors:!0}),S.jsxs("div",{className:"login-container",children:[S.jsx("div",{className:"logo-container",children:S.jsx("i",{className:"fa-solid fa-school"})}),S.jsx("h1",{children:"PAUD Finance System"}),S.jsx("p",{className:"subtitle",children:"School Administration Portal"}),S.jsxs("form",{onSubmit:d,children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{className:"form-label",children:"Email Address"}),S.jsxs("div",{className:"input-wrapper",children:[S.jsx("i",{className:"fa-regular fa-envelope"}),S.jsx("input",{type:"email",placeholder:"admin@paud.com",required:!0,value:i,onChange:g=>r(g.target.value)})]})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{className:"form-label",children:"Password"}),S.jsxs("div",{className:"input-wrapper",children:[S.jsx("i",{className:"fa-solid fa-lock"}),S.jsx("input",{type:"password",placeholder:"Enter password",required:!0,value:o,onChange:g=>l(g.target.value)})]})]}),S.jsx("button",{type:"submit",className:"btn-primary",disabled:u,children:u?"Loading...":t?"Login":"Register"})]}),S.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{ce.success("This is a success toast")},children:"Render toast"}),S.jsxs("div",{className:"info-box",children:["For ",S.jsx("b",{children:"private"})," access"]}),S.jsx("div",{className:"toggle-link",children:S.jsxs("p",{children:[t?"Belum punya akun? ":"Sudah punya akun? ",S.jsx("span",{onClick:y,children:t?"Daftar disini":"Login disini"})]})})]})]})}const OV=({isOpen:n,toggleSidebar:t})=>{const e=Gy(),i=()=>{e("/")},r=()=>{n&&t()};return S.jsxs(S.Fragment,{children:[S.jsx("div",{className:`sidebar-overlay ${n?"active":""}`,onClick:t}),S.jsxs("nav",{className:`sidebar ${n?"open":""}`,children:[S.jsx("button",{className:"sidebar-close-btn",onClick:t,children:S.jsx("i",{className:"fa-solid fa-xmark"})}),S.jsxs("div",{className:"brand",children:[S.jsx("h2",{children:"PAUD Finance"}),S.jsx("p",{children:"Admin Portal"})]}),S.jsxs("ul",{className:"menu-list",children:[S.jsx("li",{children:S.jsxs(na,{to:"/dashboard",className:({isActive:o})=>`menu-item ${o?"active":""}`,onClick:r,children:[S.jsx("i",{className:"fa-solid fa-border-all"})," Dashboard"]})}),S.jsx("li",{children:S.jsxs(na,{to:"/income",className:({isActive:o})=>`menu-item ${o?"active":""}`,onClick:r,children:[S.jsx("i",{className:"fa-solid fa-dollar-sign"})," Income Management"]})}),S.jsx("li",{children:S.jsxs(na,{to:"/daily-income",className:({isActive:o})=>`menu-item ${o?"active":""}`,onClick:r,children:[S.jsx("i",{className:"fa-solid fa-calendar-days"})," Daily Income"]})}),S.jsx("li",{children:S.jsxs(na,{to:"/savings",className:({isActive:o})=>`menu-item ${o?"active":""}`,onClick:r,children:[S.jsx("i",{className:"fa-solid fa-piggy-bank"})," Student Savings"]})}),S.jsx("li",{children:S.jsxs(na,{to:"/absensi",className:({isActive:o})=>`menu-item ${o?"active":""}`,onClick:r,children:[S.jsx("i",{className:"fa-solid fa-user-group"})," Absensi"]})}),S.jsx("li",{children:S.jsxs(na,{to:"/users",className:({isActive:o})=>`menu-item ${o?"active":""}`,onClick:r,children:[S.jsx("i",{className:"fa-solid fa-user-group"})," User Management"]})}),S.jsx("li",{children:S.jsxs(na,{to:"/other-transaction",className:({isActive:o})=>`menu-item ${o?"active":""}`,onClick:r,children:[S.jsx("i",{className:"fa-solid fa-cash-register"})," Other Transaction"]})})]}),S.jsxs("button",{onClick:i,className:"menu-item logout",style:{background:"none",border:"none",width:"100%",textAlign:"left"},children:[S.jsx("i",{className:"fa-solid fa-arrow-right-from-bracket"})," Logout"]})]})]})},PV=()=>{const[n,t]=G.useState(!1),e=()=>{t(!n)};return S.jsxs("div",{style:{display:"flex",height:"100vh",width:"100vw",overflow:"hidden"},children:[S.jsx(h1,{position:"top-center",richColors:!0}),S.jsx(OV,{isOpen:n,toggleSidebar:e}),S.jsxs("main",{className:"main-content",children:[S.jsx("div",{className:"mobile-header-control"}),S.jsx(y2,{context:{toggleSidebar:e}})]})]})};function fh(n){return n+.5|0}const ca=(n,t,e)=>Math.max(Math.min(n,e),t);function gu(n){return ca(fh(n*2.55),0,255)}function va(n){return ca(fh(n*255),0,255)}function or(n){return ca(fh(n/2.55)/100,0,1)}function SS(n){return ca(fh(n*100),0,100)}const Ii={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},My=[..."0123456789ABCDEF"],LV=n=>My[n&15],VV=n=>My[(n&240)>>4]+My[n&15],qf=n=>(n&240)>>4===(n&15),jV=n=>qf(n.r)&&qf(n.g)&&qf(n.b)&&qf(n.a);function zV(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Ii[n[1]]*17,g:255&Ii[n[2]]*17,b:255&Ii[n[3]]*17,a:t===5?Ii[n[4]]*17:255}:(t===7||t===9)&&(e={r:Ii[n[1]]<<4|Ii[n[2]],g:Ii[n[3]]<<4|Ii[n[4]],b:Ii[n[5]]<<4|Ii[n[6]],a:t===9?Ii[n[7]]<<4|Ii[n[8]]:255})),e}const UV=(n,t)=>n<255?t(n):"";function BV(n){var t=jV(n)?LV:VV;return n?"#"+t(n.r)+t(n.g)+t(n.b)+UV(n.a,t):void 0}const FV=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function HA(n,t,e){const i=t*Math.min(e,1-e),r=(o,l=(o+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function HV(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function qV(n,t,e){const i=HA(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function GV(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function H_(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),l=Math.min(e,i,r),u=(o+l)/2;let f,d,y;return o!==l&&(y=o-l,d=u>.5?y/(2-o-l):y/(o+l),f=GV(e,i,r,y,o),f=f*60+.5),[f|0,d||0,u]}function q_(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(va)}function G_(n,t,e){return q_(HA,n,t,e)}function YV(n,t,e){return q_(qV,n,t,e)}function WV(n,t,e){return q_(HV,n,t,e)}function qA(n){return(n%360+360)%360}function $V(n){const t=FV.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?gu(+t[5]):va(+t[5]));const r=qA(+t[2]),o=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=YV(r,o,l):t[1]==="hsv"?i=WV(r,o,l):i=G_(r,o,l),{r:i[0],g:i[1],b:i[2],a:e}}function KV(n,t){var e=H_(n);e[0]=qA(e[0]+t),e=G_(e),n.r=e[0],n.g=e[1],n.b=e[2]}function XV(n){if(!n)return;const t=H_(n),e=t[0],i=SS(t[1]),r=SS(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${or(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const TS={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},wS={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function QV(){const n={},t=Object.keys(wS),e=Object.keys(TS);let i,r,o,l,u;for(i=0;i<t.length;i++){for(l=u=t[i],r=0;r<e.length;r++)o=e[r],u=u.replace(o,TS[o]);o=parseInt(wS[l],16),n[u]=[o>>16&255,o>>8&255,o&255]}return n}let Gf;function JV(n){Gf||(Gf=QV(),Gf.transparent=[0,0,0,0]);const t=Gf[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const ZV=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function t4(n){const t=ZV.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const l=+t[7];e=t[8]?gu(l):ca(l*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?gu(i):ca(i,0,255)),r=255&(t[4]?gu(r):ca(r,0,255)),o=255&(t[6]?gu(o):ca(o,0,255)),{r:i,g:r,b:o,a:e}}}function e4(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${or(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Bg=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Tl=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function n4(n,t,e){const i=Tl(or(n.r)),r=Tl(or(n.g)),o=Tl(or(n.b));return{r:va(Bg(i+e*(Tl(or(t.r))-i))),g:va(Bg(r+e*(Tl(or(t.g))-r))),b:va(Bg(o+e*(Tl(or(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Yf(n,t,e){if(n){let i=H_(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=G_(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function GA(n,t){return n&&Object.assign(t||{},n)}function AS(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=va(n[3]))):(t=GA(n,{r:0,g:0,b:0,a:1}),t.a=va(t.a)),t}function i4(n){return n.charAt(0)==="r"?t4(n):$V(n)}class Hu{constructor(t){if(t instanceof Hu)return t;const e=typeof t;let i;e==="object"?i=AS(t):e==="string"&&(i=zV(t)||JV(t)||i4(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=GA(this._rgb);return t&&(t.a=or(t.a)),t}set rgb(t){this._rgb=AS(t)}rgbString(){return this._valid?e4(this._rgb):void 0}hexString(){return this._valid?BV(this._rgb):void 0}hslString(){return this._valid?XV(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const l=e===o?.5:e,u=2*l-1,f=i.a-r.a,d=((u*f===-1?u:(u+f)/(1+u*f))+1)/2;o=1-d,i.r=255&d*i.r+o*r.r+.5,i.g=255&d*i.g+o*r.g+.5,i.b=255&d*i.b+o*r.b+.5,i.a=l*i.a+(1-l)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=n4(this._rgb,t._rgb,e)),this}clone(){return new Hu(this.rgb)}alpha(t){return this._rgb.a=va(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=fh(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Yf(this._rgb,2,t),this}darken(t){return Yf(this._rgb,2,-t),this}saturate(t){return Yf(this._rgb,1,t),this}desaturate(t){return Yf(this._rgb,1,-t),this}rotate(t){return KV(this._rgb,t),this}}function sr(){}const s4=(()=>{let n=0;return()=>n++})();function Bt(n){return n==null}function Ae(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Wt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Ne(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function fi(n,t){return Ne(n)?n:t}function Nt(n,t){return typeof n>"u"?t:n}const r4=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,YA=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function me(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function le(n,t,e,i){let r,o,l;if(Ae(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(Wt(n))for(l=Object.keys(n),o=l.length,r=0;r<o;r++)t.call(e,n[l[r]],l[r])}function Vd(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function jd(n){if(Ae(n))return n.map(jd);if(Wt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=jd(n[e[r]]);return t}return n}function WA(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function a4(n,t,e,i){if(!WA(n))return;const r=t[n],o=e[n];Wt(r)&&Wt(o)?qu(r,o,i):t[n]=jd(o)}function qu(n,t,e){const i=Ae(t)?t:[t],r=i.length;if(!Wt(n))return n;e=e||{};const o=e.merger||a4;let l;for(let u=0;u<r;++u){if(l=i[u],!Wt(l))continue;const f=Object.keys(l);for(let d=0,y=f.length;d<y;++d)o(f[d],n,l,e)}return n}function Au(n,t){return qu(n,t,{merger:o4})}function o4(n,t,e){if(!WA(n))return;const i=t[n],r=e[n];Wt(i)&&Wt(r)?Au(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=jd(r))}const RS={"":n=>n,x:n=>n.x,y:n=>n.y};function l4(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function c4(n){const t=l4(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Ra(n,t){return(RS[t]||(RS[t]=c4(t)))(n)}function Y_(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Gu=n=>typeof n<"u",Ca=n=>typeof n=="function",CS=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function u4(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Zt=Math.PI,xe=2*Zt,h4=xe+Zt,zd=Number.POSITIVE_INFINITY,f4=Zt/180,Ue=Zt/2,co=Zt/4,IS=Zt*2/3,ua=Math.log10,Os=Math.sign;function Ru(n,t,e){return Math.abs(n-t)<e}function DS(n){const t=Math.round(n);n=Ru(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(ua(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function d4(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function p4(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Yl(n){return!p4(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function m4(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function $A(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Ki(n){return n*(Zt/180)}function W_(n){return n*(180/Zt)}function MS(n){if(!Ne(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function KA(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*Zt&&(o+=xe),{angle:o,distance:r}}function ky(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function g4(n,t){return(n-t+h4)%xe-Zt}function kn(n){return(n%xe+xe)%xe}function Yu(n,t,e,i){const r=kn(n),o=kn(t),l=kn(e),u=kn(o-r),f=kn(l-r),d=kn(r-o),y=kn(r-l);return r===o||r===l||i&&o===l||u>f&&d<y}function fn(n,t,e){return Math.max(t,Math.min(e,n))}function y4(n){return fn(n,-32768,32767)}function ur(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function $_(n,t,e){e=e||(l=>n[l]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const hr=(n,t,e,i)=>$_(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),_4=(n,t,e)=>$_(n,e,i=>n[i][t]>=e);function v4(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const XA=["push","pop","shift","splice","unshift"];function b4(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),XA.forEach(e=>{const i="_onData"+Y_(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const l=r.apply(this,o);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...o)}),l}})})}function kS(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(XA.forEach(o=>{delete n[o]}),delete n._chartjs)}function QA(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const JA=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function ZA(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,JA.call(window,()=>{i=!1,n.apply(t,e)}))}}function x4(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const K_=n=>n==="start"?"left":n==="end"?"right":"center",Dn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,E4=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function tR(n,t,e){const i=t.length;let r=0,o=i;if(n._sorted){const{iScale:l,vScale:u,_parsed:f}=n,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,y=l.axis,{min:g,max:v,minDefined:E,maxDefined:w}=l.getUserBounds();if(E){if(r=Math.min(hr(f,y,g).lo,e?i:hr(t,y,l.getPixelForValue(g)).lo),d){const A=f.slice(0,r+1).reverse().findIndex(C=>!Bt(C[u.axis]));r-=Math.max(0,A)}r=fn(r,0,i-1)}if(w){let A=Math.max(hr(f,l.axis,v,!0).hi+1,e?0:hr(t,y,l.getPixelForValue(v),!0).hi+1);if(d){const C=f.slice(A-1).findIndex(O=>!Bt(O[u.axis]));A+=Math.max(0,C)}o=fn(A,r,i)-r}else o=i-r}return{start:r,count:o}}function eR(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}const Wf=n=>n===0||n===1,NS=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*xe/e)),OS=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*xe/e)+1,Cu={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ue)+1,easeOutSine:n=>Math.sin(n*Ue),easeInOutSine:n=>-.5*(Math.cos(Zt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Wf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Wf(n)?n:NS(n,.075,.3),easeOutElastic:n=>Wf(n)?n:OS(n,.075,.3),easeInOutElastic(n){return Wf(n)?n:n<.5?.5*NS(n*2,.1125,.45):.5+.5*OS(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Cu.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Cu.easeInBounce(n*2)*.5:Cu.easeOutBounce(n*2-1)*.5+.5};function X_(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function PS(n){return X_(n)?n:new Hu(n)}function Fg(n){return X_(n)?n:new Hu(n).saturate(.5).darken(.1).hexString()}const S4=["x","y","borderWidth","radius","tension"],T4=["color","borderColor","backgroundColor"];function w4(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:T4},numbers:{type:"number",properties:S4}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function A4(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const LS=new Map;function R4(n,t){t=t||{};const e=n+JSON.stringify(t);let i=LS.get(e);return i||(i=new Intl.NumberFormat(n,t),LS.set(e,i)),i}function dh(n,t,e){return R4(t,e).format(n)}const nR={values(n){return Ae(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const d=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),o=C4(n,e)}const l=ua(Math.abs(o)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),f={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(f,this.options.ticks.format),dh(n,i,f)},logarithmic(n,t,e){if(n===0)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(ua(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?nR.numeric.call(this,n,t,e):""}};function C4(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var _p={formatters:nR};function I4(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:_p.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Co=Object.create(null),Ny=Object.create(null);function Iu(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Hg(n,t,e){return typeof t=="string"?qu(Iu(n,t),e):qu(Iu(n,""),t)}class D4{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Fg(r.backgroundColor),this.hoverBorderColor=(i,r)=>Fg(r.borderColor),this.hoverColor=(i,r)=>Fg(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Hg(this,t,e)}get(t){return Iu(this,t)}describe(t,e){return Hg(Ny,t,e)}override(t,e){return Hg(Co,t,e)}route(t,e,i,r){const o=Iu(this,t),l=Iu(this,i),u="_"+e;Object.defineProperties(o,{[u]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[u],d=l[r];return Wt(f)?Object.assign({},d,f):Nt(f,d)},set(f){this[u]=f}}})}apply(t){t.forEach(e=>e(this))}}var Re=new D4({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[w4,A4,I4]);function M4(n){return!n||Bt(n.size)||Bt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Ud(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function k4(n,t,e,i){i=i||{};let r=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},o=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let l=0;const u=e.length;let f,d,y,g,v;for(f=0;f<u;f++)if(g=e[f],g!=null&&!Ae(g))l=Ud(n,r,o,l,g);else if(Ae(g))for(d=0,y=g.length;d<y;d++)v=g[d],v!=null&&!Ae(v)&&(l=Ud(n,r,o,l,v));n.restore();const E=o.length/2;if(E>e.length){for(f=0;f<E;f++)delete r[o[f]];o.splice(0,E)}return l}function uo(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function VS(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Oy(n,t,e,i){iR(n,t,e,i,null)}function iR(n,t,e,i,r){let o,l,u,f,d,y,g,v;const E=t.pointStyle,w=t.rotation,A=t.radius;let C=(w||0)*f4;if(E&&typeof E=="object"&&(o=E.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(C),n.drawImage(E,-E.width/2,-E.height/2,E.width,E.height),n.restore();return}if(!(isNaN(A)||A<=0)){switch(n.beginPath(),E){default:r?n.ellipse(e,i,r/2,A,0,0,xe):n.arc(e,i,A,0,xe),n.closePath();break;case"triangle":y=r?r/2:A,n.moveTo(e+Math.sin(C)*y,i-Math.cos(C)*A),C+=IS,n.lineTo(e+Math.sin(C)*y,i-Math.cos(C)*A),C+=IS,n.lineTo(e+Math.sin(C)*y,i-Math.cos(C)*A),n.closePath();break;case"rectRounded":d=A*.516,f=A-d,l=Math.cos(C+co)*f,g=Math.cos(C+co)*(r?r/2-d:f),u=Math.sin(C+co)*f,v=Math.sin(C+co)*(r?r/2-d:f),n.arc(e-g,i-u,d,C-Zt,C-Ue),n.arc(e+v,i-l,d,C-Ue,C),n.arc(e+g,i+u,d,C,C+Ue),n.arc(e-v,i+l,d,C+Ue,C+Zt),n.closePath();break;case"rect":if(!w){f=Math.SQRT1_2*A,y=r?r/2:f,n.rect(e-y,i-f,2*y,2*f);break}C+=co;case"rectRot":g=Math.cos(C)*(r?r/2:A),l=Math.cos(C)*A,u=Math.sin(C)*A,v=Math.sin(C)*(r?r/2:A),n.moveTo(e-g,i-u),n.lineTo(e+v,i-l),n.lineTo(e+g,i+u),n.lineTo(e-v,i+l),n.closePath();break;case"crossRot":C+=co;case"cross":g=Math.cos(C)*(r?r/2:A),l=Math.cos(C)*A,u=Math.sin(C)*A,v=Math.sin(C)*(r?r/2:A),n.moveTo(e-g,i-u),n.lineTo(e+g,i+u),n.moveTo(e+v,i-l),n.lineTo(e-v,i+l);break;case"star":g=Math.cos(C)*(r?r/2:A),l=Math.cos(C)*A,u=Math.sin(C)*A,v=Math.sin(C)*(r?r/2:A),n.moveTo(e-g,i-u),n.lineTo(e+g,i+u),n.moveTo(e+v,i-l),n.lineTo(e-v,i+l),C+=co,g=Math.cos(C)*(r?r/2:A),l=Math.cos(C)*A,u=Math.sin(C)*A,v=Math.sin(C)*(r?r/2:A),n.moveTo(e-g,i-u),n.lineTo(e+g,i+u),n.moveTo(e+v,i-l),n.lineTo(e-v,i+l);break;case"line":l=r?r/2:Math.cos(C)*A,u=Math.sin(C)*A,n.moveTo(e-l,i-u),n.lineTo(e+l,i+u);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(C)*(r?r/2:A),i+Math.sin(C)*A);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function fr(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function vp(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function bp(n){n.restore()}function N4(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function O4(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function P4(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Bt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function L4(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),l=t-o.actualBoundingBoxLeft,u=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,d=e+o.actualBoundingBoxDescent,y=r.strikethrough?(f+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(l,y),n.lineTo(u,y),n.stroke()}}function V4(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Io(n,t,e,i,r,o={}){const l=Ae(t)?t:[t],u=o.strokeWidth>0&&o.strokeColor!=="";let f,d;for(n.save(),n.font=r.string,P4(n,o),f=0;f<l.length;++f)d=l[f],o.backdrop&&V4(n,o.backdrop),u&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Bt(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(d,e,i,o.maxWidth)),n.fillText(d,e,i,o.maxWidth),L4(n,e,i,d,o),i+=Number(r.lineHeight);n.restore()}function Wu(n,t){const{x:e,y:i,w:r,h:o,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,1.5*Zt,Zt,!0),n.lineTo(e,i+o-l.bottomLeft),n.arc(e+l.bottomLeft,i+o-l.bottomLeft,l.bottomLeft,Zt,Ue,!0),n.lineTo(e+r-l.bottomRight,i+o),n.arc(e+r-l.bottomRight,i+o-l.bottomRight,l.bottomRight,Ue,0,!0),n.lineTo(e+r,i+l.topRight),n.arc(e+r-l.topRight,i+l.topRight,l.topRight,0,-Ue,!0),n.lineTo(e+l.topLeft,i)}const j4=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,z4=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function U4(n,t){const e=(""+n).match(j4);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const B4=n=>+n||0;function Q_(n,t){const e={},i=Wt(t),r=i?Object.keys(t):t,o=Wt(n)?i?l=>Nt(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of r)e[l]=B4(o(l));return e}function sR(n){return Q_(n,{top:"y",right:"x",bottom:"y",left:"x"})}function bo(n){return Q_(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Ln(n){const t=sR(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function nn(n,t){n=n||{},t=t||Re.font;let e=Nt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Nt(n.style,t.style);i&&!(""+i).match(z4)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Nt(n.family,t.family),lineHeight:U4(Nt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Nt(n.weight,t.weight),string:""};return r.string=M4(r),r}function yu(n,t,e,i){let r,o,l;for(r=0,o=n.length;r<o;++r)if(l=n[r],l!==void 0&&l!==void 0)return l}function F4(n,t,e){const{min:i,max:r}=n,o=YA(t,(r-i)/2),l=(u,f)=>e&&u===0?0:u+f;return{min:l(i,-Math.abs(o)),max:l(r,o)}}function Na(n,t){return Object.assign(Object.create(n),t)}function J_(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=lR("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:u=>J_([u,...n],t,o,i)};return new Proxy(l,{deleteProperty(u,f){return delete u[f],delete u._keys,delete n[0][f],!0},get(u,f){return aR(u,f,()=>X4(f,t,n,u))},getOwnPropertyDescriptor(u,f){return Reflect.getOwnPropertyDescriptor(u._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,f){return zS(u).includes(f)},ownKeys(u){return zS(u)},set(u,f,d){const y=u._storage||(u._storage=r());return u[f]=y[f]=d,delete u._keys,!0}})}function Wl(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:rR(n,i),setContext:o=>Wl(n,o,e,i),override:o=>Wl(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,l){return delete o[l],delete n[l],!0},get(o,l,u){return aR(o,l,()=>q4(o,l,u))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(o,l,u){return n[l]=u,delete o[l],!0}})}function rR(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Ca(e)?e:()=>e,isIndexable:Ca(i)?i:()=>i}}const H4=(n,t)=>n?n+Y_(t):t,Z_=(n,t)=>Wt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function aR(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function q4(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:l}=n;let u=i[t];return Ca(u)&&l.isScriptable(t)&&(u=G4(t,u,n,e)),Ae(u)&&u.length&&(u=Y4(t,u,n,l.isIndexable)),Z_(t,u)&&(u=Wl(u,r,o&&o[t],l)),u}function G4(n,t,e,i){const{_proxy:r,_context:o,_subProxy:l,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let f=t(o,l||i);return u.delete(n),Z_(n,f)&&(f=tv(r._scopes,r,n,f)),f}function Y4(n,t,e,i){const{_proxy:r,_context:o,_subProxy:l,_descriptors:u}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Wt(t[0])){const f=t,d=r._scopes.filter(y=>y!==f);t=[];for(const y of f){const g=tv(d,r,n,y);t.push(Wl(g,o,l&&l[n],u))}}return t}function oR(n,t,e){return Ca(n)?n(t,e):n}const W4=(n,t)=>n===!0?t:typeof n=="string"?Ra(t,n):void 0;function $4(n,t,e,i,r){for(const o of t){const l=W4(e,o);if(l){n.add(l);const u=oR(l._fallback,e,r);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(l===!1&&typeof i<"u"&&e!==i)return null}return!1}function tv(n,t,e,i){const r=t._rootScopes,o=oR(t._fallback,e,i),l=[...n,...r],u=new Set;u.add(i);let f=jS(u,l,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=jS(u,l,o,f,i),f===null)?!1:J_(Array.from(u),[""],r,o,()=>K4(t,e,i))}function jS(n,t,e,i,r){for(;e;)e=$4(n,t,e,i,r);return e}function K4(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Ae(r)&&Wt(e)?e:r||{}}function X4(n,t,e,i){let r;for(const o of t)if(r=lR(H4(o,n),e),typeof r<"u")return Z_(n,r)?tv(e,i,n,r):r}function lR(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function zS(n){let t=n._keys;return t||(t=n._keys=Q4(n._scopes)),t}function Q4(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function cR(n,t,e,i){const{iScale:r}=n,{key:o="r"}=this._parsing,l=new Array(i);let u,f,d,y;for(u=0,f=i;u<f;++u)d=u+e,y=t[d],l[u]={r:r.parse(Ra(y,o),d)};return l}const J4=Number.EPSILON||1e-14,$l=(n,t)=>t<n.length&&!n[t].skip&&n[t],uR=n=>n==="x"?"y":"x";function Z4(n,t,e,i){const r=n.skip?t:n,o=t,l=e.skip?t:e,u=ky(o,r),f=ky(l,o);let d=u/(u+f),y=f/(u+f);d=isNaN(d)?0:d,y=isNaN(y)?0:y;const g=i*d,v=i*y;return{previous:{x:o.x-g*(l.x-r.x),y:o.y-g*(l.y-r.y)},next:{x:o.x+v*(l.x-r.x),y:o.y+v*(l.y-r.y)}}}function t5(n,t,e){const i=n.length;let r,o,l,u,f,d=$l(n,0);for(let y=0;y<i-1;++y)if(f=d,d=$l(n,y+1),!(!f||!d)){if(Ru(t[y],0,J4)){e[y]=e[y+1]=0;continue}r=e[y]/t[y],o=e[y+1]/t[y],u=Math.pow(r,2)+Math.pow(o,2),!(u<=9)&&(l=3/Math.sqrt(u),e[y]=r*l*t[y],e[y+1]=o*l*t[y])}}function e5(n,t,e="x"){const i=uR(e),r=n.length;let o,l,u,f=$l(n,0);for(let d=0;d<r;++d){if(l=u,u=f,f=$l(n,d+1),!u)continue;const y=u[e],g=u[i];l&&(o=(y-l[e])/3,u[`cp1${e}`]=y-o,u[`cp1${i}`]=g-o*t[d]),f&&(o=(f[e]-y)/3,u[`cp2${e}`]=y+o,u[`cp2${i}`]=g+o*t[d])}}function n5(n,t="x"){const e=uR(t),i=n.length,r=Array(i).fill(0),o=Array(i);let l,u,f,d=$l(n,0);for(l=0;l<i;++l)if(u=f,f=d,d=$l(n,l+1),!!f){if(d){const y=d[t]-f[t];r[l]=y!==0?(d[e]-f[e])/y:0}o[l]=u?d?Os(r[l-1])!==Os(r[l])?0:(r[l-1]+r[l])/2:r[l-1]:r[l]}t5(n,r,o),e5(n,o,t)}function $f(n,t,e){return Math.max(Math.min(n,e),t)}function i5(n,t){let e,i,r,o,l,u=fr(n[0],t);for(e=0,i=n.length;e<i;++e)l=o,o=u,u=e<i-1&&fr(n[e+1],t),o&&(r=n[e],l&&(r.cp1x=$f(r.cp1x,t.left,t.right),r.cp1y=$f(r.cp1y,t.top,t.bottom)),u&&(r.cp2x=$f(r.cp2x,t.left,t.right),r.cp2y=$f(r.cp2y,t.top,t.bottom)))}function s5(n,t,e,i,r){let o,l,u,f;if(t.spanGaps&&(n=n.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")n5(n,r);else{let d=i?n[n.length-1]:n[0];for(o=0,l=n.length;o<l;++o)u=n[o],f=Z4(d,u,n[Math.min(o+1,l-(i?0:1))%l],t.tension),u.cp1x=f.previous.x,u.cp1y=f.previous.y,u.cp2x=f.next.x,u.cp2y=f.next.y,d=u}t.capBezierPoints&&i5(n,e)}function ev(){return typeof window<"u"&&typeof document<"u"}function nv(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Bd(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const xp=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function r5(n,t){return xp(n).getPropertyValue(t)}const a5=["top","right","bottom","left"];function xo(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=a5[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const o5=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function l5(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let l=!1,u,f;if(o5(r,o,n.target))u=r,f=o;else{const d=t.getBoundingClientRect();u=i.clientX-d.left,f=i.clientY-d.top,l=!0}return{x:u,y:f,box:l}}function mo(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=xp(e),o=r.boxSizing==="border-box",l=xo(r,"padding"),u=xo(r,"border","width"),{x:f,y:d,box:y}=l5(n,e),g=l.left+(y&&u.left),v=l.top+(y&&u.top);let{width:E,height:w}=t;return o&&(E-=l.width+u.width,w-=l.height+u.height),{x:Math.round((f-g)/E*e.width/i),y:Math.round((d-v)/w*e.height/i)}}function c5(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&nv(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const l=o.getBoundingClientRect(),u=xp(o),f=xo(u,"border","width"),d=xo(u,"padding");t=l.width-d.width-f.width,e=l.height-d.height-f.height,i=Bd(u.maxWidth,o,"clientWidth"),r=Bd(u.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||zd,maxHeight:r||zd}}const ha=n=>Math.round(n*10)/10;function u5(n,t,e,i){const r=xp(n),o=xo(r,"margin"),l=Bd(r.maxWidth,n,"clientWidth")||zd,u=Bd(r.maxHeight,n,"clientHeight")||zd,f=c5(n,t,e);let{width:d,height:y}=f;if(r.boxSizing==="content-box"){const v=xo(r,"border","width"),E=xo(r,"padding");d-=E.width+v.width,y-=E.height+v.height}return d=Math.max(0,d-o.width),y=Math.max(0,i?d/i:y-o.height),d=ha(Math.min(d,l,f.maxWidth)),y=ha(Math.min(y,u,f.maxHeight)),d&&!y&&(y=ha(d/2)),(t!==void 0||e!==void 0)&&i&&f.height&&y>f.height&&(y=f.height,d=ha(Math.floor(y*i))),{width:d,height:y}}function US(n,t,e){const i=t||1,r=ha(n.height*i),o=ha(n.width*i);n.height=ha(n.height),n.width=ha(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==r||l.width!==o?(n.currentDevicePixelRatio=i,l.height=r,l.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const h5=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};ev()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function BS(n,t){const e=r5(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function go(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function f5(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function d5(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},l=go(n,r,e),u=go(r,o,e),f=go(o,t,e),d=go(l,u,e),y=go(u,f,e);return go(d,y,e)}const p5=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},m5=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Pl(n,t,e){return n?p5(t,e):m5()}function hR(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function fR(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function dR(n){return n==="angle"?{between:Yu,compare:g4,normalize:kn}:{between:ur,compare:(t,e)=>t-e,normalize:t=>t}}function FS({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function g5(n,t,e){const{property:i,start:r,end:o}=e,{between:l,normalize:u}=dR(i),f=t.length;let{start:d,end:y,loop:g}=n,v,E;if(g){for(d+=f,y+=f,v=0,E=f;v<E&&l(u(t[d%f][i]),r,o);++v)d--,y--;d%=f,y%=f}return y<d&&(y+=f),{start:d,end:y,loop:g,style:n.style}}function pR(n,t,e){if(!e)return[n];const{property:i,start:r,end:o}=e,l=t.length,{compare:u,between:f,normalize:d}=dR(i),{start:y,end:g,loop:v,style:E}=g5(n,t,e),w=[];let A=!1,C=null,O,j,z;const K=()=>f(r,z,O)&&u(r,z)!==0,U=()=>u(o,O)===0||f(o,z,O),Y=()=>A||K(),D=()=>!A||U();for(let R=y,M=y;R<=g;++R)j=t[R%l],!j.skip&&(O=d(j[i]),O!==z&&(A=f(O,r,o),C===null&&Y()&&(C=u(O,r)===0?R:M),C!==null&&D()&&(w.push(FS({start:C,end:R,loop:v,count:l,style:E})),C=null),M=R,z=O));return C!==null&&w.push(FS({start:C,end:g,loop:v,count:l,style:E})),w}function mR(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const o=pR(i[r],n.points,t);o.length&&e.push(...o)}return e}function y5(n,t,e,i){let r=0,o=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}function _5(n,t,e,i){const r=n.length,o=[];let l=t,u=n[t],f;for(f=t+1;f<=e;++f){const d=n[f%r];d.skip||d.stop?u.skip||(i=!1,o.push({start:t%r,end:(f-1)%r,loop:i}),t=l=d.stop?f:null):(l=f,u.skip&&(t=f)),u=d}return l!==null&&o.push({start:t%r,end:l%r,loop:i}),o}function v5(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const o=!!n._loop,{start:l,end:u}=y5(e,r,o,i);if(i===!0)return HS(n,[{start:l,end:u,loop:o}],e,t);const f=u<l?u+r:u,d=!!n._fullLoop&&l===0&&u===r-1;return HS(n,_5(e,l,f,d),e,t)}function HS(n,t,e,i){return!i||!i.setContext||!e?t:b5(n,t,e,i)}function b5(n,t,e,i){const r=n._chart.getContext(),o=qS(n.options),{_datasetIndex:l,options:{spanGaps:u}}=n,f=e.length,d=[];let y=o,g=t[0].start,v=g;function E(w,A,C,O){const j=u?-1:1;if(w!==A){for(w+=f;e[w%f].skip;)w-=j;for(;e[A%f].skip;)A+=j;w%f!==A%f&&(d.push({start:w%f,end:A%f,loop:C,style:O}),y=O,g=A%f)}}for(const w of t){g=u?g:w.start;let A=e[g%f],C;for(v=g+1;v<=w.end;v++){const O=e[v%f];C=qS(i.setContext(Na(r,{type:"segment",p0:A,p1:O,p0DataIndex:(v-1)%f,p1DataIndex:v%f,datasetIndex:l}))),x5(C,y)&&E(g,v-1,w.loop,y),A=O,y=C}g<v-1&&E(g,v-1,w.loop,y)}return d}function qS(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function x5(n,t){if(!t)return!1;const e=[],i=function(r,o){return X_(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function Kf(n,t,e){return n.options.clip?n[e]:t[e]}function E5(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Kf(e,t,"left"),right:Kf(e,t,"right"),top:Kf(i,t,"top"),bottom:Kf(i,t,"bottom")}:t}function gR(n,t){const e=t._clip;if(e.disabled)return!1;const i=E5(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}class S5{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],l=e.duration;o.forEach(u=>u({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=JA.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let l=o.length-1,u=!1,f;for(;l>=0;--l)f=o[l],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),u=!0):(o[l]=o[o.length-1],o.pop());u&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var rr=new S5;const GS="transparent",T5={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=PS(n||GS),r=i.valid&&PS(t||GS);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class w5{constructor(t,e,i,r){const o=e[i];r=yu([t.to,r,o,t.from]);const l=yu([t.from,o,r]);this._active=!0,this._fn=t.fn||T5[t.type||typeof l],this._easing=Cu[t.easing]||Cu.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,l=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=yu([t.to,e,r,t.from]),this._from=yu([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,l=this._loop,u=this._to;let f;if(this._active=o!==u&&(l||e<i),!this._active){this._target[r]=u,this._notify(!0);return}if(e<0){this._target[r]=o;return}f=e/i%2,f=l&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,u,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class yR{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Wt(t))return;const e=Object.keys(Re.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!Wt(o))return;const l={};for(const u of e)l[u]=o[u];(Ae(o.properties)&&o.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,l)})})}_animateOptions(t,e){const i=e.options,r=R5(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&A5(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),l=Object.keys(e),u=Date.now();let f;for(f=l.length-1;f>=0;--f){const d=l[f];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(t,e));continue}const y=e[d];let g=o[d];const v=i.get(d);if(g)if(v&&g.active()){g.update(v,y,u);continue}else g.cancel();if(!v||!v.duration){t[d]=y;continue}o[d]=g=new w5(v,t,d,y),r.push(g)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return rr.add(this._chart,i),!0}}function A5(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function R5(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function YS(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function C5(n,t,e){if(e===!1)return!1;const i=YS(n,e),r=YS(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function I5(n){let t,e,i,r;return Wt(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function _R(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function WS(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let l,u,f,d;if(t===null)return;let y=!1;for(l=0,u=r.length;l<u;++l){if(f=+r[l],f===e){if(y=!0,i.all)continue;break}d=n.values[f],Ne(d)&&(o||t===0||Os(t)===Os(d))&&(t+=d)}return!y&&!i.all?0:t}function D5(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let f,d,y;for(f=0,d=l.length;f<d;++f)y=l[f],u[f]={[r]:y,[o]:n[y]};return u}function qg(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function M5(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function k5(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function N5(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function $S(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function KS(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:l,index:u}=i,f=o.axis,d=l.axis,y=M5(o,l,i),g=t.length;let v;for(let E=0;E<g;++E){const w=t[E],{[f]:A,[d]:C}=w,O=w._stacks||(w._stacks={});v=O[d]=N5(r,y,A),v[u]=C,v._top=$S(v,l,!0,i.type),v._bottom=$S(v,l,!1,i.type);const j=v._visualValues||(v._visualValues={});j[u]=C}}function Gg(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function O5(n,t){return Na(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function P5(n,t,e){return Na(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function ru(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const Yg=n=>n==="reset"||n==="none",XS=(n,t)=>t?n:Object.assign({},n),L5=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:_R(e,!0),values:null};class Oa{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=qg(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&ru(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(g,v,E,w)=>g==="x"?v:g==="r"?w:E,o=e.xAxisID=Nt(i.xAxisID,Gg(t,"x")),l=e.yAxisID=Nt(i.yAxisID,Gg(t,"y")),u=e.rAxisID=Nt(i.rAxisID,Gg(t,"r")),f=e.indexAxis,d=e.iAxisID=r(f,o,l,u),y=e.vAxisID=r(f,l,o,u);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(d),e.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&kS(this._data,this),t._stacked&&ru(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Wt(e)){const r=this._cachedMeta;this._data=D5(e,r)}else if(i!==e){if(i){kS(i,this);const r=this._cachedMeta;ru(r),r._parsed=[]}e&&Object.isExtensible(e)&&b4(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=qg(e.vScale,e),e.stack!==i.stack&&(r=!0,ru(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(KS(this,e._parsed),e._stacked=qg(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:l}=i,u=o.axis;let f=t===0&&e===r.length?!0:i._sorted,d=t>0&&i._parsed[t-1],y,g,v;if(this._parsing===!1)i._parsed=r,i._sorted=!0,v=r;else{Ae(r[t])?v=this.parseArrayData(i,r,t,e):Wt(r[t])?v=this.parseObjectData(i,r,t,e):v=this.parsePrimitiveData(i,r,t,e);const E=()=>g[u]===null||d&&g[u]<d[u];for(y=0;y<e;++y)i._parsed[y+t]=g=v[y],f&&(E()&&(f=!1),d=g);i._sorted=f}l&&KS(this,v)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:l}=t,u=o.axis,f=l.axis,d=o.getLabels(),y=o===l,g=new Array(r);let v,E,w;for(v=0,E=r;v<E;++v)w=v+i,g[v]={[u]:y||o.parse(d[w],w),[f]:l.parse(e[w],w)};return g}parseArrayData(t,e,i,r){const{xScale:o,yScale:l}=t,u=new Array(r);let f,d,y,g;for(f=0,d=r;f<d;++f)y=f+i,g=e[y],u[f]={x:o.parse(g[0],y),y:l.parse(g[1],y)};return u}parseObjectData(t,e,i,r){const{xScale:o,yScale:l}=t,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,d=new Array(r);let y,g,v,E;for(y=0,g=r;y<g;++y)v=y+i,E=e[v],d[y]={x:o.parse(Ra(E,u),v),y:l.parse(Ra(E,f),v)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,l=e[t.axis],u={keys:_R(r,!0),values:e._stacks[t.axis]._visualValues};return WS(u,l,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let l=o===null?NaN:o;const u=r&&i._stacks[e.axis];r&&u&&(r.values=u,l=WS(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,l=r.length,u=this._getOtherScale(t),f=L5(e,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:g}=k5(u);let v,E;function w(){E=r[v];const A=E[u.axis];return!Ne(E[t.axis])||y>A||g<A}for(v=0;v<l&&!(!w()&&(this.updateRangeFromParsed(d,t,E,f),o));++v);if(o){for(v=l-1;v>=0;--v)if(!w()){this.updateRangeFromParsed(d,t,E,f);break}}return d}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,l;for(r=0,o=e.length;r<o;++r)l=e[r][t.axis],Ne(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=I5(Nt(this.options.clip,C5(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,l=[],u=this._drawStart||0,f=this._drawCount||r.length-u,d=this.options.drawActiveElementsOnTop;let y;for(i.dataset&&i.dataset.draw(t,o,u,f),y=u;y<u+f;++y){const g=r[y];g.hidden||(g.active&&d?l.push(g):g.draw(t,o))}for(y=0;y<l.length;++y)l[y].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];o=l.$context||(l.$context=P5(this.getContext(),t,l)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=O5(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,l=t+"-"+e,u=o[l],f=this.enableOptionSharing&&Gu(i);if(u)return XS(u,f);const d=this.chart.config,y=d.datasetElementScopeKeys(this._type,t),g=r?[`${t}Hover`,"hover",t,""]:[t,""],v=d.getOptionScopes(this.getDataset(),y),E=Object.keys(Re.elements[t]),w=()=>this.getContext(i,r,e),A=d.resolveNamedOptions(v,E,w,g);return A.$shared&&(A.$shared=f,o[l]=Object.freeze(XS(A,f))),A}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,l=`animation-${e}`,u=o[l];if(u)return u;let f;if(r.options.animation!==!1){const y=this.chart.config,g=y.datasetAnimationScopeKeys(this._type,e),v=y.getOptionScopes(this.getDataset(),g);f=y.createResolver(v,this.getContext(t,i,e))}const d=new yR(r,f&&f.animations);return f&&f._cacheable&&(o[l]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Yg(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),l=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:l}}updateElement(t,e,i,r){Yg(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!Yg(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[u,f,d]of this._syncList)this[u](f,d);this._syncList=[];const r=i.length,o=e.length,l=Math.min(o,r);l&&this.parse(0,l),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,l=t+e;let u;const f=d=>{for(d.length+=e,u=d.length-1;u>=l;u--)d[u]=d[u-e]};for(f(o),u=t;u<l;++u)o[u]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&ru(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function V5(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=QA(i.sort((r,o)=>r-o))}return n._cache.$bar}function j5(n){const t=n.iScale,e=V5(t,n.type);let i=t._length,r,o,l,u;const f=()=>{l===32767||l===-32768||(Gu(u)&&(i=Math.min(i,Math.abs(l-u)||i)),u=l)};for(r=0,o=e.length;r<o;++r)l=t.getPixelForValue(e[r]),f();for(u=void 0,r=0,o=t.ticks.length;r<o;++r)l=t.getPixelForTick(r),f();return i}function z5(n,t,e,i){const r=e.barThickness;let o,l;return Bt(r)?(o=t.min*e.categoryPercentage,l=e.barPercentage):(o=r*i,l=1),{chunk:o/i,ratio:l,start:t.pixels[n]-o/2}}function U5(n,t,e,i){const r=t.pixels,o=r[n];let l=n>0?r[n-1]:null,u=n<r.length-1?r[n+1]:null;const f=e.categoryPercentage;l===null&&(l=o-(u===null?t.end-t.start:u-o)),u===null&&(u=o+o-l);const d=o-(o-Math.min(l,u))/2*f;return{chunk:Math.abs(u-l)/2*f/i,ratio:e.barPercentage,start:d}}function B5(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),l=Math.min(r,o),u=Math.max(r,o);let f=l,d=u;Math.abs(l)>Math.abs(u)&&(f=u,d=l),t[e.axis]=d,t._custom={barStart:f,barEnd:d,start:r,end:o,min:l,max:u}}function vR(n,t,e,i){return Ae(n)?B5(n,t,e,i):t[e.axis]=e.parse(n,i),t}function QS(n,t,e,i){const r=n.iScale,o=n.vScale,l=r.getLabels(),u=r===o,f=[];let d,y,g,v;for(d=e,y=e+i;d<y;++d)v=t[d],g={},g[r.axis]=u||r.parse(l[d],d),f.push(vR(v,g,o,d));return f}function Wg(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function F5(n,t,e){return n!==0?Os(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function H5(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function q5(n,t,e,i){let r=t.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:f,top:d,bottom:y}=H5(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=d:(e._bottom||0)===i?r=y:(o[JS(y,l,u,f)]=!0,r=d)),o[JS(r,l,u,f)]=!0,n.borderSkipped=o}function JS(n,t,e,i){return i?(n=G5(n,t,e),n=ZS(n,e,t)):n=ZS(n,t,e),n}function G5(n,t,e){return n===t?e:n===e?t:n}function ZS(n,t,e){return n==="start"?t:n==="end"?e:n}function Y5(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class W5 extends Oa{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return QS(t,e,i,r)}parseArrayData(t,e,i,r){return QS(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:o,vScale:l}=t,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,d=o.axis==="x"?u:f,y=l.axis==="x"?u:f,g=[];let v,E,w,A;for(v=i,E=i+r;v<E;++v)A=e[v],w={},w[o.axis]=o.parse(Ra(A,d),v),g.push(vR(Ra(A,y),w,l,v));return g}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,o=this.getParsed(t),l=o._custom,u=Wg(l)?"["+l.start+", "+l.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const o=r==="reset",{index:l,_cachedMeta:{vScale:u}}=this,f=u.getBasePixel(),d=u.isHorizontal(),y=this._getRuler(),{sharedOptions:g,includeOptions:v}=this._getSharedOptions(e,r);for(let E=e;E<e+i;E++){const w=this.getParsed(E),A=o||Bt(w[u.axis])?{base:f,head:f}:this._calculateBarValuePixels(E),C=this._calculateBarIndexPixels(E,y),O=(w._stacks||{})[u.axis],j={horizontal:d,base:A.base,enableBorderRadius:!O||Wg(w._custom)||l===O._top||l===O._bottom,x:d?A.head:C.center,y:d?C.center:A.head,height:d?C.size:Math.abs(A.size),width:d?Math.abs(A.size):C.size};v&&(j.options=g||this.resolveDataElementOptions(E,t[E].active?"active":r));const z=j.options||t[E].options;q5(j,z,O,l),Y5(j,z,y.ratio),this.updateElement(t[E],E,j,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(y=>y.controller.options.grouped),o=i.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(e),f=u&&u[i.axis],d=y=>{const g=y._parsed.find(E=>E[i.axis]===f),v=g&&g[y.vScale.axis];if(Bt(v)||isNaN(v))return!0};for(const y of r)if(!(e!==void 0&&d(y))&&((o===!1||l.indexOf(y.stack)===-1||o===void 0&&y.stack===void 0)&&l.push(y.stack),y.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Nt(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let o,l;for(o=0,l=e.data.length;o<l;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const u=t.barThickness;return{min:u||j5(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:o,minBarLength:l}}=this,u=o||0,f=this.getParsed(t),d=f._custom,y=Wg(d);let g=f[e.axis],v=0,E=i?this.applyStack(e,f,i):g,w,A;E!==g&&(v=E-g,E=g),y&&(g=d.barStart,E=d.barEnd-d.barStart,g!==0&&Os(g)!==Os(d.barEnd)&&(v=0),v+=g);const C=!Bt(o)&&!y?o:v;let O=e.getPixelForValue(C);if(this.chart.getDataVisibility(t)?w=e.getPixelForValue(v+E):w=O,A=w-O,Math.abs(A)<l){A=F5(A,e,u)*l,g===u&&(O-=A/2);const j=e.getPixelForDecimal(0),z=e.getPixelForDecimal(1),K=Math.min(j,z),U=Math.max(j,z);O=Math.max(Math.min(O,U),K),w=O+A,i&&!y&&(f._stacks[e.axis]._visualValues[r]=e.getValueForPixel(w)-e.getValueForPixel(O))}if(O===e.getPixelForValue(u)){const j=Os(A)*e.getLineWidthForValue(u)/2;O+=j,A-=j}return{size:A,base:O,head:w,center:w+A/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,o=r.skipNull,l=Nt(r.maxBarThickness,1/0);let u,f;const d=this._getAxisCount();if(e.grouped){const y=o?this._getStackCount(t):e.stackCount,g=r.barThickness==="flex"?U5(t,e,r,y*d):z5(t,e,r,y*d),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,E=this._getAxis().indexOf(Nt(v,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+E;u=g.start+g.chunk*w+g.chunk/2,f=Math.min(l,g.chunk*g.ratio)}else u=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(l,e.min*e.ratio);return{base:u-f/2,head:u+f/2,center:u,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}class $5 extends Oa{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,r){const o=super.parsePrimitiveData(t,e,i,r);for(let l=0;l<o.length;l++)o[l]._custom=this.resolveDataElementOptions(l+i).radius;return o}parseArrayData(t,e,i,r){const o=super.parseArrayData(t,e,i,r);for(let l=0;l<o.length;l++){const u=e[i+l];o[l]._custom=Nt(u[2],this.resolveDataElementOptions(l+i).radius)}return o}parseObjectData(t,e,i,r){const o=super.parseObjectData(t,e,i,r);for(let l=0;l<o.length;l++){const u=e[i+l];o[l]._custom=Nt(u&&u.r&&+u.r,this.resolveDataElementOptions(l+i).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:o}=e,l=this.getParsed(t),u=r.getLabelForValue(l.x),f=o.getLabelForValue(l.y),d=l._custom;return{label:i[t]||"",value:"("+u+", "+f+(d?", "+d:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,r){const o=r==="reset",{iScale:l,vScale:u}=this._cachedMeta,{sharedOptions:f,includeOptions:d}=this._getSharedOptions(e,r),y=l.axis,g=u.axis;for(let v=e;v<e+i;v++){const E=t[v],w=!o&&this.getParsed(v),A={},C=A[y]=o?l.getPixelForDecimal(.5):l.getPixelForValue(w[y]),O=A[g]=o?u.getBasePixel():u.getPixelForValue(w[g]);A.skip=isNaN(C)||isNaN(O),d&&(A.options=f||this.resolveDataElementOptions(v,E.active?"active":r),o&&(A.options.radius=0)),this.updateElement(E,v,A,r)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let r=super.resolveDataElementOptions(t,e);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const o=r.radius;return e!=="active"&&(r.radius=0),r.radius+=Nt(i&&i._custom,o),r}}function K5(n,t,e){let i=1,r=1,o=0,l=0;if(t<xe){const u=n,f=u+t,d=Math.cos(u),y=Math.sin(u),g=Math.cos(f),v=Math.sin(f),E=(z,K,U)=>Yu(z,u,f,!0)?1:Math.max(K,K*e,U,U*e),w=(z,K,U)=>Yu(z,u,f,!0)?-1:Math.min(K,K*e,U,U*e),A=E(0,d,g),C=E(Ue,y,v),O=w(Zt,d,g),j=w(Zt+Ue,y,v);i=(A-O)/2,r=(C-j)/2,o=-(A+O)/2,l=-(C+j)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:l}}class iv extends Oa{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data,{labels:{pointStyle:i,textAlign:r,color:o,useBorderRadius:l,borderRadius:u}}=t.legend.options;return e.labels.length&&e.datasets.length?e.labels.map((f,d)=>{const g=t.getDatasetMeta(0).controller.getStyle(d);return{text:f,fillStyle:g.backgroundColor,fontColor:o,hidden:!t.getDataVisibility(d),lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:g.borderWidth,strokeStyle:g.borderColor,textAlign:r,pointStyle:i,borderRadius:l&&(u||g.borderRadius),index:d}}):[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=f=>+i[f];if(Wt(i[t])){const{key:f="value"}=this._parsing;o=d=>+Ra(i[d],f)}let l,u;for(l=t,u=t+e;l<u;++l)r._parsed[l]=o(l)}}_getRotation(){return Ki(this.options.rotation-90)}_getCircumference(){return Ki(this.options.circumference)}_getRotationExtents(){let t=xe,e=-xe;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),l=r._getCircumference();t=Math.min(t,o),e=Math.max(e,o+l)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,o=r.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-l)/2,0),f=Math.min(r4(this.options.cutout,u),1),d=this._getRingWeight(this.index),{circumference:y,rotation:g}=this._getRotationExtents(),{ratioX:v,ratioY:E,offsetX:w,offsetY:A}=K5(g,y,f),C=(i.width-l)/v,O=(i.height-l)/E,j=Math.max(Math.min(C,O)/2,0),z=YA(this.options.radius,j),K=Math.max(z*f,0),U=(z-K)/this._getVisibleDatasetWeightTotal();this.offsetX=w*z,this.offsetY=A*z,r.total=this.calculateTotal(),this.outerRadius=z-U*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-U*d,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*o/xe)}updateElements(t,e,i,r){const o=r==="reset",l=this.chart,u=l.chartArea,d=l.options.animation,y=(u.left+u.right)/2,g=(u.top+u.bottom)/2,v=o&&d.animateScale,E=v?0:this.innerRadius,w=v?0:this.outerRadius,{sharedOptions:A,includeOptions:C}=this._getSharedOptions(e,r);let O=this._getRotation(),j;for(j=0;j<e;++j)O+=this._circumference(j,o);for(j=e;j<e+i;++j){const z=this._circumference(j,o),K=t[j],U={x:y+this.offsetX,y:g+this.offsetY,startAngle:O,endAngle:O+z,circumference:z,outerRadius:w,innerRadius:E};C&&(U.options=A||this.resolveDataElementOptions(j,K.active?"active":r)),O+=z,this.updateElement(K,j,U,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const o=t._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?xe*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=dh(e._parsed[t],i.options.locale);return{label:r[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,o,l,u,f;if(!t){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){l=i.getDatasetMeta(r),t=l.data,u=l.controller;break}}if(!t)return 0;for(r=0,o=t.length;r<o;++r)f=u.resolveDataElementOptions(r),f.borderAlign!=="inner"&&(e=Math.max(e,f.borderWidth||0,f.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Nt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class X5 extends Oa{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=e,l=this.chart._animationsDisabled;let{start:u,count:f}=tR(e,r,l);this._drawStart=u,this._drawCount=f,eR(e)&&(u=0,f=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:d},t),this.updateElements(r,u,f,t)}updateElements(t,e,i,r){const o=r==="reset",{iScale:l,vScale:u,_stacked:f,_dataset:d}=this._cachedMeta,{sharedOptions:y,includeOptions:g}=this._getSharedOptions(e,r),v=l.axis,E=u.axis,{spanGaps:w,segment:A}=this.options,C=Yl(w)?w:Number.POSITIVE_INFINITY,O=this.chart._animationsDisabled||o||r==="none",j=e+i,z=t.length;let K=e>0&&this.getParsed(e-1);for(let U=0;U<z;++U){const Y=t[U],D=O?Y:{};if(U<e||U>=j){D.skip=!0;continue}const R=this.getParsed(U),M=Bt(R[E]),L=D[v]=l.getPixelForValue(R[v],U),N=D[E]=o||M?u.getBasePixel():u.getPixelForValue(f?this.applyStack(u,R,f):R[E],U);D.skip=isNaN(L)||isNaN(N)||M,D.stop=U>0&&Math.abs(R[v]-K[v])>C,A&&(D.parsed=R,D.raw=d.data[U]),g&&(D.options=y||this.resolveDataElementOptions(U,Y.active?"active":r)),O||this.updateElement(Y,U,D,r),K=R}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),l=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class bR extends Oa{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((o,l)=>{const f=t.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:r,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=dh(e._parsed[t].r,i.options.locale);return{label:r[t]||"",value:o}}parseObjectData(t,e,i,r){return cR.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,r)=>{const o=this.getParsed(r).r;!isNaN(o)&&this.chart.getDataVisibility(r)&&(o<e.min&&(e.min=o),o>e.max&&(e.max=o))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,r=Math.min(e.right-e.left,e.bottom-e.top),o=Math.max(r/2,0),l=Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0),u=(o-l)/t.getVisibleDatasetCount();this.outerRadius=o-u*this.index,this.innerRadius=this.outerRadius-u}updateElements(t,e,i,r){const o=r==="reset",l=this.chart,f=l.options.animation,d=this._cachedMeta.rScale,y=d.xCenter,g=d.yCenter,v=d.getIndexAngle(0)-.5*Zt;let E=v,w;const A=360/this.countVisibleElements();for(w=0;w<e;++w)E+=this._computeAngle(w,r,A);for(w=e;w<e+i;w++){const C=t[w];let O=E,j=E+this._computeAngle(w,r,A),z=l.getDataVisibility(w)?d.getDistanceFromCenterForValue(this.getParsed(w).r):0;E=j,o&&(f.animateScale&&(z=0),f.animateRotate&&(O=j=v));const K={x:y,y:g,innerRadius:0,outerRadius:z,startAngle:O,endAngle:j,options:this.resolveDataElementOptions(w,C.active?"active":r)};this.updateElement(C,w,K,r)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?Ki(this.resolveDataElementOptions(t,e).angle||i):0}}class Q5 extends iv{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class J5 extends Oa{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,r){return cR.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta,i=e.dataset,r=e.data||[],o=e.iScale.getLabels();if(i.points=r,t!=="resize"){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0);const u={_loop:!0,_fullLoop:o.length===r.length,options:l};this.updateElement(i,void 0,u,t)}this.updateElements(r,0,r.length,t)}updateElements(t,e,i,r){const o=this._cachedMeta.rScale,l=r==="reset";for(let u=e;u<e+i;u++){const f=t[u],d=this.resolveDataElementOptions(u,f.active?"active":r),y=o.getPointPositionForValue(u,this.getParsed(u).r),g=l?o.xCenter:y.x,v=l?o.yCenter:y.y,E={x:g,y:v,angle:y.angle,skip:isNaN(g)||isNaN(v),options:d};this.updateElement(f,u,E,r)}}}class Z5 extends Oa{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:o}=e,l=this.getParsed(t),u=r.getLabelForValue(l.x),f=o.getLabelForValue(l.y);return{label:i[t]||"",value:"("+u+", "+f+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,r=this.chart._animationsDisabled;let{start:o,count:l}=tR(e,i,r);if(this._drawStart=o,this._drawCount=l,eR(e)&&(o=0,l=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:u,_dataset:f}=e;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!f._decimated,u.points=i;const d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(u,void 0,{animated:!r,options:d},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,o,l,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,r){const o=r==="reset",{iScale:l,vScale:u,_stacked:f,_dataset:d}=this._cachedMeta,y=this.resolveDataElementOptions(e,r),g=this.getSharedOptions(y),v=this.includeOptions(r,g),E=l.axis,w=u.axis,{spanGaps:A,segment:C}=this.options,O=Yl(A)?A:Number.POSITIVE_INFINITY,j=this.chart._animationsDisabled||o||r==="none";let z=e>0&&this.getParsed(e-1);for(let K=e;K<e+i;++K){const U=t[K],Y=this.getParsed(K),D=j?U:{},R=Bt(Y[w]),M=D[E]=l.getPixelForValue(Y[E],K),L=D[w]=o||R?u.getBasePixel():u.getPixelForValue(f?this.applyStack(u,Y,f):Y[w],K);D.skip=isNaN(M)||isNaN(L)||R,D.stop=K>0&&Math.abs(Y[E]-z[E])>O,C&&(D.parsed=Y,D.raw=d.data[K]),v&&(D.options=g||this.resolveDataElementOptions(K,U.active?"active":r)),j||this.updateElement(U,K,D,r),z=Y}this.updateSharedOptions(g,r,y)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let u=0;for(let f=e.length-1;f>=0;--f)u=Math.max(u,e[f].size(this.resolveDataElementOptions(f))/2);return u>0&&u}const i=t.dataset,r=i.options&&i.options.borderWidth||0;if(!e.length)return r;const o=e[0].size(this.resolveDataElementOptions(0)),l=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(r,o,l)/2}}var t3=Object.freeze({__proto__:null,BarController:W5,BubbleController:$5,DoughnutController:iv,LineController:X5,PieController:Q5,PolarAreaController:bR,RadarController:J5,ScatterController:Z5});function ho(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class sv{static override(t){Object.assign(sv.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return ho()}parse(){return ho()}format(){return ho()}add(){return ho()}diff(){return ho()}startOf(){return ho()}endOf(){return ho()}}var e3={_date:sv};function n3(n,t,e,i){const{controller:r,data:o,_sorted:l}=n,u=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&l&&o.length){const d=u._reversePixels?_4:hr;if(i){if(r._sharedOptions){const y=o[0],g=typeof y.getRange=="function"&&y.getRange(t);if(g){const v=d(o,t,e-g),E=d(o,t,e+g);return{lo:v.lo,hi:E.hi}}}}else{const y=d(o,t,e);if(f){const{vScale:g}=r._cachedMeta,{_parsed:v}=n,E=v.slice(0,y.lo+1).reverse().findIndex(A=>!Bt(A[g.axis]));y.lo-=Math.max(0,E);const w=v.slice(y.hi).findIndex(A=>!Bt(A[g.axis]));y.hi+=Math.max(0,w)}return y}}return{lo:0,hi:o.length-1}}function Ep(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),l=e[t];for(let u=0,f=o.length;u<f;++u){const{index:d,data:y}=o[u],{lo:g,hi:v}=n3(o[u],t,l,r);for(let E=g;E<=v;++E){const w=y[E];w.skip||i(w,d,E)}}}function i3(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,l=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function $g(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||Ep(n,e,t,function(u,f,d){!r&&!fr(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&o.push({element:u,datasetIndex:f,index:d})},!0),o}function s3(n,t,e,i){let r=[];function o(l,u,f){const{startAngle:d,endAngle:y}=l.getProps(["startAngle","endAngle"],i),{angle:g}=KA(l,{x:t.x,y:t.y});Yu(g,d,y)&&r.push({element:l,datasetIndex:u,index:f})}return Ep(n,e,t,o),r}function r3(n,t,e,i,r,o){let l=[];const u=i3(e);let f=Number.POSITIVE_INFINITY;function d(y,g,v){const E=y.inRange(t.x,t.y,r);if(i&&!E)return;const w=y.getCenterPoint(r);if(!(!!o||n.isPointInArea(w))&&!E)return;const C=u(t,w);C<f?(l=[{element:y,datasetIndex:g,index:v}],f=C):C===f&&l.push({element:y,datasetIndex:g,index:v})}return Ep(n,e,t,d),l}function Kg(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?s3(n,t,e,r):r3(n,t,e,i,r,o)}function tT(n,t,e,i,r){const o=[],l=e==="x"?"inXRange":"inYRange";let u=!1;return Ep(n,e,t,(f,d,y)=>{f[l]&&f[l](t[e],r)&&(o.push({element:f,datasetIndex:d,index:y}),u=u||f.inRange(t.x,t.y,r))}),i&&!u?[]:o}var a3={modes:{index(n,t,e,i){const r=mo(t,n),o=e.axis||"x",l=e.includeInvisible||!1,u=e.intersect?$g(n,r,o,i,l):Kg(n,r,o,!1,i,l),f=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const y=u[0].index,g=d.data[y];g&&!g.skip&&f.push({element:g,datasetIndex:d.index,index:y})}),f):[]},dataset(n,t,e,i){const r=mo(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;let u=e.intersect?$g(n,r,o,i,l):Kg(n,r,o,!1,i,l);if(u.length>0){const f=u[0].datasetIndex,d=n.getDatasetMeta(f).data;u=[];for(let y=0;y<d.length;++y)u.push({element:d[y],datasetIndex:f,index:y})}return u},point(n,t,e,i){const r=mo(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return $g(n,r,o,i,l)},nearest(n,t,e,i){const r=mo(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return Kg(n,r,o,e.intersect,i,l)},x(n,t,e,i){const r=mo(t,n);return tT(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=mo(t,n);return tT(n,r,"y",e.intersect,i)}}};const xR=["left","top","right","bottom"];function au(n,t){return n.filter(e=>e.pos===t)}function eT(n,t){return n.filter(e=>xR.indexOf(e.pos)===-1&&e.box.axis===t)}function ou(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function o3(n){const t=[];let e,i,r,o,l,u;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:l,stackWeight:u=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&o+l,stackWeight:u});return t}function l3(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!xR.includes(r))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return t}function c3(n,t){const e=l3(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,l,u;for(o=0,l=n.length;o<l;++o){u=n[o];const{fullSize:f}=u.box,d=e[u.stack],y=d&&u.stackWeight/d.weight;u.horizontal?(u.width=y?y*i:f&&t.availableWidth,u.height=r):(u.width=i,u.height=y?y*r:f&&t.availableHeight)}return e}function u3(n){const t=o3(n),e=ou(t.filter(d=>d.box.fullSize),!0),i=ou(au(t,"left"),!0),r=ou(au(t,"right")),o=ou(au(t,"top"),!0),l=ou(au(t,"bottom")),u=eT(t,"x"),f=eT(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(l).concat(u),chartArea:au(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(l).concat(u)}}function nT(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function ER(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function h3(n,t,e,i){const{pos:r,box:o}=e,l=n.maxPadding;if(!Wt(r)){e.size&&(n[r]-=e.size);const g=i[e.stack]||{size:0,count:1};g.size=Math.max(g.size,e.horizontal?o.height:o.width),e.size=g.size/g.count,n[r]+=e.size}o.getPadding&&ER(l,o.getPadding());const u=Math.max(0,t.outerWidth-nT(l,n,"left","right")),f=Math.max(0,t.outerHeight-nT(l,n,"top","bottom")),d=u!==n.w,y=f!==n.h;return n.w=u,n.h=f,e.horizontal?{same:d,other:y}:{same:y,other:d}}function f3(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function d3(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{o[l]=Math.max(t[l],e[l])}),o}return i(n?["left","right"]:["top","bottom"])}function _u(n,t,e,i){const r=[];let o,l,u,f,d,y;for(o=0,l=n.length,d=0;o<l;++o){u=n[o],f=u.box,f.update(u.width||t.w,u.height||t.h,d3(u.horizontal,t));const{same:g,other:v}=h3(t,e,u,i);d|=g&&r.length,y=y||v,f.fullSize||r.push(u)}return d&&_u(r,t,e,i)||y}function Xf(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function iT(n,t,e,i){const r=e.padding;let{x:o,y:l}=t;for(const u of n){const f=u.box,d=i[u.stack]||{placed:0,weight:1},y=u.stackWeight/d.weight||1;if(u.horizontal){const g=t.w*y,v=d.size||f.height;Gu(d.start)&&(l=d.start),f.fullSize?Xf(f,r.left,l,e.outerWidth-r.right-r.left,v):Xf(f,t.left+d.placed,l,g,v),d.start=l,d.placed+=g,l=f.bottom}else{const g=t.h*y,v=d.size||f.width;Gu(d.start)&&(o=d.start),f.fullSize?Xf(f,o,r.top,v,e.outerHeight-r.bottom-r.top):Xf(f,o,t.top+d.placed,v,g),d.start=o,d.placed+=g,o=f.right}}t.x=o,t.y=l}var On={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=Ln(n.options.layout.padding),o=Math.max(t-r.width,0),l=Math.max(e-r.height,0),u=u3(n.boxes),f=u.vertical,d=u.horizontal;le(n.boxes,A=>{typeof A.beforeLayout=="function"&&A.beforeLayout()});const y=f.reduce((A,C)=>C.box.options&&C.box.options.display===!1?A:A+1,0)||1,g=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/y,hBoxMaxHeight:l/2}),v=Object.assign({},r);ER(v,Ln(i));const E=Object.assign({maxPadding:v,w:o,h:l,x:r.left,y:r.top},r),w=c3(f.concat(d),g);_u(u.fullSize,E,g,w),_u(f,E,g,w),_u(d,E,g,w)&&_u(f,E,g,w),f3(E),iT(u.leftAndTop,E,g,w),E.x+=E.w,E.y+=E.h,iT(u.rightAndBottom,E,g,w),n.chartArea={left:E.left,top:E.top,right:E.left+E.w,bottom:E.top+E.h,height:E.h,width:E.w},le(u.chartArea,A=>{const C=A.box;Object.assign(C,n.chartArea),C.update(E.w,E.h,{left:0,top:0,right:0,bottom:0})})}};class SR{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class p3 extends SR{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const md="$chartjs",m3={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},sT=n=>n===null||n==="";function g3(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[md]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",sT(r)){const o=BS(n,"width");o!==void 0&&(n.width=o)}if(sT(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=BS(n,"height");o!==void 0&&(n.height=o)}return n}const TR=h5?{passive:!0}:!1;function y3(n,t,e){n&&n.addEventListener(t,e,TR)}function _3(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,TR)}function v3(n,t){const e=m3[n.type]||n.type,{x:i,y:r}=mo(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Fd(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function b3(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||Fd(u.addedNodes,i),l=l&&!Fd(u.removedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function x3(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||Fd(u.removedNodes,i),l=l&&!Fd(u.addedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const $u=new Map;let rT=0;function wR(){const n=window.devicePixelRatio;n!==rT&&(rT=n,$u.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function E3(n,t){$u.size||window.addEventListener("resize",wR),$u.set(n,t)}function S3(n){$u.delete(n),$u.size||window.removeEventListener("resize",wR)}function T3(n,t,e){const i=n.canvas,r=i&&nv(i);if(!r)return;const o=ZA((u,f)=>{const d=r.clientWidth;e(u,f),d<r.clientWidth&&e()},window),l=new ResizeObserver(u=>{const f=u[0],d=f.contentRect.width,y=f.contentRect.height;d===0&&y===0||o(d,y)});return l.observe(r),E3(n,o),l}function Xg(n,t,e){e&&e.disconnect(),t==="resize"&&S3(n)}function w3(n,t,e){const i=n.canvas,r=ZA(o=>{n.ctx!==null&&e(v3(o,n))},n);return y3(i,t,r),r}class A3 extends SR{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(g3(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[md])return!1;const i=e[md].initial;["height","width"].forEach(o=>{const l=i[o];Bt(l)?e.removeAttribute(o):e.setAttribute(o,l)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[md],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),l={attach:b3,detach:x3,resize:T3}[e]||w3;r[e]=l(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:Xg,detach:Xg,resize:Xg}[e]||_3)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return u5(t,e,i,r)}isAttached(t){const e=t&&nv(t);return!!(e&&e.isConnected)}}function R3(n){return!ev()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?p3:A3}class Er{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Yl(this.x)&&Yl(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function C3(n,t){const e=n.options.ticks,i=I3(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?M3(t):[],l=o.length,u=o[0],f=o[l-1],d=[];if(l>r)return k3(t,d,o,l/r),d;const y=D3(o,t,r);if(l>0){let g,v;const E=l>1?Math.round((f-u)/(l-1)):null;for(Qf(t,d,y,Bt(E)?0:u-E,u),g=0,v=l-1;g<v;g++)Qf(t,d,y,o[g],o[g+1]);return Qf(t,d,y,f,Bt(E)?t.length:f+E),d}return Qf(t,d,y),d}function I3(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function D3(n,t,e){const i=N3(n),r=t.length/e;if(!i)return Math.max(r,1);const o=d4(i);for(let l=0,u=o.length-1;l<u;l++){const f=o[l];if(f>r)return f}return Math.max(r,1)}function M3(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function k3(n,t,e,i){let r=0,o=e[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===o&&(t.push(n[l]),r++,o=e[r*i])}function Qf(n,t,e,i,r){const o=Nt(i,0),l=Math.min(Nt(r,n.length),n.length);let u=0,f,d,y;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),y=o;y<0;)u++,y=Math.round(o+u*e);for(d=Math.max(o,0);d<l;d++)d===y&&(t.push(n[d]),u++,y=Math.round(o+u*e))}function N3(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const O3=n=>n==="left"?"right":n==="right"?"left":n,aT=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,oT=(n,t)=>Math.min(t||n,n);function lT(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function P3(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,l=n._endPixel,u=1e-6;let f=n.getPixelForTick(r),d;if(!(e&&(i===1?d=Math.max(f-o,l-f):t===0?d=(n.getPixelForTick(1)-f)/2:d=(f-n.getPixelForTick(r-1))/2,f+=r<t?d:-d,f<o-u||f>l+u)))return f}function L3(n,t){le(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function lu(n){return n.drawTicks?n.tickLength:0}function cT(n,t){if(!n.display)return 0;const e=nn(n.font,t),i=Ln(n.padding);return(Ae(n.text)?n.text.length:1)*e.lineHeight+i.height}function V3(n,t){return Na(n,{scale:t,type:"scale"})}function j3(n,t,e){return Na(n,{tick:e,index:t,type:"tick"})}function z3(n,t,e){let i=K_(n);return(e&&t!=="right"||!e&&t==="right")&&(i=O3(i)),i}function U3(n,t,e,i){const{top:r,left:o,bottom:l,right:u,chart:f}=n,{chartArea:d,scales:y}=f;let g=0,v,E,w;const A=l-r,C=u-o;if(n.isHorizontal()){if(E=Dn(i,o,u),Wt(e)){const O=Object.keys(e)[0],j=e[O];w=y[O].getPixelForValue(j)+A-t}else e==="center"?w=(d.bottom+d.top)/2+A-t:w=aT(n,e,t);v=u-o}else{if(Wt(e)){const O=Object.keys(e)[0],j=e[O];E=y[O].getPixelForValue(j)-C+t}else e==="center"?E=(d.left+d.right)/2-C+t:E=aT(n,e,t);w=Dn(i,l,r),g=e==="left"?-Ue:Ue}return{titleX:E,titleY:w,maxWidth:v,rotation:g}}class Lo extends Er{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=fi(t,Number.POSITIVE_INFINITY),e=fi(e,Number.NEGATIVE_INFINITY),i=fi(i,Number.POSITIVE_INFINITY),r=fi(r,Number.NEGATIVE_INFINITY),{min:fi(t,i),max:fi(e,r),minDefined:Ne(t),maxDefined:Ne(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),l;if(r&&o)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let f=0,d=u.length;f<d;++f)l=u[f].controller.getMinMax(this,t),r||(e=Math.min(e,l.min)),o||(i=Math.max(i,l.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:fi(e,fi(i,e)),max:fi(i,fi(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){me(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=F4(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=u<this.ticks.length;this._convertTicksToLabels(f?lT(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=C3(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){me(this.options.afterUpdate,[this])}beforeSetDimensions(){me(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){me(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),me(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){me(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=me(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){me(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){me(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=oT(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let l=r,u,f,d;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const y=this._getLabelSizes(),g=y.widest.width,v=y.highest.height,E=fn(this.chart.width-g,0,this.maxWidth);u=t.offset?this.maxWidth/i:E/(i-1),g+6>u&&(u=E/(i-(t.offset?.5:1)),f=this.maxHeight-lu(t.grid)-e.padding-cT(t.title,this.chart.options.font),d=Math.sqrt(g*g+v*v),l=W_(Math.min(Math.asin(fn((y.highest.height+6)/u,-1,1)),Math.asin(fn(f/d,-1,1))-Math.asin(fn(v/d,-1,1)))),l=Math.max(r,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){me(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){me(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const f=cT(r,e.options.font);if(u?(t.width=this.maxWidth,t.height=lu(o)+f):(t.height=this.maxHeight,t.width=lu(o)+f),i.display&&this.ticks.length){const{first:d,last:y,widest:g,highest:v}=this._getLabelSizes(),E=i.padding*2,w=Ki(this.labelRotation),A=Math.cos(w),C=Math.sin(w);if(u){const O=i.mirror?0:C*g.width+A*v.height;t.height=Math.min(this.maxHeight,t.height+O+E)}else{const O=i.mirror?0:A*g.width+C*v.height;t.width=Math.min(this.maxWidth,t.width+O+E)}this._calculatePadding(d,y,C,A)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:l},position:u}=this.options,f=this.labelRotation!==0,d=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,E=0;f?d?(v=r*t.width,E=i*e.height):(v=i*t.height,E=r*e.width):o==="start"?E=e.width:o==="end"?v=t.width:o!=="inner"&&(v=t.width/2,E=e.width/2),this.paddingLeft=Math.max((v-y+l)*this.width/(this.width-y),0),this.paddingRight=Math.max((E-g+l)*this.width/(this.width-g),0)}else{let y=e.height/2,g=t.height/2;o==="start"?(y=0,g=t.height):o==="end"&&(y=e.height,g=0),this.paddingTop=y+l,this.paddingBottom=g+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){me(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Bt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=lT(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,l=[],u=[],f=Math.floor(e/oT(e,i));let d=0,y=0,g,v,E,w,A,C,O,j,z,K,U;for(g=0;g<e;g+=f){if(w=t[g].label,A=this._resolveTickFontOptions(g),r.font=C=A.string,O=o[C]=o[C]||{data:{},gc:[]},j=A.lineHeight,z=K=0,!Bt(w)&&!Ae(w))z=Ud(r,O.data,O.gc,z,w),K=j;else if(Ae(w))for(v=0,E=w.length;v<E;++v)U=w[v],!Bt(U)&&!Ae(U)&&(z=Ud(r,O.data,O.gc,z,U),K+=j);l.push(z),u.push(K),d=Math.max(z,d),y=Math.max(K,y)}L3(o,e);const Y=l.indexOf(d),D=u.indexOf(y),R=M=>({width:l[M]||0,height:u[M]||0});return{first:R(0),last:R(e-1),widest:R(Y),highest:R(D),widths:l,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return y4(this._alignToPixels?uo(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=j3(this.getContext(),t,i))}return this.$context||(this.$context=V3(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Ki(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),l=t.autoSkipPadding||0,u=o?o.widest.width+l:0,f=o?o.highest.height+l:0;return this.isHorizontal()?f*i>u*r?u/i:f/r:f*r<u*i?f/i:u/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:l,border:u}=r,f=o.offset,d=this.isHorizontal(),g=this.ticks.length+(f?1:0),v=lu(o),E=[],w=u.setContext(this.getContext()),A=w.display?w.width:0,C=A/2,O=function(q){return uo(i,q,A)};let j,z,K,U,Y,D,R,M,L,N,V,P;if(l==="top")j=O(this.bottom),D=this.bottom-v,M=j-C,N=O(t.top)+C,P=t.bottom;else if(l==="bottom")j=O(this.top),N=t.top,P=O(t.bottom)-C,D=j+C,M=this.top+v;else if(l==="left")j=O(this.right),Y=this.right-v,R=j-C,L=O(t.left)+C,V=t.right;else if(l==="right")j=O(this.left),L=t.left,V=O(t.right)-C,Y=j+C,R=this.left+v;else if(e==="x"){if(l==="center")j=O((t.top+t.bottom)/2+.5);else if(Wt(l)){const q=Object.keys(l)[0],$=l[q];j=O(this.chart.scales[q].getPixelForValue($))}N=t.top,P=t.bottom,D=j+C,M=D+v}else if(e==="y"){if(l==="center")j=O((t.left+t.right)/2);else if(Wt(l)){const q=Object.keys(l)[0],$=l[q];j=O(this.chart.scales[q].getPixelForValue($))}Y=j-C,R=Y-v,L=t.left,V=t.right}const yt=Nt(r.ticks.maxTicksLimit,g),_t=Math.max(1,Math.ceil(g/yt));for(z=0;z<g;z+=_t){const q=this.getContext(z),$=o.setContext(q),lt=u.setContext(q),ft=$.lineWidth,mt=$.color,B=lt.dash||[],X=lt.dashOffset,it=$.tickWidth,ct=$.tickColor,ht=$.tickBorderDash||[],bt=$.tickBorderDashOffset;K=P3(this,z,f),K!==void 0&&(U=uo(i,K,ft),d?Y=R=L=V=U:D=M=N=P=U,E.push({tx1:Y,ty1:D,tx2:R,ty2:M,x1:L,y1:N,x2:V,y2:P,width:ft,color:mt,borderDash:B,borderDashOffset:X,tickWidth:it,tickColor:ct,tickBorderDash:ht,tickBorderDashOffset:bt}))}return this._ticksLength=g,this._borderValue=j,E}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,l=this.isHorizontal(),u=this.ticks,{align:f,crossAlign:d,padding:y,mirror:g}=o,v=lu(i.grid),E=v+y,w=g?-y:E,A=-Ki(this.labelRotation),C=[];let O,j,z,K,U,Y,D,R,M,L,N,V,P="middle";if(r==="top")Y=this.bottom-w,D=this._getXAxisLabelAlignment();else if(r==="bottom")Y=this.top+w,D=this._getXAxisLabelAlignment();else if(r==="left"){const _t=this._getYAxisLabelAlignment(v);D=_t.textAlign,U=_t.x}else if(r==="right"){const _t=this._getYAxisLabelAlignment(v);D=_t.textAlign,U=_t.x}else if(e==="x"){if(r==="center")Y=(t.top+t.bottom)/2+E;else if(Wt(r)){const _t=Object.keys(r)[0],q=r[_t];Y=this.chart.scales[_t].getPixelForValue(q)+E}D=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")U=(t.left+t.right)/2-E;else if(Wt(r)){const _t=Object.keys(r)[0],q=r[_t];U=this.chart.scales[_t].getPixelForValue(q)}D=this._getYAxisLabelAlignment(v).textAlign}e==="y"&&(f==="start"?P="top":f==="end"&&(P="bottom"));const yt=this._getLabelSizes();for(O=0,j=u.length;O<j;++O){z=u[O],K=z.label;const _t=o.setContext(this.getContext(O));R=this.getPixelForTick(O)+o.labelOffset,M=this._resolveTickFontOptions(O),L=M.lineHeight,N=Ae(K)?K.length:1;const q=N/2,$=_t.color,lt=_t.textStrokeColor,ft=_t.textStrokeWidth;let mt=D;l?(U=R,D==="inner"&&(O===j-1?mt=this.options.reverse?"left":"right":O===0?mt=this.options.reverse?"right":"left":mt="center"),r==="top"?d==="near"||A!==0?V=-N*L+L/2:d==="center"?V=-yt.highest.height/2-q*L+L:V=-yt.highest.height+L/2:d==="near"||A!==0?V=L/2:d==="center"?V=yt.highest.height/2-q*L:V=yt.highest.height-N*L,g&&(V*=-1),A!==0&&!_t.showLabelBackdrop&&(U+=L/2*Math.sin(A))):(Y=R,V=(1-N)*L/2);let B;if(_t.showLabelBackdrop){const X=Ln(_t.backdropPadding),it=yt.heights[O],ct=yt.widths[O];let ht=V-X.top,bt=0-X.left;switch(P){case"middle":ht-=it/2;break;case"bottom":ht-=it;break}switch(D){case"center":bt-=ct/2;break;case"right":bt-=ct;break;case"inner":O===j-1?bt-=ct:O>0&&(bt-=ct/2);break}B={left:bt,top:ht,width:ct+X.width,height:it+X.height,color:_t.backdropColor}}C.push({label:K,font:M,textOffset:V,options:{rotation:A,color:$,strokeColor:lt,strokeWidth:ft,textAlign:mt,textBaseline:P,translation:[U,Y],backdrop:B}})}return C}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Ki(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,l=this._getLabelSizes(),u=t+o,f=l.widest.width;let d,y;return e==="left"?r?(y=this.right+o,i==="near"?d="left":i==="center"?(d="center",y+=f/2):(d="right",y+=f)):(y=this.right-u,i==="near"?d="right":i==="center"?(d="center",y-=f/2):(d="left",y=this.left)):e==="right"?r?(y=this.left+o,i==="near"?d="right":i==="center"?(d="center",y-=f/2):(d="left",y-=f)):(y=this.left+u,i==="near"?d="left":i==="center"?(d="center",y+=f/2):(d="right",y=this.right)):d="right",{textAlign:d,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,l;const u=(f,d,y)=>{!y.width||!y.color||(i.save(),i.lineWidth=y.width,i.strokeStyle=y.color,i.setLineDash(y.borderDash||[]),i.lineDashOffset=y.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(e.display)for(o=0,l=r.length;o<l;++o){const f=r[o];e.drawOnChartArea&&u({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&u({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),l=i.display?o.width:0;if(!l)return;const u=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let d,y,g,v;this.isHorizontal()?(d=uo(t,this.left,l)-l/2,y=uo(t,this.right,u)+u/2,g=v=f):(g=uo(t,this.top,l)-l/2,v=uo(t,this.bottom,u)+u/2,d=y=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(d,g),e.lineTo(y,v),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&vp(i,r);const o=this.getLabelItems(t);for(const l of o){const u=l.options,f=l.font,d=l.label,y=l.textOffset;Io(i,d,0,y,f,u)}r&&bp(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=nn(i.font),l=Ln(i.padding),u=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||Wt(e)?(f+=l.bottom,Ae(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=l.top;const{titleX:d,titleY:y,maxWidth:g,rotation:v}=U3(this,f,e,u);Io(t,i.text,0,0,o,{color:i.color,maxWidth:g,rotation:v,textAlign:z3(u,e,r),textBaseline:"middle",translation:[d,y]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Nt(t.grid&&t.grid.z,-1),r=Nt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Lo.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,l;for(o=0,l=e.length;o<l;++o){const u=e[o];u[i]===this.id&&(!t||u.type===t)&&r.push(u)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return nn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Jf{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;H3(e)&&(i=this.register(e));const r=this.items,o=t.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,B3(t,l,i),this.override&&Re.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Re[r]&&(delete Re[r][i],this.override&&delete Co[i])}}function B3(n,t,e){const i=qu(Object.create(null),[e?Re.get(e):{},Re.get(t),n.defaults]);Re.set(t,i),n.defaultRoutes&&F3(t,n.defaultRoutes),n.descriptors&&Re.describe(t,n.descriptors)}function F3(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),l=t[e].split("."),u=l.pop(),f=l.join(".");Re.route(o,r,f,u)})}function H3(n){return"id"in n&&"defaults"in n}class q3{constructor(){this.controllers=new Jf(Oa,"datasets",!0),this.elements=new Jf(Er,"elements"),this.plugins=new Jf(Object,"plugins"),this.scales=new Jf(Lo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):le(r,l=>{const u=i||this._getRegistryForType(l);this._exec(t,u,l)})})}_exec(t,e,i){const r=Y_(t);me(i["before"+r],[],i),e[t](i),me(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Ts=new q3;class G3{constructor(){this._init=void 0}notify(t,e,i,r){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=r?this._descriptors(t).filter(r):this._descriptors(t),l=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),l}_notify(t,e,i,r){r=r||{};for(const o of t){const l=o.plugin,u=l[i],f=[e,r,o.options];if(me(u,f,l)===!1&&r.cancelable)return!1}return!0}invalidate(){Bt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Nt(i.options&&i.options.plugins,{}),o=Y3(i);return r===!1&&!e?[]:$3(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,l)=>o.filter(u=>!l.some(f=>u.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function Y3(n){const t={},e=[],i=Object.keys(Ts.plugins.items);for(let o=0;o<i.length;o++)e.push(Ts.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const l=r[o];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function W3(n,t){return!t&&n===!1?null:n===!0?{}:n}function $3(n,{plugins:t,localIds:e},i,r){const o=[],l=n.getContext();for(const u of t){const f=u.id,d=W3(i[f],r);d!==null&&o.push({plugin:u,options:K3(n.config,{plugin:u,local:e[f]},d,l)})}return o}function K3(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),l=n.getOptionScopes(i,o);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Py(n,t){const e=Re.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function X3(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function Q3(n,t){return n===t?"_index_":"_value_"}function uT(n){if(n==="x"||n==="y"||n==="r")return n}function J3(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Ly(n,...t){if(uT(n))return n;for(const e of t){const i=e.axis||J3(e.position)||n.length>1&&uT(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function hT(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function Z3(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return hT(n,"x",e[0])||hT(n,"y",e[0])}return{}}function t6(n,t){const e=Co[n.type]||{scales:{}},i=t.scales||{},r=Py(n.type,t),o=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!Wt(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const f=Ly(l,u,Z3(l,n),Re.scales[u.type]),d=Q3(f,r),y=e.scales||{};o[l]=Au(Object.create(null),[{axis:f},u,y[f],y[d]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,f=l.indexAxis||Py(u,t),y=(Co[u]||{}).scales||{};Object.keys(y).forEach(g=>{const v=X3(g,f),E=l[v+"AxisID"]||v;o[E]=o[E]||Object.create(null),Au(o[E],[{axis:v},i[E],y[g]])})}),Object.keys(o).forEach(l=>{const u=o[l];Au(u,[Re.scales[u.type],Re.scale])}),o}function AR(n){const t=n.options||(n.options={});t.plugins=Nt(t.plugins,{}),t.scales=t6(n,t)}function RR(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function e6(n){return n=n||{},n.data=RR(n.data),AR(n),n}const fT=new Map,CR=new Set;function Zf(n,t){let e=fT.get(n);return e||(e=t(),fT.set(n,e),CR.add(e)),e}const cu=(n,t,e)=>{const i=Ra(t,e);i!==void 0&&n.add(i)};class n6{constructor(t){this._config=e6(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=RR(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),AR(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Zf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Zf(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Zf(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Zf(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,l=this._cachedScopes(t,i),u=l.get(e);if(u)return u;const f=new Set;e.forEach(y=>{t&&(f.add(t),y.forEach(g=>cu(f,t,g))),y.forEach(g=>cu(f,r,g)),y.forEach(g=>cu(f,Co[o]||{},g)),y.forEach(g=>cu(f,Re,g)),y.forEach(g=>cu(f,Ny,g))});const d=Array.from(f);return d.length===0&&d.push(Object.create(null)),CR.has(e)&&l.set(e,d),d}chartOptionScopes(){const{options:t,type:e}=this;return[t,Co[e]||{},Re.datasets[e]||{},{type:e},Re,Ny]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:l,subPrefixes:u}=dT(this._resolverCache,t,r);let f=l;if(s6(l,e)){o.$shared=!1,i=Ca(i)?i():i;const d=this.createResolver(t,i,u);f=Wl(l,i,d)}for(const d of e)o[d]=f[d];return o}createResolver(t,e,i=[""],r){const{resolver:o}=dT(this._resolverCache,t,i);return Wt(e)?Wl(o,e,void 0,r):o}}function dT(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:J_(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,o)),o}const i6=n=>Wt(n)&&Object.getOwnPropertyNames(n).some(t=>Ca(n[t]));function s6(n,t){const{isScriptable:e,isIndexable:i}=rR(n);for(const r of t){const o=e(r),l=i(r),u=(l||o)&&n[r];if(o&&(Ca(u)||i6(u))||l&&Ae(u))return!0}return!1}var r6="4.5.1";const a6=["top","bottom","left","right","chartArea"];function pT(n,t){return n==="top"||n==="bottom"||a6.indexOf(n)===-1&&t==="x"}function mT(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function gT(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),me(e&&e.onComplete,[n],t)}function o6(n){const t=n.chart,e=t.options.animation;me(e&&e.onProgress,[n],t)}function IR(n){return ev()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const gd={},yT=n=>{const t=IR(n);return Object.values(gd).filter(e=>e.canvas===t).pop()};function l6(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const l=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=l)}}}function c6(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}class rv{static defaults=Re;static instances=gd;static overrides=Co;static registry=Ts;static version=r6;static getChart=yT;static register(...t){Ts.add(...t),_T()}static unregister(...t){Ts.remove(...t),_T()}constructor(t,e){const i=this.config=new n6(e),r=IR(t),o=yT(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||R3(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,l.aspectRatio),f=u&&u.canvas,d=f&&f.height,y=f&&f.width;if(this.id=s4(),this.ctx=u,this.canvas=f,this.width=y,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new G3,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=x4(g=>this.update(g),l.resizeDelay||0),this._dataChanges=[],gd[this.id]=this,!u||!f){console.error("Failed to create chart: can't acquire context from the given item");return}rr.listen(this,"complete",gT),rr.listen(this,"progress",o6),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return Bt(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ts}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():US(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return VS(this.canvas,this.ctx),this}stop(){return rr.stop(this),this}resize(t,e){rr.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,t,e,o),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,US(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),me(i.onResize,[this,l],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};le(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let o=[];e&&(o=o.concat(Object.keys(e).map(l=>{const u=e[l],f=Ly(l,u),d=f==="r",y=f==="x";return{options:u,dposition:d?"chartArea":y?"bottom":"left",dtype:d?"radialLinear":y?"category":"linear"}}))),le(o,l=>{const u=l.options,f=u.id,d=Ly(f,u),y=Nt(u.type,l.dtype);(u.position===void 0||pT(u.position,d)!==pT(l.dposition))&&(u.position=l.dposition),r[f]=!0;let g=null;if(f in i&&i[f].type===y)g=i[f];else{const v=Ts.getScale(y);g=new v({id:f,type:y,ctx:this.ctx,chart:this}),i[g.id]=g}g.init(u,t)}),le(r,(l,u)=>{l||delete i[u]}),le(i,l=>{On.configure(this,l,l.options),On.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(mT("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let l=this.getDatasetMeta(i);const u=o.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=o.indexAxis||Py(u,this.options),l.order=o.order||0,l.index=i,l.label=""+o.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const f=Ts.getController(u),{datasetElementType:d,dataElementType:y}=Re.datasets[u];Object.assign(f,{dataElementType:Ts.getElement(y),datasetElementType:d&&Ts.getElement(d)}),l.controller=new f(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){le(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,y=this.data.datasets.length;d<y;d++){const{controller:g}=this.getDatasetMeta(d),v=!r&&o.indexOf(g)===-1;g.buildOrUpdateElements(v),l=Math.max(+g.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),r||le(o,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(mT("z","_idx"));const{_active:u,_lastEvent:f}=this;f?this._eventHandler(f,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){le(this.scales,t=>{On.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!CS(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const l=i==="_removeElements"?-o:o;l6(t,r,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(l=>l[0]===o).map((l,u)=>u+","+l.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!CS(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;On.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],le(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Ca(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(rr.has(this)?this.attached&&!rr.running(this)&&rr.start(this):(this.draw(),gT({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const l=e[r];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=gR(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&vp(e,r),t.controller.draw(),r&&bp(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return fr(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=a3.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Na(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),l=o.controller._resolveAnimations(void 0,r);Gu(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(o,{visible:i}),this.update(u=>u.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),rr.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),VS(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete gd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,l)=>{e.addEventListener(this,o,l),t[o]=l},r=(o,l,u)=>{o.offsetX=l,o.offsetY=u,this._eventHandler(o)};le(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,d)=>{e.addEventListener(this,f,d),t[f]=d},r=(f,d)=>{t[f]&&(e.removeEventListener(this,f,d),delete t[f])},o=(f,d)=>{this.canvas&&this.resize(f,d)};let l;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",l)};l=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",u)},e.isAttached(this.canvas)?u():l()}unbindEvents(){le(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},le(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,l,u,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),u=0,f=t.length;u<f;++u){l=t[u];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:l})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[l],index:l}});!Vd(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(f,d)=>f.filter(y=>!d.some(g=>y.datasetIndex===g.datasetIndex&&y.index===g.index)),l=o(e,t),u=i?t:o(t,e);l.length&&this.updateHoverStyle(l,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,l=e,u=this._getActiveElements(t,r,i,l),f=u4(t),d=c6(t,this._lastEvent,i,f);i&&(this._lastEvent=null,me(o.onHover,[t,u,this],this),f&&me(o.onClick,[t,u,this],this));const y=!Vd(u,r);return(y||e)&&(this._active=u,this._updateHoverStyles(u,r,e)),this._lastEvent=d,y}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}}function _T(){return le(rv.instances,n=>n._plugins.invalidate())}function u6(n,t,e){const{startAngle:i,x:r,y:o,outerRadius:l,innerRadius:u,options:f}=t,{borderWidth:d,borderJoinStyle:y}=f,g=Math.min(d/l,kn(i-e));if(n.beginPath(),n.arc(r,o,l-d/2,i+g/2,e-g/2),u>0){const v=Math.min(d/u,kn(i-e));n.arc(r,o,u+d/2,e-v/2,i+v/2,!0)}else{const v=Math.min(d/2,l*kn(i-e));if(y==="round")n.arc(r,o,v,e-Zt/2,i+Zt/2,!0);else if(y==="bevel"){const E=2*v*v,w=-E*Math.cos(e+Zt/2)+r,A=-E*Math.sin(e+Zt/2)+o,C=E*Math.cos(i+Zt/2)+r,O=E*Math.sin(i+Zt/2)+o;n.lineTo(w,A),n.lineTo(C,O)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function h6(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:l,outerRadius:u,innerRadius:f}=t;let d=r/u;n.beginPath(),n.arc(o,l,u,i-d,e+d),f>r?(d=r/f,n.arc(o,l,f,e+d,i-d,!0)):n.arc(o,l,r,e+Ue,i-Ue),n.closePath(),n.clip()}function f6(n){return Q_(n,["outerStart","outerEnd","innerStart","innerEnd"])}function d6(n,t,e,i){const r=f6(n.options.borderRadius),o=(e-t)/2,l=Math.min(o,i*t/2),u=f=>{const d=(e-Math.min(o,f))*i/2;return fn(f,0,Math.min(o,d))};return{outerStart:u(r.outerStart),outerEnd:u(r.outerEnd),innerStart:fn(r.innerStart,0,l),innerEnd:fn(r.innerEnd,0,l)}}function wl(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Hd(n,t,e,i,r,o){const{x:l,y:u,startAngle:f,pixelMargin:d,innerRadius:y}=t,g=Math.max(t.outerRadius+i+e-d,0),v=y>0?y+i+e+d:0;let E=0;const w=r-f;if(i){const _t=y>0?y-i:0,q=g>0?g-i:0,$=(_t+q)/2,lt=$!==0?w*$/($+i):w;E=(w-lt)/2}const A=Math.max(.001,w*g-e/Zt)/g,C=(w-A)/2,O=f+C+E,j=r-C-E,{outerStart:z,outerEnd:K,innerStart:U,innerEnd:Y}=d6(t,v,g,j-O),D=g-z,R=g-K,M=O+z/D,L=j-K/R,N=v+U,V=v+Y,P=O+U/N,yt=j-Y/V;if(n.beginPath(),o){const _t=(M+L)/2;if(n.arc(l,u,g,M,_t),n.arc(l,u,g,_t,L),K>0){const ft=wl(R,L,l,u);n.arc(ft.x,ft.y,K,L,j+Ue)}const q=wl(V,j,l,u);if(n.lineTo(q.x,q.y),Y>0){const ft=wl(V,yt,l,u);n.arc(ft.x,ft.y,Y,j+Ue,yt+Math.PI)}const $=(j-Y/v+(O+U/v))/2;if(n.arc(l,u,v,j-Y/v,$,!0),n.arc(l,u,v,$,O+U/v,!0),U>0){const ft=wl(N,P,l,u);n.arc(ft.x,ft.y,U,P+Math.PI,O-Ue)}const lt=wl(D,O,l,u);if(n.lineTo(lt.x,lt.y),z>0){const ft=wl(D,M,l,u);n.arc(ft.x,ft.y,z,O-Ue,M)}}else{n.moveTo(l,u);const _t=Math.cos(M)*g+l,q=Math.sin(M)*g+u;n.lineTo(_t,q);const $=Math.cos(L)*g+l,lt=Math.sin(L)*g+u;n.lineTo($,lt)}n.closePath()}function p6(n,t,e,i,r){const{fullCircles:o,startAngle:l,circumference:u}=t;let f=t.endAngle;if(o){Hd(n,t,e,i,f,r);for(let d=0;d<o;++d)n.fill();isNaN(u)||(f=l+(u%xe||xe))}return Hd(n,t,e,i,f,r),n.fill(),f}function m6(n,t,e,i,r){const{fullCircles:o,startAngle:l,circumference:u,options:f}=t,{borderWidth:d,borderJoinStyle:y,borderDash:g,borderDashOffset:v,borderRadius:E}=f,w=f.borderAlign==="inner";if(!d)return;n.setLineDash(g||[]),n.lineDashOffset=v,w?(n.lineWidth=d*2,n.lineJoin=y||"round"):(n.lineWidth=d,n.lineJoin=y||"bevel");let A=t.endAngle;if(o){Hd(n,t,e,i,A,r);for(let C=0;C<o;++C)n.stroke();isNaN(u)||(A=l+(u%xe||xe))}w&&h6(n,t,A),f.selfJoin&&A-l>=Zt&&E===0&&y!=="miter"&&u6(n,t,A),o||(Hd(n,t,e,i,A,r),n.stroke())}class g6 extends Er{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:l}=KA(r,{x:t,y:e}),{startAngle:u,endAngle:f,innerRadius:d,outerRadius:y,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),v=(this.options.spacing+this.options.borderWidth)/2,E=Nt(g,f-u),w=Yu(o,u,f)&&u!==f,A=E>=xe||w,C=ur(l,d+v,y+v);return A&&C}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:l,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:d}=this.options,y=(r+o)/2,g=(l+u+d+f)/2;return{x:e+Math.cos(y)*g,y:i+Math.sin(y)*g}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,l=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>xe?Math.floor(i/xe):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const u=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(u)*r,Math.sin(u)*r);const f=1-Math.sin(Math.min(Zt,i||0)),d=r*f;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,p6(t,this,d,o,l),m6(t,this,d,o,l),t.restore()}}function DR(n,t,e=t){n.lineCap=Nt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Nt(e.borderDash,t.borderDash)),n.lineDashOffset=Nt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Nt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Nt(e.borderWidth,t.borderWidth),n.strokeStyle=Nt(e.borderColor,t.borderColor)}function y6(n,t,e){n.lineTo(e.x,e.y)}function _6(n){return n.stepped?N4:n.tension||n.cubicInterpolationMode==="monotone"?O4:y6}function MR(n,t,e={}){const i=n.length,{start:r=0,end:o=i-1}=e,{start:l,end:u}=t,f=Math.max(r,l),d=Math.min(o,u),y=r<l&&o<l||r>u&&o>u;return{count:i,start:f,loop:t.loop,ilen:d<f&&!y?i+d-f:d-f}}function v6(n,t,e,i){const{points:r,options:o}=t,{count:l,start:u,loop:f,ilen:d}=MR(r,e,i),y=_6(o);let{move:g=!0,reverse:v}=i||{},E,w,A;for(E=0;E<=d;++E)w=r[(u+(v?d-E:E))%l],!w.skip&&(g?(n.moveTo(w.x,w.y),g=!1):y(n,A,w,v,o.stepped),A=w);return f&&(w=r[(u+(v?d:0))%l],y(n,A,w,v,o.stepped)),!!f}function b6(n,t,e,i){const r=t.points,{count:o,start:l,ilen:u}=MR(r,e,i),{move:f=!0,reverse:d}=i||{};let y=0,g=0,v,E,w,A,C,O;const j=K=>(l+(d?u-K:K))%o,z=()=>{A!==C&&(n.lineTo(y,C),n.lineTo(y,A),n.lineTo(y,O))};for(f&&(E=r[j(0)],n.moveTo(E.x,E.y)),v=0;v<=u;++v){if(E=r[j(v)],E.skip)continue;const K=E.x,U=E.y,Y=K|0;Y===w?(U<A?A=U:U>C&&(C=U),y=(g*y+K)/++g):(z(),n.lineTo(K,U),w=Y,g=0,A=C=U),O=U}z()}function Vy(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?b6:v6}function x6(n){return n.stepped?f5:n.tension||n.cubicInterpolationMode==="monotone"?d5:go}function E6(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),DR(n,t.options),n.stroke(r)}function S6(n,t,e,i){const{segments:r,options:o}=t,l=Vy(t);for(const u of r)DR(n,o,u.style),n.beginPath(),l(n,t,u,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const T6=typeof Path2D=="function";function w6(n,t,e,i){T6&&!t.options.segment?E6(n,t,e,i):S6(n,t,e,i)}class Sp extends Er{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;s5(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=v5(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],o=this.points,l=mR(this,{property:e,start:r,end:r});if(!l.length)return;const u=[],f=x6(i);let d,y;for(d=0,y=l.length;d<y;++d){const{start:g,end:v}=l[d],E=o[g],w=o[v];if(E===w){u.push(E);continue}const A=Math.abs((r-E[e])/(w[e]-E[e])),C=f(E,w,A,i.stepped);C[e]=t[e],u.push(C)}return u.length===1?u[0]:u}pathSegment(t,e,i){return Vy(this)(t,this,e,i)}path(t,e,i){const r=this.segments,o=Vy(this);let l=this._loop;e=e||0,i=i||this.points.length-e;for(const u of r)l&=o(t,this,u,{start:e,end:e+i-1});return!!l}draw(t,e,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),w6(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function vT(n,t,e,i){const r=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<r.radius+r.hitRadius}class A6 extends Er{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.options,{x:o,y:l}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(e-l,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return vT(this,t,"x",e)}inYRange(t,e){return vT(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!fr(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Oy(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function kR(n,t){const{x:e,y:i,base:r,width:o,height:l}=n.getProps(["x","y","base","width","height"],t);let u,f,d,y,g;return n.horizontal?(g=l/2,u=Math.min(e,r),f=Math.max(e,r),d=i-g,y=i+g):(g=o/2,u=e-g,f=e+g,d=Math.min(i,r),y=Math.max(i,r)),{left:u,top:d,right:f,bottom:y}}function fa(n,t,e,i){return n?0:fn(t,e,i)}function R6(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=sR(i);return{t:fa(r.top,o.top,0,e),r:fa(r.right,o.right,0,t),b:fa(r.bottom,o.bottom,0,e),l:fa(r.left,o.left,0,t)}}function C6(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=bo(r),l=Math.min(t,e),u=n.borderSkipped,f=i||Wt(r);return{topLeft:fa(!f||u.top||u.left,o.topLeft,0,l),topRight:fa(!f||u.top||u.right,o.topRight,0,l),bottomLeft:fa(!f||u.bottom||u.left,o.bottomLeft,0,l),bottomRight:fa(!f||u.bottom||u.right,o.bottomRight,0,l)}}function I6(n){const t=kR(n),e=t.right-t.left,i=t.bottom-t.top,r=R6(n,e/2,i/2),o=C6(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Qg(n,t,e,i){const r=t===null,o=e===null,u=n&&!(r&&o)&&kR(n,i);return u&&(r||ur(t,u.left,u.right))&&(o||ur(e,u.top,u.bottom))}function D6(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function M6(n,t){n.rect(t.x,t.y,t.w,t.h)}function Jg(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,l=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+l,radius:n.radius}}class k6 extends Er{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:l}=I6(this),u=D6(l.radius)?Wu:M6;t.save(),(l.w!==o.w||l.h!==o.h)&&(t.beginPath(),u(t,Jg(l,e,o)),t.clip(),u(t,Jg(o,-e,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),u(t,Jg(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return Qg(this,t,e,i)}inXRange(t,e){return Qg(this,t,null,e)}inYRange(t,e){return Qg(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var N6=Object.freeze({__proto__:null,ArcElement:g6,BarElement:k6,LineElement:Sp,PointElement:A6});const jy=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],bT=jy.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function NR(n){return jy[n%jy.length]}function OR(n){return bT[n%bT.length]}function O6(n,t){return n.borderColor=NR(t),n.backgroundColor=OR(t),++t}function P6(n,t){return n.backgroundColor=n.data.map(()=>NR(t++)),t}function L6(n,t){return n.backgroundColor=n.data.map(()=>OR(t++)),t}function V6(n){let t=0;return(e,i)=>{const r=n.getDatasetMeta(i).controller;r instanceof iv?t=P6(e,t):r instanceof bR?t=L6(e,t):r&&(t=O6(e,t))}}function xT(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function j6(n){return n&&(n.borderColor||n.backgroundColor)}function z6(){return Re.borderColor!=="rgba(0,0,0,0.1)"||Re.backgroundColor!=="rgba(0,0,0,0.1)"}var U6={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:r}=n.config,{elements:o}=r,l=xT(i)||j6(r)||o&&xT(o)||z6();if(!e.forceOverride&&l)return;const u=V6(n);i.forEach(u)}};function B6(n,t,e,i,r){const o=r.samples||i;if(o>=e)return n.slice(t,t+e);const l=[],u=(e-2)/(o-2);let f=0;const d=t+e-1;let y=t,g,v,E,w,A;for(l[f++]=n[y],g=0;g<o-2;g++){let C=0,O=0,j;const z=Math.floor((g+1)*u)+1+t,K=Math.min(Math.floor((g+2)*u)+1,e)+t,U=K-z;for(j=z;j<K;j++)C+=n[j].x,O+=n[j].y;C/=U,O/=U;const Y=Math.floor(g*u)+1+t,D=Math.min(Math.floor((g+1)*u)+1,e)+t,{x:R,y:M}=n[y];for(E=w=-1,j=Y;j<D;j++)w=.5*Math.abs((R-C)*(n[j].y-M)-(R-n[j].x)*(O-M)),w>E&&(E=w,v=n[j],A=j);l[f++]=v,y=A}return l[f++]=n[d],l}function F6(n,t,e,i){let r=0,o=0,l,u,f,d,y,g,v,E,w,A;const C=[],O=t+e-1,j=n[t].x,K=n[O].x-j;for(l=t;l<t+e;++l){u=n[l],f=(u.x-j)/K*i,d=u.y;const U=f|0;if(U===y)d<w?(w=d,g=l):d>A&&(A=d,v=l),r=(o*r+u.x)/++o;else{const Y=l-1;if(!Bt(g)&&!Bt(v)){const D=Math.min(g,v),R=Math.max(g,v);D!==E&&D!==Y&&C.push({...n[D],x:r}),R!==E&&R!==Y&&C.push({...n[R],x:r})}l>0&&Y!==E&&C.push(n[Y]),C.push(u),y=U,o=0,w=A=d,g=v=E=l}}return C}function PR(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function ET(n){n.data.datasets.forEach(t=>{PR(t)})}function H6(n,t){const e=t.length;let i=0,r;const{iScale:o}=n,{min:l,max:u,minDefined:f,maxDefined:d}=o.getUserBounds();return f&&(i=fn(hr(t,o.axis,l).lo,0,e-1)),d?r=fn(hr(t,o.axis,u).hi+1,i,e)-i:r=e-i,{start:i,count:r}}var q6={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){ET(n);return}const i=n.width;n.data.datasets.forEach((r,o)=>{const{_data:l,indexAxis:u}=r,f=n.getDatasetMeta(o),d=l||r.data;if(yu([u,n.options.indexAxis])==="y"||!f.controller.supportsDecimation)return;const y=n.scales[f.xAxisID];if(y.type!=="linear"&&y.type!=="time"||n.options.parsing)return;let{start:g,count:v}=H6(f,d);const E=e.threshold||4*i;if(v<=E){PR(r);return}Bt(l)&&(r._data=d,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(A){this._data=A}}));let w;switch(e.algorithm){case"lttb":w=B6(d,g,v,i,e);break;case"min-max":w=F6(d,g,v,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=w})},destroy(n){ET(n)}};function G6(n,t,e){const i=n.segments,r=n.points,o=t.points,l=[];for(const u of i){let{start:f,end:d}=u;d=Tp(f,d,r);const y=zy(e,r[f],r[d],u.loop);if(!t.segments){l.push({source:u,target:y,start:r[f],end:r[d]});continue}const g=mR(t,y);for(const v of g){const E=zy(e,o[v.start],o[v.end],v.loop),w=pR(u,r,E);for(const A of w)l.push({source:A,target:v,start:{[e]:ST(y,E,"start",Math.max)},end:{[e]:ST(y,E,"end",Math.min)}})}}return l}function zy(n,t,e,i){if(i)return;let r=t[n],o=e[n];return n==="angle"&&(r=kn(r),o=kn(o)),{property:n,start:r,end:o}}function Y6(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,o=[];return t.segments.forEach(({start:l,end:u})=>{u=Tp(l,u,r);const f=r[l],d=r[u];i!==null?(o.push({x:f.x,y:i}),o.push({x:d.x,y:i})):e!==null&&(o.push({x:e,y:f.y}),o.push({x:e,y:d.y}))}),o}function Tp(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function ST(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function LR(n,t){let e=[],i=!1;return Ae(n)?(i=!0,e=n):e=Y6(n,t),e.length?new Sp({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function TT(n){return n&&n.fill!==!1}function W6(n,t,e){let r=n[t].fill;const o=[t];let l;if(!e)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!Ne(r))return r;if(l=n[r],!l)return!1;if(l.visible)return r;o.push(r),r=l.fill}return!1}function $6(n,t,e){const i=J6(n);if(Wt(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return Ne(r)&&Math.floor(r)===r?K6(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function K6(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function X6(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:Wt(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function Q6(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:Wt(n)?i=n.value:i=t.getBaseValue(),i}function J6(n){const t=n.options,e=t.fill;let i=Nt(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function Z6(n){const{scale:t,index:e,line:i}=n,r=[],o=i.segments,l=i.points,u=tj(t,e);u.push(LR({x:null,y:t.bottom},i));for(let f=0;f<o.length;f++){const d=o[f];for(let y=d.start;y<=d.end;y++)ej(r,l[y],u)}return new Sp({points:r,options:{}})}function tj(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const o=i[r];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function ej(n,t,e){const i=[];for(let r=0;r<e.length;r++){const o=e[r],{first:l,last:u,point:f}=nj(o,t,"x");if(!(!f||l&&u)){if(l)i.unshift(f);else if(n.push(f),!u)break}}n.push(...i)}function nj(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],o=n.segments,l=n.points;let u=!1,f=!1;for(let d=0;d<o.length;d++){const y=o[d],g=l[y.start][e],v=l[y.end][e];if(ur(r,g,v)){u=r===g,f=r===v;break}}return{first:u,last:f,point:i}}class VR{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:o,radius:l}=this;return e=e||{start:0,end:xe},t.arc(r,o,l,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,o=t.angle;return{x:e+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}}function ij(n){const{chart:t,fill:e,line:i}=n;if(Ne(e))return sj(t,e);if(e==="stack")return Z6(n);if(e==="shape")return!0;const r=rj(n);return r instanceof VR?r:LR(r,i)}function sj(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function rj(n){return(n.scale||{}).getPointPositionForValue?oj(n):aj(n)}function aj(n){const{scale:t={},fill:e}=n,i=X6(e,t);if(Ne(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function oj(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,o=i.reverse?t.max:t.min,l=Q6(e,t,o),u=[];if(i.grid.circular){const f=t.getPointPositionForValue(0,o);return new VR({x:f.x,y:f.y,radius:t.getDistanceFromCenterForValue(l)})}for(let f=0;f<r;++f)u.push(t.getPointPositionForValue(f,l));return u}function Zg(n,t,e){const i=ij(t),{chart:r,index:o,line:l,scale:u,axis:f}=t,d=l.options,y=d.fill,g=d.backgroundColor,{above:v=g,below:E=g}=y||{},w=r.getDatasetMeta(o),A=gR(r,w);i&&l.points.length&&(vp(n,e),lj(n,{line:l,target:i,above:v,below:E,area:e,scale:u,axis:f,clip:A}),bp(n))}function lj(n,t){const{line:e,target:i,above:r,below:o,area:l,scale:u,clip:f}=t,d=e._loop?"angle":t.axis;n.save();let y=o;o!==r&&(d==="x"?(wT(n,i,l.top),ty(n,{line:e,target:i,color:r,scale:u,property:d,clip:f}),n.restore(),n.save(),wT(n,i,l.bottom)):d==="y"&&(AT(n,i,l.left),ty(n,{line:e,target:i,color:o,scale:u,property:d,clip:f}),n.restore(),n.save(),AT(n,i,l.right),y=r)),ty(n,{line:e,target:i,color:y,scale:u,property:d,clip:f}),n.restore()}function wT(n,t,e){const{segments:i,points:r}=t;let o=!0,l=!1;n.beginPath();for(const u of i){const{start:f,end:d}=u,y=r[f],g=r[Tp(f,d,r)];o?(n.moveTo(y.x,y.y),o=!1):(n.lineTo(y.x,e),n.lineTo(y.x,y.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(g.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function AT(n,t,e){const{segments:i,points:r}=t;let o=!0,l=!1;n.beginPath();for(const u of i){const{start:f,end:d}=u,y=r[f],g=r[Tp(f,d,r)];o?(n.moveTo(y.x,y.y),o=!1):(n.lineTo(e,y.y),n.lineTo(y.x,y.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(e,g.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function ty(n,t){const{line:e,target:i,property:r,color:o,scale:l,clip:u}=t,f=G6(e,i,r);for(const{source:d,target:y,start:g,end:v}of f){const{style:{backgroundColor:E=o}={}}=d,w=i!==!0;n.save(),n.fillStyle=E,cj(n,l,u,w&&zy(r,g,v)),n.beginPath();const A=!!e.pathSegment(n,d);let C;if(w){A?n.closePath():RT(n,i,v,r);const O=!!i.pathSegment(n,y,{move:A,reverse:!0});C=A&&O,C||RT(n,i,g,r)}n.closePath(),n.fill(C?"evenodd":"nonzero"),n.restore()}}function cj(n,t,e,i){const r=t.chart.chartArea,{property:o,start:l,end:u}=i||{};if(o==="x"||o==="y"){let f,d,y,g;o==="x"?(f=l,d=r.top,y=u,g=r.bottom):(f=r.left,d=l,y=r.right,g=u),n.beginPath(),e&&(f=Math.max(f,e.left),y=Math.min(y,e.right),d=Math.max(d,e.top),g=Math.min(g,e.bottom)),n.rect(f,d,y-f,g-d),n.clip()}}function RT(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var uj={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let o,l,u,f;for(l=0;l<i;++l)o=n.getDatasetMeta(l),u=o.dataset,f=null,u&&u.options&&u instanceof Sp&&(f={visible:n.isDatasetVisible(l),index:l,fill:$6(u,l,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:u}),o.$filler=f,r.push(f);for(l=0;l<i;++l)f=r[l],!(!f||f.fill===!1)&&(f.fill=W6(r,l,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let l=r.length-1;l>=0;--l){const u=r[l].$filler;u&&(u.line.updateControlPoints(o,u.axis),i&&u.fill&&Zg(n.ctx,u,o))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const o=i[r].$filler;TT(o)&&Zg(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!TT(i)||e.drawTime!=="beforeDatasetDraw"||Zg(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const CT=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},hj=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class IT extends Er{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=me(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=nn(i.font),o=r.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:f}=CT(i,o);let d,y;e.font=r.string,this.isHorizontal()?(d=this.maxWidth,y=this._fitRows(l,o,u,f)+10):(y=this.maxHeight,d=this._fitCols(l,r,u,f)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:l,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],d=this.lineWidths=[0],y=r+u;let g=t;o.textAlign="left",o.textBaseline="middle";let v=-1,E=-y;return this.legendItems.forEach((w,A)=>{const C=i+e/2+o.measureText(w.text).width;(A===0||d[d.length-1]+C+2*u>l)&&(g+=y,d[d.length-(A>0?0:1)]=0,E+=y,v++),f[A]={left:0,top:E,row:v,width:C,height:r},d[d.length-1]+=C+u}),g}_fitCols(t,e,i,r){const{ctx:o,maxHeight:l,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],d=this.columnSizes=[],y=l-t;let g=u,v=0,E=0,w=0,A=0;return this.legendItems.forEach((C,O)=>{const{itemWidth:j,itemHeight:z}=fj(i,e,o,C,r);O>0&&E+z+2*u>y&&(g+=v+u,d.push({width:v,height:E}),w+=v+u,A++,v=E=0),f[O]={left:w,top:E,col:A,width:j,height:z},v=Math.max(v,j),E+=z+u}),g+=v,d.push({width:v,height:E}),g}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,l=Pl(o,this.left,this.width);if(this.isHorizontal()){let u=0,f=Dn(i,this.left+r,this.right-this.lineWidths[u]);for(const d of e)u!==d.row&&(u=d.row,f=Dn(i,this.left+r,this.right-this.lineWidths[u])),d.top+=this.top+t+r,d.left=l.leftForLtr(l.x(f),d.width),f+=d.width+r}else{let u=0,f=Dn(i,this.top+t+r,this.bottom-this.columnSizes[u].height);for(const d of e)d.col!==u&&(u=d.col,f=Dn(i,this.top+t+r,this.bottom-this.columnSizes[u].height)),d.top=f,d.left+=this.left+r,d.left=l.leftForLtr(l.x(d.left),d.width),f+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;vp(t,this),this._draw(),bp(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:l}=t,u=Re.color,f=Pl(t.rtl,this.left,this.width),d=nn(l.font),{padding:y}=l,g=d.size,v=g/2;let E;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:w,boxHeight:A,itemHeight:C}=CT(l,g),O=function(Y,D,R){if(isNaN(w)||w<=0||isNaN(A)||A<0)return;r.save();const M=Nt(R.lineWidth,1);if(r.fillStyle=Nt(R.fillStyle,u),r.lineCap=Nt(R.lineCap,"butt"),r.lineDashOffset=Nt(R.lineDashOffset,0),r.lineJoin=Nt(R.lineJoin,"miter"),r.lineWidth=M,r.strokeStyle=Nt(R.strokeStyle,u),r.setLineDash(Nt(R.lineDash,[])),l.usePointStyle){const L={radius:A*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:M},N=f.xPlus(Y,w/2),V=D+v;iR(r,L,N,V,l.pointStyleWidth&&w)}else{const L=D+Math.max((g-A)/2,0),N=f.leftForLtr(Y,w),V=bo(R.borderRadius);r.beginPath(),Object.values(V).some(P=>P!==0)?Wu(r,{x:N,y:L,w,h:A,radius:V}):r.rect(N,L,w,A),r.fill(),M!==0&&r.stroke()}r.restore()},j=function(Y,D,R){Io(r,R.text,Y,D+C/2,d,{strikethrough:R.hidden,textAlign:f.textAlign(R.textAlign)})},z=this.isHorizontal(),K=this._computeTitleHeight();z?E={x:Dn(o,this.left+y,this.right-i[0]),y:this.top+y+K,line:0}:E={x:this.left+y,y:Dn(o,this.top+K+y,this.bottom-e[0].height),line:0},hR(this.ctx,t.textDirection);const U=C+y;this.legendItems.forEach((Y,D)=>{r.strokeStyle=Y.fontColor,r.fillStyle=Y.fontColor;const R=r.measureText(Y.text).width,M=f.textAlign(Y.textAlign||(Y.textAlign=l.textAlign)),L=w+v+R;let N=E.x,V=E.y;f.setWidth(this.width),z?D>0&&N+L+y>this.right&&(V=E.y+=U,E.line++,N=E.x=Dn(o,this.left+y,this.right-i[E.line])):D>0&&V+U>this.bottom&&(N=E.x=N+e[E.line].width+y,E.line++,V=E.y=Dn(o,this.top+K+y,this.bottom-e[E.line].height));const P=f.x(N);if(O(P,V,Y),N=E4(M,N+w+v,z?N+L:this.right,t.rtl),j(f.x(N),V,Y),z)E.x+=L+y;else if(typeof Y.text!="string"){const yt=d.lineHeight;E.y+=jR(Y,yt)+y}else E.y+=U}),fR(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=nn(e.font),r=Ln(e.padding);if(!e.display)return;const o=Pl(t.rtl,this.left,this.width),l=this.ctx,u=e.position,f=i.size/2,d=r.top+f;let y,g=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),y=this.top+d,g=Dn(t.align,g,this.right-v);else{const w=this.columnSizes.reduce((A,C)=>Math.max(A,C.height),0);y=d+Dn(t.align,this.top,this.bottom-w-t.labels.padding-this._computeTitleHeight())}const E=Dn(u,g,g+v);l.textAlign=o.textAlign(K_(u)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=i.string,Io(l,e.text,E,y,i)}_computeTitleHeight(){const t=this.options.title,e=nn(t.font),i=Ln(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(ur(t,this.left,this.right)&&ur(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],ur(t,r.left,r.left+r.width)&&ur(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!mj(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=hj(r,i);r&&!o&&me(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&me(e.onHover,[t,i,this],this)}else i&&me(e.onClick,[t,i,this],this)}}function fj(n,t,e,i,r){const o=dj(i,n,t,e),l=pj(r,i,t.lineHeight);return{itemWidth:o,itemHeight:l}}function dj(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,l)=>o.length>l.length?o:l)),t+e.size/2+i.measureText(r).width}function pj(n,t,e){let i=n;return typeof t.text!="string"&&(i=jR(t,e)),i}function jR(n,t){const e=n.text?n.text.length:0;return t*e}function mj(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var gj={id:"legend",_element:IT,start(n,t,e){const i=n.legend=new IT({ctx:n.ctx,options:e,chart:n});On.configure(n,i,e),On.addBox(n,i)},stop(n){On.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;On.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const d=f.controller.getStyle(e?0:void 0),y=Ln(d.borderWidth);return{text:t[f.index].label,fillStyle:d.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:l&&(u||d.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class av extends Er{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=Ae(i.text)?i.text.length:1;this._padding=Ln(i.padding);const o=r*nn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:l}=this,u=l.align;let f=0,d,y,g;return this.isHorizontal()?(y=Dn(u,i,o),g=e+t,d=o-i):(l.position==="left"?(y=i+t,g=Dn(u,r,e),f=Zt*-.5):(y=o-t,g=Dn(u,e,r),f=Zt*.5),d=r-e),{titleX:y,titleY:g,maxWidth:d,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=nn(e.font),o=i.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:f,rotation:d}=this._drawArgs(o);Io(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:d,textAlign:K_(e.align),textBaseline:"middle",translation:[l,u]})}}function yj(n,t){const e=new av({ctx:n.ctx,options:t,chart:n});On.configure(n,e,t),On.addBox(n,e),n.titleBlock=e}var _j={id:"title",_element:av,start(n,t,e){yj(n,e)},stop(n){const t=n.titleBlock;On.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;On.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const td=new WeakMap;var vj={id:"subtitle",start(n,t,e){const i=new av({ctx:n.ctx,options:e,chart:n});On.configure(n,i,e),On.addBox(n,i),td.set(n,i)},stop(n){On.removeBox(n,td.get(n)),td.delete(n)},beforeUpdate(n,t,e){const i=td.get(n);On.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const vu={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const u=n[t].element;if(u&&u.hasValue()){const f=u.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((u,f)=>u+f)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,l,u;for(o=0,l=n.length;o<l;++o){const f=n[o].element;if(f&&f.hasValue()){const d=f.getCenterPoint(),y=ky(t,d);y<r&&(r=y,u=f)}}if(u){const f=u.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function Ss(n,t){return t&&(Ae(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function ar(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function bj(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:l,value:u}=o.getLabelAndValue(r);return{chart:n,label:l,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function DT(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:l,boxHeight:u}=t,f=nn(t.bodyFont),d=nn(t.titleFont),y=nn(t.footerFont),g=o.length,v=r.length,E=i.length,w=Ln(t.padding);let A=w.height,C=0,O=i.reduce((K,U)=>K+U.before.length+U.lines.length+U.after.length,0);if(O+=n.beforeBody.length+n.afterBody.length,g&&(A+=g*d.lineHeight+(g-1)*t.titleSpacing+t.titleMarginBottom),O){const K=t.displayColors?Math.max(u,f.lineHeight):f.lineHeight;A+=E*K+(O-E)*f.lineHeight+(O-1)*t.bodySpacing}v&&(A+=t.footerMarginTop+v*y.lineHeight+(v-1)*t.footerSpacing);let j=0;const z=function(K){C=Math.max(C,e.measureText(K).width+j)};return e.save(),e.font=d.string,le(n.title,z),e.font=f.string,le(n.beforeBody.concat(n.afterBody),z),j=t.displayColors?l+2+t.boxPadding:0,le(i,K=>{le(K.before,z),le(K.lines,z),le(K.after,z)}),j=0,e.font=y.string,le(n.footer,z),e.restore(),C+=w.width,{width:C,height:A}}function xj(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function Ej(n,t,e,i){const{x:r,width:o}=i,l=e.caretSize+e.caretPadding;if(n==="left"&&r+o+l>t.width||n==="right"&&r-o-l<0)return!0}function Sj(n,t,e,i){const{x:r,width:o}=e,{width:l,chartArea:{left:u,right:f}}=n;let d="center";return i==="center"?d=r<=(u+f)/2?"left":"right":r<=o/2?d="left":r>=l-o/2&&(d="right"),Ej(d,n,t,e)&&(d="center"),d}function MT(n,t,e){const i=e.yAlign||t.yAlign||xj(n,e);return{xAlign:e.xAlign||t.xAlign||Sj(n,t,e,i),yAlign:i}}function Tj(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function wj(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function kT(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:l}=n,{xAlign:u,yAlign:f}=e,d=r+o,{topLeft:y,topRight:g,bottomLeft:v,bottomRight:E}=bo(l);let w=Tj(t,u);const A=wj(t,f,d);return f==="center"?u==="left"?w+=d:u==="right"&&(w-=d):u==="left"?w-=Math.max(y,v)+r:u==="right"&&(w+=Math.max(g,E)+r),{x:fn(w,0,i.width-t.width),y:fn(A,0,i.height-t.height)}}function ed(n,t,e){const i=Ln(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function NT(n){return Ss([],ar(n))}function Aj(n,t,e){return Na(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function OT(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const zR={beforeTitle:sr,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:sr,beforeBody:sr,beforeLabel:sr,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Bt(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:sr,afterBody:sr,beforeFooter:sr,footer:sr,afterFooter:sr};function $n(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?zR[t].call(e,i):r}class PT extends Er{static positioners=vu;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new yR(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=Aj(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=$n(i,"beforeTitle",this,t),o=$n(i,"title",this,t),l=$n(i,"afterTitle",this,t);let u=[];return u=Ss(u,ar(r)),u=Ss(u,ar(o)),u=Ss(u,ar(l)),u}getBeforeBody(t,e){return NT($n(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return le(t,o=>{const l={before:[],lines:[],after:[]},u=OT(i,o);Ss(l.before,ar($n(u,"beforeLabel",this,o))),Ss(l.lines,$n(u,"label",this,o)),Ss(l.after,ar($n(u,"afterLabel",this,o))),r.push(l)}),r}getAfterBody(t,e){return NT($n(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=$n(i,"beforeFooter",this,t),o=$n(i,"footer",this,t),l=$n(i,"afterFooter",this,t);let u=[];return u=Ss(u,ar(r)),u=Ss(u,ar(o)),u=Ss(u,ar(l)),u}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],l=[];let u=[],f,d;for(f=0,d=e.length;f<d;++f)u.push(bj(this.chart,e[f]));return t.filter&&(u=u.filter((y,g,v)=>t.filter(y,g,v,i))),t.itemSort&&(u=u.sort((y,g)=>t.itemSort(y,g,i))),le(u,y=>{const g=OT(t.callbacks,y);r.push($n(g,"labelColor",this,y)),o.push($n(g,"labelPointStyle",this,y)),l.push($n(g,"labelTextColor",this,y))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=u,u}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,l=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const u=vu[i.position].call(this,r,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const f=this._size=DT(this,i),d=Object.assign({},u,f),y=MT(this.chart,i,d),g=kT(i,d,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,o={opacity:1,x:g.x,y:g.y,width:f.width,height:f.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:f,topRight:d,bottomLeft:y,bottomRight:g}=bo(u),{x:v,y:E}=t,{width:w,height:A}=e;let C,O,j,z,K,U;return o==="center"?(K=E+A/2,r==="left"?(C=v,O=C-l,z=K+l,U=K-l):(C=v+w,O=C+l,z=K-l,U=K+l),j=C):(r==="left"?O=v+Math.max(f,y)+l:r==="right"?O=v+w-Math.max(d,g)-l:O=this.caretX,o==="top"?(z=E,K=z-l,C=O-l,j=O+l):(z=E+A,K=z+l,C=O+l,j=O-l),U=z),{x1:C,x2:O,x3:j,y1:z,y2:K,y3:U}}drawTitle(t,e,i){const r=this.title,o=r.length;let l,u,f;if(o){const d=Pl(i.rtl,this.x,this.width);for(t.x=ed(this,i.titleAlign,i),e.textAlign=d.textAlign(i.titleAlign),e.textBaseline="middle",l=nn(i.titleFont),u=i.titleSpacing,e.fillStyle=i.titleColor,e.font=l.string,f=0;f<o;++f)e.fillText(r[f],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+u,f+1===o&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,e,i,r,o){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:f,boxWidth:d}=o,y=nn(o.bodyFont),g=ed(this,"left",o),v=r.x(g),E=f<y.lineHeight?(y.lineHeight-f)/2:0,w=e.y+E;if(o.usePointStyle){const A={radius:Math.min(d,f)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},C=r.leftForLtr(v,d)+d/2,O=w+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Oy(t,A,C,O),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,Oy(t,A,C,O)}else{t.lineWidth=Wt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const A=r.leftForLtr(v,d),C=r.leftForLtr(r.xPlus(v,1),d-2),O=bo(l.borderRadius);Object.values(O).some(j=>j!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Wu(t,{x:A,y:w,w:d,h:f,radius:O}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Wu(t,{x:C,y:w+1,w:d-2,h:f-2,radius:O}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(A,w,d,f),t.strokeRect(A,w,d,f),t.fillStyle=l.backgroundColor,t.fillRect(C,w+1,d-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:l,displayColors:u,boxHeight:f,boxWidth:d,boxPadding:y}=i,g=nn(i.bodyFont);let v=g.lineHeight,E=0;const w=Pl(i.rtl,this.x,this.width),A=function(R){e.fillText(R,w.x(t.x+E),t.y+v/2),t.y+=v+o},C=w.textAlign(l);let O,j,z,K,U,Y,D;for(e.textAlign=l,e.textBaseline="middle",e.font=g.string,t.x=ed(this,C,i),e.fillStyle=i.bodyColor,le(this.beforeBody,A),E=u&&C!=="right"?l==="center"?d/2+y:d+2+y:0,K=0,Y=r.length;K<Y;++K){for(O=r[K],j=this.labelTextColors[K],e.fillStyle=j,le(O.before,A),z=O.lines,u&&z.length&&(this._drawColorBox(e,t,K,w,i),v=Math.max(g.lineHeight,f)),U=0,D=z.length;U<D;++U)A(z[U]),v=g.lineHeight;le(O.after,A)}E=0,v=g.lineHeight,le(this.afterBody,A),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let l,u;if(o){const f=Pl(i.rtl,this.x,this.width);for(t.x=ed(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",l=nn(i.footerFont),e.fillStyle=i.footerColor,e.font=l.string,u=0;u<o;++u)e.fillText(r[u],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:l}=this,{x:u,y:f}=t,{width:d,height:y}=i,{topLeft:g,topRight:v,bottomLeft:E,bottomRight:w}=bo(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(u+g,f),l==="top"&&this.drawCaret(t,e,i,r),e.lineTo(u+d-v,f),e.quadraticCurveTo(u+d,f,u+d,f+v),l==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(u+d,f+y-w),e.quadraticCurveTo(u+d,f+y,u+d-w,f+y),l==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(u+E,f+y),e.quadraticCurveTo(u,f+y,u,f+y-E),l==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(u,f+g),e.quadraticCurveTo(u,f,u+g,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const l=vu[t.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=DT(this,t),f=Object.assign({},l,this._size),d=MT(e,t,f),y=kT(t,f,d,e);(r._to!==y.x||o._to!==y.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=Ln(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),hR(t,e.textDirection),o.y+=l.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),fR(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:u,index:f})=>{const d=this.chart.getDatasetMeta(u);if(!d)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:d.data[f],index:f}}),o=!Vd(i,r),l=this._positionChanged(r,e);(o||l)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],l=this._getActiveElements(t,o,e,i),u=this._positionChanged(l,t),f=e||!Vd(l,o)||u;return f&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,l=vu[o.position].call(this,t,e);return l!==!1&&(i!==l.x||r!==l.y)}}var Rj={id:"tooltip",_element:PT,positioners:vu,afterInit(n,t,e){e&&(n.tooltip=new PT({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:zR},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Cj=Object.freeze({__proto__:null,Colors:U6,Decimation:q6,Filler:uj,Legend:gj,SubTitle:vj,Title:_j,Tooltip:Rj});const Ij=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function Dj(n,t,e,i){const r=n.indexOf(t);if(r===-1)return Ij(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const Mj=(n,t)=>n===null?null:fn(Math.round(n),0,t);function LT(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class kj extends Lo{static id="category";static defaults={ticks:{callback:LT}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Bt(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:Dj(i,t,Nt(e,t),this._addedLabels),Mj(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=e;l++)r.push({value:l});return r}getLabelForValue(t){return LT.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function Nj(n,t){const e=[],{bounds:r,step:o,min:l,max:u,precision:f,count:d,maxTicks:y,maxDigits:g,includeBounds:v}=n,E=o||1,w=y-1,{min:A,max:C}=t,O=!Bt(l),j=!Bt(u),z=!Bt(d),K=(C-A)/(g+1);let U=DS((C-A)/w/E)*E,Y,D,R,M;if(U<1e-14&&!O&&!j)return[{value:A},{value:C}];M=Math.ceil(C/U)-Math.floor(A/U),M>w&&(U=DS(M*U/w/E)*E),Bt(f)||(Y=Math.pow(10,f),U=Math.ceil(U*Y)/Y),r==="ticks"?(D=Math.floor(A/U)*U,R=Math.ceil(C/U)*U):(D=A,R=C),O&&j&&o&&m4((u-l)/o,U/1e3)?(M=Math.round(Math.min((u-l)/U,y)),U=(u-l)/M,D=l,R=u):z?(D=O?l:D,R=j?u:R,M=d-1,U=(R-D)/M):(M=(R-D)/U,Ru(M,Math.round(M),U/1e3)?M=Math.round(M):M=Math.ceil(M));const L=Math.max(MS(U),MS(D));Y=Math.pow(10,Bt(f)?L:f),D=Math.round(D*Y)/Y,R=Math.round(R*Y)/Y;let N=0;for(O&&(v&&D!==l?(e.push({value:l}),D<l&&N++,Ru(Math.round((D+N*U)*Y)/Y,l,VT(l,K,n))&&N++):D<l&&N++);N<M;++N){const V=Math.round((D+N*U)*Y)/Y;if(j&&V>u)break;e.push({value:V})}return j&&v&&R!==u?e.length&&Ru(e[e.length-1].value,u,VT(u,K,n))?e[e.length-1].value=u:e.push({value:u}):(!j||R===u)&&e.push({value:R}),e}function VT(n,t,{horizontal:e,minRotation:i}){const r=Ki(i),o=(e?Math.sin(r):Math.cos(r))||.001,l=.75*t*(""+n).length;return Math.min(t/o,l)}class qd extends Lo{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Bt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const l=f=>r=e?r:f,u=f=>o=i?o:f;if(t){const f=Os(r),d=Os(o);f<0&&d<0?u(0):f>0&&d>0&&l(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);u(o+f),t||l(r-f)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,l=Nj(r,o);return t.bounds==="ticks"&&$A(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return dh(t,this.chart.options.locale,this.options.ticks.format)}}class Oj extends qd{static id="linear";static defaults={ticks:{callback:_p.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Ne(t)?t:0,this.max=Ne(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Ki(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Ku=n=>Math.floor(ua(n)),fo=(n,t)=>Math.pow(10,Ku(n)+t);function jT(n){return n/Math.pow(10,Ku(n))===1}function zT(n,t,e){const i=Math.pow(10,e),r=Math.floor(n/i);return Math.ceil(t/i)-r}function Pj(n,t){const e=t-n;let i=Ku(e);for(;zT(n,t,i)>10;)i++;for(;zT(n,t,i)<10;)i--;return Math.min(i,Ku(n))}function Lj(n,{min:t,max:e}){t=fi(n.min,t);const i=[],r=Ku(t);let o=Pj(t,e),l=o<0?Math.pow(10,Math.abs(o)):1;const u=Math.pow(10,o),f=r>o?Math.pow(10,r):0,d=Math.round((t-f)*l)/l,y=Math.floor((t-f)/u/10)*u*10;let g=Math.floor((d-y)/Math.pow(10,o)),v=fi(n.min,Math.round((f+y+g*Math.pow(10,o))*l)/l);for(;v<e;)i.push({value:v,major:jT(v),significand:g}),g>=10?g=g<15?15:20:g++,g>=20&&(o++,g=2,l=o>=0?1:l),v=Math.round((f+y+g*Math.pow(10,o))*l)/l;const E=fi(n.max,v);return i.push({value:E,major:jT(E),significand:g}),i}class Vj extends Lo{static id="logarithmic";static defaults={ticks:{callback:_p.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=qd.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return Ne(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Ne(t)?Math.max(0,t):null,this.max=Ne(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ne(this._userMin)&&(this.min=t===fo(this.min,0)?fo(this.min,-1):fo(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,r=this.max;const o=u=>i=t?i:u,l=u=>r=e?r:u;i===r&&(i<=0?(o(1),l(10)):(o(fo(i,-1)),l(fo(r,1)))),i<=0&&o(fo(r,-1)),r<=0&&l(fo(i,1)),this.min=i,this.max=r}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},i=Lj(e,this);return t.bounds==="ticks"&&$A(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":dh(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=ua(t),this._valueRange=ua(this.max)-ua(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(ua(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function Uy(n){const t=n.ticks;if(t.display&&n.display){const e=Ln(t.backdropPadding);return Nt(t.font&&t.font.size,Re.font.size)+e.height}return 0}function jj(n,t,e){return e=Ae(e)?e:[e],{w:k4(n,t.string,e),h:e.length*t.lineHeight}}function UT(n,t,e,i,r){return n===i||n===r?{start:t-e/2,end:t+e/2}:n<i||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function zj(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],r=[],o=n._pointLabels.length,l=n.options.pointLabels,u=l.centerPointLabels?Zt/o:0;for(let f=0;f<o;f++){const d=l.setContext(n.getPointLabelContext(f));r[f]=d.padding;const y=n.getPointPosition(f,n.drawingArea+r[f],u),g=nn(d.font),v=jj(n.ctx,g,n._pointLabels[f]);i[f]=v;const E=kn(n.getIndexAngle(f)+u),w=Math.round(W_(E)),A=UT(w,y.x,v.w,0,180),C=UT(w,y.y,v.h,90,270);Uj(e,t,E,A,C)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=Hj(n,i,r)}function Uj(n,t,e,i,r){const o=Math.abs(Math.sin(e)),l=Math.abs(Math.cos(e));let u=0,f=0;i.start<t.l?(u=(t.l-i.start)/o,n.l=Math.min(n.l,t.l-u)):i.end>t.r&&(u=(i.end-t.r)/o,n.r=Math.max(n.r,t.r+u)),r.start<t.t?(f=(t.t-r.start)/l,n.t=Math.min(n.t,t.t-f)):r.end>t.b&&(f=(r.end-t.b)/l,n.b=Math.max(n.b,t.b+f))}function Bj(n,t,e){const i=n.drawingArea,{extra:r,additionalAngle:o,padding:l,size:u}=e,f=n.getPointPosition(t,i+r+l,o),d=Math.round(W_(kn(f.angle+Ue))),y=Yj(f.y,u.h,d),g=qj(d),v=Gj(f.x,u.w,g);return{visible:!0,x:f.x,y,textAlign:g,left:v,top:y,right:v+u.w,bottom:y+u.h}}function Fj(n,t){if(!t)return!0;const{left:e,top:i,right:r,bottom:o}=n;return!(fr({x:e,y:i},t)||fr({x:e,y:o},t)||fr({x:r,y:i},t)||fr({x:r,y:o},t))}function Hj(n,t,e){const i=[],r=n._pointLabels.length,o=n.options,{centerPointLabels:l,display:u}=o.pointLabels,f={extra:Uy(o)/2,additionalAngle:l?Zt/r:0};let d;for(let y=0;y<r;y++){f.padding=e[y],f.size=t[y];const g=Bj(n,y,f);i.push(g),u==="auto"&&(g.visible=Fj(g,d),g.visible&&(d=g))}return i}function qj(n){return n===0||n===180?"center":n<180?"left":"right"}function Gj(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function Yj(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function Wj(n,t,e){const{left:i,top:r,right:o,bottom:l}=e,{backdropColor:u}=t;if(!Bt(u)){const f=bo(t.borderRadius),d=Ln(t.backdropPadding);n.fillStyle=u;const y=i-d.left,g=r-d.top,v=o-i+d.width,E=l-r+d.height;Object.values(f).some(w=>w!==0)?(n.beginPath(),Wu(n,{x:y,y:g,w:v,h:E,radius:f}),n.fill()):n.fillRect(y,g,v,E)}}function $j(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let r=t-1;r>=0;r--){const o=n._pointLabelItems[r];if(!o.visible)continue;const l=i.setContext(n.getPointLabelContext(r));Wj(e,l,o);const u=nn(l.font),{x:f,y:d,textAlign:y}=o;Io(e,n._pointLabels[r],f,d+u.lineHeight/2,u,{color:l.color,textAlign:y,textBaseline:"middle"})}}function UR(n,t,e,i){const{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,xe);else{let o=n.getPointPosition(0,t);r.moveTo(o.x,o.y);for(let l=1;l<i;l++)o=n.getPointPosition(l,t),r.lineTo(o.x,o.y)}}function Kj(n,t,e,i,r){const o=n.ctx,l=t.circular,{color:u,lineWidth:f}=t;!l&&!i||!u||!f||e<0||(o.save(),o.strokeStyle=u,o.lineWidth=f,o.setLineDash(r.dash||[]),o.lineDashOffset=r.dashOffset,o.beginPath(),UR(n,e,l,i),o.closePath(),o.stroke(),o.restore())}function Xj(n,t,e){return Na(n,{label:e,index:t,type:"pointLabel"})}class Qj extends qd{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:_p.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Ln(Uy(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Ne(t)&&!isNaN(t)?t:0,this.max=Ne(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Uy(this.options))}generateTickLabels(t){qd.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const r=me(this.options.pointLabels.callback,[e,i],this);return r||r===0?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?zj(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){const e=xe/(this._pointLabels.length||1),i=this.options.startAngle||0;return kn(t*e+Ki(i))}getDistanceFromCenterForValue(t){if(Bt(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Bt(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return Xj(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const r=this.getIndexAngle(t)-Ue+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:r,bottom:o}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),UR(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:r,border:o}=e,l=this._pointLabels.length;let u,f,d;if(e.pointLabels.display&&$j(this,l),r.display&&this.ticks.forEach((y,g)=>{if(g!==0||g===0&&this.min<0){f=this.getDistanceFromCenterForValue(y.value);const v=this.getContext(g),E=r.setContext(v),w=o.setContext(v);Kj(this,E,f,l,w)}}),i.display){for(t.save(),u=l-1;u>=0;u--){const y=i.setContext(this.getPointLabelContext(u)),{color:g,lineWidth:v}=y;!v||!g||(t.lineWidth=v,t.strokeStyle=g,t.setLineDash(y.borderDash),t.lineDashOffset=y.borderDashOffset,f=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),d=this.getPointPosition(u,f),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let o,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((u,f)=>{if(f===0&&this.min>=0&&!e.reverse)return;const d=i.setContext(this.getContext(f)),y=nn(d.font);if(o=this.getDistanceFromCenterForValue(this.ticks[f].value),d.showLabelBackdrop){t.font=y.string,l=t.measureText(u.label).width,t.fillStyle=d.backdropColor;const g=Ln(d.backdropPadding);t.fillRect(-l/2-g.left,-o-y.size/2-g.top,l+g.width,y.size+g.height)}Io(t,u.label,0,-o,y,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}const wp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Jn=Object.keys(wp);function BT(n,t){return n-t}function FT(n,t){if(Bt(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),Ne(l)||(l=typeof i=="string"?e.parse(l,i):e.parse(l)),l===null?null:(r&&(l=r==="week"&&(Yl(o)||o===!0)?e.startOf(l,"isoWeek",o):e.startOf(l,r)),+l)}function HT(n,t,e,i){const r=Jn.length;for(let o=Jn.indexOf(n);o<r-1;++o){const l=wp[Jn[o]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(u*l.size))<=i)return Jn[o]}return Jn[r-1]}function Jj(n,t,e,i,r){for(let o=Jn.length-1;o>=Jn.indexOf(e);o--){const l=Jn[o];if(wp[l].common&&n._adapter.diff(r,i,l)>=t-1)return l}return Jn[e?Jn.indexOf(e):0]}function Zj(n){for(let t=Jn.indexOf(n)+1,e=Jn.length;t<e;++t)if(wp[Jn[t]].common)return Jn[t]}function qT(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=$_(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function tz(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),l=t[t.length-1].value;let u,f;for(u=o;u<=l;u=+r.add(u,1,i))f=e[u],f>=0&&(t[f].major=!0);return t}function GT(n,t,e){const i=[],r={},o=t.length;let l,u;for(l=0;l<o;++l)u=t[l],r[u]=l,i.push({value:u,major:!1});return o===0||!e?i:tz(n,i,r,e)}class By extends Lo{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new e3._date(t.adapters.date);r.init(e),Au(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:FT(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:l,maxDefined:u}=this.getUserBounds();function f(d){!l&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!u&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!l||!u)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=Ne(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=Ne(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,l=this.max,u=v4(r,o,l);return this._unit=e.unit||(i.autoSkip?HT(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):Jj(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Zj(this._unit),this.initOffsets(r),t.reverse&&u.reverse(),GT(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=fn(e,0,l),i=fn(i,0,l),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,l=o.unit||HT(o.minUnit,e,i,this._getLabelCapacity(e)),u=Nt(r.ticks.stepSize,1),f=l==="week"?o.isoWeekday:!1,d=Yl(f)||f===!0,y={};let g=e,v,E;if(d&&(g=+t.startOf(g,"isoWeek",f)),g=+t.startOf(g,d?"day":l),t.diff(i,e,l)>1e5*u)throw new Error(e+" and "+i+" are too far apart with stepSize of "+u+" "+l);const w=r.ticks.source==="data"&&this.getDataTimestamps();for(v=g,E=0;v<i;v=+t.add(v,u,l),E++)qT(y,v,w);return(v===i||r.bounds==="ticks"||E===1)&&qT(y,v,w),Object.keys(y).sort(BT).map(A=>+A)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,l=e||r[o];return this._adapter.format(t,l)}_tickFormatFunction(t,e,i,r){const o=this.options,l=o.ticks.callback;if(l)return me(l,[t,e,i],this);const u=o.time.displayFormats,f=this._unit,d=this._majorUnit,y=f&&u[f],g=d&&u[d],v=i[e],E=d&&g&&v&&v.major;return this._adapter.format(t,r||(E?g:y))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Ki(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),l=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*l,h:i*l+u*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,GT(this,[t],this._majorUnit),r),l=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(FT(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return QA(t.sort(BT))}}function nd(n,t,e){let i=0,r=n.length-1,o,l,u,f;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=hr(n,"pos",t)),{pos:o,time:u}=n[i],{pos:l,time:f}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=hr(n,"time",t)),{time:o,pos:u}=n[i],{time:l,pos:f}=n[r]);const d=l-o;return d?u+(f-u)*(t-o)/d:u}class ez extends By{static id="timeseries";static defaults=By.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=nd(e,this.min),this._tableRange=nd(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let l,u,f,d,y;for(l=0,u=t.length;l<u;++l)d=t[l],d>=e&&d<=i&&r.push(d);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,u=r.length;l<u;++l)y=r[l+1],f=r[l-1],d=r[l],Math.round((y+f)/2)!==d&&o.push({time:d,pos:l/(u-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(nd(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return nd(this._table,i*this._tableRange+this._minPos,!0)}}var nz=Object.freeze({__proto__:null,CategoryScale:kj,LinearScale:Oj,LogarithmicScale:Vj,RadialLinearScale:Qj,TimeScale:By,TimeSeriesScale:ez});const iz=[t3,N6,Cj,nz];rv.register(...iz);const sz=()=>{const{toggleSidebar:n}=ko(),t=G.useRef(null),e=G.useRef(null),[i,r]=G.useState(0),[o,l]=G.useState([]),[u,f]=G.useState([]),[d,y]=G.useState([]),[g,v]=G.useState(!0),[E,w]=G.useState({}),[A,C]=G.useState(3),[O,j]=G.useState(3),[z,K]=G.useState(3),U=N=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(N),Y=()=>{const N=new Date,V=String(N.getMonth()+1).padStart(2,"0"),P=String(N.getDate()).padStart(2,"0");return`${N.getFullYear()}-${V}-${P}`},D=()=>new Date().toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),R=N=>N?new Date(N).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",M=N=>N?N.substring(0,2).toUpperCase():"US";G.useEffect(()=>{(async()=>{try{const V=await Ns(hn(we,"users"));let P=[],yt={};V.forEach(Pt=>{const Kt=Pt.data(),Oe={id:Pt.id,name:Kt.name,nickname:Kt.nickname,photo:Kt.photo};P.push(Oe),yt[Pt.id]=Oe}),w(yt);const _t=hn(we,"transactions"),q=ks(_t,ql("date","asc")),$=await Ns(q);let lt=0,ft=[],mt=new Set,B={},X={};const it=Y();$.forEach(Pt=>{const Kt=Pt.data(),Oe=parseInt(Kt.amount)||0,Be=Kt.userId==="other";Be||(Kt.type==="income"?lt+=Oe:Kt.type==="expense"&&(lt-=Oe)),Kt.date===it&&Kt.type==="income"&&(ft.push(Kt),Be||mt.add(Kt.userId)),Kt.type==="income"&&!Kt.isCheckpoint&&(Be?X[Kt.date]=(X[Kt.date]||0)+Oe:B[Kt.date]=(B[Kt.date]||0)+Oe)});const ct=hn(we,"attendance"),ht=ks(ct,ql("date","desc"),AV(40)),bt=await Ns(ht);let It=[],Dt={};bt.forEach(Pt=>{const Kt=Pt.id,Oe=Pt.data().records||{};let Be=0;Object.entries(Oe).forEach(([pi,dn])=>{dn==="?"&&It.push({userId:pi,date:Kt,name:yt[pi]?.nickname||yt[pi]?.name||"Unknown"}),dn==="H"&&Be++}),Dt[Kt]=Be*6e3}),r(lt),l(ft.reverse()),f(P.filter(Pt=>!mt.has(Pt.id))),y(It),L(B,X,Dt),v(!1)}catch(V){console.error(V)}})()},[]);const L=(N,V,P)=>{e.current&&e.current.destroy();const yt=t.current.getContext("2d"),_t=[],q=[],$=[],lt=[],ft=[];for(let mt=29;mt>=0;mt--){const B=new Date;B.setDate(B.getDate()-mt);const X=B.toISOString().split("T")[0];_t.push(B.toLocaleDateString("en-US",{day:"numeric",month:"short"}));const it=N[X]||0,ct=P[X]||0,ht=V[X]||0;q.push(it),$.push(ct),lt.push(ht),ft.push(it+ct+ht)}e.current=new rv(yt,{type:"line",data:{labels:_t,datasets:[{label:"Savings",data:q,borderColor:"#3b82f6",backgroundColor:"#3b82f6",borderWidth:2,tension:.3,pointRadius:1,order:1},{label:"School Fee",data:$,borderColor:"#166534",backgroundColor:"#166534",borderWidth:2,tension:.3,pointRadius:1,order:2},{label:"Other",data:lt,borderColor:"#b45309",backgroundColor:"#b45309",borderWidth:2,tension:.3,pointRadius:1,order:3},{label:"Total Revenue",data:ft,borderColor:"#8b5cf6",backgroundColor:"#f5f1ffff",borderWidth:2,borderDash:[5,5],tension:.4,fill:!0,pointRadius:0,pointHoverRadius:5,order:4}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!0,position:"top",labels:{boxWidth:10,usePointStyle:!0,font:{size:10}}},tooltip:{callbacks:{label:mt=>mt.dataset.label+": Rp "+mt.parsed.y.toLocaleString("id-ID")}}},scales:{y:{beginAtZero:!0,grid:{color:"#f1f5f9"},ticks:{font:{size:10},callback:mt=>mt/1e3+"k"}},x:{grid:{display:!1},ticks:{font:{size:10},maxTicksLimit:10}}}}})};return S.jsxs("div",{style:{width:"100%"},children:[S.jsx("div",{className:"header-section",children:S.jsxs("div",{className:"page-title-wrapper",style:{display:"flex",alignItems:"center"},children:[S.jsx("button",{className:"mobile-toggle-btn",onClick:n,children:S.jsx("i",{className:"fa-solid fa-bars"})}),S.jsxs("div",{className:"page-title",children:[S.jsx("h1",{children:"Dashboard"}),S.jsx("p",{children:"Overview of school finance"})]})]})}),S.jsx("div",{className:"stat-card",children:S.jsxs("div",{className:"stat-header",children:[S.jsxs("div",{children:[S.jsxs("div",{className:"stat-title",children:[S.jsx("i",{className:"fa-solid fa-piggy-bank"})," Total Students Savings"]}),S.jsx("div",{className:"stat-value",children:U(i)}),S.jsxs("div",{className:"stat-desc",children:[S.jsx("i",{className:"fa-solid fa-check-circle"})," Current balance of all students"]})]}),S.jsx("div",{className:"stat-icon",children:S.jsx("i",{className:"fa-solid fa-wallet"})})]})}),S.jsxs("div",{className:"chart-section",children:[S.jsx("h3",{className:"section-title",children:"Daily Revenue (Last 30 Days)"}),S.jsx("div",{style:{height:"320px"},children:S.jsx("canvas",{ref:t})})]}),S.jsxs("div",{className:"dashboard-grid",style:{gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))"},children:[S.jsxs("div",{className:"list-box",children:[S.jsx("h3",{className:"section-title",children:"Recent Income (Today)"}),g?S.jsx("p",{style:{color:"#9ca3af",fontSize:"13px"},children:"Loading..."}):o.length===0?S.jsx("p",{style:{color:"#9ca3af",fontSize:"13px"},children:"No income recorded today."}):S.jsxs(S.Fragment,{children:[o.slice(0,A).map((N,V)=>{const P=N.userId==="other",yt=P?null:E[N.userId]?.photo,_t=P?N.note||"Other":E[N.userId]?.nickname||N.userName;return S.jsxs("div",{className:"list-item",children:[S.jsxs("div",{className:"user-meta",children:[S.jsx("div",{className:"avatar-sm",style:{backgroundColor:yt?"transparent":P?"#f59e0b":"var(--primary-blue)",backgroundImage:yt?`url(${yt})`:"none",backgroundSize:"cover",backgroundPosition:"center",color:yt?"transparent":"white",border:"1px solid #e2e8f0"},children:!yt&&(P?S.jsx("i",{className:"fa-solid fa-school"}):M(_t))}),S.jsxs("div",{className:"meta-text",children:[S.jsx("h4",{style:{maxWidth:"140px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:_t}),S.jsx("p",{children:R(N.date)})]})]}),S.jsxs("div",{className:"amount-plus",children:["+",U(N.amount)]})]},V)}),o.length>A&&S.jsxs("button",{onClick:()=>C(o.length),style:{width:"100%",padding:"8px",marginTop:"10px",background:"#f1f5f9",border:"none",borderRadius:"6px",color:"#64748b",cursor:"pointer",fontSize:"12px"},children:["Show More (",o.length-A,")"]})]})]}),S.jsxs("div",{className:"list-box",children:[S.jsxs("h3",{className:"section-title",children:[S.jsx("i",{className:"fa-regular fa-user"})," No Income (Today)"]}),g?S.jsx("p",{style:{color:"#9ca3af",fontSize:"13px"},children:"Checking..."}):u.length===0?S.jsxs("p",{style:{color:"#16a34a",fontSize:"13px"},children:[S.jsx("i",{className:"fa-solid fa-check"})," All contributed."]}):S.jsxs(S.Fragment,{children:[u.slice(0,O).map(N=>S.jsxs("div",{className:"list-item",children:[S.jsxs("div",{className:"user-meta",children:[S.jsx("div",{className:"avatar-sm",style:{backgroundColor:N.photo?"transparent":"#9ca3af",backgroundImage:N.photo?`url(${N.photo})`:"none",backgroundSize:"cover",backgroundPosition:"center",color:N.photo?"transparent":"white",border:"1px solid #e2e8f0"},children:!N.photo&&M(N.nickname||N.name)}),S.jsxs("div",{className:"meta-text",children:[S.jsx("h4",{children:N.nickname||N.name}),S.jsxs("p",{style:{fontSize:"11px",color:"#ef4444"},children:[S.jsx("i",{className:"fa-regular fa-clock",style:{marginRight:"4px"}}),D()]})]})]}),S.jsx("div",{className:"status-pending",children:"Waiting"})]},N.id)),u.length>O&&S.jsxs("button",{onClick:()=>j(u.length),style:{width:"100%",padding:"8px",marginTop:"10px",background:"#f1f5f9",border:"none",borderRadius:"6px",color:"#64748b",cursor:"pointer",fontSize:"12px"},children:["Show More (",u.length-O,")"]})]})]}),S.jsxs("div",{className:"list-box",children:[S.jsxs("h3",{className:"section-title",style:{color:"#d97706"},children:[S.jsx("i",{className:"fa-solid fa-triangle-exclamation",style:{marginRight:"8px"}})," Unpaid Attendance"]}),g?S.jsx("p",{style:{color:"#9ca3af",fontSize:"13px"},children:"Checking..."}):d.length===0?S.jsx("p",{style:{color:"#16a34a",fontSize:"13px"},children:"No pending payments."}):S.jsxs(S.Fragment,{children:[d.slice(0,z).map((N,V)=>{const P=E[N.userId]||{};return S.jsxs("div",{className:"list-item",children:[S.jsxs("div",{className:"user-meta",children:[S.jsx("div",{className:"avatar-sm",style:{backgroundColor:P.photo?"transparent":"#f59e0b",backgroundImage:P.photo?`url(${P.photo})`:"none",backgroundSize:"cover",backgroundPosition:"center",color:P.photo?"transparent":"white",border:"1px solid #e2e8f0"},children:!P.photo&&M(N.name)}),S.jsxs("div",{className:"meta-text",children:[S.jsx("h4",{children:N.name}),S.jsxs("p",{style:{fontSize:"11px",color:"#d97706",fontWeight:"600"},children:[S.jsx("i",{className:"fa-regular fa-calendar",style:{marginRight:"4px"}}),R(N.date)]})]})]}),S.jsx("div",{style:{background:"#fef3c7",color:"#d97706",padding:"4px 8px",borderRadius:"6px",fontSize:"12px",fontWeight:"bold"},children:"? No Pay"})]},V)}),d.length>z&&S.jsxs("button",{onClick:()=>K(d.length),style:{width:"100%",padding:"8px",marginTop:"10px",background:"#f1f5f9",border:"none",borderRadius:"6px",color:"#64748b",cursor:"pointer",fontSize:"12px"},children:["Show More (",d.length-z,")"]})]})]})]})]})},rz=()=>{const{toggleSidebar:n}=ko(),[t,e]=G.useState([]),[i,r]=G.useState("income"),[o,l]=G.useState(!1),[u,f]=G.useState(!1),[d,y]=G.useState(new Set),[g,v]=G.useState(!1),[E,w]=G.useState({currentBalance:0,inputAmount:0,fee:0,total:0,newBalance:0}),[A,C]=G.useState({userId:"",amount:"",date:new Date().toISOString().split("T")[0],note:""});G.useEffect(()=>{(async()=>{try{const N=(await Ns(hn(we,"users"))).docs.map(V=>({id:V.id,name:V.data().name}));e(N)}catch{ce.error("Gagal memuat data user")}})()},[]),G.useEffect(()=>{if(!A.date)return;const M=ks(hn(we,"transactions"),oa("date","==",A.date),oa("type","==",i)),L=Fu(M,N=>{const V=new Set;N.docs.forEach(P=>V.add(P.data().userId)),y(V)});return()=>L()},[A.date,i]);const O=M=>{const{name:L,value:N}=M.target;C(V=>({...V,[L]:N}))},j=M=>{r(M),g||C(L=>({...L,userId:""}))},z=async M=>{const L=ks(hn(we,"transactions"),oa("userId","==",M)),N=await Ns(L);let V=0;return N.forEach(P=>{const yt=P.data();yt.type==="income"?V+=yt.amount:yt.type==="expense"&&(V-=yt.amount)}),V},K=async M=>{if(M.preventDefault(),!A.userId||!A.amount||!A.date){ce.error("Mohon lengkapi data wajib (*)");return}const L=await z(A.userId),N=parseInt(A.amount)*1e3;let V=0,P=N,yt=0;i==="expense"?(V=N*.1,P=N+V,yt=L-P):yt=L+N,w({currentBalance:L,inputAmount:N,fee:V,total:P,newBalance:yt}),f(!0)},U=async()=>{l(!0);try{const M=t.find(V=>V.id===A.userId),L=M?M.name:"Unknown";let N=A.note;if(i==="expense"&&E.fee>0){const V=E.fee.toLocaleString("id-ID");N=`[Withdraw: Rp ${E.inputAmount.toLocaleString("id-ID")} + Adm: Rp ${V}] ${A.note}`}await F_(hn(we,"transactions"),{userId:A.userId,userName:L,amount:i==="expense"?E.total:E.inputAmount,date:A.date,note:N,type:i,createdAt:Gl()}),ce.success("Transaksi berhasil disimpan!"),f(!1),C(V=>({userId:g?V.userId:"",amount:"",date:V.date,note:""}))}catch(M){ce.error("Gagal: "+M.message)}finally{l(!1)}},Y=()=>{const M=t.find(L=>L.id===A.userId);return M?M.name:"-"},D=t.filter(M=>!d.has(M.id)||M.id===A.userId),R=M=>M.toLocaleString("id-ID");return S.jsxs("div",{style:{width:"100%"},children:[S.jsx("div",{className:"centered-header",children:S.jsxs("div",{className:"page-title-wrapper",style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[S.jsx("button",{className:"mobile-toggle-btn",onClick:n,children:S.jsx("i",{className:"fa-solid fa-bars"})}),S.jsxs("div",{children:[S.jsx("h1",{children:"Income Management"}),S.jsx("p",{children:"Add or subtract income for users"})]})]})}),S.jsxs("div",{className:"form-card",children:[S.jsxs("div",{className:"toggle-container",children:[S.jsxs("button",{type:"button",className:`toggle-btn ${i==="income"?"active-income":""}`,onClick:()=>j("income"),children:[S.jsx("i",{className:"fa-solid fa-plus"})," Add Income"]}),S.jsxs("button",{type:"button",className:`toggle-btn ${i==="expense"?"active-expense":""}`,onClick:()=>j("expense"),children:[S.jsx("i",{className:"fa-solid fa-minus"})," Subtract Income"]})]}),S.jsxs("form",{onSubmit:K,children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{className:"form-label",children:"Select User *"}),S.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[S.jsxs("select",{name:"userId",className:"form-control",required:!0,value:A.userId,onChange:O,style:{flex:1},children:[S.jsx("option",{value:"",disabled:!0,children:D.length===0?"Semua user sudah lunas hari ini":"Choose a user"}),D.map(M=>S.jsx("option",{value:M.id,children:M.name},M.id))]}),S.jsx("button",{type:"button",onClick:()=>v(!g),style:{background:g?"var(--primary-blue)":"#f1f5f9",color:g?"white":"#94a3b8",border:"1px solid var(--border-color)",borderRadius:"8px",width:"46px",height:"46px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",cursor:"pointer"},children:S.jsx("i",{className:"fa-solid fa-thumbtack",style:{transform:g?"rotate(-45deg)":"none"}})})]})]}),S.jsxs("div",{className:"form-group",children:[S.jsxs("label",{className:"form-label",children:["Amount (Dalam Ribuan) * ",S.jsxs("span",{style:{fontSize:"11px",color:"#64748b",fontWeight:"normal"},children:["Contoh: ",S.jsx("b",{children:"20"})," = Rp 20.000"]})]}),S.jsxs("div",{style:{position:"relative"},children:[S.jsx("input",{type:"number",name:"amount",className:"form-control",placeholder:"0",required:!0,min:"1",value:A.amount,onChange:O}),A.amount&&S.jsxs("div",{style:{position:"absolute",right:"10px",top:"12px",fontSize:"12px",color:"green",fontWeight:"bold"},children:["= Rp ",(parseInt(A.amount)*1e3).toLocaleString("id-ID")]})]})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{className:"form-label",children:"Date *"}),S.jsx("input",{type:"date",name:"date",className:"form-control",required:!0,value:A.date,onChange:O})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{className:"form-label",children:"Notes (Optional)"}),S.jsx("textarea",{name:"note",className:"form-control",placeholder:"Add notes",value:A.note,onChange:O})]}),S.jsx("button",{type:"submit",className:"btn-submit",style:{backgroundColor:i==="income"?"var(--success-green)":"var(--danger-red)"},children:i==="income"?"Add Income":"Subtract Income"})]})]}),u&&S.jsx("div",{className:"popup-overlay",style:{display:"flex"},children:S.jsxs("div",{className:"popup-box",children:[S.jsx("h3",{children:"Confirm Transaction"}),S.jsx("p",{style:{marginBottom:"15px",color:"#64748b"},children:"Please review the financial details:"}),S.jsxs("div",{className:"popup-details",style:{background:"#f8fafc",padding:"15px",borderRadius:"8px",fontSize:"13px"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px",borderBottom:"1px solid #e2e8f0",paddingBottom:"10px"},children:[S.jsxs("span",{children:["User: ",S.jsx("b",{children:Y()})]}),S.jsx("span",{children:A.date})]}),S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",color:"#64748b"},children:[S.jsx("span",{children:"Current Savings:"}),S.jsxs("span",{children:["Rp ",R(E.currentBalance)]})]}),S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",color:i==="income"?"green":"#b91c1c",fontWeight:"bold"},children:[S.jsxs("span",{children:[i==="income"?"Deposit":"Withdrawal",":"]}),S.jsxs("span",{children:[i==="income"?"+":"-"," Rp ",R(E.inputAmount)]})]}),i==="expense"&&S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",color:"#b91c1c",fontSize:"12px"},children:[S.jsx("span",{children:"@ : (Admin 10%)"}),S.jsxs("span",{children:["- Rp ",R(E.fee)]})]}),S.jsx("div",{style:{borderTop:"1px dashed #cbd5e1",margin:"10px 0"}}),S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"15px",fontWeight:"bold",color:"var(--text-dark)"},children:[S.jsx("span",{children:"New Balance:"}),S.jsxs("span",{style:{color:E.newBalance<0?"red":"blue"},children:["Rp ",R(E.newBalance)]})]})]}),S.jsxs("div",{className:"popup-actions",children:[S.jsx("button",{className:"cancel-btn",onClick:()=>f(!1),disabled:o,children:"Cancel"}),S.jsx("button",{className:"confirm-btn",onClick:U,disabled:o,children:o?"Processing...":"Confirm"})]})]})})]})},az=()=>{const{toggleSidebar:n}=ko(),[t,e]=G.useState([]),[i,r]=G.useState(!0),[o,l]=G.useState(!1),[u,f]=G.useState(!1),[d,y]=G.useState(!1),[g,v]=G.useState({id:"",fullName:"",nickname:"",className:"A",photo:""});G.useEffect(()=>{const z=ks(hn(we,"users"),ql("createdAt","desc")),K=Fu(z,U=>{const Y=U.docs.map(D=>({id:D.id,...D.data()}));e(Y),r(!1)},U=>{ce.error("Gagal memuat users"),r(!1)});return()=>K()},[]);const E=z=>{const K=z.target.files[0];if(!K)return;if(K.size>2*1024*1024){ce.error("Ukuran file terlalu besar (Max 2MB)");return}const U=new FileReader;U.readAsDataURL(K),U.onload=Y=>{const D=new Image;D.src=Y.target.result,D.onload=()=>{const R=document.createElement("canvas"),M=300,L=M/D.width;R.width=M,R.height=D.height*L,R.getContext("2d").drawImage(D,0,0,R.width,R.height);const V=R.toDataURL("image/jpeg",.7);v(P=>({...P,photo:V}))}}},w=()=>{f(!1),v({id:"",fullName:"",nickname:"",className:"A",photo:""}),l(!0)},A=z=>{f(!0),v({id:z.id,fullName:z.fullName||z.name,nickname:z.nickname||z.name,className:z.className||"A",photo:z.photo||""}),l(!0)},C=async z=>{if(z.preventDefault(),!g.fullName.trim()||!g.nickname.trim()){ce.error("Nama Lengkap & Panggilan wajib diisi");return}y(!0);try{const K={name:g.nickname,fullName:g.fullName,nickname:g.nickname,className:g.className,photo:g.photo,updatedAt:Gl()};if(u){const U=Hl(we,"users",g.id);await UA(U,K),ce.success("Data siswa diperbarui!")}else await F_(hn(we,"users"),{...K,createdAt:Gl()}),ce.success("Siswa baru ditambahkan!");l(!1)}catch(K){ce.error("Gagal menyimpan: "+K.message)}finally{y(!1)}},O=async(z,K)=>{if(window.confirm(`Yakin ingin menghapus data "${K}"? Data absensi & tabungan mungkin akan kehilangan referensi nama.`))try{await BA(Hl(we,"users",z)),ce.success("User dihapus.")}catch(U){ce.error("Gagal menghapus: "+U.message)}},j=z=>z?z.substring(0,2).toUpperCase():"U";return S.jsxs("div",{style:{width:"100%"},children:[S.jsxs("div",{className:"header-section",children:[S.jsxs("div",{className:"page-title-wrapper",style:{display:"flex",alignItems:"center"},children:[S.jsx("button",{className:"mobile-toggle-btn",onClick:n,children:S.jsx("i",{className:"fa-solid fa-bars"})}),S.jsxs("div",{className:"page-title",children:[S.jsx("h1",{children:"User Management"}),S.jsx("p",{children:"Kelola data siswa, kelas, dan foto"})]})]}),S.jsxs("button",{className:"btn-add",onClick:w,children:[S.jsx("i",{className:"fa-solid fa-user-plus"})," Add User"]})]}),S.jsx("div",{className:"user-grid",children:i?S.jsx("p",{style:{color:"var(--text-gray)"},children:"Loading users..."}):t.length===0?S.jsx("p",{style:{color:"var(--text-gray)"},children:"Belum ada siswa."}):t.map(z=>S.jsxs("div",{className:"user-card",style:{position:"relative",paddingRight:"10px"},children:[S.jsxs("div",{className:"user-info-wrapper",children:[S.jsx("div",{className:"avatar",style:{backgroundColor:z.photo?"transparent":"var(--primary-blue)",backgroundImage:z.photo?`url(${z.photo})`:"none",backgroundSize:"cover",backgroundPosition:"center",border:"1px solid #e2e8f0"},children:!z.photo&&j(z.nickname||z.name)}),S.jsxs("div",{className:"info",children:[S.jsx("h3",{style:{fontSize:"16px"},children:z.nickname||z.name}),S.jsxs("p",{style:{fontSize:"12px",color:"#64748b"},children:["Kelas ",z.className||"A","  ",z.fullName||z.name]})]})]}),S.jsxs("div",{style:{display:"flex",gap:"8px"},children:[S.jsx("button",{className:"btn-delete",onClick:()=>A(z),style:{color:"var(--primary-blue)"},title:"Edit User",children:S.jsx("i",{className:"fa-regular fa-pen-to-square"})}),S.jsx("button",{className:"btn-delete",onClick:()=>O(z.id,z.nickname||z.name),title:"Hapus User",children:S.jsx("i",{className:"fa-regular fa-trash-can"})})]})]},z.id))}),o&&S.jsx("div",{className:"modal-overlay active",style:{display:"flex"},children:S.jsxs("div",{className:"modal-box",children:[S.jsxs("div",{className:"modal-header",children:[S.jsxs("div",{children:[S.jsx("h3",{children:u?"Edit Siswa":"Tambah Siswa Baru"}),S.jsx("p",{children:"Lengkapi data profil siswa di bawah ini."})]}),S.jsx("button",{className:"close-modal",onClick:()=>l(!1),children:""})]}),S.jsxs("form",{onSubmit:C,children:[S.jsxs("div",{className:"modal-body",children:[S.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"20px"},children:S.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:g.photo?`url(${g.photo}) center/cover`:"#f1f5f9",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid #e2e8f0"},children:!g.photo&&S.jsx("i",{className:"fa-solid fa-camera",style:{color:"#94a3b8",fontSize:"24px"}})})}),S.jsx("label",{style:{fontSize:"13px",fontWeight:"600"},children:"Foto Profil"}),S.jsx("input",{type:"file",accept:"image/*",className:"form-control",onChange:E,style:{padding:"8px",fontSize:"12px",marginBottom:"15px"}}),S.jsx("label",{style:{fontSize:"13px",fontWeight:"600"},children:"Nama Lengkap *"}),S.jsx("input",{type:"text",className:"form-control",placeholder:"Contoh: Muhammad Budi Santoso",required:!0,value:g.fullName,onChange:z=>v({...g,fullName:z.target.value}),style:{marginBottom:"15px"}}),S.jsxs("div",{style:{display:"flex",gap:"15px"},children:[S.jsxs("div",{style:{flex:1},children:[S.jsx("label",{style:{fontSize:"13px",fontWeight:"600"},children:"Nama Panggilan *"}),S.jsx("input",{type:"text",className:"form-control",placeholder:"Contoh: Budi",required:!0,value:g.nickname,onChange:z=>v({...g,nickname:z.target.value})})]}),S.jsxs("div",{style:{width:"100px"},children:[S.jsx("label",{style:{fontSize:"13px",fontWeight:"600"},children:"Kelas"}),S.jsxs("select",{className:"form-control",value:g.className,onChange:z=>v({...g,className:z.target.value}),children:[S.jsx("option",{value:"A",children:"Kelas A"}),S.jsx("option",{value:"B",children:"Kelas B"})]})]})]})]}),S.jsxs("div",{className:"modal-footer",style:{marginTop:"25px"},children:[S.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>l(!1),disabled:d,children:"Batal"}),S.jsx("button",{type:"submit",className:"btn-save",disabled:d,children:d?"Menyimpan...":"Simpan Data"})]})]})]})})]})},oz=()=>{const{toggleSidebar:n}=ko(),[t,e]=G.useState([]),[i,r]=G.useState(new Date().toISOString().split("T")[0]),[o,l]=G.useState([]),[u,f]=G.useState({}),[d,y]=G.useState({}),[g,v]=G.useState(!0),[E,w]=G.useState(!1),A={"-":{label:"-",color:"#94a3b8",bg:"#f1f5f9",title:"Tanpa Keterangan"},"?":{label:"?",color:"#7c3aed",bg:"#ede9fe",title:"Hadir (No Income)"},H:{label:"H",color:"#15803d",bg:"#dcfce7",title:"Hadir (Income)"},S:{label:"S",color:"#854d0e",bg:"#fef9c3",title:"Sakit"},I:{label:"I",color:"#1e40af",bg:"#dbeafe",title:"Izin"},A:{label:"A",color:"#991b1b",bg:"#fee2e2",title:"Alpha"}};G.useEffect(()=>{const U=[];let Y=new Date(i),D=0;for(;D<7;){const R=Y.getDay();R!==0&&R!==6&&(U.unshift(Y.toISOString().split("T")[0]),D++),Y.setDate(Y.getDate()-1)}l(U)},[i]),G.useEffect(()=>{const U=ks(hn(we,"users"),ql("name","asc")),Y=Fu(U,D=>{e(D.docs.map(R=>({id:R.id,name:R.data().name})))});return()=>Y()},[]),G.useEffect(()=>{if(o.length===0)return;(async()=>{v(!0);const Y=o[0],D=o[o.length-1];try{const R=ks(hn(we,"attendance"),oa("date",">=",Y),oa("date","<=",D)),M=await Ns(R),L={};M.forEach(yt=>{L[yt.id]=yt.data().records||{}}),f(L);const N=ks(hn(we,"transactions"),oa("type","==","income"),oa("date",">=",Y),oa("date","<=",D)),V=await Ns(N),P={};V.forEach(yt=>{const _t=yt.data();P[_t.date]||(P[_t.date]=new Set),P[_t.date].add(_t.userId)}),y(P)}catch(R){console.error(R),ce.error("Gagal memuat data matriks")}finally{v(!1)}})()},[o]);const C=(U,Y)=>{const D=u[U]&&u[U][Y],R=d[U]&&d[U].has(Y);return D&&D!=="-"?D:R?"H":D||"-"},O=(U,Y,D)=>{f(R=>({...R,[U]:{...R[U]||{},[Y]:D}}))},j=async()=>{w(!0);try{const U=MV(we);o.forEach(Y=>{const D=Hl(we,"attendance",Y),R={};t.forEach(M=>{const L=C(Y,M.id);L!=="-"&&(R[M.id]=L)}),U.set(D,{date:Y,records:R,updatedAt:Gl()})}),await U.commit(),ce.success("Data absensi berhasil disimpan!")}catch(U){ce.error("Gagal: "+U.message)}finally{w(!1)}},z=U=>{const Y=new Date(U),D=String(Y.getDate()).padStart(2,"0"),R=String(Y.getMonth()+1).padStart(2,"0");return`${D}/${R}`},K=U=>{if(!U)return"";const[Y,D,R]=U.split("-");return`${R}/${D}/${Y}`};return S.jsxs("div",{style:{width:"100%"},children:[S.jsxs("div",{className:"header-section",children:[S.jsxs("div",{className:"page-title-wrapper",style:{display:"flex",alignItems:"center"},children:[S.jsx("button",{className:"mobile-toggle-btn",onClick:n,children:S.jsx("i",{className:"fa-solid fa-bars"})}),S.jsxs("div",{className:"page-title",children:[S.jsx("h1",{children:"Absensi Matriks"}),S.jsx("p",{children:"Rekap kehadiran 7 hari terakhir"})]})]}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[S.jsx("label",{style:{fontSize:"11px",color:"var(--text-gray)",marginBottom:"4px"},children:"Pilih Hari Terakhir:"}),S.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[S.jsxs("div",{className:"form-control",style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"10px",cursor:"pointer",background:"white",width:"160px",padding:"8px 12px",border:"1px solid var(--border-color)",borderRadius:"8px"},children:[S.jsx("span",{style:{fontWeight:"600",color:"#334155",fontSize:"14px"},children:K(i)}),S.jsx("i",{className:"fa-regular fa-calendar",style:{color:"#64748b"}})]}),S.jsx("input",{type:"date",value:i,onChange:U=>r(U.target.value),style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:0,cursor:"pointer",zIndex:10},onClick:U=>U.target.showPicker&&U.target.showPicker()})]})]})]}),S.jsx("div",{className:"form-card",style:{padding:"0",overflow:"hidden"},children:g?S.jsx("p",{style:{padding:"40px",textAlign:"center",color:"#9ca3af"},children:"Loading data..."}):S.jsx("div",{style:{overflowX:"auto"},children:S.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"800px"},children:[S.jsx("thead",{children:S.jsxs("tr",{style:{background:"#f8fafc",borderBottom:"2px solid #e2e8f0"},children:[S.jsx("th",{style:{padding:"12px",textAlign:"left",width:"200px",position:"sticky",left:0,background:"#f8fafc",zIndex:10},children:"Nama Siswa"}),o.map(U=>{const Y=U===i;return S.jsxs("th",{style:{padding:"12px",textAlign:"center",fontSize:"13px",background:Y?"#eff6ff":"transparent",borderLeft:"1px solid #f1f5f9",color:Y?"var(--primary-blue)":"var(--text-dark)",fontWeight:Y?"700":"500"},children:[S.jsx("div",{style:{fontSize:"10px",color:Y?"var(--primary-blue)":"#94a3b8",marginBottom:"2px"},children:new Date(U).toLocaleDateString("id-ID",{weekday:"short"})}),z(U)]},U)})]})}),S.jsx("tbody",{children:t.map(U=>S.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[S.jsx("td",{style:{padding:"12px",fontSize:"14px",fontWeight:"500",color:"#0f172a",position:"sticky",left:0,background:"white",zIndex:5,boxShadow:"2px 0 5px rgba(0,0,0,0.02)"},children:U.name}),o.map(Y=>{const D=C(Y,U.id),R=A[D]||A["-"],M=Y===i;return S.jsx("td",{style:{padding:"8px",textAlign:"center",background:M?"#fbfdff":"transparent",borderLeft:"1px solid #f1f5f9"},children:S.jsxs("select",{value:D,onChange:L=>O(Y,U.id,L.target.value),style:{appearance:"none",backgroundColor:R.bg,color:R.color,border:`1px solid ${R.bg}`,borderRadius:"6px",padding:"6px 2px",width:"100%",minWidth:"40px",textAlign:"center",fontWeight:"bold",fontSize:"13px",cursor:"pointer",outline:"none"},children:[S.jsx("option",{value:"-",children:"-"}),S.jsx("option",{value:"?",children:"?"}),S.jsx("option",{value:"H",children:"H"}),S.jsx("option",{value:"S",children:"S"}),S.jsx("option",{value:"I",children:"I"}),S.jsx("option",{value:"A",children:"A"})]})},`${U.id}-${Y}`)})]},U.id))})]})})}),S.jsxs("div",{style:{marginTop:"20px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"15px"},children:[S.jsx("div",{style:{display:"flex",gap:"15px",fontSize:"12px",flexWrap:"wrap"},children:Object.keys(A).map(U=>{const Y=A[U];return S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[S.jsx("span",{style:{width:"12px",height:"12px",borderRadius:"3px",background:Y.bg,border:`1px solid ${Y.color}`}}),S.jsx("span",{style:{color:Y.color,fontWeight:"600"},children:Y.title})]},U)})}),S.jsx("button",{className:"btn-submit",onClick:j,disabled:E||g,style:{width:"auto",padding:"12px 30px",margin:0},children:E?"Menyimpan...":"Simpan Perubahan"})]})]})},lz=()=>{const{toggleSidebar:n}=ko(),[t,e]=G.useState([]),[i,r]=G.useState({}),[o,l]=G.useState(!0),[u,f]=G.useState({}),[d,y]=G.useState({}),[g,v]=G.useState(""),[E,w]=G.useState(null),[A,C]=G.useState(!1),[O,j]=G.useState("edit"),[z,K]=G.useState(!1),[U,Y]=G.useState({id:"",userId:"",userName:"",amount:"",date:"",note:"",type:"income",isCheckpoint:!1});G.useEffect(()=>{(async()=>{try{const lt=await Ns(hn(we,"users"));let ft={};lt.forEach(mt=>{ft[mt.id]=mt.data()}),f(ft)}catch(lt){console.error(lt)}})()},[]),G.useEffect(()=>{const $=ks(hn(we,"transactions"),ql("date","desc"),ql("createdAt","desc")),lt=Fu($,ft=>{const mt=ft.docs.map(B=>({id:B.id,...B.data()}));e(mt),l(!1)},ft=>{ce.error("Gagal memuat data."),l(!1)});return()=>lt()},[]),G.useEffect(()=>{const $=ks(hn(we,"attendance")),lt=Fu($,ft=>{let mt={};ft.docs.forEach(B=>{const X=B.id,it=B.data().records||{},ct=Object.values(it).filter(ht=>ht==="H").length;mt[X]=ct}),y(mt)});return()=>lt()},[]),G.useEffect(()=>{if(t.length===0){r({});return}let $=t;g&&($=t.filter(ft=>ft.date===g));const lt=$.reduce((ft,mt)=>{const B=mt.date;return ft[B]||(ft[B]=[]),ft[B].push(mt),ft},{});r(lt)},[t,g]);const D=$=>{E!==$&&w($)},R=$=>{$.stopPropagation(),w(null)},M=($,lt)=>{$.stopPropagation(),j("edit"),Y({id:lt.id,userId:lt.userId,userName:lt.userName,amount:lt.amount/1e3,date:lt.date,note:lt.note||"",type:lt.type,isCheckpoint:lt.isCheckpoint||!1}),C(!0),w(null)},L=($,lt)=>{$.stopPropagation(),j("delete"),Y(lt),C(!0),w(null)},N=async $=>{$.preventDefault(),K(!0);try{const lt=Hl(we,"transactions",U.id);await UA(lt,{amount:parseInt(U.amount)*1e3,date:U.date,note:U.note,isCheckpoint:U.isCheckpoint,updatedAt:Gl()}),ce.success("Data diperbarui!"),C(!1)}catch(lt){ce.error(lt.message)}finally{K(!1)}},V=async()=>{K(!0);try{await BA(Hl(we,"transactions",U.id)),ce.success("Data dihapus."),C(!1)}catch($){ce.error($.message)}finally{K(!1)}},P=$=>"Rp "+new Intl.NumberFormat("id-ID").format($),yt=$=>$?$.substring(0,2).toUpperCase():"?",_t=$=>{if(!$)return"";const lt=new Date($);return`${String(lt.getDate()).padStart(2,"0")}/${String(lt.getMonth()+1).padStart(2,"0")}/${lt.getFullYear()}`},q=$=>{if(!$)return"Semua Tanggal";const[lt,ft,mt]=$.split("-");return`${mt}/${ft}/${lt}`};return S.jsxs("div",{style:{width:"100%"},children:[S.jsxs("div",{className:"header-section",children:[S.jsxs("div",{className:"page-title-wrapper",style:{display:"flex",alignItems:"center"},children:[S.jsx("button",{className:"mobile-toggle-btn",onClick:n,children:S.jsx("i",{className:"fa-solid fa-bars"})}),S.jsxs("div",{className:"page-title",children:[S.jsx("h1",{children:"Daily Flow"}),S.jsx("p",{children:"Monitor Pemasukan & Pengeluaran"})]})]}),S.jsxs("div",{className:"date-filter-wrapper",style:{display:"flex",alignItems:"center"},children:[S.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[S.jsxs("div",{className:"form-control",style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"10px",cursor:"pointer",background:"white",width:"160px",padding:"8px 12px",border:"1px solid var(--border-color)",borderRadius:"8px"},children:[S.jsx("span",{style:{fontWeight:"600",color:g?"#334155":"#94a3b8",fontSize:"13px"},children:q(g)}),S.jsx("i",{className:"fa-regular fa-calendar",style:{color:"#64748b"}})]}),S.jsx("input",{type:"date",value:g,onChange:$=>v($.target.value),style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:0,cursor:"pointer",zIndex:10},onClick:$=>$.target.showPicker&&$.target.showPicker()})]}),g&&S.jsx("button",{onClick:()=>v(""),style:{marginLeft:"8px",background:"none",border:"none",color:"var(--danger-red)",cursor:"pointer",fontSize:"12px"},children:"Clear"})]})]}),S.jsx("div",{className:"daily-content",children:o?S.jsx("p",{style:{color:"var(--text-gray)"},children:"Loading data..."}):Object.keys(i).length===0?S.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"var(--text-gray)"},children:[S.jsx("i",{className:"fa-regular fa-calendar-xmark",style:{fontSize:"32px",marginBottom:"10px"}}),S.jsx("p",{children:"No records found."})]}):Object.keys(i).map($=>{const lt=i[$].filter(X=>X.type==="income"&&!X.isCheckpoint&&X.userId!=="other").reduce((X,it)=>X+it.amount,0),ft=i[$].filter(X=>X.type==="income"&&X.userId==="other").reduce((X,it)=>X+it.amount,0),B=(d[$]||0)*6e3;return S.jsxs("div",{style:{marginBottom:"40px"},children:[S.jsxs("div",{style:{marginBottom:"16px"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"10px"},children:[S.jsx("h3",{style:{fontSize:"16px",fontWeight:"700",color:"var(--text-dark)",margin:0},children:_t($)}),S.jsxs("div",{style:{display:"flex",gap:"10px",fontSize:"12px",flexWrap:"wrap"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",background:"#eff6ff",padding:"4px 10px",borderRadius:"20px",color:"var(--primary-blue)",border:"1px solid #dbeafe"},children:[S.jsx("i",{className:"fa-solid fa-piggy-bank"}),S.jsxs("span",{style:{fontWeight:"600"},children:["Sav: ",P(lt)]})]}),S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",background:"#f0fdf4",padding:"4px 10px",borderRadius:"20px",color:"#166534",border:"1px solid #bbf7d0"},children:[S.jsx("i",{className:"fa-solid fa-school"}),S.jsxs("span",{style:{fontWeight:"600"},children:["Fee: ",P(B)]})]}),S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",background:"#fffbeb",padding:"4px 10px",borderRadius:"20px",color:"#b45309",border:"1px solid #fcd34d"},children:[S.jsx("i",{className:"fa-solid fa-cash-register"}),S.jsxs("span",{style:{fontWeight:"600"},children:["Oth: ",P(ft)]})]})]})]}),S.jsx("div",{style:{height:"1px",background:"var(--border-color)",marginTop:"8px",width:"100%"}})]}),S.jsx("div",{className:"user-grid",children:i[$].map(X=>{const it=X.type==="expense",ct=X.userId==="other",ht=ct?null:u[X.userId]?.photo,bt=ct?X.note||"Other":u[X.userId]?.nickname||X.userName;return S.jsxs("div",{className:"user-card",style:{minHeight:"auto",cursor:"pointer",position:"relative",overflow:"hidden",transition:"all 0.3s",borderLeft:`4px solid ${it?"var(--danger-red)":"var(--success-green)"}`,opacity:X.isCheckpoint?.7:1},onClick:()=>D(X.id),children:[X.isCheckpoint&&S.jsxs("div",{style:{position:"absolute",top:5,right:5,fontSize:"10px",background:"#e2e8f0",padding:"2px 6px",borderRadius:"4px",color:"#64748b"},children:[S.jsx("i",{className:"fa-solid fa-flag-checkered"})," Checkpoint"]}),E===X.id?S.jsxs("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center",width:"100%",height:"100%",animation:"fadeIn 0.2s"},children:[S.jsx("button",{onClick:It=>M(It,X),style:{background:"#3b82f6",color:"white",border:"none",padding:"10px",borderRadius:"50%",width:"40px",height:"40px",cursor:"pointer"},children:S.jsx("i",{className:"fa-solid fa-pen-to-square"})}),S.jsx("button",{onClick:It=>L(It,X),style:{background:"#ef4444",color:"white",border:"none",padding:"10px",borderRadius:"50%",width:"40px",height:"40px",cursor:"pointer"},children:S.jsx("i",{className:"fa-solid fa-trash-can"})}),S.jsx("button",{onClick:R,style:{background:"#9ca3af",color:"white",border:"none",padding:"10px",borderRadius:"50%",width:"40px",height:"40px",cursor:"pointer"},children:S.jsx("i",{className:"fa-solid fa-rotate-left"})})]}):S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"user-info-wrapper",children:[S.jsx("div",{className:"avatar",style:{backgroundColor:ht?"transparent":ct?"#f59e0b":it?"#ef4444":"#2563eb",backgroundImage:ht?`url(${ht})`:"none",backgroundSize:"cover",backgroundPosition:"center",border:"1px solid #e2e8f0",color:ht?"transparent":"white"},children:!ht&&(ct?S.jsx("i",{className:"fa-solid fa-school"}):yt(bt))}),S.jsxs("div",{className:"info",children:[S.jsx("h3",{children:bt}),S.jsx("div",{style:{fontSize:"11px",color:it?"var(--danger-red)":"var(--success-green)",fontWeight:"600",textTransform:"uppercase"},children:ct?"Operational":it?"Expense":"Income"}),!ct&&X.note&&S.jsxs("p",{style:{fontSize:"11px",fontStyle:"italic",color:"#64748b"},children:['"',X.note,'"']})]})]}),S.jsxs("div",{style:{fontWeight:"700",color:it?"var(--danger-red)":"var(--success-green)",fontSize:"15px"},children:[it?"-":"+",P(X.amount)]})]})]},X.id)})})]},$)})}),A&&S.jsx("div",{className:"modal-overlay active",style:{display:"flex"},children:S.jsxs("div",{className:"modal-box",children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("h3",{children:O==="edit"?"Edit Transaction":"Delete Transaction"}),S.jsx("button",{className:"close-modal",onClick:()=>C(!1),children:""})]}),O==="edit"?S.jsxs("form",{onSubmit:N,children:[S.jsxs("div",{className:"modal-body",children:[S.jsxs("p",{style:{marginBottom:"15px",fontWeight:"600"},children:["User: ",U.userName]}),S.jsx("div",{style:{display:"inline-block",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"bold",marginBottom:"15px",backgroundColor:U.type==="expense"?"#fee2e2":"#dcfce7",color:U.type==="expense"?"#991b1b":"#166534"},children:U.type==="expense"?"Substract Income (Expense)":"Add Income"}),S.jsx("label",{style:{display:"block",marginBottom:"5px",fontSize:"13px"},children:"Amount (Dalam Ribuan)"}),S.jsx("input",{type:"number",className:"form-control",style:{marginBottom:"15px"},value:U.amount,onChange:$=>Y({...U,amount:$.target.value}),required:!0}),S.jsx("label",{style:{display:"block",marginBottom:"5px",fontSize:"13px"},children:"Date"}),S.jsx("input",{type:"date",className:"form-control",style:{marginBottom:"15px"},value:U.date,onChange:$=>Y({...U,date:$.target.value}),required:!0}),S.jsx("label",{style:{display:"block",marginBottom:"5px",fontSize:"13px"},children:"Note"}),S.jsx("textarea",{className:"form-control",value:U.note,onChange:$=>Y({...U,note:$.target.value}),style:{marginBottom:"15px"}}),S.jsxs("div",{style:{background:"#f8fafc",padding:"10px",borderRadius:"8px",border:"1px solid #e2e8f0",display:"flex",alignItems:"start",gap:"10px"},children:[S.jsx("input",{type:"checkbox",id:"checkpointCheck",checked:U.isCheckpoint,onChange:$=>Y({...U,isCheckpoint:$.target.checked}),style:{marginTop:"3px",cursor:"pointer"}}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"checkpointCheck",style:{fontSize:"13px",fontWeight:"600",cursor:"pointer"},children:"Jadikan Checkpoint (Saldo Awal)"}),S.jsxs("p",{style:{fontSize:"11px",color:"#64748b",marginTop:"2px"},children:["Nilai ini dihitung sebagai saldo tapi ",S.jsx("b",{children:"TIDAK AKAN"})," muncul di grafik harian."]})]})]})]}),S.jsxs("div",{className:"modal-footer",children:[S.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>C(!1),children:"Cancel"}),S.jsx("button",{type:"submit",className:"btn-save",disabled:z,children:z?"Saving...":"Save Changes"})]})]}):S.jsxs("div",{children:[S.jsxs("div",{className:"modal-body",children:[S.jsxs("p",{children:["Yakin ingin menghapus data ",S.jsx("b",{children:U.type==="expense"?"pengeluaran":"pemasukan"})," dari ",S.jsx("b",{children:U.userName})," sebesar ",S.jsx("b",{children:P(U.amount)}),"?"]}),S.jsx("p",{style:{fontSize:"12px",color:"red",marginTop:"10px"},children:"Tindakan ini tidak dapat dibatalkan."})]}),S.jsxs("div",{className:"modal-footer",children:[S.jsx("button",{className:"btn-cancel",onClick:()=>C(!1),children:"Cancel"}),S.jsx("button",{className:"btn-save",style:{backgroundColor:"var(--danger-red)"},onClick:V,disabled:z,children:z?"Deleting...":"Delete Permanently"})]})]})]})})]})},cz=()=>{const{toggleSidebar:n}=ko(),[t,e]=G.useState([]),[i,r]=G.useState({}),[o,l]=G.useState(!0);G.useEffect(()=>{(async()=>{try{const g=(await Ns(hn(we,"users"))).docs.map(w=>({id:w.id,name:w.data().name,nickname:w.data().nickname,photo:w.data().photo})),v=await Ns(hn(we,"transactions")),E={};v.forEach(w=>{const A=w.data(),C=A.userId,O=parseInt(A.amount)||0;E[C]||(E[C]=0),A.type==="income"?E[C]+=O:A.type==="expense"&&(E[C]-=O)}),e(g),r(E),l(!1)}catch(y){console.error(y),ce.error("Gagal memuat data tabungan."),l(!1)}})()},[]);const u=d=>"Rp "+new Intl.NumberFormat("id-ID").format(d),f=d=>d?d.substring(0,2).toUpperCase():"S";return S.jsxs("div",{style:{width:"100%"},children:[S.jsx("div",{className:"header-section",children:S.jsxs("div",{className:"page-title-wrapper",style:{display:"flex",alignItems:"center"},children:[S.jsx("button",{className:"mobile-toggle-btn",onClick:n,children:S.jsx("i",{className:"fa-solid fa-bars"})}),S.jsxs("div",{className:"page-title",children:[S.jsx("h1",{children:"Student Savings"}),S.jsx("p",{children:"Total saldo tabungan setiap siswa"})]})]})}),S.jsx("div",{className:"user-grid",children:o?S.jsx("p",{style:{color:"var(--text-gray)"},children:"Menghitung saldo..."}):t.length===0?S.jsx("p",{style:{color:"var(--text-gray)"},children:"Belum ada siswa."}):t.map(d=>{const y=i[d.id]||0;return S.jsxs("div",{className:"user-card",style:{alignItems:"center"},children:[S.jsxs("div",{className:"user-info-wrapper",children:[S.jsx("div",{className:"avatar",style:{backgroundColor:d.photo?"transparent":"var(--primary-blue)",backgroundImage:d.photo?`url(${d.photo})`:"none",backgroundSize:"cover",backgroundPosition:"center",border:"1px solid #e2e8f0",color:d.photo?"transparent":"white"},children:!d.photo&&f(d.nickname||d.name)}),S.jsxs("div",{className:"info",children:[S.jsx("h3",{style:{fontSize:"15px"},children:d.name}),S.jsx("p",{style:{fontSize:"12px"},children:"Total Saldo"})]})]}),S.jsx("div",{style:{textAlign:"right"},children:S.jsx("div",{style:{fontSize:"16px",fontWeight:"700",color:y>=0?"var(--primary-blue)":"var(--danger-red)"},children:u(y)})})]},d.id)})})]})},uz=()=>{const{toggleSidebar:n}=ko(),[t,e]=G.useState("income"),[i,r]=G.useState(!1),[o,l]=G.useState(!1),[u,f]=G.useState({amount:"",date:new Date().toISOString().split("T")[0],note:""}),d=E=>{const{name:w,value:A}=E.target;f(C=>({...C,[w]:A}))},y=E=>{if(E.preventDefault(),!u.amount||!u.date||!u.note){ce.error("Mohon lengkapi jumlah, tanggal, dan keterangan.");return}l(!0)},g=async()=>{r(!0);try{await F_(hn(we,"transactions"),{userId:"other",userName:"Other Transaction",amount:parseInt(u.amount)*1e3,date:u.date,note:u.note,type:t,isCheckpoint:!1,createdAt:Gl()}),ce.success("Transaksi umum berhasil disimpan!"),l(!1),f({amount:"",date:new Date().toISOString().split("T")[0],note:""})}catch(E){ce.error("Gagal menyimpan: "+E.message)}finally{r(!1)}},v=E=>E.toLocaleString("id-ID");return S.jsxs("div",{style:{width:"100%"},children:[S.jsx("div",{className:"centered-header",children:S.jsxs("div",{className:"page-title-wrapper",style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[S.jsx("button",{className:"mobile-toggle-btn",onClick:n,children:S.jsx("i",{className:"fa-solid fa-bars"})}),S.jsxs("div",{children:[S.jsx("h1",{children:"Other Transaction"}),S.jsx("p",{children:"Catat pemasukan/pengeluaran operasional sekolah"})]})]})}),S.jsxs("div",{className:"form-card",children:[S.jsxs("div",{className:"toggle-container",children:[S.jsxs("button",{type:"button",className:`toggle-btn ${t==="income"?"active-income":""}`,onClick:()=>e("income"),children:[S.jsx("i",{className:"fa-solid fa-plus"})," Add Income"]}),S.jsxs("button",{type:"button",className:`toggle-btn ${t==="expense"?"active-expense":""}`,onClick:()=>e("expense"),children:[S.jsx("i",{className:"fa-solid fa-minus"})," Add Expense"]})]}),S.jsxs("form",{onSubmit:y,children:[S.jsxs("div",{className:"form-group",children:[S.jsxs("label",{className:"form-label",children:["Amount (Dalam Ribuan) * ",S.jsxs("span",{style:{fontSize:"11px",color:"#64748b",fontWeight:"normal"},children:["Contoh: ",S.jsx("b",{children:"50"})," = Rp 50.000"]})]}),S.jsxs("div",{style:{position:"relative"},children:[S.jsx("input",{type:"number",name:"amount",className:"form-control",placeholder:"0",required:!0,min:"1",value:u.amount,onChange:d}),u.amount&&S.jsxs("div",{style:{position:"absolute",right:"10px",top:"12px",fontSize:"12px",color:"green",fontWeight:"bold"},children:["= Rp ",(parseInt(u.amount)*1e3).toLocaleString("id-ID")]})]})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{className:"form-label",children:"Date *"}),S.jsx("input",{type:"date",name:"date",className:"form-control",required:!0,value:u.date,onChange:d})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{className:"form-label",children:"Description (Wajib) *"}),S.jsx("textarea",{name:"note",className:"form-control",placeholder:"Contoh: Dana BOS, Beli Kapur, Bayar Listrik...",required:!0,value:u.note,onChange:d})]}),S.jsx("button",{type:"submit",className:"btn-submit",style:{backgroundColor:t==="income"?"var(--success-green)":"var(--danger-red)"},children:t==="income"?"Save Income":"Save Expense"})]})]}),o&&S.jsx("div",{className:"popup-overlay",style:{display:"flex"},children:S.jsxs("div",{className:"popup-box",children:[S.jsxs("h3",{children:["Confirm ",t==="income"?"Income":"Expense"]}),S.jsx("p",{style:{marginBottom:"15px",color:"#64748b"},children:"Please review details:"}),S.jsxs("div",{className:"popup-details",style:{background:"#f8fafc",padding:"15px",borderRadius:"8px",fontSize:"13px"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px",borderBottom:"1px solid #e2e8f0",paddingBottom:"10px"},children:[S.jsx("span",{children:"Category:"}),S.jsx("b",{children:"Other / Operasional"})]}),S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[S.jsx("span",{children:"Date:"}),S.jsx("span",{children:u.date})]}),S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[S.jsx("span",{children:"Description:"}),S.jsx("span",{style:{maxWidth:"150px",textAlign:"right",fontStyle:"italic"},children:u.note})]}),S.jsx("div",{style:{borderTop:"1px dashed #cbd5e1",margin:"10px 0"}}),S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"15px",fontWeight:"bold",color:t==="income"?"green":"red"},children:[S.jsx("span",{children:"Total:"}),S.jsxs("span",{children:[t==="income"?"+":"-"," Rp ",v(parseInt(u.amount)*1e3)]})]})]}),S.jsxs("div",{className:"popup-actions",children:[S.jsx("button",{className:"cancel-btn",onClick:()=>l(!1),disabled:i,children:"Cancel"}),S.jsx("button",{className:"confirm-btn",onClick:g,disabled:i,children:i?"Processing...":"Confirm"})]})]})})]})};function hz(){return S.jsx(F2,{children:S.jsxs(v2,{children:[S.jsx(Es,{path:"/",element:S.jsx(NV,{})}),S.jsxs(Es,{element:S.jsx(PV,{}),children:[S.jsx(Es,{path:"/dashboard",element:S.jsx(sz,{})}),S.jsx(Es,{path:"/income",element:S.jsx(rz,{})}),S.jsx(Es,{path:"/daily-income",element:S.jsx(lz,{})}),S.jsx(Es,{path:"/savings",element:S.jsx(cz,{})}),S.jsx(Es,{path:"/users",element:S.jsx(az,{})}),S.jsx(Es,{path:"/absensi",element:S.jsx(oz,{})}),S.jsx(Es,{path:"/other-transaction",element:S.jsx(uz,{})})]})]})})}AI.createRoot(document.getElementById("root")).render(S.jsx(pt.StrictMode,{children:S.jsx(hz,{})}));
