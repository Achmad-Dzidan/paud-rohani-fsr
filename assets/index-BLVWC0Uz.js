(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function Fy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var bg={exports:{}},nu={};var Cx;function yI(){if(Cx)return nu;Cx=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var l=null;if(o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),"key"in r){o={};for(var u in r)u!=="key"&&(o[u]=r[u])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:o}}return nu.Fragment=t,nu.jsx=e,nu.jsxs=e,nu}var Rx;function _I(){return Rx||(Rx=1,bg.exports=yI()),bg.exports}var S=_I(),xg={exports:{}},Nt={};var Ix;function vI(){if(Ix)return Nt;Ix=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function E(U){return U===null||typeof U!="object"?null:(U=v&&U[v]||U["@@iterator"],typeof U=="function"?U:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,R={};function N(U,$,et){this.props=U,this.context=$,this.refs=R,this.updater=et||w}N.prototype.isReactComponent={},N.prototype.setState=function(U,$){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,$,"setState")},N.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function j(){}j.prototype=N.prototype;function z(U,$,et){this.props=U,this.context=$,this.refs=R,this.updater=et||w}var X=z.prototype=new j;X.constructor=z,A(X,N.prototype),X.isPureReactComponent=!0;var B=Array.isArray;function G(){}var D={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function M(U,$,et){var lt=et.ref;return{$$typeof:n,type:U,key:$,ref:lt!==void 0?lt:null,props:et}}function L(U,$){return M(U.type,$,U.props)}function P(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function V(U){var $={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(et){return $[et]})}var O=/\/+/g;function xt(U,$){return typeof U=="object"&&U!==null&&U.key!=null?V(""+U.key):$.toString(36)}function bt(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(G,G):(U.status="pending",U.then(function($){U.status==="pending"&&(U.status="fulfilled",U.value=$)},function($){U.status==="pending"&&(U.status="rejected",U.reason=$)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function W(U,$,et,lt,dt){var gt=typeof U;(gt==="undefined"||gt==="boolean")&&(U=null);var St=!1;if(U===null)St=!0;else switch(gt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(U.$$typeof){case n:case t:St=!0;break;case y:return St=U._init,W(St(U._payload),$,et,lt,dt)}}if(St)return dt=dt(U),St=lt===""?"."+xt(U,0):lt,B(dt)?(et="",St!=null&&(et=St.replace(O,"$&/")+"/"),W(dt,$,et,"",function(Ue){return Ue})):dt!=null&&(P(dt)&&(dt=L(dt,et+(dt.key==null||U&&U.key===dt.key?"":(""+dt.key).replace(O,"$&/")+"/")+St)),$.push(dt)),1;St=0;var It=lt===""?".":lt+":";if(B(U))for(var Lt=0;Lt<U.length;Lt++)lt=U[Lt],gt=It+xt(lt,Lt),St+=W(lt,$,et,gt,dt);else if(Lt=E(U),typeof Lt=="function")for(U=Lt.call(U),Lt=0;!(lt=U.next()).done;)lt=lt.value,gt=It+xt(lt,Lt++),St+=W(lt,$,et,gt,dt);else if(gt==="object"){if(typeof U.then=="function")return W(bt(U),$,et,lt,dt);throw $=String(U),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return St}function K(U,$,et){if(U==null)return U;var lt=[],dt=0;return W(U,lt,"","",function(gt){return $.call(et,gt,dt++)}),lt}function ut(U){if(U._status===-1){var $=U._result;$=$(),$.then(function(et){(U._status===0||U._status===-1)&&(U._status=1,U._result=et)},function(et){(U._status===0||U._status===-1)&&(U._status=2,U._result=et)}),U._status===-1&&(U._status=0,U._result=$)}if(U._status===1)return U._result.default;throw U._result}var mt=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},ct={map:K,forEach:function(U,$,et){K(U,function(){$.apply(this,arguments)},et)},count:function(U){var $=0;return K(U,function(){$++}),$},toArray:function(U){return K(U,function($){return $})||[]},only:function(U){if(!P(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Nt.Activity=g,Nt.Children=ct,Nt.Component=N,Nt.Fragment=e,Nt.Profiler=r,Nt.PureComponent=z,Nt.StrictMode=i,Nt.Suspense=d,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return D.H.useMemoCache(U)}},Nt.cache=function(U){return function(){return U.apply(null,arguments)}},Nt.cacheSignal=function(){return null},Nt.cloneElement=function(U,$,et){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var lt=A({},U.props),dt=U.key;if($!=null)for(gt in $.key!==void 0&&(dt=""+$.key),$)!C.call($,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&$.ref===void 0||(lt[gt]=$[gt]);var gt=arguments.length-2;if(gt===1)lt.children=et;else if(1<gt){for(var St=Array(gt),It=0;It<gt;It++)St[It]=arguments[It+2];lt.children=St}return M(U.type,dt,lt)},Nt.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:o,_context:U},U},Nt.createElement=function(U,$,et){var lt,dt={},gt=null;if($!=null)for(lt in $.key!==void 0&&(gt=""+$.key),$)C.call($,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(dt[lt]=$[lt]);var St=arguments.length-2;if(St===1)dt.children=et;else if(1<St){for(var It=Array(St),Lt=0;Lt<St;Lt++)It[Lt]=arguments[Lt+2];dt.children=It}if(U&&U.defaultProps)for(lt in St=U.defaultProps,St)dt[lt]===void 0&&(dt[lt]=St[lt]);return M(U,gt,dt)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(U){return{$$typeof:u,render:U}},Nt.isValidElement=P,Nt.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:ut}},Nt.memo=function(U,$){return{$$typeof:f,type:U,compare:$===void 0?null:$}},Nt.startTransition=function(U){var $=D.T,et={};D.T=et;try{var lt=U(),dt=D.S;dt!==null&&dt(et,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(G,mt)}catch(gt){mt(gt)}finally{$!==null&&et.types!==null&&($.types=et.types),D.T=$}},Nt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Nt.use=function(U){return D.H.use(U)},Nt.useActionState=function(U,$,et){return D.H.useActionState(U,$,et)},Nt.useCallback=function(U,$){return D.H.useCallback(U,$)},Nt.useContext=function(U){return D.H.useContext(U)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(U,$){return D.H.useDeferredValue(U,$)},Nt.useEffect=function(U,$){return D.H.useEffect(U,$)},Nt.useEffectEvent=function(U){return D.H.useEffectEvent(U)},Nt.useId=function(){return D.H.useId()},Nt.useImperativeHandle=function(U,$,et){return D.H.useImperativeHandle(U,$,et)},Nt.useInsertionEffect=function(U,$){return D.H.useInsertionEffect(U,$)},Nt.useLayoutEffect=function(U,$){return D.H.useLayoutEffect(U,$)},Nt.useMemo=function(U,$){return D.H.useMemo(U,$)},Nt.useOptimistic=function(U,$){return D.H.useOptimistic(U,$)},Nt.useReducer=function(U,$,et){return D.H.useReducer(U,$,et)},Nt.useRef=function(U){return D.H.useRef(U)},Nt.useState=function(U){return D.H.useState(U)},Nt.useSyncExternalStore=function(U,$,et){return D.H.useSyncExternalStore(U,$,et)},Nt.useTransition=function(){return D.H.useTransition()},Nt.version="19.2.0",Nt}var Dx;function Hy(){return Dx||(Dx=1,xg.exports=vI()),xg.exports}var q=Hy();const pt=Fy(q);var Eg={exports:{}},iu={},Sg={exports:{}},Tg={};var Mx;function bI(){return Mx||(Mx=1,(function(n){function t(W,K){var ut=W.length;W.push(K);t:for(;0<ut;){var mt=ut-1>>>1,ct=W[mt];if(0<r(ct,K))W[mt]=K,W[ut]=ct,ut=mt;else break t}}function e(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var K=W[0],ut=W.pop();if(ut!==K){W[0]=ut;t:for(var mt=0,ct=W.length,U=ct>>>1;mt<U;){var $=2*(mt+1)-1,et=W[$],lt=$+1,dt=W[lt];if(0>r(et,ut))lt<ct&&0>r(dt,et)?(W[mt]=dt,W[lt]=ut,mt=lt):(W[mt]=et,W[$]=ut,mt=$);else if(lt<ct&&0>r(dt,ut))W[mt]=dt,W[lt]=ut,mt=lt;else break t}}return K}function r(W,K){var ut=W.sortIndex-K.sortIndex;return ut!==0?ut:W.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],f=[],y=1,g=null,v=3,E=!1,w=!1,A=!1,R=!1,N=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function X(W){for(var K=e(f);K!==null;){if(K.callback===null)i(f);else if(K.startTime<=W)i(f),K.sortIndex=K.expirationTime,t(d,K);else break;K=e(f)}}function B(W){if(A=!1,X(W),!w)if(e(d)!==null)w=!0,G||(G=!0,V());else{var K=e(f);K!==null&&bt(B,K.startTime-W)}}var G=!1,D=-1,C=5,M=-1;function L(){return R?!0:!(n.unstable_now()-M<C)}function P(){if(R=!1,G){var W=n.unstable_now();M=W;var K=!0;try{t:{w=!1,A&&(A=!1,j(D),D=-1),E=!0;var ut=v;try{e:{for(X(W),g=e(d);g!==null&&!(g.expirationTime>W&&L());){var mt=g.callback;if(typeof mt=="function"){g.callback=null,v=g.priorityLevel;var ct=mt(g.expirationTime<=W);if(W=n.unstable_now(),typeof ct=="function"){g.callback=ct,X(W),K=!0;break e}g===e(d)&&i(d),X(W)}else i(d);g=e(d)}if(g!==null)K=!0;else{var U=e(f);U!==null&&bt(B,U.startTime-W),K=!1}}break t}finally{g=null,v=ut,E=!1}K=void 0}}finally{K?V():G=!1}}}var V;if(typeof z=="function")V=function(){z(P)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,xt=O.port2;O.port1.onmessage=P,V=function(){xt.postMessage(null)}}else V=function(){N(P,0)};function bt(W,K){D=N(function(){W(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(W){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var ut=v;v=K;try{return W()}finally{v=ut}},n.unstable_requestPaint=function(){R=!0},n.unstable_runWithPriority=function(W,K){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ut=v;v=W;try{return K()}finally{v=ut}},n.unstable_scheduleCallback=function(W,K,ut){var mt=n.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?mt+ut:mt):ut=mt,W){case 1:var ct=-1;break;case 2:ct=250;break;case 5:ct=1073741823;break;case 4:ct=1e4;break;default:ct=5e3}return ct=ut+ct,W={id:y++,callback:K,priorityLevel:W,startTime:ut,expirationTime:ct,sortIndex:-1},ut>mt?(W.sortIndex=ut,t(f,W),e(d)===null&&W===e(f)&&(A?(j(D),D=-1):A=!0,bt(B,ut-mt))):(W.sortIndex=ct,t(d,W),w||E||(w=!0,G||(G=!0,V()))),W},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(W){var K=v;return function(){var ut=v;v=K;try{return W.apply(this,arguments)}finally{v=ut}}}})(Tg)),Tg}var kx;function xI(){return kx||(kx=1,Sg.exports=bI()),Sg.exports}var wg={exports:{}},Dn={};var Nx;function EI(){if(Nx)return Dn;Nx=1;var n=Hy();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,f,y){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:d,containerInfo:f,implementation:y}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Dn.createPortal=function(d,f){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(d,f,null,y)},Dn.flushSync=function(d){var f=l.T,y=i.p;try{if(l.T=null,i.p=2,d)return d()}finally{l.T=f,i.p=y,i.d.f()}},Dn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(d,f))},Dn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Dn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var y=f.as,g=u(y,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,E=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;y==="style"?i.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:E}):y==="script"&&i.d.X(d,{crossOrigin:g,integrity:v,fetchPriority:E,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Dn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var y=u(f.as,f.crossOrigin);i.d.M(d,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(d)},Dn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var y=f.as,g=u(y,f.crossOrigin);i.d.L(d,y,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Dn.preloadModule=function(d,f){if(typeof d=="string")if(f){var y=u(f.as,f.crossOrigin);i.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(d)},Dn.requestFormReset=function(d){i.d.r(d)},Dn.unstable_batchedUpdates=function(d,f){return d(f)},Dn.useFormState=function(d,f,y){return l.H.useFormState(d,f,y)},Dn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Dn.version="19.2.0",Dn}var Ox;function WT(){if(Ox)return wg.exports;Ox=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),wg.exports=EI(),wg.exports}var Px;function SI(){if(Px)return iu;Px=1;var n=xI(),t=Hy(),e=WT();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function l(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function u(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(i(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var c=s,h=a;;){var m=c.return;if(m===null)break;var _=m.alternate;if(_===null){if(h=m.return,h!==null){c=h;continue}break}if(m.child===_.child){for(_=m.child;_;){if(_===c)return d(m),s;if(_===h)return d(m),a;_=_.sibling}throw Error(i(188))}if(c.return!==h.return)c=m,h=_;else{for(var x=!1,I=m.child;I;){if(I===c){x=!0,c=m,h=_;break}if(I===h){x=!0,h=m,c=_;break}I=I.sibling}if(!x){for(I=_.child;I;){if(I===c){x=!0,c=_,h=m;break}if(I===h){x=!0,h=_,c=m;break}I=I.sibling}if(!x)throw Error(i(189))}}if(c.alternate!==h)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?s:a}function y(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=y(s),a!==null)return a;s=s.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),z=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function V(s){return s===null||typeof s!="object"?null:(s=P&&s[P]||s["@@iterator"],typeof s=="function"?s:null)}var O=Symbol.for("react.client.reference");function xt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===O?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case N:return"Profiler";case R:return"StrictMode";case B:return"Suspense";case G:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case z:return s.displayName||"Context";case j:return(s._context.displayName||"Context")+".Consumer";case X:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case D:return a=s.displayName||null,a!==null?a:xt(s.type)||"Memo";case C:a=s._payload,s=s._init;try{return xt(s(a))}catch{}}return null}var bt=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},mt=[],ct=-1;function U(s){return{current:s}}function $(s){0>ct||(s.current=mt[ct],mt[ct]=null,ct--)}function et(s,a){ct++,mt[ct]=s.current,s.current=a}var lt=U(null),dt=U(null),gt=U(null),St=U(null);function It(s,a){switch(et(gt,a),et(dt,s),et(lt,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?X0(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=X0(a),s=Q0(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}$(lt),et(lt,s)}function Lt(){$(lt),$(dt),$(gt)}function Ue(s){s.memoizedState!==null&&et(St,s);var a=lt.current,c=Q0(a,s.type);a!==c&&(et(dt,s),et(lt,c))}function an(s){dt.current===s&&($(lt),$(dt)),St.current===s&&($(St),Jc._currentValue=ut)}var on,si;function Rn(s){if(on===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);on=a&&a[1]||"",si=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+on+s+si}var zs=!1;function ri(s,a){if(!s||zs)return"";zs=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var ot=function(){throw Error()};if(Object.defineProperty(ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ot,[])}catch(it){var tt=it}Reflect.construct(s,[],ot)}else{try{ot.call()}catch(it){tt=it}s.call(ot.prototype)}}else{try{throw Error()}catch(it){tt=it}(ot=s())&&typeof ot.catch=="function"&&ot.catch(function(){})}}catch(it){if(it&&tt&&typeof it.stack=="string")return[it.stack,tt.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),x=_[0],I=_[1];if(x&&I){var F=x.split(`
`),Z=I.split(`
`);for(m=h=0;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;for(;m<Z.length&&!Z[m].includes("DetermineComponentFrameRoot");)m++;if(h===F.length||m===Z.length)for(h=F.length-1,m=Z.length-1;1<=h&&0<=m&&F[h]!==Z[m];)m--;for(;1<=h&&0<=m;h--,m--)if(F[h]!==Z[m]){if(h!==1||m!==1)do if(h--,m--,0>m||F[h]!==Z[m]){var st=`
`+F[h].replace(" at new "," at ");return s.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",s.displayName)),st}while(1<=h&&0<=m);break}}}finally{zs=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?Rn(c):""}function Hn(s,a){switch(s.tag){case 26:case 27:case 5:return Rn(s.type);case 16:return Rn("Lazy");case 13:return s.child!==a&&a!==null?Rn("Suspense Fallback"):Rn("Suspense");case 19:return Rn("SuspenseList");case 0:case 15:return ri(s.type,!1);case 11:return ri(s.type.render,!1);case 1:return ri(s.type,!0);case 31:return Rn("Activity");default:return""}}function Ze(s){try{var a="",c=null;do a+=Hn(s,c),c=s,s=s.return;while(s);return a}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var At=Object.prototype.hasOwnProperty,te=n.unstable_scheduleCallback,mn=n.unstable_cancelCallback,Ee=n.unstable_shouldYield,qn=n.unstable_requestPaint,gn=n.unstable_now,Us=n.unstable_getCurrentPriorityLevel,ns=n.unstable_ImmediatePriority,La=n.unstable_UserBlockingPriority,ji=n.unstable_NormalPriority,Va=n.unstable_LowPriority,zi=n.unstable_IdlePriority,ja=n.log,Ui=n.unstable_setDisableYieldValue,ai=null,tn=null;function zn(s){if(typeof ja=="function"&&Ui(s),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(ai,s)}catch{}}var Se=Math.clz32?Math.clz32:oi,Vo=Math.log,is=Math.LN2;function oi(s){return s>>>=0,s===0?32:31-(Vo(s)/is|0)|0}var bi=256,Bs=262144,Ie=4194304;function li(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ct(s,a,c){var h=s.pendingLanes;if(h===0)return 0;var m=0,_=s.suspendedLanes,x=s.pingedLanes;s=s.warmLanes;var I=h&134217727;return I!==0?(h=I&~_,h!==0?m=li(h):(x&=I,x!==0?m=li(x):c||(c=I&~s,c!==0&&(m=li(c))))):(I=h&~_,I!==0?m=li(I):x!==0?m=li(x):c||(c=h&~s,c!==0&&(m=li(c)))),m===0?0:a!==0&&a!==m&&(a&_)===0&&(_=m&-m,c=a&-a,_>=c||_===32&&(c&4194048)!==0)?a:m}function ie(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Be(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ln(){var s=Ie;return Ie<<=1,(Ie&62914560)===0&&(Ie=4194304),s}function Un(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function ye(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function In(s,a,c,h,m,_){var x=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var I=s.entanglements,F=s.expirationTimes,Z=s.hiddenUpdates;for(c=x&~c;0<c;){var st=31-Se(c),ot=1<<st;I[st]=0,F[st]=-1;var tt=Z[st];if(tt!==null)for(Z[st]=null,st=0;st<tt.length;st++){var it=tt[st];it!==null&&(it.lane&=-536870913)}c&=~ot}h!==0&&xi(s,h,0),_!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=_&~(x&~a))}function xi(s,a,c){s.pendingLanes|=a,s.suspendedLanes&=~a;var h=31-Se(a);s.entangledLanes|=a,s.entanglements[h]=s.entanglements[h]|1073741824|c&261930}function yn(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var h=31-Se(c),m=1<<h;m&a|s[h]&a&&(s[h]|=a),c&=~m}}function _n(s,a){var c=a&-a;return c=(c&42)!==0?1:ss(c),(c&(s.suspendedLanes|a))!==0?0:c}function ss(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function vn(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function sc(){var s=K.p;return s!==0?s:(s=window.event,s===void 0?32:bx(s.type))}function Bi(s,a){var c=K.p;try{return K.p=s,a()}finally{K.p=c}}var Fi=Math.random().toString(36).slice(2),Fe="__reactFiber$"+Fi,cn="__reactProps$"+Fi,rs="__reactContainer$"+Fi,jo="__reactEvents$"+Fi,Ap="__reactListeners$"+Fi,ph="__reactHandles$"+Fi,mh="__reactResources$"+Fi,as="__reactMarker$"+Fi;function zo(s){delete s[Fe],delete s[cn],delete s[jo],delete s[Ap],delete s[ph]}function os(s){var a=s[Fe];if(a)return a;for(var c=s.parentNode;c;){if(a=c[rs]||c[Fe]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=sx(s);s!==null;){if(c=s[Fe])return c;s=sx(s)}return a}s=c,c=s.parentNode}return null}function Ei(s){if(s=s[Fe]||s[rs]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function ci(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function ls(s){var a=s[mh];return a||(a=s[mh]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function He(s){s[as]=!0}var rc=new Set,ac={};function cs(s,a){us(s,a),us(s+"Capture",a)}function us(s,a){for(ac[s]=a,s=0;s<a.length;s++)rc.add(a[s])}var oc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lc={},cc={};function gh(s){return At.call(cc,s)?!0:At.call(lc,s)?!1:oc.test(s)?cc[s]=!0:(lc[s]=!0,!1)}function Uo(s,a,c){if(gh(a))if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+c)}}function ui(s,a,c){if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+c)}}function qe(s,a,c,h){if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(a,c,""+h)}}function un(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function wr(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function uc(s,a,c){var h=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var m=h.get,_=h.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(x){c=""+x,_.call(this,x)}}),Object.defineProperty(s,a,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(x){c=""+x},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function re(s){if(!s._valueTracker){var a=wr(s)?"checked":"value";s._valueTracker=uc(s,a,""+s[a])}}function za(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return s&&(h=wr(s)?s.checked?"true":"false":s.value),s=h,s!==c?(a.setValue(s),!0):!1}function hs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Ua=/[\n"\\]/g;function Gn(s){return s.replace(Ua,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Bo(s,a,c,h,m,_,x,I){s.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.type=x:s.removeAttribute("type"),a!=null?x==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+un(a)):s.value!==""+un(a)&&(s.value=""+un(a)):x!=="submit"&&x!=="reset"||s.removeAttribute("value"),a!=null?hc(s,x,un(a)):c!=null?hc(s,x,un(c)):h!=null&&s.removeAttribute("value"),m==null&&_!=null&&(s.defaultChecked=!!_),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.name=""+un(I):s.removeAttribute("name")}function yh(s,a,c,h,m,_,x,I){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.type=_),a!=null||c!=null){if(!(_!=="submit"&&_!=="reset"||a!=null)){re(s);return}c=c!=null?""+un(c):"",a=a!=null?""+un(a):c,I||a===s.value||(s.value=a),s.defaultValue=a}h=h??m,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=I?s.checked:!!h,s.defaultChecked=!!h,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.name=x),re(s)}function hc(s,a,c){a==="number"&&hs(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Ar(s,a,c,h){if(s=s.options,a){a={};for(var m=0;m<c.length;m++)a["$"+c[m]]=!0;for(c=0;c<s.length;c++)m=a.hasOwnProperty("$"+s[c].value),s[c].selected!==m&&(s[c].selected=m),m&&h&&(s[c].defaultSelected=!0)}else{for(c=""+un(c),a=null,m=0;m<s.length;m++){if(s[m].value===c){s[m].selected=!0,h&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function _h(s,a,c){if(a!=null&&(a=""+un(a),a!==s.value&&(s.value=a),c==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=c!=null?""+un(c):""}function Cr(s,a,c,h){if(a==null){if(h!=null){if(c!=null)throw Error(i(92));if(bt(h)){if(1<h.length)throw Error(i(93));h=h[0]}c=h}c==null&&(c=""),a=c}c=un(a),s.defaultValue=c,h=s.textContent,h===c&&h!==""&&h!==null&&(s.value=h),re(s)}function Wn(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var vh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dc(s,a,c){var h=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":h?s.setProperty(a,c):typeof c!="number"||c===0||vh.has(a)?a==="float"?s.cssFloat=c:s[a]=(""+c).trim():s[a]=c+"px"}function fc(s,a,c){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var m in a)h=a[m],a.hasOwnProperty(m)&&c[m]!==h&&dc(s,m,h)}else for(var _ in a)a.hasOwnProperty(_)&&dc(s,_,a[_])}function Fo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ho(s){return Rr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Hi(){}var pc=null;function Si(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ir=null,ds=null;function Ba(s){var a=Ei(s);if(a&&(s=a.stateNode)){var c=s[cn]||null;t:switch(s=a.stateNode,a.type){case"input":if(Bo(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Gn(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==s&&h.form===s.form){var m=h[cn]||null;if(!m)throw Error(i(90));Bo(h,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<c.length;a++)h=c[a],h.form===s.form&&za(h)}break t;case"textarea":_h(s,c.value,c.defaultValue);break t;case"select":a=c.value,a!=null&&Ar(s,!!c.multiple,a,!1)}}}var qo=!1;function Dr(s,a,c){if(qo)return s(a,c);qo=!0;try{var h=s(a);return h}finally{if(qo=!1,(Ir!==null||ds!==null)&&(fd(),Ir&&(a=Ir,s=ds,ds=Ir=null,Ba(a),s)))for(a=0;a<s.length;a++)Ba(s[a])}}function qi(s,a){var c=s.stateNode;if(c===null)return null;var h=c[cn]||null;if(h===null)return null;c=h[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break t;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(i(231,a,typeof c));return c}var Ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fa=!1;if(Ti)try{var ue={};Object.defineProperty(ue,"passive",{get:function(){Fa=!0}}),window.addEventListener("test",ue,ue),window.removeEventListener("test",ue,ue)}catch{Fa=!1}var fs=null,mc=null,Ha=null;function gc(){if(Ha)return Ha;var s,a=mc,c=a.length,h,m="value"in fs?fs.value:fs.textContent,_=m.length;for(s=0;s<c&&a[s]===m[s];s++);var x=c-s;for(h=1;h<=x&&a[c-h]===m[_-h];h++);return Ha=m.slice(s,1<h?1-h:void 0)}function qa(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Fs(){return!0}function Gi(){return!1}function bn(s){function a(c,h,m,_,x){this._reactName=c,this._targetInst=m,this.type=h,this.nativeEvent=_,this.target=x,this.currentTarget=null;for(var I in s)s.hasOwnProperty(I)&&(c=s[I],this[I]=c?c(_):_[I]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Fs:Gi,this.isPropagationStopped=Gi,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Fs)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Fs)},persist:function(){},isPersistent:Fs}),a}var Hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ps=bn(Hs),Mr=g({},Hs,{view:0,detail:0}),yc=bn(Mr),kr,Go,ms,Wo=g({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ms&&(ms&&s.type==="mousemove"?(kr=s.screenX-ms.screenX,Go=s.screenY-ms.screenY):Go=kr=0,ms=s),kr)},movementY:function(s){return"movementY"in s?s.movementY:Go}}),_c=bn(Wo),Ga=g({},Wo,{dataTransfer:0}),xh=bn(Ga),Eh=g({},Mr,{relatedTarget:0}),Wa=bn(Eh),vc=g({},Hs,{animationName:0,elapsedTime:0,pseudoElement:0}),Sh=bn(vc),Yo=g({},Hs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Th=bn(Yo),wh=g({},Hs,{data:0}),gs=bn(wh),Ah={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ch={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ih(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Rh[s])?!!a[s]:!1}function Nr(){return Ih}var Bn=g({},Mr,{key:function(s){if(s.key){var a=Ah[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=qa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ch[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nr,charCode:function(s){return s.type==="keypress"?qa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?qa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Dh=bn(Bn),Mh=g({},Wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qs=bn(Mh),p=g({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nr}),b=bn(p),T=g({},Hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=bn(T),Q=g({},Wo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),nt=bn(Q),ft=g({},Hs,{newState:0,oldState:0}),Vt=bn(ft),Pe=[9,13,27,32],ee=Ti&&"CompositionEvent"in window,Te=null;Ti&&"documentMode"in document&&(Te=document.documentMode);var wi=Ti&&"TextEvent"in window&&!Te,ys=Ti&&(!ee||Te&&8<Te&&11>=Te),Wi=" ",Yi=!1;function Ya(s,a){switch(s){case"keyup":return Pe.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $o(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ko=!1;function BC(s,a){switch(s){case"compositionend":return $o(a);case"keypress":return a.which!==32?null:(Yi=!0,Wi);case"textInput":return s=a.data,s===Wi&&Yi?null:s;default:return null}}function FC(s,a){if(Ko)return s==="compositionend"||!ee&&Ya(s,a)?(s=gc(),Ha=mc=fs=null,Ko=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ys&&a.locale!=="ko"?null:a.data;default:return null}}var HC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ov(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!HC[s.type]:a==="textarea"}function lv(s,a,c,h){Ir?ds?ds.push(h):ds=[h]:Ir=h,a=bd(a,"onChange"),0<a.length&&(c=new ps("onChange","change",null,c,h),s.push({event:c,listeners:a}))}var bc=null,xc=null;function qC(s){q0(s,0)}function kh(s){var a=ci(s);if(za(a))return s}function cv(s,a){if(s==="change")return a}var uv=!1;if(Ti){var Cp;if(Ti){var Rp="oninput"in document;if(!Rp){var hv=document.createElement("div");hv.setAttribute("oninput","return;"),Rp=typeof hv.oninput=="function"}Cp=Rp}else Cp=!1;uv=Cp&&(!document.documentMode||9<document.documentMode)}function dv(){bc&&(bc.detachEvent("onpropertychange",fv),xc=bc=null)}function fv(s){if(s.propertyName==="value"&&kh(xc)){var a=[];lv(a,xc,s,Si(s)),Dr(qC,a)}}function GC(s,a,c){s==="focusin"?(dv(),bc=a,xc=c,bc.attachEvent("onpropertychange",fv)):s==="focusout"&&dv()}function WC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return kh(xc)}function YC(s,a){if(s==="click")return kh(a)}function $C(s,a){if(s==="input"||s==="change")return kh(a)}function KC(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var hi=typeof Object.is=="function"?Object.is:KC;function Ec(s,a){if(hi(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var m=c[h];if(!At.call(a,m)||!hi(s[m],a[m]))return!1}return!0}function pv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function mv(s,a){var c=pv(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=a&&h>=a)return{node:c,offset:a-s};s=h}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=pv(c)}}function gv(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?gv(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function yv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=hs(s.document);a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=hs(s.document)}return a}function Ip(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var XC=Ti&&"documentMode"in document&&11>=document.documentMode,Xo=null,Dp=null,Sc=null,Mp=!1;function _v(s,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Mp||Xo==null||Xo!==hs(h)||(h=Xo,"selectionStart"in h&&Ip(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Sc&&Ec(Sc,h)||(Sc=h,h=bd(Dp,"onSelect"),0<h.length&&(a=new ps("onSelect","select",null,a,c),s.push({event:a,listeners:h}),a.target=Xo)))}function $a(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Qo={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionrun:$a("Transition","TransitionRun"),transitionstart:$a("Transition","TransitionStart"),transitioncancel:$a("Transition","TransitionCancel"),transitionend:$a("Transition","TransitionEnd")},kp={},vv={};Ti&&(vv=document.createElement("div").style,"AnimationEvent"in window||(delete Qo.animationend.animation,delete Qo.animationiteration.animation,delete Qo.animationstart.animation),"TransitionEvent"in window||delete Qo.transitionend.transition);function Ka(s){if(kp[s])return kp[s];if(!Qo[s])return s;var a=Qo[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in vv)return kp[s]=a[c];return s}var bv=Ka("animationend"),xv=Ka("animationiteration"),Ev=Ka("animationstart"),QC=Ka("transitionrun"),JC=Ka("transitionstart"),ZC=Ka("transitioncancel"),Sv=Ka("transitionend"),Tv=new Map,Np="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Np.push("scrollEnd");function $i(s,a){Tv.set(s,a),cs(a,[s])}var Nh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Ai=[],Jo=0,Op=0;function Oh(){for(var s=Jo,a=Op=Jo=0;a<s;){var c=Ai[a];Ai[a++]=null;var h=Ai[a];Ai[a++]=null;var m=Ai[a];Ai[a++]=null;var _=Ai[a];if(Ai[a++]=null,h!==null&&m!==null){var x=h.pending;x===null?m.next=m:(m.next=x.next,x.next=m),h.pending=m}_!==0&&wv(c,m,_)}}function Ph(s,a,c,h){Ai[Jo++]=s,Ai[Jo++]=a,Ai[Jo++]=c,Ai[Jo++]=h,Op|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function Pp(s,a,c,h){return Ph(s,a,c,h),Lh(s)}function Xa(s,a){return Ph(s,null,null,a),Lh(s)}function wv(s,a,c){s.lanes|=c;var h=s.alternate;h!==null&&(h.lanes|=c);for(var m=!1,_=s.return;_!==null;)_.childLanes|=c,h=_.alternate,h!==null&&(h.childLanes|=c),_.tag===22&&(s=_.stateNode,s===null||s._visibility&1||(m=!0)),s=_,_=_.return;return s.tag===3?(_=s.stateNode,m&&a!==null&&(m=31-Se(c),s=_.hiddenUpdates,h=s[m],h===null?s[m]=[a]:h.push(a),a.lane=c|536870912),_):null}function Lh(s){if(50<Gc)throw Gc=0,qm=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Zo={};function tR(s,a,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function di(s,a,c,h){return new tR(s,a,c,h)}function Lp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Gs(s,a){var c=s.alternate;return c===null?(c=di(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function Av(s,a){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,a=c.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Vh(s,a,c,h,m,_){var x=0;if(h=s,typeof s=="function")Lp(s)&&(x=1);else if(typeof s=="string")x=rI(s,c,lt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case M:return s=di(31,c,a,m),s.elementType=M,s.lanes=_,s;case A:return Qa(c.children,m,_,a);case R:x=8,m|=24;break;case N:return s=di(12,c,a,m|2),s.elementType=N,s.lanes=_,s;case B:return s=di(13,c,a,m),s.elementType=B,s.lanes=_,s;case G:return s=di(19,c,a,m),s.elementType=G,s.lanes=_,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case z:x=10;break t;case j:x=9;break t;case X:x=11;break t;case D:x=14;break t;case C:x=16,h=null;break t}x=29,c=Error(i(130,s===null?"null":typeof s,"")),h=null}return a=di(x,c,a,m),a.elementType=s,a.type=h,a.lanes=_,a}function Qa(s,a,c,h){return s=di(7,s,h,a),s.lanes=c,s}function Vp(s,a,c){return s=di(6,s,null,a),s.lanes=c,s}function Cv(s){var a=di(18,null,null,0);return a.stateNode=s,a}function jp(s,a,c){return a=di(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Rv=new WeakMap;function Ci(s,a){if(typeof s=="object"&&s!==null){var c=Rv.get(s);return c!==void 0?c:(a={value:s,source:a,stack:Ze(a)},Rv.set(s,a),a)}return{value:s,source:a,stack:Ze(a)}}var tl=[],el=0,jh=null,Tc=0,Ri=[],Ii=0,Or=null,_s=1,vs="";function Ws(s,a){tl[el++]=Tc,tl[el++]=jh,jh=s,Tc=a}function Iv(s,a,c){Ri[Ii++]=_s,Ri[Ii++]=vs,Ri[Ii++]=Or,Or=s;var h=_s;s=vs;var m=32-Se(h)-1;h&=~(1<<m),c+=1;var _=32-Se(a)+m;if(30<_){var x=m-m%5;_=(h&(1<<x)-1).toString(32),h>>=x,m-=x,_s=1<<32-Se(a)+m|c<<m|h,vs=_+s}else _s=1<<_|c<<m|h,vs=s}function zp(s){s.return!==null&&(Ws(s,1),Iv(s,1,0))}function Up(s){for(;s===jh;)jh=tl[--el],tl[el]=null,Tc=tl[--el],tl[el]=null;for(;s===Or;)Or=Ri[--Ii],Ri[Ii]=null,vs=Ri[--Ii],Ri[Ii]=null,_s=Ri[--Ii],Ri[Ii]=null}function Dv(s,a){Ri[Ii++]=_s,Ri[Ii++]=vs,Ri[Ii++]=Or,_s=a.id,vs=a.overflow,Or=s}var xn=null,_e=null,Kt=!1,Pr=null,Di=!1,Bp=Error(i(519));function Lr(s){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wc(Ci(a,s)),Bp}function Mv(s){var a=s.stateNode,c=s.type,h=s.memoizedProps;switch(a[Fe]=s,a[cn]=h,c){case"dialog":Bt("cancel",a),Bt("close",a);break;case"iframe":case"object":case"embed":Bt("load",a);break;case"video":case"audio":for(c=0;c<Yc.length;c++)Bt(Yc[c],a);break;case"source":Bt("error",a);break;case"img":case"image":case"link":Bt("error",a),Bt("load",a);break;case"details":Bt("toggle",a);break;case"input":Bt("invalid",a),yh(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Bt("invalid",a);break;case"textarea":Bt("invalid",a),Cr(a,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||h.suppressHydrationWarning===!0||$0(a.textContent,c)?(h.popover!=null&&(Bt("beforetoggle",a),Bt("toggle",a)),h.onScroll!=null&&Bt("scroll",a),h.onScrollEnd!=null&&Bt("scrollend",a),h.onClick!=null&&(a.onclick=Hi),a=!0):a=!1,a||Lr(s,!0)}function kv(s){for(xn=s.return;xn;)switch(xn.tag){case 5:case 31:case 13:Di=!1;return;case 27:case 3:Di=!0;return;default:xn=xn.return}}function nl(s){if(s!==xn)return!1;if(!Kt)return kv(s),Kt=!0,!1;var a=s.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||rg(s.type,s.memoizedProps)),c=!c),c&&_e&&Lr(s),kv(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));_e=ix(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));_e=ix(s)}else a===27?(a=_e,Xr(s.type)?(s=ug,ug=null,_e=s):_e=a):_e=xn?ki(s.stateNode.nextSibling):null;return!0}function Ja(){_e=xn=null,Kt=!1}function Fp(){var s=Pr;return s!==null&&(Xn===null?Xn=s:Xn.push.apply(Xn,s),Pr=null),s}function wc(s){Pr===null?Pr=[s]:Pr.push(s)}var Hp=U(null),Za=null,Ys=null;function Vr(s,a,c){et(Hp,a._currentValue),a._currentValue=c}function $s(s){s._currentValue=Hp.current,$(Hp)}function qp(s,a,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===c)break;s=s.return}}function Gp(s,a,c,h){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var _=m.dependencies;if(_!==null){var x=m.child;_=_.firstContext;t:for(;_!==null;){var I=_;_=m;for(var F=0;F<a.length;F++)if(I.context===a[F]){_.lanes|=c,I=_.alternate,I!==null&&(I.lanes|=c),qp(_.return,c,s),h||(x=null);break t}_=I.next}}else if(m.tag===18){if(x=m.return,x===null)throw Error(i(341));x.lanes|=c,_=x.alternate,_!==null&&(_.lanes|=c),qp(x,c,s),x=null}else x=m.child;if(x!==null)x.return=m;else for(x=m;x!==null;){if(x===s){x=null;break}if(m=x.sibling,m!==null){m.return=x.return,x=m;break}x=x.return}m=x}}function il(s,a,c,h){s=null;for(var m=a,_=!1;m!==null;){if(!_){if((m.flags&524288)!==0)_=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var x=m.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var I=m.type;hi(m.pendingProps.value,x.value)||(s!==null?s.push(I):s=[I])}}else if(m===St.current){if(x=m.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(Jc):s=[Jc])}m=m.return}s!==null&&Gp(a,s,c,h),a.flags|=262144}function zh(s){for(s=s.firstContext;s!==null;){if(!hi(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function to(s){Za=s,Ys=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function En(s){return Nv(Za,s)}function Uh(s,a){return Za===null&&to(s),Nv(s,a)}function Nv(s,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},Ys===null){if(s===null)throw Error(i(308));Ys=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Ys=Ys.next=a;return c}var eR=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(c,h){s.push(h)}};this.abort=function(){a.aborted=!0,s.forEach(function(c){return c()})}},nR=n.unstable_scheduleCallback,iR=n.unstable_NormalPriority,Ge={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wp(){return{controller:new eR,data:new Map,refCount:0}}function Ac(s){s.refCount--,s.refCount===0&&nR(iR,function(){s.controller.abort()})}var Cc=null,Yp=0,sl=0,rl=null;function sR(s,a){if(Cc===null){var c=Cc=[];Yp=0,sl=Xm(),rl={status:"pending",value:void 0,then:function(h){c.push(h)}}}return Yp++,a.then(Ov,Ov),a}function Ov(){if(--Yp===0&&Cc!==null){rl!==null&&(rl.status="fulfilled");var s=Cc;Cc=null,sl=0,rl=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function rR(s,a){var c=[],h={status:"pending",value:null,reason:null,then:function(m){c.push(m)}};return s.then(function(){h.status="fulfilled",h.value=a;for(var m=0;m<c.length;m++)(0,c[m])(a)},function(m){for(h.status="rejected",h.reason=m,m=0;m<c.length;m++)(0,c[m])(void 0)}),h}var Pv=W.S;W.S=function(s,a){_0=gn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&sR(s,a),Pv!==null&&Pv(s,a)};var eo=U(null);function $p(){var s=eo.current;return s!==null?s:pe.pooledCache}function Bh(s,a){a===null?et(eo,eo.current):et(eo,a.pool)}function Lv(){var s=$p();return s===null?null:{parent:Ge._currentValue,pool:s}}var al=Error(i(460)),Kp=Error(i(474)),Fh=Error(i(542)),Hh={then:function(){}};function Vv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function jv(s,a,c){switch(c=s[c],c===void 0?s.push(a):c!==a&&(a.then(Hi,Hi),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Uv(s),s;default:if(typeof a.status=="string")a.then(Hi,Hi);else{if(s=pe,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(h){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=h}},function(h){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Uv(s),s}throw io=a,al}}function no(s){try{var a=s._init;return a(s._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(io=c,al):c}}var io=null;function zv(){if(io===null)throw Error(i(459));var s=io;return io=null,s}function Uv(s){if(s===al||s===Fh)throw Error(i(483))}var ol=null,Rc=0;function qh(s){var a=Rc;return Rc+=1,ol===null&&(ol=[]),jv(ol,s,a)}function Ic(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Gh(s,a){throw a.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function Bv(s){function a(Y,H){if(s){var J=Y.deletions;J===null?(Y.deletions=[H],Y.flags|=16):J.push(H)}}function c(Y,H){if(!s)return null;for(;H!==null;)a(Y,H),H=H.sibling;return null}function h(Y){for(var H=new Map;Y!==null;)Y.key!==null?H.set(Y.key,Y):H.set(Y.index,Y),Y=Y.sibling;return H}function m(Y,H){return Y=Gs(Y,H),Y.index=0,Y.sibling=null,Y}function _(Y,H,J){return Y.index=J,s?(J=Y.alternate,J!==null?(J=J.index,J<H?(Y.flags|=67108866,H):J):(Y.flags|=67108866,H)):(Y.flags|=1048576,H)}function x(Y){return s&&Y.alternate===null&&(Y.flags|=67108866),Y}function I(Y,H,J,rt){return H===null||H.tag!==6?(H=Vp(J,Y.mode,rt),H.return=Y,H):(H=m(H,J),H.return=Y,H)}function F(Y,H,J,rt){var Tt=J.type;return Tt===A?st(Y,H,J.props.children,rt,J.key):H!==null&&(H.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===C&&no(Tt)===H.type)?(H=m(H,J.props),Ic(H,J),H.return=Y,H):(H=Vh(J.type,J.key,J.props,null,Y.mode,rt),Ic(H,J),H.return=Y,H)}function Z(Y,H,J,rt){return H===null||H.tag!==4||H.stateNode.containerInfo!==J.containerInfo||H.stateNode.implementation!==J.implementation?(H=jp(J,Y.mode,rt),H.return=Y,H):(H=m(H,J.children||[]),H.return=Y,H)}function st(Y,H,J,rt,Tt){return H===null||H.tag!==7?(H=Qa(J,Y.mode,rt,Tt),H.return=Y,H):(H=m(H,J),H.return=Y,H)}function ot(Y,H,J){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Vp(""+H,Y.mode,J),H.return=Y,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case E:return J=Vh(H.type,H.key,H.props,null,Y.mode,J),Ic(J,H),J.return=Y,J;case w:return H=jp(H,Y.mode,J),H.return=Y,H;case C:return H=no(H),ot(Y,H,J)}if(bt(H)||V(H))return H=Qa(H,Y.mode,J,null),H.return=Y,H;if(typeof H.then=="function")return ot(Y,qh(H),J);if(H.$$typeof===z)return ot(Y,Uh(Y,H),J);Gh(Y,H)}return null}function tt(Y,H,J,rt){var Tt=H!==null?H.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Tt!==null?null:I(Y,H,""+J,rt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case E:return J.key===Tt?F(Y,H,J,rt):null;case w:return J.key===Tt?Z(Y,H,J,rt):null;case C:return J=no(J),tt(Y,H,J,rt)}if(bt(J)||V(J))return Tt!==null?null:st(Y,H,J,rt,null);if(typeof J.then=="function")return tt(Y,H,qh(J),rt);if(J.$$typeof===z)return tt(Y,H,Uh(Y,J),rt);Gh(Y,J)}return null}function it(Y,H,J,rt,Tt){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return Y=Y.get(J)||null,I(H,Y,""+rt,Tt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case E:return Y=Y.get(rt.key===null?J:rt.key)||null,F(H,Y,rt,Tt);case w:return Y=Y.get(rt.key===null?J:rt.key)||null,Z(H,Y,rt,Tt);case C:return rt=no(rt),it(Y,H,J,rt,Tt)}if(bt(rt)||V(rt))return Y=Y.get(J)||null,st(H,Y,rt,Tt,null);if(typeof rt.then=="function")return it(Y,H,J,qh(rt),Tt);if(rt.$$typeof===z)return it(Y,H,J,Uh(H,rt),Tt);Gh(H,rt)}return null}function vt(Y,H,J,rt){for(var Tt=null,Qt=null,Et=H,zt=H=0,qt=null;Et!==null&&zt<J.length;zt++){Et.index>zt?(qt=Et,Et=null):qt=Et.sibling;var Jt=tt(Y,Et,J[zt],rt);if(Jt===null){Et===null&&(Et=qt);break}s&&Et&&Jt.alternate===null&&a(Y,Et),H=_(Jt,H,zt),Qt===null?Tt=Jt:Qt.sibling=Jt,Qt=Jt,Et=qt}if(zt===J.length)return c(Y,Et),Kt&&Ws(Y,zt),Tt;if(Et===null){for(;zt<J.length;zt++)Et=ot(Y,J[zt],rt),Et!==null&&(H=_(Et,H,zt),Qt===null?Tt=Et:Qt.sibling=Et,Qt=Et);return Kt&&Ws(Y,zt),Tt}for(Et=h(Et);zt<J.length;zt++)qt=it(Et,Y,zt,J[zt],rt),qt!==null&&(s&&qt.alternate!==null&&Et.delete(qt.key===null?zt:qt.key),H=_(qt,H,zt),Qt===null?Tt=qt:Qt.sibling=qt,Qt=qt);return s&&Et.forEach(function(ea){return a(Y,ea)}),Kt&&Ws(Y,zt),Tt}function Rt(Y,H,J,rt){if(J==null)throw Error(i(151));for(var Tt=null,Qt=null,Et=H,zt=H=0,qt=null,Jt=J.next();Et!==null&&!Jt.done;zt++,Jt=J.next()){Et.index>zt?(qt=Et,Et=null):qt=Et.sibling;var ea=tt(Y,Et,Jt.value,rt);if(ea===null){Et===null&&(Et=qt);break}s&&Et&&ea.alternate===null&&a(Y,Et),H=_(ea,H,zt),Qt===null?Tt=ea:Qt.sibling=ea,Qt=ea,Et=qt}if(Jt.done)return c(Y,Et),Kt&&Ws(Y,zt),Tt;if(Et===null){for(;!Jt.done;zt++,Jt=J.next())Jt=ot(Y,Jt.value,rt),Jt!==null&&(H=_(Jt,H,zt),Qt===null?Tt=Jt:Qt.sibling=Jt,Qt=Jt);return Kt&&Ws(Y,zt),Tt}for(Et=h(Et);!Jt.done;zt++,Jt=J.next())Jt=it(Et,Y,zt,Jt.value,rt),Jt!==null&&(s&&Jt.alternate!==null&&Et.delete(Jt.key===null?zt:Jt.key),H=_(Jt,H,zt),Qt===null?Tt=Jt:Qt.sibling=Jt,Qt=Jt);return s&&Et.forEach(function(gI){return a(Y,gI)}),Kt&&Ws(Y,zt),Tt}function fe(Y,H,J,rt){if(typeof J=="object"&&J!==null&&J.type===A&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case E:t:{for(var Tt=J.key;H!==null;){if(H.key===Tt){if(Tt=J.type,Tt===A){if(H.tag===7){c(Y,H.sibling),rt=m(H,J.props.children),rt.return=Y,Y=rt;break t}}else if(H.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===C&&no(Tt)===H.type){c(Y,H.sibling),rt=m(H,J.props),Ic(rt,J),rt.return=Y,Y=rt;break t}c(Y,H);break}else a(Y,H);H=H.sibling}J.type===A?(rt=Qa(J.props.children,Y.mode,rt,J.key),rt.return=Y,Y=rt):(rt=Vh(J.type,J.key,J.props,null,Y.mode,rt),Ic(rt,J),rt.return=Y,Y=rt)}return x(Y);case w:t:{for(Tt=J.key;H!==null;){if(H.key===Tt)if(H.tag===4&&H.stateNode.containerInfo===J.containerInfo&&H.stateNode.implementation===J.implementation){c(Y,H.sibling),rt=m(H,J.children||[]),rt.return=Y,Y=rt;break t}else{c(Y,H);break}else a(Y,H);H=H.sibling}rt=jp(J,Y.mode,rt),rt.return=Y,Y=rt}return x(Y);case C:return J=no(J),fe(Y,H,J,rt)}if(bt(J))return vt(Y,H,J,rt);if(V(J)){if(Tt=V(J),typeof Tt!="function")throw Error(i(150));return J=Tt.call(J),Rt(Y,H,J,rt)}if(typeof J.then=="function")return fe(Y,H,qh(J),rt);if(J.$$typeof===z)return fe(Y,H,Uh(Y,J),rt);Gh(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,H!==null&&H.tag===6?(c(Y,H.sibling),rt=m(H,J),rt.return=Y,Y=rt):(c(Y,H),rt=Vp(J,Y.mode,rt),rt.return=Y,Y=rt),x(Y)):c(Y,H)}return function(Y,H,J,rt){try{Rc=0;var Tt=fe(Y,H,J,rt);return ol=null,Tt}catch(Et){if(Et===al||Et===Fh)throw Et;var Qt=di(29,Et,null,Y.mode);return Qt.lanes=rt,Qt.return=Y,Qt}finally{}}}var so=Bv(!0),Fv=Bv(!1),jr=!1;function Xp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qp(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function zr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ur(s,a,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(ne&2)!==0){var m=h.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),h.pending=a,a=Lh(s),wv(s,null,c),a}return Ph(s,h,a,c),Lh(s)}function Dc(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,yn(s,c)}}function Jp(s,a){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var m=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var x={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};_===null?m=_=x:_=_.next=x,c=c.next}while(c!==null);_===null?m=_=a:_=_.next=a}else m=_=a;c={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}var Zp=!1;function Mc(){if(Zp){var s=rl;if(s!==null)throw s}}function kc(s,a,c,h){Zp=!1;var m=s.updateQueue;jr=!1;var _=m.firstBaseUpdate,x=m.lastBaseUpdate,I=m.shared.pending;if(I!==null){m.shared.pending=null;var F=I,Z=F.next;F.next=null,x===null?_=Z:x.next=Z,x=F;var st=s.alternate;st!==null&&(st=st.updateQueue,I=st.lastBaseUpdate,I!==x&&(I===null?st.firstBaseUpdate=Z:I.next=Z,st.lastBaseUpdate=F))}if(_!==null){var ot=m.baseState;x=0,st=Z=F=null,I=_;do{var tt=I.lane&-536870913,it=tt!==I.lane;if(it?(Ht&tt)===tt:(h&tt)===tt){tt!==0&&tt===sl&&(Zp=!0),st!==null&&(st=st.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});t:{var vt=s,Rt=I;tt=a;var fe=c;switch(Rt.tag){case 1:if(vt=Rt.payload,typeof vt=="function"){ot=vt.call(fe,ot,tt);break t}ot=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=Rt.payload,tt=typeof vt=="function"?vt.call(fe,ot,tt):vt,tt==null)break t;ot=g({},ot,tt);break t;case 2:jr=!0}}tt=I.callback,tt!==null&&(s.flags|=64,it&&(s.flags|=8192),it=m.callbacks,it===null?m.callbacks=[tt]:it.push(tt))}else it={lane:tt,tag:I.tag,payload:I.payload,callback:I.callback,next:null},st===null?(Z=st=it,F=ot):st=st.next=it,x|=tt;if(I=I.next,I===null){if(I=m.shared.pending,I===null)break;it=I,I=it.next,it.next=null,m.lastBaseUpdate=it,m.shared.pending=null}}while(!0);st===null&&(F=ot),m.baseState=F,m.firstBaseUpdate=Z,m.lastBaseUpdate=st,_===null&&(m.shared.lanes=0),Gr|=x,s.lanes=x,s.memoizedState=ot}}function Hv(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function qv(s,a){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)Hv(c[s],a)}var ll=U(null),Wh=U(0);function Gv(s,a){s=ir,et(Wh,s),et(ll,a),ir=s|a.baseLanes}function tm(){et(Wh,ir),et(ll,ll.current)}function em(){ir=Wh.current,$(ll),$(Wh)}var fi=U(null),Mi=null;function Br(s){var a=s.alternate;et(Le,Le.current&1),et(fi,s),Mi===null&&(a===null||ll.current!==null||a.memoizedState!==null)&&(Mi=s)}function nm(s){et(Le,Le.current),et(fi,s),Mi===null&&(Mi=s)}function Wv(s){s.tag===22?(et(Le,Le.current),et(fi,s),Mi===null&&(Mi=s)):Fr()}function Fr(){et(Le,Le.current),et(fi,fi.current)}function pi(s){$(fi),Mi===s&&(Mi=null),$(Le)}var Le=U(0);function Yh(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||lg(c)||cg(c)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ks=0,jt=null,he=null,We=null,$h=!1,cl=!1,ro=!1,Kh=0,Nc=0,ul=null,aR=0;function ke(){throw Error(i(321))}function im(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!hi(s[c],a[c]))return!1;return!0}function sm(s,a,c,h,m,_){return Ks=_,jt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,W.H=s===null||s.memoizedState===null?Ib:vm,ro=!1,_=c(h,m),ro=!1,cl&&(_=$v(a,c,h,m)),Yv(s),_}function Yv(s){W.H=Lc;var a=he!==null&&he.next!==null;if(Ks=0,We=he=jt=null,$h=!1,Nc=0,ul=null,a)throw Error(i(300));s===null||Ye||(s=s.dependencies,s!==null&&zh(s)&&(Ye=!0))}function $v(s,a,c,h){jt=s;var m=0;do{if(cl&&(ul=null),Nc=0,cl=!1,25<=m)throw Error(i(301));if(m+=1,We=he=null,s.updateQueue!=null){var _=s.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}W.H=Db,_=a(c,h)}while(cl);return _}function oR(){var s=W.H,a=s.useState()[0];return a=typeof a.then=="function"?Oc(a):a,s=s.useState()[0],(he!==null?he.memoizedState:null)!==s&&(jt.flags|=1024),a}function rm(){var s=Kh!==0;return Kh=0,s}function am(s,a,c){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~c}function om(s){if($h){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}$h=!1}Ks=0,We=he=jt=null,cl=!1,Nc=Kh=0,ul=null}function Fn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?jt.memoizedState=We=s:We=We.next=s,We}function Ve(){if(he===null){var s=jt.alternate;s=s!==null?s.memoizedState:null}else s=he.next;var a=We===null?jt.memoizedState:We.next;if(a!==null)We=a,he=s;else{if(s===null)throw jt.alternate===null?Error(i(467)):Error(i(310));he=s,s={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},We===null?jt.memoizedState=We=s:We=We.next=s}return We}function Xh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oc(s){var a=Nc;return Nc+=1,ul===null&&(ul=[]),s=jv(ul,s,a),a=jt,(We===null?a.memoizedState:We.next)===null&&(a=a.alternate,W.H=a===null||a.memoizedState===null?Ib:vm),s}function Qh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Oc(s);if(s.$$typeof===z)return En(s)}throw Error(i(438,String(s)))}function lm(s){var a=null,c=jt.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var h=jt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=Xh(),jt.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(s),h=0;h<s;h++)c[h]=L;return a.index++,c}function Xs(s,a){return typeof a=="function"?a(s):a}function Jh(s){var a=Ve();return cm(a,he,s)}function cm(s,a,c){var h=s.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=c;var m=s.baseQueue,_=h.pending;if(_!==null){if(m!==null){var x=m.next;m.next=_.next,_.next=x}a.baseQueue=m=_,h.pending=null}if(_=s.baseState,m===null)s.memoizedState=_;else{a=m.next;var I=x=null,F=null,Z=a,st=!1;do{var ot=Z.lane&-536870913;if(ot!==Z.lane?(Ht&ot)===ot:(Ks&ot)===ot){var tt=Z.revertLane;if(tt===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ot===sl&&(st=!0);else if((Ks&tt)===tt){Z=Z.next,tt===sl&&(st=!0);continue}else ot={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},F===null?(I=F=ot,x=_):F=F.next=ot,jt.lanes|=tt,Gr|=tt;ot=Z.action,ro&&c(_,ot),_=Z.hasEagerState?Z.eagerState:c(_,ot)}else tt={lane:ot,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},F===null?(I=F=tt,x=_):F=F.next=tt,jt.lanes|=ot,Gr|=ot;Z=Z.next}while(Z!==null&&Z!==a);if(F===null?x=_:F.next=I,!hi(_,s.memoizedState)&&(Ye=!0,st&&(c=rl,c!==null)))throw c;s.memoizedState=_,s.baseState=x,s.baseQueue=F,h.lastRenderedState=_}return m===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function um(s){var a=Ve(),c=a.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=s;var h=c.dispatch,m=c.pending,_=a.memoizedState;if(m!==null){c.pending=null;var x=m=m.next;do _=s(_,x.action),x=x.next;while(x!==m);hi(_,a.memoizedState)||(Ye=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),c.lastRenderedState=_}return[_,h]}function Kv(s,a,c){var h=jt,m=Ve(),_=Kt;if(_){if(c===void 0)throw Error(i(407));c=c()}else c=a();var x=!hi((he||m).memoizedState,c);if(x&&(m.memoizedState=c,Ye=!0),m=m.queue,fm(Jv.bind(null,h,m,s),[s]),m.getSnapshot!==a||x||We!==null&&We.memoizedState.tag&1){if(h.flags|=2048,hl(9,{destroy:void 0},Qv.bind(null,h,m,c,a),null),pe===null)throw Error(i(349));_||(Ks&127)!==0||Xv(h,a,c)}return c}function Xv(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=jt.updateQueue,a===null?(a=Xh(),jt.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function Qv(s,a,c,h){a.value=c,a.getSnapshot=h,Zv(a)&&tb(s)}function Jv(s,a,c){return c(function(){Zv(a)&&tb(s)})}function Zv(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!hi(s,c)}catch{return!0}}function tb(s){var a=Xa(s,2);a!==null&&Qn(a,s,2)}function hm(s){var a=Fn();if(typeof s=="function"){var c=s;if(s=c(),ro){zn(!0);try{c()}finally{zn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xs,lastRenderedState:s},a}function eb(s,a,c,h){return s.baseState=c,cm(s,he,typeof h=="function"?h:Xs)}function lR(s,a,c,h,m){if(ed(s))throw Error(i(485));if(s=a.action,s!==null){var _={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){_.listeners.push(x)}};W.T!==null?c(!0):_.isTransition=!1,h(_),c=a.pending,c===null?(_.next=a.pending=_,nb(a,_)):(_.next=c.next,a.pending=c.next=_)}}function nb(s,a){var c=a.action,h=a.payload,m=s.state;if(a.isTransition){var _=W.T,x={};W.T=x;try{var I=c(m,h),F=W.S;F!==null&&F(x,I),ib(s,a,I)}catch(Z){dm(s,a,Z)}finally{_!==null&&x.types!==null&&(_.types=x.types),W.T=_}}else try{_=c(m,h),ib(s,a,_)}catch(Z){dm(s,a,Z)}}function ib(s,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){sb(s,a,h)},function(h){return dm(s,a,h)}):sb(s,a,c)}function sb(s,a,c){a.status="fulfilled",a.value=c,rb(a),s.state=c,a=s.pending,a!==null&&(c=a.next,c===a?s.pending=null:(c=c.next,a.next=c,nb(s,c)))}function dm(s,a,c){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=c,rb(a),a=a.next;while(a!==h)}s.action=null}function rb(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function ab(s,a){return a}function ob(s,a){if(Kt){var c=pe.formState;if(c!==null){t:{var h=jt;if(Kt){if(_e){e:{for(var m=_e,_=Di;m.nodeType!==8;){if(!_){m=null;break e}if(m=ki(m.nextSibling),m===null){m=null;break e}}_=m.data,m=_==="F!"||_==="F"?m:null}if(m){_e=ki(m.nextSibling),h=m.data==="F!";break t}}Lr(h)}h=!1}h&&(a=c[0])}}return c=Fn(),c.memoizedState=c.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ab,lastRenderedState:a},c.queue=h,c=Ab.bind(null,jt,h),h.dispatch=c,h=hm(!1),_=_m.bind(null,jt,!1,h.queue),h=Fn(),m={state:a,dispatch:null,action:s,pending:null},h.queue=m,c=lR.bind(null,jt,m,_,c),m.dispatch=c,h.memoizedState=s,[a,c,!1]}function lb(s){var a=Ve();return cb(a,he,s)}function cb(s,a,c){if(a=cm(s,a,ab)[0],s=Jh(Xs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=Oc(a)}catch(x){throw x===al?Fh:x}else h=a;a=Ve();var m=a.queue,_=m.dispatch;return c!==a.memoizedState&&(jt.flags|=2048,hl(9,{destroy:void 0},cR.bind(null,m,c),null)),[h,_,s]}function cR(s,a){s.action=a}function ub(s){var a=Ve(),c=he;if(c!==null)return cb(a,c,s);Ve(),a=a.memoizedState,c=Ve();var h=c.queue.dispatch;return c.memoizedState=s,[a,h,!1]}function hl(s,a,c,h){return s={tag:s,create:c,deps:h,inst:a,next:null},a=jt.updateQueue,a===null&&(a=Xh(),jt.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,a.lastEffect=s),s}function hb(){return Ve().memoizedState}function Zh(s,a,c,h){var m=Fn();jt.flags|=s,m.memoizedState=hl(1|a,{destroy:void 0},c,h===void 0?null:h)}function td(s,a,c,h){var m=Ve();h=h===void 0?null:h;var _=m.memoizedState.inst;he!==null&&h!==null&&im(h,he.memoizedState.deps)?m.memoizedState=hl(a,_,c,h):(jt.flags|=s,m.memoizedState=hl(1|a,_,c,h))}function db(s,a){Zh(8390656,8,s,a)}function fm(s,a){td(2048,8,s,a)}function uR(s){jt.flags|=4;var a=jt.updateQueue;if(a===null)a=Xh(),jt.updateQueue=a,a.events=[s];else{var c=a.events;c===null?a.events=[s]:c.push(s)}}function fb(s){var a=Ve().memoizedState;return uR({ref:a,nextImpl:s}),function(){if((ne&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function pb(s,a){return td(4,2,s,a)}function mb(s,a){return td(4,4,s,a)}function gb(s,a){if(typeof a=="function"){s=s();var c=a(s);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function yb(s,a,c){c=c!=null?c.concat([s]):null,td(4,4,gb.bind(null,a,s),c)}function pm(){}function _b(s,a){var c=Ve();a=a===void 0?null:a;var h=c.memoizedState;return a!==null&&im(a,h[1])?h[0]:(c.memoizedState=[s,a],s)}function vb(s,a){var c=Ve();a=a===void 0?null:a;var h=c.memoizedState;if(a!==null&&im(a,h[1]))return h[0];if(h=s(),ro){zn(!0);try{s()}finally{zn(!1)}}return c.memoizedState=[h,a],h}function mm(s,a,c){return c===void 0||(Ks&1073741824)!==0&&(Ht&261930)===0?s.memoizedState=a:(s.memoizedState=c,s=b0(),jt.lanes|=s,Gr|=s,c)}function bb(s,a,c,h){return hi(c,a)?c:ll.current!==null?(s=mm(s,c,h),hi(s,a)||(Ye=!0),s):(Ks&42)===0||(Ks&1073741824)!==0&&(Ht&261930)===0?(Ye=!0,s.memoizedState=c):(s=b0(),jt.lanes|=s,Gr|=s,a)}function xb(s,a,c,h,m){var _=K.p;K.p=_!==0&&8>_?_:8;var x=W.T,I={};W.T=I,_m(s,!1,a,c);try{var F=m(),Z=W.S;if(Z!==null&&Z(I,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var st=rR(F,h);Pc(s,a,st,yi(s))}else Pc(s,a,h,yi(s))}catch(ot){Pc(s,a,{then:function(){},status:"rejected",reason:ot},yi())}finally{K.p=_,x!==null&&I.types!==null&&(x.types=I.types),W.T=x}}function hR(){}function gm(s,a,c,h){if(s.tag!==5)throw Error(i(476));var m=Eb(s).queue;xb(s,m,a,ut,c===null?hR:function(){return Sb(s),c(h)})}function Eb(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xs,lastRenderedState:ut},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xs,lastRenderedState:c},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function Sb(s){var a=Eb(s);a.next===null&&(a=s.alternate.memoizedState),Pc(s,a.next.queue,{},yi())}function ym(){return En(Jc)}function Tb(){return Ve().memoizedState}function wb(){return Ve().memoizedState}function dR(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var c=yi();s=zr(c);var h=Ur(a,s,c);h!==null&&(Qn(h,a,c),Dc(h,a,c)),a={cache:Wp()},s.payload=a;return}a=a.return}}function fR(s,a,c){var h=yi();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},ed(s)?Cb(a,c):(c=Pp(s,a,c,h),c!==null&&(Qn(c,s,h),Rb(c,a,h)))}function Ab(s,a,c){var h=yi();Pc(s,a,c,h)}function Pc(s,a,c,h){var m={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(ed(s))Cb(a,m);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var x=a.lastRenderedState,I=_(x,c);if(m.hasEagerState=!0,m.eagerState=I,hi(I,x))return Ph(s,a,m,0),pe===null&&Oh(),!1}catch{}finally{}if(c=Pp(s,a,m,h),c!==null)return Qn(c,s,h),Rb(c,a,h),!0}return!1}function _m(s,a,c,h){if(h={lane:2,revertLane:Xm(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},ed(s)){if(a)throw Error(i(479))}else a=Pp(s,c,h,2),a!==null&&Qn(a,s,2)}function ed(s){var a=s.alternate;return s===jt||a!==null&&a===jt}function Cb(s,a){cl=$h=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function Rb(s,a,c){if((c&4194048)!==0){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,yn(s,c)}}var Lc={readContext:En,use:Qh,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useLayoutEffect:ke,useInsertionEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useSyncExternalStore:ke,useId:ke,useHostTransitionStatus:ke,useFormState:ke,useActionState:ke,useOptimistic:ke,useMemoCache:ke,useCacheRefresh:ke};Lc.useEffectEvent=ke;var Ib={readContext:En,use:Qh,useCallback:function(s,a){return Fn().memoizedState=[s,a===void 0?null:a],s},useContext:En,useEffect:db,useImperativeHandle:function(s,a,c){c=c!=null?c.concat([s]):null,Zh(4194308,4,gb.bind(null,a,s),c)},useLayoutEffect:function(s,a){return Zh(4194308,4,s,a)},useInsertionEffect:function(s,a){Zh(4,2,s,a)},useMemo:function(s,a){var c=Fn();a=a===void 0?null:a;var h=s();if(ro){zn(!0);try{s()}finally{zn(!1)}}return c.memoizedState=[h,a],h},useReducer:function(s,a,c){var h=Fn();if(c!==void 0){var m=c(a);if(ro){zn(!0);try{c(a)}finally{zn(!1)}}}else m=a;return h.memoizedState=h.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},h.queue=s,s=s.dispatch=fR.bind(null,jt,s),[h.memoizedState,s]},useRef:function(s){var a=Fn();return s={current:s},a.memoizedState=s},useState:function(s){s=hm(s);var a=s.queue,c=Ab.bind(null,jt,a);return a.dispatch=c,[s.memoizedState,c]},useDebugValue:pm,useDeferredValue:function(s,a){var c=Fn();return mm(c,s,a)},useTransition:function(){var s=hm(!1);return s=xb.bind(null,jt,s.queue,!0,!1),Fn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,c){var h=jt,m=Fn();if(Kt){if(c===void 0)throw Error(i(407));c=c()}else{if(c=a(),pe===null)throw Error(i(349));(Ht&127)!==0||Xv(h,a,c)}m.memoizedState=c;var _={value:c,getSnapshot:a};return m.queue=_,db(Jv.bind(null,h,_,s),[s]),h.flags|=2048,hl(9,{destroy:void 0},Qv.bind(null,h,_,c,a),null),c},useId:function(){var s=Fn(),a=pe.identifierPrefix;if(Kt){var c=vs,h=_s;c=(h&~(1<<32-Se(h)-1)).toString(32)+c,a="_"+a+"R_"+c,c=Kh++,0<c&&(a+="H"+c.toString(32)),a+="_"}else c=aR++,a="_"+a+"r_"+c.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:ym,useFormState:ob,useActionState:ob,useOptimistic:function(s){var a=Fn();a.memoizedState=a.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=_m.bind(null,jt,!0,c),c.dispatch=a,[s,a]},useMemoCache:lm,useCacheRefresh:function(){return Fn().memoizedState=dR.bind(null,jt)},useEffectEvent:function(s){var a=Fn(),c={impl:s};return a.memoizedState=c,function(){if((ne&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}},vm={readContext:En,use:Qh,useCallback:_b,useContext:En,useEffect:fm,useImperativeHandle:yb,useInsertionEffect:pb,useLayoutEffect:mb,useMemo:vb,useReducer:Jh,useRef:hb,useState:function(){return Jh(Xs)},useDebugValue:pm,useDeferredValue:function(s,a){var c=Ve();return bb(c,he.memoizedState,s,a)},useTransition:function(){var s=Jh(Xs)[0],a=Ve().memoizedState;return[typeof s=="boolean"?s:Oc(s),a]},useSyncExternalStore:Kv,useId:Tb,useHostTransitionStatus:ym,useFormState:lb,useActionState:lb,useOptimistic:function(s,a){var c=Ve();return eb(c,he,s,a)},useMemoCache:lm,useCacheRefresh:wb};vm.useEffectEvent=fb;var Db={readContext:En,use:Qh,useCallback:_b,useContext:En,useEffect:fm,useImperativeHandle:yb,useInsertionEffect:pb,useLayoutEffect:mb,useMemo:vb,useReducer:um,useRef:hb,useState:function(){return um(Xs)},useDebugValue:pm,useDeferredValue:function(s,a){var c=Ve();return he===null?mm(c,s,a):bb(c,he.memoizedState,s,a)},useTransition:function(){var s=um(Xs)[0],a=Ve().memoizedState;return[typeof s=="boolean"?s:Oc(s),a]},useSyncExternalStore:Kv,useId:Tb,useHostTransitionStatus:ym,useFormState:ub,useActionState:ub,useOptimistic:function(s,a){var c=Ve();return he!==null?eb(c,he,s,a):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:lm,useCacheRefresh:wb};Db.useEffectEvent=fb;function bm(s,a,c,h){a=s.memoizedState,c=c(h,a),c=c==null?a:g({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var xm={enqueueSetState:function(s,a,c){s=s._reactInternals;var h=yi(),m=zr(h);m.payload=a,c!=null&&(m.callback=c),a=Ur(s,m,h),a!==null&&(Qn(a,s,h),Dc(a,s,h))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var h=yi(),m=zr(h);m.tag=1,m.payload=a,c!=null&&(m.callback=c),a=Ur(s,m,h),a!==null&&(Qn(a,s,h),Dc(a,s,h))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=yi(),h=zr(c);h.tag=2,a!=null&&(h.callback=a),a=Ur(s,h,c),a!==null&&(Qn(a,s,c),Dc(a,s,c))}};function Mb(s,a,c,h,m,_,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,_,x):a.prototype&&a.prototype.isPureReactComponent?!Ec(c,h)||!Ec(m,_):!0}function kb(s,a,c,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==s&&xm.enqueueReplaceState(a,a.state,null)}function ao(s,a){var c=a;if("ref"in a){c={};for(var h in a)h!=="ref"&&(c[h]=a[h])}if(s=s.defaultProps){c===a&&(c=g({},c));for(var m in s)c[m]===void 0&&(c[m]=s[m])}return c}function Nb(s){Nh(s)}function Ob(s){console.error(s)}function Pb(s){Nh(s)}function nd(s,a){try{var c=s.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function Lb(s,a,c){try{var h=s.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Em(s,a,c){return c=zr(c),c.tag=3,c.payload={element:null},c.callback=function(){nd(s,a)},c}function Vb(s){return s=zr(s),s.tag=3,s}function jb(s,a,c,h){var m=c.type.getDerivedStateFromError;if(typeof m=="function"){var _=h.value;s.payload=function(){return m(_)},s.callback=function(){Lb(a,c,h)}}var x=c.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(s.callback=function(){Lb(a,c,h),typeof m!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var I=h.stack;this.componentDidCatch(h.value,{componentStack:I!==null?I:""})})}function pR(s,a,c,h,m){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=c.alternate,a!==null&&il(a,c,m,!0),c=fi.current,c!==null){switch(c.tag){case 31:case 13:return Mi===null?pd():c.alternate===null&&Ne===0&&(Ne=3),c.flags&=-257,c.flags|=65536,c.lanes=m,h===Hh?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([h]):a.add(h),Ym(s,h,m)),!1;case 22:return c.flags|=65536,h===Hh?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([h]):c.add(h)),Ym(s,h,m)),!1}throw Error(i(435,c.tag))}return Ym(s,h,m),pd(),!1}if(Kt)return a=fi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,h!==Bp&&(s=Error(i(422),{cause:h}),wc(Ci(s,c)))):(h!==Bp&&(a=Error(i(423),{cause:h}),wc(Ci(a,c))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,h=Ci(h,c),m=Em(s.stateNode,h,m),Jp(s,m),Ne!==4&&(Ne=2)),!1;var _=Error(i(520),{cause:h});if(_=Ci(_,c),qc===null?qc=[_]:qc.push(_),Ne!==4&&(Ne=2),a===null)return!0;h=Ci(h,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,s=m&-m,c.lanes|=s,s=Em(c.stateNode,h,s),Jp(c,s),!1;case 1:if(a=c.type,_=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Wr===null||!Wr.has(_))))return c.flags|=65536,m&=-m,c.lanes|=m,m=Vb(m),jb(m,s,c,h),Jp(c,m),!1}c=c.return}while(c!==null);return!1}var Sm=Error(i(461)),Ye=!1;function Sn(s,a,c,h){a.child=s===null?Fv(a,null,c,h):so(a,s.child,c,h)}function zb(s,a,c,h,m){c=c.render;var _=a.ref;if("ref"in h){var x={};for(var I in h)I!=="ref"&&(x[I]=h[I])}else x=h;return to(a),h=sm(s,a,c,x,_,m),I=rm(),s!==null&&!Ye?(am(s,a,m),Qs(s,a,m)):(Kt&&I&&zp(a),a.flags|=1,Sn(s,a,h,m),a.child)}function Ub(s,a,c,h,m){if(s===null){var _=c.type;return typeof _=="function"&&!Lp(_)&&_.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=_,Bb(s,a,_,h,m)):(s=Vh(c.type,null,h,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(_=s.child,!Mm(s,m)){var x=_.memoizedProps;if(c=c.compare,c=c!==null?c:Ec,c(x,h)&&s.ref===a.ref)return Qs(s,a,m)}return a.flags|=1,s=Gs(_,h),s.ref=a.ref,s.return=a,a.child=s}function Bb(s,a,c,h,m){if(s!==null){var _=s.memoizedProps;if(Ec(_,h)&&s.ref===a.ref)if(Ye=!1,a.pendingProps=h=_,Mm(s,m))(s.flags&131072)!==0&&(Ye=!0);else return a.lanes=s.lanes,Qs(s,a,m)}return Tm(s,a,c,h,m)}function Fb(s,a,c,h){var m=h.children,_=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((a.flags&128)!==0){if(_=_!==null?_.baseLanes|c:c,s!==null){for(h=a.child=s.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;h=m&~_}else h=0,a.child=null;return Hb(s,a,_,c,h)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Bh(a,_!==null?_.cachePool:null),_!==null?Gv(a,_):tm(),Wv(a);else return h=a.lanes=536870912,Hb(s,a,_!==null?_.baseLanes|c:c,c,h)}else _!==null?(Bh(a,_.cachePool),Gv(a,_),Fr(),a.memoizedState=null):(s!==null&&Bh(a,null),tm(),Fr());return Sn(s,a,m,c),a.child}function Vc(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Hb(s,a,c,h,m){var _=$p();return _=_===null?null:{parent:Ge._currentValue,pool:_},a.memoizedState={baseLanes:c,cachePool:_},s!==null&&Bh(a,null),tm(),Wv(a),s!==null&&il(s,a,h,!0),a.childLanes=m,null}function id(s,a){return a=rd({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function qb(s,a,c){return so(a,s.child,null,c),s=id(a,a.pendingProps),s.flags|=2,pi(a),a.memoizedState=null,s}function mR(s,a,c){var h=a.pendingProps,m=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(Kt){if(h.mode==="hidden")return s=id(a,h),a.lanes=536870912,Vc(null,s);if(nm(a),(s=_e)?(s=nx(s,Di),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Or!==null?{id:_s,overflow:vs}:null,retryLane:536870912,hydrationErrors:null},c=Cv(s),c.return=a,a.child=c,xn=a,_e=null)):s=null,s===null)throw Lr(a);return a.lanes=536870912,null}return id(a,h)}var _=s.memoizedState;if(_!==null){var x=_.dehydrated;if(nm(a),m)if(a.flags&256)a.flags&=-257,a=qb(s,a,c);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(i(558));else if(Ye||il(s,a,c,!1),m=(c&s.childLanes)!==0,Ye||m){if(h=pe,h!==null&&(x=_n(h,c),x!==0&&x!==_.retryLane))throw _.retryLane=x,Xa(s,x),Qn(h,s,x),Sm;pd(),a=qb(s,a,c)}else s=_.treeContext,_e=ki(x.nextSibling),xn=a,Kt=!0,Pr=null,Di=!1,s!==null&&Dv(a,s),a=id(a,h),a.flags|=4096;return a}return s=Gs(s.child,{mode:h.mode,children:h.children}),s.ref=a.ref,a.child=s,s.return=a,s}function sd(s,a){var c=a.ref;if(c===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(s===null||s.ref!==c)&&(a.flags|=4194816)}}function Tm(s,a,c,h,m){return to(a),c=sm(s,a,c,h,void 0,m),h=rm(),s!==null&&!Ye?(am(s,a,m),Qs(s,a,m)):(Kt&&h&&zp(a),a.flags|=1,Sn(s,a,c,m),a.child)}function Gb(s,a,c,h,m,_){return to(a),a.updateQueue=null,c=$v(a,h,c,m),Yv(s),h=rm(),s!==null&&!Ye?(am(s,a,_),Qs(s,a,_)):(Kt&&h&&zp(a),a.flags|=1,Sn(s,a,c,_),a.child)}function Wb(s,a,c,h,m){if(to(a),a.stateNode===null){var _=Zo,x=c.contextType;typeof x=="object"&&x!==null&&(_=En(x)),_=new c(h,_),a.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=xm,a.stateNode=_,_._reactInternals=a,_=a.stateNode,_.props=h,_.state=a.memoizedState,_.refs={},Xp(a),x=c.contextType,_.context=typeof x=="object"&&x!==null?En(x):Zo,_.state=a.memoizedState,x=c.getDerivedStateFromProps,typeof x=="function"&&(bm(a,c,x,h),_.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(x=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),x!==_.state&&xm.enqueueReplaceState(_,_.state,null),kc(a,h,_,m),Mc(),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(s===null){_=a.stateNode;var I=a.memoizedProps,F=ao(c,I);_.props=F;var Z=_.context,st=c.contextType;x=Zo,typeof st=="object"&&st!==null&&(x=En(st));var ot=c.getDerivedStateFromProps;st=typeof ot=="function"||typeof _.getSnapshotBeforeUpdate=="function",I=a.pendingProps!==I,st||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I||Z!==x)&&kb(a,_,h,x),jr=!1;var tt=a.memoizedState;_.state=tt,kc(a,h,_,m),Mc(),Z=a.memoizedState,I||tt!==Z||jr?(typeof ot=="function"&&(bm(a,c,ot,h),Z=a.memoizedState),(F=jr||Mb(a,c,F,h,tt,Z,x))?(st||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(a.flags|=4194308)):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=Z),_.props=h,_.state=Z,_.context=x,h=F):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{_=a.stateNode,Qp(s,a),x=a.memoizedProps,st=ao(c,x),_.props=st,ot=a.pendingProps,tt=_.context,Z=c.contextType,F=Zo,typeof Z=="object"&&Z!==null&&(F=En(Z)),I=c.getDerivedStateFromProps,(Z=typeof I=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(x!==ot||tt!==F)&&kb(a,_,h,F),jr=!1,tt=a.memoizedState,_.state=tt,kc(a,h,_,m),Mc();var it=a.memoizedState;x!==ot||tt!==it||jr||s!==null&&s.dependencies!==null&&zh(s.dependencies)?(typeof I=="function"&&(bm(a,c,I,h),it=a.memoizedState),(st=jr||Mb(a,c,st,h,tt,it,F)||s!==null&&s.dependencies!==null&&zh(s.dependencies))?(Z||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,it,F),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,it,F)),typeof _.componentDidUpdate=="function"&&(a.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof _.componentDidUpdate!="function"||x===s.memoizedProps&&tt===s.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&tt===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=it),_.props=h,_.state=it,_.context=F,h=st):(typeof _.componentDidUpdate!="function"||x===s.memoizedProps&&tt===s.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&tt===s.memoizedState||(a.flags|=1024),h=!1)}return _=h,sd(s,a),h=(a.flags&128)!==0,_||h?(_=a.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:_.render(),a.flags|=1,s!==null&&h?(a.child=so(a,s.child,null,m),a.child=so(a,null,c,m)):Sn(s,a,c,m),a.memoizedState=_.state,s=a.child):s=Qs(s,a,m),s}function Yb(s,a,c,h){return Ja(),a.flags|=256,Sn(s,a,c,h),a.child}var wm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Am(s){return{baseLanes:s,cachePool:Lv()}}function Cm(s,a,c){return s=s!==null?s.childLanes&~c:0,a&&(s|=gi),s}function $b(s,a,c){var h=a.pendingProps,m=!1,_=(a.flags&128)!==0,x;if((x=_)||(x=s!==null&&s.memoizedState===null?!1:(Le.current&2)!==0),x&&(m=!0,a.flags&=-129),x=(a.flags&32)!==0,a.flags&=-33,s===null){if(Kt){if(m?Br(a):Fr(),(s=_e)?(s=nx(s,Di),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Or!==null?{id:_s,overflow:vs}:null,retryLane:536870912,hydrationErrors:null},c=Cv(s),c.return=a,a.child=c,xn=a,_e=null)):s=null,s===null)throw Lr(a);return cg(s)?a.lanes=32:a.lanes=536870912,null}var I=h.children;return h=h.fallback,m?(Fr(),m=a.mode,I=rd({mode:"hidden",children:I},m),h=Qa(h,m,c,null),I.return=a,h.return=a,I.sibling=h,a.child=I,h=a.child,h.memoizedState=Am(c),h.childLanes=Cm(s,x,c),a.memoizedState=wm,Vc(null,h)):(Br(a),Rm(a,I))}var F=s.memoizedState;if(F!==null&&(I=F.dehydrated,I!==null)){if(_)a.flags&256?(Br(a),a.flags&=-257,a=Im(s,a,c)):a.memoizedState!==null?(Fr(),a.child=s.child,a.flags|=128,a=null):(Fr(),I=h.fallback,m=a.mode,h=rd({mode:"visible",children:h.children},m),I=Qa(I,m,c,null),I.flags|=2,h.return=a,I.return=a,h.sibling=I,a.child=h,so(a,s.child,null,c),h=a.child,h.memoizedState=Am(c),h.childLanes=Cm(s,x,c),a.memoizedState=wm,a=Vc(null,h));else if(Br(a),cg(I)){if(x=I.nextSibling&&I.nextSibling.dataset,x)var Z=x.dgst;x=Z,h=Error(i(419)),h.stack="",h.digest=x,wc({value:h,source:null,stack:null}),a=Im(s,a,c)}else if(Ye||il(s,a,c,!1),x=(c&s.childLanes)!==0,Ye||x){if(x=pe,x!==null&&(h=_n(x,c),h!==0&&h!==F.retryLane))throw F.retryLane=h,Xa(s,h),Qn(x,s,h),Sm;lg(I)||pd(),a=Im(s,a,c)}else lg(I)?(a.flags|=192,a.child=s.child,a=null):(s=F.treeContext,_e=ki(I.nextSibling),xn=a,Kt=!0,Pr=null,Di=!1,s!==null&&Dv(a,s),a=Rm(a,h.children),a.flags|=4096);return a}return m?(Fr(),I=h.fallback,m=a.mode,F=s.child,Z=F.sibling,h=Gs(F,{mode:"hidden",children:h.children}),h.subtreeFlags=F.subtreeFlags&65011712,Z!==null?I=Gs(Z,I):(I=Qa(I,m,c,null),I.flags|=2),I.return=a,h.return=a,h.sibling=I,a.child=h,Vc(null,h),h=a.child,I=s.child.memoizedState,I===null?I=Am(c):(m=I.cachePool,m!==null?(F=Ge._currentValue,m=m.parent!==F?{parent:F,pool:F}:m):m=Lv(),I={baseLanes:I.baseLanes|c,cachePool:m}),h.memoizedState=I,h.childLanes=Cm(s,x,c),a.memoizedState=wm,Vc(s.child,h)):(Br(a),c=s.child,s=c.sibling,c=Gs(c,{mode:"visible",children:h.children}),c.return=a,c.sibling=null,s!==null&&(x=a.deletions,x===null?(a.deletions=[s],a.flags|=16):x.push(s)),a.child=c,a.memoizedState=null,c)}function Rm(s,a){return a=rd({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function rd(s,a){return s=di(22,s,null,a),s.lanes=0,s}function Im(s,a,c){return so(a,s.child,null,c),s=Rm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Kb(s,a,c){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),qp(s.return,a,c)}function Dm(s,a,c,h,m,_){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:m,treeForkCount:_}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=h,x.tail=c,x.tailMode=m,x.treeForkCount=_)}function Xb(s,a,c){var h=a.pendingProps,m=h.revealOrder,_=h.tail;h=h.children;var x=Le.current,I=(x&2)!==0;if(I?(x=x&1|2,a.flags|=128):x&=1,et(Le,x),Sn(s,a,h,c),h=Kt?Tc:0,!I&&s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Kb(s,c,a);else if(s.tag===19)Kb(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(c=a.child,m=null;c!==null;)s=c.alternate,s!==null&&Yh(s)===null&&(m=c),c=c.sibling;c=m,c===null?(m=a.child,a.child=null):(m=c.sibling,c.sibling=null),Dm(a,!1,m,c,_,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&Yh(s)===null){a.child=m;break}s=m.sibling,m.sibling=c,c=m,m=s}Dm(a,!0,c,null,_,h);break;case"together":Dm(a,!1,null,null,void 0,h);break;default:a.memoizedState=null}return a.child}function Qs(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),Gr|=a.lanes,(c&a.childLanes)===0)if(s!==null){if(il(s,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,c=Gs(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Gs(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function Mm(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&zh(s)))}function gR(s,a,c){switch(a.tag){case 3:It(a,a.stateNode.containerInfo),Vr(a,Ge,s.memoizedState.cache),Ja();break;case 27:case 5:Ue(a);break;case 4:It(a,a.stateNode.containerInfo);break;case 10:Vr(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,nm(a),null;break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Br(a),a.flags|=128,null):(c&a.child.childLanes)!==0?$b(s,a,c):(Br(a),s=Qs(s,a,c),s!==null?s.sibling:null);Br(a);break;case 19:var m=(s.flags&128)!==0;if(h=(c&a.childLanes)!==0,h||(il(s,a,c,!1),h=(c&a.childLanes)!==0),m){if(h)return Xb(s,a,c);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),et(Le,Le.current),h)break;return null;case 22:return a.lanes=0,Fb(s,a,c,a.pendingProps);case 24:Vr(a,Ge,s.memoizedState.cache)}return Qs(s,a,c)}function Qb(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps)Ye=!0;else{if(!Mm(s,c)&&(a.flags&128)===0)return Ye=!1,gR(s,a,c);Ye=(s.flags&131072)!==0}else Ye=!1,Kt&&(a.flags&1048576)!==0&&Iv(a,Tc,a.index);switch(a.lanes=0,a.tag){case 16:t:{var h=a.pendingProps;if(s=no(a.elementType),a.type=s,typeof s=="function")Lp(s)?(h=ao(s,h),a.tag=1,a=Wb(null,a,s,h,c)):(a.tag=0,a=Tm(null,a,s,h,c));else{if(s!=null){var m=s.$$typeof;if(m===X){a.tag=11,a=zb(null,a,s,h,c);break t}else if(m===D){a.tag=14,a=Ub(null,a,s,h,c);break t}}throw a=xt(s)||s,Error(i(306,a,""))}}return a;case 0:return Tm(s,a,a.type,a.pendingProps,c);case 1:return h=a.type,m=ao(h,a.pendingProps),Wb(s,a,h,m,c);case 3:t:{if(It(a,a.stateNode.containerInfo),s===null)throw Error(i(387));h=a.pendingProps;var _=a.memoizedState;m=_.element,Qp(s,a),kc(a,h,null,c);var x=a.memoizedState;if(h=x.cache,Vr(a,Ge,h),h!==_.cache&&Gp(a,[Ge],c,!0),Mc(),h=x.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:x.cache},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){a=Yb(s,a,h,c);break t}else if(h!==m){m=Ci(Error(i(424)),a),wc(m),a=Yb(s,a,h,c);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(_e=ki(s.firstChild),xn=a,Kt=!0,Pr=null,Di=!0,c=Fv(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Ja(),h===m){a=Qs(s,a,c);break t}Sn(s,a,h,c)}a=a.child}return a;case 26:return sd(s,a),s===null?(c=lx(a.type,null,a.pendingProps,null))?a.memoizedState=c:Kt||(c=a.type,s=a.pendingProps,h=xd(gt.current).createElement(c),h[Fe]=a,h[cn]=s,Tn(h,c,s),He(h),a.stateNode=h):a.memoizedState=lx(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Ue(a),s===null&&Kt&&(h=a.stateNode=rx(a.type,a.pendingProps,gt.current),xn=a,Di=!0,m=_e,Xr(a.type)?(ug=m,_e=ki(h.firstChild)):_e=m),Sn(s,a,a.pendingProps.children,c),sd(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Kt&&((m=h=_e)&&(h=WR(h,a.type,a.pendingProps,Di),h!==null?(a.stateNode=h,xn=a,_e=ki(h.firstChild),Di=!1,m=!0):m=!1),m||Lr(a)),Ue(a),m=a.type,_=a.pendingProps,x=s!==null?s.memoizedProps:null,h=_.children,rg(m,_)?h=null:x!==null&&rg(m,x)&&(a.flags|=32),a.memoizedState!==null&&(m=sm(s,a,oR,null,null,c),Jc._currentValue=m),sd(s,a),Sn(s,a,h,c),a.child;case 6:return s===null&&Kt&&((s=c=_e)&&(c=YR(c,a.pendingProps,Di),c!==null?(a.stateNode=c,xn=a,_e=null,s=!0):s=!1),s||Lr(a)),null;case 13:return $b(s,a,c);case 4:return It(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=so(a,null,h,c):Sn(s,a,h,c),a.child;case 11:return zb(s,a,a.type,a.pendingProps,c);case 7:return Sn(s,a,a.pendingProps,c),a.child;case 8:return Sn(s,a,a.pendingProps.children,c),a.child;case 12:return Sn(s,a,a.pendingProps.children,c),a.child;case 10:return h=a.pendingProps,Vr(a,a.type,h.value),Sn(s,a,h.children,c),a.child;case 9:return m=a.type._context,h=a.pendingProps.children,to(a),m=En(m),h=h(m),a.flags|=1,Sn(s,a,h,c),a.child;case 14:return Ub(s,a,a.type,a.pendingProps,c);case 15:return Bb(s,a,a.type,a.pendingProps,c);case 19:return Xb(s,a,c);case 31:return mR(s,a,c);case 22:return Fb(s,a,c,a.pendingProps);case 24:return to(a),h=En(Ge),s===null?(m=$p(),m===null&&(m=pe,_=Wp(),m.pooledCache=_,_.refCount++,_!==null&&(m.pooledCacheLanes|=c),m=_),a.memoizedState={parent:h,cache:m},Xp(a),Vr(a,Ge,m)):((s.lanes&c)!==0&&(Qp(s,a),kc(a,null,null,c),Mc()),m=s.memoizedState,_=a.memoizedState,m.parent!==h?(m={parent:h,cache:h},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Vr(a,Ge,h)):(h=_.cache,Vr(a,Ge,h),h!==m.cache&&Gp(a,[Ge],c,!0))),Sn(s,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Js(s){s.flags|=4}function km(s,a,c,h,m){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(T0())s.flags|=8192;else throw io=Hh,Kp}else s.flags&=-16777217}function Jb(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!fx(a))if(T0())s.flags|=8192;else throw io=Hh,Kp}function ad(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?ln():536870912,s.lanes|=a,ml|=a)}function jc(s,a){if(!Kt)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function ve(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(a)for(var m=s.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags&65011712,h|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=h,s.childLanes=c,a}function yR(s,a,c){var h=a.pendingProps;switch(Up(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(a),null;case 1:return ve(a),null;case 3:return c=a.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),$s(Ge),Lt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(nl(a)?Js(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Fp())),ve(a),null;case 26:var m=a.type,_=a.memoizedState;return s===null?(Js(a),_!==null?(ve(a),Jb(a,_)):(ve(a),km(a,m,null,h,c))):_?_!==s.memoizedState?(Js(a),ve(a),Jb(a,_)):(ve(a),a.flags&=-16777217):(s=s.memoizedProps,s!==h&&Js(a),ve(a),km(a,m,s,h,c)),null;case 27:if(an(a),c=gt.current,m=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Js(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return ve(a),null}s=lt.current,nl(a)?Mv(a):(s=rx(m,h,c),a.stateNode=s,Js(a))}return ve(a),null;case 5:if(an(a),m=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Js(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return ve(a),null}if(_=lt.current,nl(a))Mv(a);else{var x=xd(gt.current);switch(_){case 1:_=x.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:_=x.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":_=x.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":_=x.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":_=x.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof h.is=="string"?x.createElement("select",{is:h.is}):x.createElement("select"),h.multiple?_.multiple=!0:h.size&&(_.size=h.size);break;default:_=typeof h.is=="string"?x.createElement(m,{is:h.is}):x.createElement(m)}}_[Fe]=a,_[cn]=h;t:for(x=a.child;x!==null;){if(x.tag===5||x.tag===6)_.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===a)break t;for(;x.sibling===null;){if(x.return===null||x.return===a)break t;x=x.return}x.sibling.return=x.return,x=x.sibling}a.stateNode=_;t:switch(Tn(_,m,h),m){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break t;case"img":h=!0;break t;default:h=!1}h&&Js(a)}}return ve(a),km(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,c),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==h&&Js(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(i(166));if(s=gt.current,nl(a)){if(s=a.stateNode,c=a.memoizedProps,h=null,m=xn,m!==null)switch(m.tag){case 27:case 5:h=m.memoizedProps}s[Fe]=a,s=!!(s.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||$0(s.nodeValue,c)),s||Lr(a,!0)}else s=xd(s).createTextNode(h),s[Fe]=a,a.stateNode=s}return ve(a),null;case 31:if(c=a.memoizedState,s===null||s.memoizedState!==null){if(h=nl(a),c!==null){if(s===null){if(!h)throw Error(i(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Fe]=a}else Ja(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ve(a),s=!1}else c=Fp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=c),s=!0;if(!s)return a.flags&256?(pi(a),a):(pi(a),null);if((a.flags&128)!==0)throw Error(i(558))}return ve(a),null;case 13:if(h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=nl(a),h!==null&&h.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Fe]=a}else Ja(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ve(a),m=!1}else m=Fp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(pi(a),a):(pi(a),null)}return pi(a),(a.flags&128)!==0?(a.lanes=c,a):(c=h!==null,s=s!==null&&s.memoizedState!==null,c&&(h=a.child,m=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(m=h.alternate.memoizedState.cachePool.pool),_=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==m&&(h.flags|=2048)),c!==s&&c&&(a.child.flags|=8192),ad(a,a.updateQueue),ve(a),null);case 4:return Lt(),s===null&&tg(a.stateNode.containerInfo),ve(a),null;case 10:return $s(a.type),ve(a),null;case 19:if($(Le),h=a.memoizedState,h===null)return ve(a),null;if(m=(a.flags&128)!==0,_=h.rendering,_===null)if(m)jc(h,!1);else{if(Ne!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(_=Yh(s),_!==null){for(a.flags|=128,jc(h,!1),s=_.updateQueue,a.updateQueue=s,ad(a,s),a.subtreeFlags=0,s=c,c=a.child;c!==null;)Av(c,s),c=c.sibling;return et(Le,Le.current&1|2),Kt&&Ws(a,h.treeForkCount),a.child}s=s.sibling}h.tail!==null&&gn()>hd&&(a.flags|=128,m=!0,jc(h,!1),a.lanes=4194304)}else{if(!m)if(s=Yh(_),s!==null){if(a.flags|=128,m=!0,s=s.updateQueue,a.updateQueue=s,ad(a,s),jc(h,!0),h.tail===null&&h.tailMode==="hidden"&&!_.alternate&&!Kt)return ve(a),null}else 2*gn()-h.renderingStartTime>hd&&c!==536870912&&(a.flags|=128,m=!0,jc(h,!1),a.lanes=4194304);h.isBackwards?(_.sibling=a.child,a.child=_):(s=h.last,s!==null?s.sibling=_:a.child=_,h.last=_)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=gn(),s.sibling=null,c=Le.current,et(Le,m?c&1|2:c&1),Kt&&Ws(a,h.treeForkCount),s):(ve(a),null);case 22:case 23:return pi(a),em(),h=a.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(c&536870912)!==0&&(a.flags&128)===0&&(ve(a),a.subtreeFlags&6&&(a.flags|=8192)):ve(a),c=a.updateQueue,c!==null&&ad(a,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==c&&(a.flags|=2048),s!==null&&$(eo),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),$s(Ge),ve(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function _R(s,a){switch(Up(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return $s(Ge),Lt(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return an(a),null;case 31:if(a.memoizedState!==null){if(pi(a),a.alternate===null)throw Error(i(340));Ja()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(pi(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Ja()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return $(Le),null;case 4:return Lt(),null;case 10:return $s(a.type),null;case 22:case 23:return pi(a),em(),s!==null&&$(eo),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return $s(Ge),null;case 25:return null;default:return null}}function Zb(s,a){switch(Up(a),a.tag){case 3:$s(Ge),Lt();break;case 26:case 27:case 5:an(a);break;case 4:Lt();break;case 31:a.memoizedState!==null&&pi(a);break;case 13:pi(a);break;case 19:$(Le);break;case 10:$s(a.type);break;case 22:case 23:pi(a),em(),s!==null&&$(eo);break;case 24:$s(Ge)}}function zc(s,a){try{var c=a.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var m=h.next;c=m;do{if((c.tag&s)===s){h=void 0;var _=c.create,x=c.inst;h=_(),x.destroy=h}c=c.next}while(c!==m)}}catch(I){oe(a,a.return,I)}}function Hr(s,a,c){try{var h=a.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var _=m.next;h=_;do{if((h.tag&s)===s){var x=h.inst,I=x.destroy;if(I!==void 0){x.destroy=void 0,m=a;var F=c,Z=I;try{Z()}catch(st){oe(m,F,st)}}}h=h.next}while(h!==_)}}catch(st){oe(a,a.return,st)}}function t0(s){var a=s.updateQueue;if(a!==null){var c=s.stateNode;try{qv(a,c)}catch(h){oe(s,s.return,h)}}}function e0(s,a,c){c.props=ao(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(h){oe(s,a,h)}}function Uc(s,a){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof c=="function"?s.refCleanup=c(h):c.current=h}}catch(m){oe(s,a,m)}}function bs(s,a){var c=s.ref,h=s.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(m){oe(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(m){oe(s,a,m)}else c.current=null}function n0(s){var a=s.type,c=s.memoizedProps,h=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break t;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(m){oe(s,s.return,m)}}function Nm(s,a,c){try{var h=s.stateNode;UR(h,s.type,c,a),h[cn]=a}catch(m){oe(s,s.return,m)}}function i0(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Xr(s.type)||s.tag===4}function Om(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||i0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Xr(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Pm(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(s),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Hi));else if(h!==4&&(h===27&&Xr(s.type)&&(c=s.stateNode,a=null),s=s.child,s!==null))for(Pm(s,a,c),s=s.sibling;s!==null;)Pm(s,a,c),s=s.sibling}function od(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(h!==4&&(h===27&&Xr(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(od(s,a,c),s=s.sibling;s!==null;)od(s,a,c),s=s.sibling}function s0(s){var a=s.stateNode,c=s.memoizedProps;try{for(var h=s.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);Tn(a,h,c),a[Fe]=s,a[cn]=c}catch(_){oe(s,s.return,_)}}var Zs=!1,$e=!1,Lm=!1,r0=typeof WeakSet=="function"?WeakSet:Set,hn=null;function vR(s,a){if(s=s.containerInfo,ig=Rd,s=yv(s),Ip(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else t:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var m=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break t}var x=0,I=-1,F=-1,Z=0,st=0,ot=s,tt=null;e:for(;;){for(var it;ot!==c||m!==0&&ot.nodeType!==3||(I=x+m),ot!==_||h!==0&&ot.nodeType!==3||(F=x+h),ot.nodeType===3&&(x+=ot.nodeValue.length),(it=ot.firstChild)!==null;)tt=ot,ot=it;for(;;){if(ot===s)break e;if(tt===c&&++Z===m&&(I=x),tt===_&&++st===h&&(F=x),(it=ot.nextSibling)!==null)break;ot=tt,tt=ot.parentNode}ot=it}c=I===-1||F===-1?null:{start:I,end:F}}else c=null}c=c||{start:0,end:0}}else c=null;for(sg={focusedElem:s,selectionRange:c},Rd=!1,hn=a;hn!==null;)if(a=hn,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,hn=s;else for(;hn!==null;){switch(a=hn,_=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(c=0;c<s.length;c++)m=s[c],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&_!==null){s=void 0,c=a,m=_.memoizedProps,_=_.memoizedState,h=c.stateNode;try{var vt=ao(c.type,m);s=h.getSnapshotBeforeUpdate(vt,_),h.__reactInternalSnapshotBeforeUpdate=s}catch(Rt){oe(c,c.return,Rt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,c=s.nodeType,c===9)og(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":og(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,hn=s;break}hn=a.return}}function a0(s,a,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:er(s,c),h&4&&zc(5,c);break;case 1:if(er(s,c),h&4)if(s=c.stateNode,a===null)try{s.componentDidMount()}catch(x){oe(c,c.return,x)}else{var m=ao(c.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(x){oe(c,c.return,x)}}h&64&&t0(c),h&512&&Uc(c,c.return);break;case 3:if(er(s,c),h&64&&(s=c.updateQueue,s!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{qv(s,a)}catch(x){oe(c,c.return,x)}}break;case 27:a===null&&h&4&&s0(c);case 26:case 5:er(s,c),a===null&&h&4&&n0(c),h&512&&Uc(c,c.return);break;case 12:er(s,c);break;case 31:er(s,c),h&4&&c0(s,c);break;case 13:er(s,c),h&4&&u0(s,c),h&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=RR.bind(null,c),$R(s,c))));break;case 22:if(h=c.memoizedState!==null||Zs,!h){a=a!==null&&a.memoizedState!==null||$e,m=Zs;var _=$e;Zs=h,($e=a)&&!_?nr(s,c,(c.subtreeFlags&8772)!==0):er(s,c),Zs=m,$e=_}break;case 30:break;default:er(s,c)}}function o0(s){var a=s.alternate;a!==null&&(s.alternate=null,o0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&zo(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var we=null,Yn=!1;function tr(s,a,c){for(c=c.child;c!==null;)l0(s,a,c),c=c.sibling}function l0(s,a,c){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(ai,c)}catch{}switch(c.tag){case 26:$e||bs(c,a),tr(s,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:$e||bs(c,a);var h=we,m=Yn;Xr(c.type)&&(we=c.stateNode,Yn=!1),tr(s,a,c),Kc(c.stateNode),we=h,Yn=m;break;case 5:$e||bs(c,a);case 6:if(h=we,m=Yn,we=null,tr(s,a,c),we=h,Yn=m,we!==null)if(Yn)try{(we.nodeType===9?we.body:we.nodeName==="HTML"?we.ownerDocument.body:we).removeChild(c.stateNode)}catch(_){oe(c,a,_)}else try{we.removeChild(c.stateNode)}catch(_){oe(c,a,_)}break;case 18:we!==null&&(Yn?(s=we,tx(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),Sl(s)):tx(we,c.stateNode));break;case 4:h=we,m=Yn,we=c.stateNode.containerInfo,Yn=!0,tr(s,a,c),we=h,Yn=m;break;case 0:case 11:case 14:case 15:Hr(2,c,a),$e||Hr(4,c,a),tr(s,a,c);break;case 1:$e||(bs(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"&&e0(c,a,h)),tr(s,a,c);break;case 21:tr(s,a,c);break;case 22:$e=(h=$e)||c.memoizedState!==null,tr(s,a,c),$e=h;break;default:tr(s,a,c)}}function c0(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Sl(s)}catch(c){oe(a,a.return,c)}}}function u0(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Sl(s)}catch(c){oe(a,a.return,c)}}function bR(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new r0),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new r0),a;default:throw Error(i(435,s.tag))}}function ld(s,a){var c=bR(s);a.forEach(function(h){if(!c.has(h)){c.add(h);var m=IR.bind(null,s,h);h.then(m,m)}})}function $n(s,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var m=c[h],_=s,x=a,I=x;t:for(;I!==null;){switch(I.tag){case 27:if(Xr(I.type)){we=I.stateNode,Yn=!1;break t}break;case 5:we=I.stateNode,Yn=!1;break t;case 3:case 4:we=I.stateNode.containerInfo,Yn=!0;break t}I=I.return}if(we===null)throw Error(i(160));l0(_,x,m),we=null,Yn=!1,_=m.alternate,_!==null&&(_.return=null),m.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)h0(a,s),a=a.sibling}var Ki=null;function h0(s,a){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:$n(a,s),Kn(s),h&4&&(Hr(3,s,s.return),zc(3,s),Hr(5,s,s.return));break;case 1:$n(a,s),Kn(s),h&512&&($e||c===null||bs(c,c.return)),h&64&&Zs&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var m=Ki;if($n(a,s),Kn(s),h&512&&($e||c===null||bs(c,c.return)),h&4){var _=c!==null?c.memoizedState:null;if(h=s.memoizedState,c===null)if(h===null)if(s.stateNode===null){t:{h=s.type,c=s.memoizedProps,m=m.ownerDocument||m;e:switch(h){case"title":_=m.getElementsByTagName("title")[0],(!_||_[as]||_[Fe]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=m.createElement(h),m.head.insertBefore(_,m.querySelector("head > title"))),Tn(_,h,c),_[Fe]=s,He(_),h=_;break t;case"link":var x=hx("link","href",m).get(h+(c.href||""));if(x){for(var I=0;I<x.length;I++)if(_=x[I],_.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&_.getAttribute("rel")===(c.rel==null?null:c.rel)&&_.getAttribute("title")===(c.title==null?null:c.title)&&_.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){x.splice(I,1);break e}}_=m.createElement(h),Tn(_,h,c),m.head.appendChild(_);break;case"meta":if(x=hx("meta","content",m).get(h+(c.content||""))){for(I=0;I<x.length;I++)if(_=x[I],_.getAttribute("content")===(c.content==null?null:""+c.content)&&_.getAttribute("name")===(c.name==null?null:c.name)&&_.getAttribute("property")===(c.property==null?null:c.property)&&_.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&_.getAttribute("charset")===(c.charSet==null?null:c.charSet)){x.splice(I,1);break e}}_=m.createElement(h),Tn(_,h,c),m.head.appendChild(_);break;default:throw Error(i(468,h))}_[Fe]=s,He(_),h=_}s.stateNode=h}else dx(m,s.type,s.stateNode);else s.stateNode=ux(m,h,s.memoizedProps);else _!==h?(_===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):_.count--,h===null?dx(m,s.type,s.stateNode):ux(m,h,s.memoizedProps)):h===null&&s.stateNode!==null&&Nm(s,s.memoizedProps,c.memoizedProps)}break;case 27:$n(a,s),Kn(s),h&512&&($e||c===null||bs(c,c.return)),c!==null&&h&4&&Nm(s,s.memoizedProps,c.memoizedProps);break;case 5:if($n(a,s),Kn(s),h&512&&($e||c===null||bs(c,c.return)),s.flags&32){m=s.stateNode;try{Wn(m,"")}catch(vt){oe(s,s.return,vt)}}h&4&&s.stateNode!=null&&(m=s.memoizedProps,Nm(s,m,c!==null?c.memoizedProps:m)),h&1024&&(Lm=!0);break;case 6:if($n(a,s),Kn(s),h&4){if(s.stateNode===null)throw Error(i(162));h=s.memoizedProps,c=s.stateNode;try{c.nodeValue=h}catch(vt){oe(s,s.return,vt)}}break;case 3:if(Td=null,m=Ki,Ki=Ed(a.containerInfo),$n(a,s),Ki=m,Kn(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Sl(a.containerInfo)}catch(vt){oe(s,s.return,vt)}Lm&&(Lm=!1,d0(s));break;case 4:h=Ki,Ki=Ed(s.stateNode.containerInfo),$n(a,s),Kn(s),Ki=h;break;case 12:$n(a,s),Kn(s);break;case 31:$n(a,s),Kn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,ld(s,h)));break;case 13:$n(a,s),Kn(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(ud=gn()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,ld(s,h)));break;case 22:m=s.memoizedState!==null;var F=c!==null&&c.memoizedState!==null,Z=Zs,st=$e;if(Zs=Z||m,$e=st||F,$n(a,s),$e=st,Zs=Z,Kn(s),h&8192)t:for(a=s.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(c===null||F||Zs||$e||oo(s)),c=null,a=s;;){if(a.tag===5||a.tag===26){if(c===null){F=c=a;try{if(_=F.stateNode,m)x=_.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{I=F.stateNode;var ot=F.memoizedProps.style,tt=ot!=null&&ot.hasOwnProperty("display")?ot.display:null;I.style.display=tt==null||typeof tt=="boolean"?"":(""+tt).trim()}}catch(vt){oe(F,F.return,vt)}}}else if(a.tag===6){if(c===null){F=a;try{F.stateNode.nodeValue=m?"":F.memoizedProps}catch(vt){oe(F,F.return,vt)}}}else if(a.tag===18){if(c===null){F=a;try{var it=F.stateNode;m?ex(it,!0):ex(F.stateNode,!1)}catch(vt){oe(F,F.return,vt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=s.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,ld(s,c))));break;case 19:$n(a,s),Kn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,ld(s,h)));break;case 30:break;case 21:break;default:$n(a,s),Kn(s)}}function Kn(s){var a=s.flags;if(a&2){try{for(var c,h=s.return;h!==null;){if(i0(h)){c=h;break}h=h.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var m=c.stateNode,_=Om(s);od(s,_,m);break;case 5:var x=c.stateNode;c.flags&32&&(Wn(x,""),c.flags&=-33);var I=Om(s);od(s,I,x);break;case 3:case 4:var F=c.stateNode.containerInfo,Z=Om(s);Pm(s,Z,F);break;default:throw Error(i(161))}}catch(st){oe(s,s.return,st)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function d0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;d0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function er(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)a0(s,a.alternate,a),a=a.sibling}function oo(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Hr(4,a,a.return),oo(a);break;case 1:bs(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&e0(a,a.return,c),oo(a);break;case 27:Kc(a.stateNode);case 26:case 5:bs(a,a.return),oo(a);break;case 22:a.memoizedState===null&&oo(a);break;case 30:oo(a);break;default:oo(a)}s=s.sibling}}function nr(s,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,m=s,_=a,x=_.flags;switch(_.tag){case 0:case 11:case 15:nr(m,_,c),zc(4,_);break;case 1:if(nr(m,_,c),h=_,m=h.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Z){oe(h,h.return,Z)}if(h=_,m=h.updateQueue,m!==null){var I=h.stateNode;try{var F=m.shared.hiddenCallbacks;if(F!==null)for(m.shared.hiddenCallbacks=null,m=0;m<F.length;m++)Hv(F[m],I)}catch(Z){oe(h,h.return,Z)}}c&&x&64&&t0(_),Uc(_,_.return);break;case 27:s0(_);case 26:case 5:nr(m,_,c),c&&h===null&&x&4&&n0(_),Uc(_,_.return);break;case 12:nr(m,_,c);break;case 31:nr(m,_,c),c&&x&4&&c0(m,_);break;case 13:nr(m,_,c),c&&x&4&&u0(m,_);break;case 22:_.memoizedState===null&&nr(m,_,c),Uc(_,_.return);break;case 30:break;default:nr(m,_,c)}a=a.sibling}}function Vm(s,a){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&Ac(c))}function jm(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Ac(s))}function Xi(s,a,c,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)f0(s,a,c,h),a=a.sibling}function f0(s,a,c,h){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Xi(s,a,c,h),m&2048&&zc(9,a);break;case 1:Xi(s,a,c,h);break;case 3:Xi(s,a,c,h),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Ac(s)));break;case 12:if(m&2048){Xi(s,a,c,h),s=a.stateNode;try{var _=a.memoizedProps,x=_.id,I=_.onPostCommit;typeof I=="function"&&I(x,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(F){oe(a,a.return,F)}}else Xi(s,a,c,h);break;case 31:Xi(s,a,c,h);break;case 13:Xi(s,a,c,h);break;case 23:break;case 22:_=a.stateNode,x=a.alternate,a.memoizedState!==null?_._visibility&2?Xi(s,a,c,h):Bc(s,a):_._visibility&2?Xi(s,a,c,h):(_._visibility|=2,dl(s,a,c,h,(a.subtreeFlags&10256)!==0||!1)),m&2048&&Vm(x,a);break;case 24:Xi(s,a,c,h),m&2048&&jm(a.alternate,a);break;default:Xi(s,a,c,h)}}function dl(s,a,c,h,m){for(m=m&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var _=s,x=a,I=c,F=h,Z=x.flags;switch(x.tag){case 0:case 11:case 15:dl(_,x,I,F,m),zc(8,x);break;case 23:break;case 22:var st=x.stateNode;x.memoizedState!==null?st._visibility&2?dl(_,x,I,F,m):Bc(_,x):(st._visibility|=2,dl(_,x,I,F,m)),m&&Z&2048&&Vm(x.alternate,x);break;case 24:dl(_,x,I,F,m),m&&Z&2048&&jm(x.alternate,x);break;default:dl(_,x,I,F,m)}a=a.sibling}}function Bc(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=s,h=a,m=h.flags;switch(h.tag){case 22:Bc(c,h),m&2048&&Vm(h.alternate,h);break;case 24:Bc(c,h),m&2048&&jm(h.alternate,h);break;default:Bc(c,h)}a=a.sibling}}var Fc=8192;function fl(s,a,c){if(s.subtreeFlags&Fc)for(s=s.child;s!==null;)p0(s,a,c),s=s.sibling}function p0(s,a,c){switch(s.tag){case 26:fl(s,a,c),s.flags&Fc&&s.memoizedState!==null&&aI(c,Ki,s.memoizedState,s.memoizedProps);break;case 5:fl(s,a,c);break;case 3:case 4:var h=Ki;Ki=Ed(s.stateNode.containerInfo),fl(s,a,c),Ki=h;break;case 22:s.memoizedState===null&&(h=s.alternate,h!==null&&h.memoizedState!==null?(h=Fc,Fc=16777216,fl(s,a,c),Fc=h):fl(s,a,c));break;default:fl(s,a,c)}}function m0(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Hc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];hn=h,y0(h,s)}m0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)g0(s),s=s.sibling}function g0(s){switch(s.tag){case 0:case 11:case 15:Hc(s),s.flags&2048&&Hr(9,s,s.return);break;case 3:Hc(s);break;case 12:Hc(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,cd(s)):Hc(s);break;default:Hc(s)}}function cd(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];hn=h,y0(h,s)}m0(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Hr(8,a,a.return),cd(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,cd(a));break;default:cd(a)}s=s.sibling}}function y0(s,a){for(;hn!==null;){var c=hn;switch(c.tag){case 0:case 11:case 15:Hr(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Ac(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,hn=h;else t:for(c=s;hn!==null;){h=hn;var m=h.sibling,_=h.return;if(o0(h),h===c){hn=null;break t}if(m!==null){m.return=_,hn=m;break t}hn=_}}}var xR={getCacheForType:function(s){var a=En(Ge),c=a.data.get(s);return c===void 0&&(c=s(),a.data.set(s,c)),c},cacheSignal:function(){return En(Ge).controller.signal}},ER=typeof WeakMap=="function"?WeakMap:Map,ne=0,pe=null,Ut=null,Ht=0,ae=0,mi=null,qr=!1,pl=!1,zm=!1,ir=0,Ne=0,Gr=0,lo=0,Um=0,gi=0,ml=0,qc=null,Xn=null,Bm=!1,ud=0,_0=0,hd=1/0,dd=null,Wr=null,en=0,Yr=null,gl=null,sr=0,Fm=0,Hm=null,v0=null,Gc=0,qm=null;function yi(){return(ne&2)!==0&&Ht!==0?Ht&-Ht:W.T!==null?Xm():sc()}function b0(){if(gi===0)if((Ht&536870912)===0||Kt){var s=Bs;Bs<<=1,(Bs&3932160)===0&&(Bs=262144),gi=s}else gi=536870912;return s=fi.current,s!==null&&(s.flags|=32),gi}function Qn(s,a,c){(s===pe&&(ae===2||ae===9)||s.cancelPendingCommit!==null)&&(yl(s,0),$r(s,Ht,gi,!1)),ye(s,c),((ne&2)===0||s!==pe)&&(s===pe&&((ne&2)===0&&(lo|=c),Ne===4&&$r(s,Ht,gi,!1)),xs(s))}function x0(s,a,c){if((ne&6)!==0)throw Error(i(327));var h=!c&&(a&127)===0&&(a&s.expiredLanes)===0||ie(s,a),m=h?wR(s,a):Wm(s,a,!0),_=h;do{if(m===0){pl&&!h&&$r(s,a,0,!1);break}else{if(c=s.current.alternate,_&&!SR(c)){m=Wm(s,a,!1),_=!1;continue}if(m===2){if(_=a,s.errorRecoveryDisabledLanes&_)var x=0;else x=s.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){a=x;t:{var I=s;m=qc;var F=I.current.memoizedState.isDehydrated;if(F&&(yl(I,x).flags|=256),x=Wm(I,x,!1),x!==2){if(zm&&!F){I.errorRecoveryDisabledLanes|=_,lo|=_,m=4;break t}_=Xn,Xn=m,_!==null&&(Xn===null?Xn=_:Xn.push.apply(Xn,_))}m=x}if(_=!1,m!==2)continue}}if(m===1){yl(s,0),$r(s,a,0,!0);break}t:{switch(h=s,_=m,_){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:$r(h,a,gi,!qr);break t;case 2:Xn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(m=ud+300-gn(),10<m)){if($r(h,a,gi,!qr),Ct(h,0,!0)!==0)break t;sr=a,h.timeoutHandle=J0(E0.bind(null,h,c,Xn,dd,Bm,a,gi,lo,ml,qr,_,"Throttled",-0,0),m);break t}E0(h,c,Xn,dd,Bm,a,gi,lo,ml,qr,_,null,-0,0)}}break}while(!0);xs(s)}function E0(s,a,c,h,m,_,x,I,F,Z,st,ot,tt,it){if(s.timeoutHandle=-1,ot=a.subtreeFlags,ot&8192||(ot&16785408)===16785408){ot={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hi},p0(a,_,ot);var vt=(_&62914560)===_?ud-gn():(_&4194048)===_?_0-gn():0;if(vt=oI(ot,vt),vt!==null){sr=_,s.cancelPendingCommit=vt(D0.bind(null,s,a,_,c,h,m,x,I,F,st,ot,null,tt,it)),$r(s,_,x,!Z);return}}D0(s,a,_,c,h,m,x,I,F)}function SR(s){for(var a=s;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var m=c[h],_=m.getSnapshot;m=m.value;try{if(!hi(_(),m))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function $r(s,a,c,h){a&=~Um,a&=~lo,s.suspendedLanes|=a,s.pingedLanes&=~a,h&&(s.warmLanes|=a),h=s.expirationTimes;for(var m=a;0<m;){var _=31-Se(m),x=1<<_;h[_]=-1,m&=~x}c!==0&&xi(s,c,a)}function fd(){return(ne&6)===0?(Wc(0),!1):!0}function Gm(){if(Ut!==null){if(ae===0)var s=Ut.return;else s=Ut,Ys=Za=null,om(s),ol=null,Rc=0,s=Ut;for(;s!==null;)Zb(s.alternate,s),s=s.return;Ut=null}}function yl(s,a){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,HR(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),sr=0,Gm(),pe=s,Ut=c=Gs(s.current,null),Ht=a,ae=0,mi=null,qr=!1,pl=ie(s,a),zm=!1,ml=gi=Um=lo=Gr=Ne=0,Xn=qc=null,Bm=!1,(a&8)!==0&&(a|=a&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=a;0<h;){var m=31-Se(h),_=1<<m;a|=s[m],h&=~_}return ir=a,Oh(),c}function S0(s,a){jt=null,W.H=Lc,a===al||a===Fh?(a=zv(),ae=3):a===Kp?(a=zv(),ae=4):ae=a===Sm?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,mi=a,Ut===null&&(Ne=1,nd(s,Ci(a,s.current)))}function T0(){var s=fi.current;return s===null?!0:(Ht&4194048)===Ht?Mi===null:(Ht&62914560)===Ht||(Ht&536870912)!==0?s===Mi:!1}function w0(){var s=W.H;return W.H=Lc,s===null?Lc:s}function A0(){var s=W.A;return W.A=xR,s}function pd(){Ne=4,qr||(Ht&4194048)!==Ht&&fi.current!==null||(pl=!0),(Gr&134217727)===0&&(lo&134217727)===0||pe===null||$r(pe,Ht,gi,!1)}function Wm(s,a,c){var h=ne;ne|=2;var m=w0(),_=A0();(pe!==s||Ht!==a)&&(dd=null,yl(s,a)),a=!1;var x=Ne;t:do try{if(ae!==0&&Ut!==null){var I=Ut,F=mi;switch(ae){case 8:Gm(),x=6;break t;case 3:case 2:case 9:case 6:fi.current===null&&(a=!0);var Z=ae;if(ae=0,mi=null,_l(s,I,F,Z),c&&pl){x=0;break t}break;default:Z=ae,ae=0,mi=null,_l(s,I,F,Z)}}TR(),x=Ne;break}catch(st){S0(s,st)}while(!0);return a&&s.shellSuspendCounter++,Ys=Za=null,ne=h,W.H=m,W.A=_,Ut===null&&(pe=null,Ht=0,Oh()),x}function TR(){for(;Ut!==null;)C0(Ut)}function wR(s,a){var c=ne;ne|=2;var h=w0(),m=A0();pe!==s||Ht!==a?(dd=null,hd=gn()+500,yl(s,a)):pl=ie(s,a);t:do try{if(ae!==0&&Ut!==null){a=Ut;var _=mi;e:switch(ae){case 1:ae=0,mi=null,_l(s,a,_,1);break;case 2:case 9:if(Vv(_)){ae=0,mi=null,R0(a);break}a=function(){ae!==2&&ae!==9||pe!==s||(ae=7),xs(s)},_.then(a,a);break t;case 3:ae=7;break t;case 4:ae=5;break t;case 7:Vv(_)?(ae=0,mi=null,R0(a)):(ae=0,mi=null,_l(s,a,_,7));break;case 5:var x=null;switch(Ut.tag){case 26:x=Ut.memoizedState;case 5:case 27:var I=Ut;if(x?fx(x):I.stateNode.complete){ae=0,mi=null;var F=I.sibling;if(F!==null)Ut=F;else{var Z=I.return;Z!==null?(Ut=Z,md(Z)):Ut=null}break e}}ae=0,mi=null,_l(s,a,_,5);break;case 6:ae=0,mi=null,_l(s,a,_,6);break;case 8:Gm(),Ne=6;break t;default:throw Error(i(462))}}AR();break}catch(st){S0(s,st)}while(!0);return Ys=Za=null,W.H=h,W.A=m,ne=c,Ut!==null?0:(pe=null,Ht=0,Oh(),Ne)}function AR(){for(;Ut!==null&&!Ee();)C0(Ut)}function C0(s){var a=Qb(s.alternate,s,ir);s.memoizedProps=s.pendingProps,a===null?md(s):Ut=a}function R0(s){var a=s,c=a.alternate;switch(a.tag){case 15:case 0:a=Gb(c,a,a.pendingProps,a.type,void 0,Ht);break;case 11:a=Gb(c,a,a.pendingProps,a.type.render,a.ref,Ht);break;case 5:om(a);default:Zb(c,a),a=Ut=Av(a,ir),a=Qb(c,a,ir)}s.memoizedProps=s.pendingProps,a===null?md(s):Ut=a}function _l(s,a,c,h){Ys=Za=null,om(a),ol=null,Rc=0;var m=a.return;try{if(pR(s,m,a,c,Ht)){Ne=1,nd(s,Ci(c,s.current)),Ut=null;return}}catch(_){if(m!==null)throw Ut=m,_;Ne=1,nd(s,Ci(c,s.current)),Ut=null;return}a.flags&32768?(Kt||h===1?s=!0:pl||(Ht&536870912)!==0?s=!1:(qr=s=!0,(h===2||h===9||h===3||h===6)&&(h=fi.current,h!==null&&h.tag===13&&(h.flags|=16384))),I0(a,s)):md(a)}function md(s){var a=s;do{if((a.flags&32768)!==0){I0(a,qr);return}s=a.return;var c=yR(a.alternate,a,ir);if(c!==null){Ut=c;return}if(a=a.sibling,a!==null){Ut=a;return}Ut=a=s}while(a!==null);Ne===0&&(Ne=5)}function I0(s,a){do{var c=_R(s.alternate,s);if(c!==null){c.flags&=32767,Ut=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(s=s.sibling,s!==null)){Ut=s;return}Ut=s=c}while(s!==null);Ne=6,Ut=null}function D0(s,a,c,h,m,_,x,I,F){s.cancelPendingCommit=null;do gd();while(en!==0);if((ne&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(_=a.lanes|a.childLanes,_|=Op,In(s,c,_,x,I,F),s===pe&&(Ut=pe=null,Ht=0),gl=a,Yr=s,sr=c,Fm=_,Hm=m,v0=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,DR(ji,function(){return P0(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=W.T,W.T=null,m=K.p,K.p=2,x=ne,ne|=4;try{vR(s,a,c)}finally{ne=x,K.p=m,W.T=h}}en=1,M0(),k0(),N0()}}function M0(){if(en===1){en=0;var s=Yr,a=gl,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=W.T,W.T=null;var h=K.p;K.p=2;var m=ne;ne|=4;try{h0(a,s);var _=sg,x=yv(s.containerInfo),I=_.focusedElem,F=_.selectionRange;if(x!==I&&I&&I.ownerDocument&&gv(I.ownerDocument.documentElement,I)){if(F!==null&&Ip(I)){var Z=F.start,st=F.end;if(st===void 0&&(st=Z),"selectionStart"in I)I.selectionStart=Z,I.selectionEnd=Math.min(st,I.value.length);else{var ot=I.ownerDocument||document,tt=ot&&ot.defaultView||window;if(tt.getSelection){var it=tt.getSelection(),vt=I.textContent.length,Rt=Math.min(F.start,vt),fe=F.end===void 0?Rt:Math.min(F.end,vt);!it.extend&&Rt>fe&&(x=fe,fe=Rt,Rt=x);var Y=mv(I,Rt),H=mv(I,fe);if(Y&&H&&(it.rangeCount!==1||it.anchorNode!==Y.node||it.anchorOffset!==Y.offset||it.focusNode!==H.node||it.focusOffset!==H.offset)){var J=ot.createRange();J.setStart(Y.node,Y.offset),it.removeAllRanges(),Rt>fe?(it.addRange(J),it.extend(H.node,H.offset)):(J.setEnd(H.node,H.offset),it.addRange(J))}}}}for(ot=[],it=I;it=it.parentNode;)it.nodeType===1&&ot.push({element:it,left:it.scrollLeft,top:it.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<ot.length;I++){var rt=ot[I];rt.element.scrollLeft=rt.left,rt.element.scrollTop=rt.top}}Rd=!!ig,sg=ig=null}finally{ne=m,K.p=h,W.T=c}}s.current=a,en=2}}function k0(){if(en===2){en=0;var s=Yr,a=gl,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=W.T,W.T=null;var h=K.p;K.p=2;var m=ne;ne|=4;try{a0(s,a.alternate,a)}finally{ne=m,K.p=h,W.T=c}}en=3}}function N0(){if(en===4||en===3){en=0,qn();var s=Yr,a=gl,c=sr,h=v0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?en=5:(en=0,gl=Yr=null,O0(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(Wr=null),vn(c),a=a.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(ai,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=W.T,m=K.p,K.p=2,W.T=null;try{for(var _=s.onRecoverableError,x=0;x<h.length;x++){var I=h[x];_(I.value,{componentStack:I.stack})}}finally{W.T=a,K.p=m}}(sr&3)!==0&&gd(),xs(s),m=s.pendingLanes,(c&261930)!==0&&(m&42)!==0?s===qm?Gc++:(Gc=0,qm=s):Gc=0,Wc(0)}}function O0(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Ac(a)))}function gd(){return M0(),k0(),N0(),P0()}function P0(){if(en!==5)return!1;var s=Yr,a=Fm;Fm=0;var c=vn(sr),h=W.T,m=K.p;try{K.p=32>c?32:c,W.T=null,c=Hm,Hm=null;var _=Yr,x=sr;if(en=0,gl=Yr=null,sr=0,(ne&6)!==0)throw Error(i(331));var I=ne;if(ne|=4,g0(_.current),f0(_,_.current,x,c),ne=I,Wc(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(ai,_)}catch{}return!0}finally{K.p=m,W.T=h,O0(s,a)}}function L0(s,a,c){a=Ci(c,a),a=Em(s.stateNode,a,2),s=Ur(s,a,2),s!==null&&(ye(s,2),xs(s))}function oe(s,a,c){if(s.tag===3)L0(s,s,c);else for(;a!==null;){if(a.tag===3){L0(a,s,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Wr===null||!Wr.has(h))){s=Ci(c,s),c=Vb(2),h=Ur(a,c,2),h!==null&&(jb(c,h,a,s),ye(h,2),xs(h));break}}a=a.return}}function Ym(s,a,c){var h=s.pingCache;if(h===null){h=s.pingCache=new ER;var m=new Set;h.set(a,m)}else m=h.get(a),m===void 0&&(m=new Set,h.set(a,m));m.has(c)||(zm=!0,m.add(c),s=CR.bind(null,s,a,c),a.then(s,s))}function CR(s,a,c){var h=s.pingCache;h!==null&&h.delete(a),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,pe===s&&(Ht&c)===c&&(Ne===4||Ne===3&&(Ht&62914560)===Ht&&300>gn()-ud?(ne&2)===0&&yl(s,0):Um|=c,ml===Ht&&(ml=0)),xs(s)}function V0(s,a){a===0&&(a=ln()),s=Xa(s,a),s!==null&&(ye(s,a),xs(s))}function RR(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),V0(s,c)}function IR(s,a){var c=0;switch(s.tag){case 31:case 13:var h=s.stateNode,m=s.memoizedState;m!==null&&(c=m.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(a),V0(s,c)}function DR(s,a){return te(s,a)}var yd=null,vl=null,$m=!1,_d=!1,Km=!1,Kr=0;function xs(s){s!==vl&&s.next===null&&(vl===null?yd=vl=s:vl=vl.next=s),_d=!0,$m||($m=!0,kR())}function Wc(s,a){if(!Km&&_d){Km=!0;do for(var c=!1,h=yd;h!==null;){if(s!==0){var m=h.pendingLanes;if(m===0)var _=0;else{var x=h.suspendedLanes,I=h.pingedLanes;_=(1<<31-Se(42|s)+1)-1,_&=m&~(x&~I),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(c=!0,B0(h,_))}else _=Ht,_=Ct(h,h===pe?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||ie(h,_)||(c=!0,B0(h,_));h=h.next}while(c);Km=!1}}function MR(){j0()}function j0(){_d=$m=!1;var s=0;Kr!==0&&FR()&&(s=Kr);for(var a=gn(),c=null,h=yd;h!==null;){var m=h.next,_=z0(h,a);_===0?(h.next=null,c===null?yd=m:c.next=m,m===null&&(vl=c)):(c=h,(s!==0||(_&3)!==0)&&(_d=!0)),h=m}en!==0&&en!==5||Wc(s),Kr!==0&&(Kr=0)}function z0(s,a){for(var c=s.suspendedLanes,h=s.pingedLanes,m=s.expirationTimes,_=s.pendingLanes&-62914561;0<_;){var x=31-Se(_),I=1<<x,F=m[x];F===-1?((I&c)===0||(I&h)!==0)&&(m[x]=Be(I,a)):F<=a&&(s.expiredLanes|=I),_&=~I}if(a=pe,c=Ht,c=Ct(s,s===a?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,c===0||s===a&&(ae===2||ae===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&mn(h),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||ie(s,c)){if(a=c&-c,a===s.callbackPriority)return a;switch(h!==null&&mn(h),vn(c)){case 2:case 8:c=La;break;case 32:c=ji;break;case 268435456:c=zi;break;default:c=ji}return h=U0.bind(null,s),c=te(c,h),s.callbackPriority=a,s.callbackNode=c,a}return h!==null&&h!==null&&mn(h),s.callbackPriority=2,s.callbackNode=null,2}function U0(s,a){if(en!==0&&en!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(gd()&&s.callbackNode!==c)return null;var h=Ht;return h=Ct(s,s===pe?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(x0(s,h,a),z0(s,gn()),s.callbackNode!=null&&s.callbackNode===c?U0.bind(null,s):null)}function B0(s,a){if(gd())return null;x0(s,a,!0)}function kR(){qR(function(){(ne&6)!==0?te(ns,MR):j0()})}function Xm(){if(Kr===0){var s=sl;s===0&&(s=bi,bi<<=1,(bi&261888)===0&&(bi=256)),Kr=s}return Kr}function F0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ho(""+s)}function H0(s,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,s.id&&c.setAttribute("form",s.id),a.parentNode.insertBefore(c,a),s=new FormData(s),c.parentNode.removeChild(c),s}function NR(s,a,c,h,m){if(a==="submit"&&c&&c.stateNode===m){var _=F0((m[cn]||null).action),x=h.submitter;x&&(a=(a=x[cn]||null)?F0(a.formAction):x.getAttribute("formAction"),a!==null&&(_=a,x=null));var I=new ps("action","action",null,h,m);s.push({event:I,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Kr!==0){var F=x?H0(m,x):new FormData(m);gm(c,{pending:!0,data:F,method:m.method,action:_},null,F)}}else typeof _=="function"&&(I.preventDefault(),F=x?H0(m,x):new FormData(m),gm(c,{pending:!0,data:F,method:m.method,action:_},_,F))},currentTarget:m}]})}}for(var Qm=0;Qm<Np.length;Qm++){var Jm=Np[Qm],OR=Jm.toLowerCase(),PR=Jm[0].toUpperCase()+Jm.slice(1);$i(OR,"on"+PR)}$i(bv,"onAnimationEnd"),$i(xv,"onAnimationIteration"),$i(Ev,"onAnimationStart"),$i("dblclick","onDoubleClick"),$i("focusin","onFocus"),$i("focusout","onBlur"),$i(QC,"onTransitionRun"),$i(JC,"onTransitionStart"),$i(ZC,"onTransitionCancel"),$i(Sv,"onTransitionEnd"),us("onMouseEnter",["mouseout","mouseover"]),us("onMouseLeave",["mouseout","mouseover"]),us("onPointerEnter",["pointerout","pointerover"]),us("onPointerLeave",["pointerout","pointerover"]),cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yc));function q0(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],m=h.event;h=h.listeners;t:{var _=void 0;if(a)for(var x=h.length-1;0<=x;x--){var I=h[x],F=I.instance,Z=I.currentTarget;if(I=I.listener,F!==_&&m.isPropagationStopped())break t;_=I,m.currentTarget=Z;try{_(m)}catch(st){Nh(st)}m.currentTarget=null,_=F}else for(x=0;x<h.length;x++){if(I=h[x],F=I.instance,Z=I.currentTarget,I=I.listener,F!==_&&m.isPropagationStopped())break t;_=I,m.currentTarget=Z;try{_(m)}catch(st){Nh(st)}m.currentTarget=null,_=F}}}}function Bt(s,a){var c=a[jo];c===void 0&&(c=a[jo]=new Set);var h=s+"__bubble";c.has(h)||(G0(a,s,2,!1),c.add(h))}function Zm(s,a,c){var h=0;a&&(h|=4),G0(c,s,h,a)}var vd="_reactListening"+Math.random().toString(36).slice(2);function tg(s){if(!s[vd]){s[vd]=!0,rc.forEach(function(c){c!=="selectionchange"&&(LR.has(c)||Zm(c,!1,s),Zm(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[vd]||(a[vd]=!0,Zm("selectionchange",!1,a))}}function G0(s,a,c,h){switch(bx(a)){case 2:var m=uI;break;case 8:m=hI;break;default:m=mg}c=m.bind(null,a,c,s),m=void 0,!Fa||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),h?m!==void 0?s.addEventListener(a,c,{capture:!0,passive:m}):s.addEventListener(a,c,!0):m!==void 0?s.addEventListener(a,c,{passive:m}):s.addEventListener(a,c,!1)}function eg(s,a,c,h,m){var _=h;if((a&1)===0&&(a&2)===0&&h!==null)t:for(;;){if(h===null)return;var x=h.tag;if(x===3||x===4){var I=h.stateNode.containerInfo;if(I===m)break;if(x===4)for(x=h.return;x!==null;){var F=x.tag;if((F===3||F===4)&&x.stateNode.containerInfo===m)return;x=x.return}for(;I!==null;){if(x=os(I),x===null)return;if(F=x.tag,F===5||F===6||F===26||F===27){h=_=x;continue t}I=I.parentNode}}h=h.return}Dr(function(){var Z=_,st=Si(c),ot=[];t:{var tt=Tv.get(s);if(tt!==void 0){var it=ps,vt=s;switch(s){case"keypress":if(qa(c)===0)break t;case"keydown":case"keyup":it=Dh;break;case"focusin":vt="focus",it=Wa;break;case"focusout":vt="blur",it=Wa;break;case"beforeblur":case"afterblur":it=Wa;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=_c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=xh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=b;break;case bv:case xv:case Ev:it=Sh;break;case Sv:it=k;break;case"scroll":case"scrollend":it=yc;break;case"wheel":it=nt;break;case"copy":case"cut":case"paste":it=Th;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=qs;break;case"toggle":case"beforetoggle":it=Vt}var Rt=(a&4)!==0,fe=!Rt&&(s==="scroll"||s==="scrollend"),Y=Rt?tt!==null?tt+"Capture":null:tt;Rt=[];for(var H=Z,J;H!==null;){var rt=H;if(J=rt.stateNode,rt=rt.tag,rt!==5&&rt!==26&&rt!==27||J===null||Y===null||(rt=qi(H,Y),rt!=null&&Rt.push($c(H,rt,J))),fe)break;H=H.return}0<Rt.length&&(tt=new it(tt,vt,null,c,st),ot.push({event:tt,listeners:Rt}))}}if((a&7)===0){t:{if(tt=s==="mouseover"||s==="pointerover",it=s==="mouseout"||s==="pointerout",tt&&c!==pc&&(vt=c.relatedTarget||c.fromElement)&&(os(vt)||vt[rs]))break t;if((it||tt)&&(tt=st.window===st?st:(tt=st.ownerDocument)?tt.defaultView||tt.parentWindow:window,it?(vt=c.relatedTarget||c.toElement,it=Z,vt=vt?os(vt):null,vt!==null&&(fe=o(vt),Rt=vt.tag,vt!==fe||Rt!==5&&Rt!==27&&Rt!==6)&&(vt=null)):(it=null,vt=Z),it!==vt)){if(Rt=_c,rt="onMouseLeave",Y="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(Rt=qs,rt="onPointerLeave",Y="onPointerEnter",H="pointer"),fe=it==null?tt:ci(it),J=vt==null?tt:ci(vt),tt=new Rt(rt,H+"leave",it,c,st),tt.target=fe,tt.relatedTarget=J,rt=null,os(st)===Z&&(Rt=new Rt(Y,H+"enter",vt,c,st),Rt.target=J,Rt.relatedTarget=fe,rt=Rt),fe=rt,it&&vt)e:{for(Rt=VR,Y=it,H=vt,J=0,rt=Y;rt;rt=Rt(rt))J++;rt=0;for(var Tt=H;Tt;Tt=Rt(Tt))rt++;for(;0<J-rt;)Y=Rt(Y),J--;for(;0<rt-J;)H=Rt(H),rt--;for(;J--;){if(Y===H||H!==null&&Y===H.alternate){Rt=Y;break e}Y=Rt(Y),H=Rt(H)}Rt=null}else Rt=null;it!==null&&W0(ot,tt,it,Rt,!1),vt!==null&&fe!==null&&W0(ot,fe,vt,Rt,!0)}}t:{if(tt=Z?ci(Z):window,it=tt.nodeName&&tt.nodeName.toLowerCase(),it==="select"||it==="input"&&tt.type==="file")var Qt=cv;else if(ov(tt))if(uv)Qt=$C;else{Qt=WC;var Et=GC}else it=tt.nodeName,!it||it.toLowerCase()!=="input"||tt.type!=="checkbox"&&tt.type!=="radio"?Z&&Fo(Z.elementType)&&(Qt=cv):Qt=YC;if(Qt&&(Qt=Qt(s,Z))){lv(ot,Qt,c,st);break t}Et&&Et(s,tt,Z),s==="focusout"&&Z&&tt.type==="number"&&Z.memoizedProps.value!=null&&hc(tt,"number",tt.value)}switch(Et=Z?ci(Z):window,s){case"focusin":(ov(Et)||Et.contentEditable==="true")&&(Xo=Et,Dp=Z,Sc=null);break;case"focusout":Sc=Dp=Xo=null;break;case"mousedown":Mp=!0;break;case"contextmenu":case"mouseup":case"dragend":Mp=!1,_v(ot,c,st);break;case"selectionchange":if(XC)break;case"keydown":case"keyup":_v(ot,c,st)}var zt;if(ee)t:{switch(s){case"compositionstart":var qt="onCompositionStart";break t;case"compositionend":qt="onCompositionEnd";break t;case"compositionupdate":qt="onCompositionUpdate";break t}qt=void 0}else Ko?Ya(s,c)&&(qt="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(qt="onCompositionStart");qt&&(ys&&c.locale!=="ko"&&(Ko||qt!=="onCompositionStart"?qt==="onCompositionEnd"&&Ko&&(zt=gc()):(fs=st,mc="value"in fs?fs.value:fs.textContent,Ko=!0)),Et=bd(Z,qt),0<Et.length&&(qt=new gs(qt,s,null,c,st),ot.push({event:qt,listeners:Et}),zt?qt.data=zt:(zt=$o(c),zt!==null&&(qt.data=zt)))),(zt=wi?BC(s,c):FC(s,c))&&(qt=bd(Z,"onBeforeInput"),0<qt.length&&(Et=new gs("onBeforeInput","beforeinput",null,c,st),ot.push({event:Et,listeners:qt}),Et.data=zt)),NR(ot,s,Z,c,st)}q0(ot,a)})}function $c(s,a,c){return{instance:s,listener:a,currentTarget:c}}function bd(s,a){for(var c=a+"Capture",h=[];s!==null;){var m=s,_=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||_===null||(m=qi(s,c),m!=null&&h.unshift($c(s,m,_)),m=qi(s,a),m!=null&&h.push($c(s,m,_))),s.tag===3)return h;s=s.return}return[]}function VR(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function W0(s,a,c,h,m){for(var _=a._reactName,x=[];c!==null&&c!==h;){var I=c,F=I.alternate,Z=I.stateNode;if(I=I.tag,F!==null&&F===h)break;I!==5&&I!==26&&I!==27||Z===null||(F=Z,m?(Z=qi(c,_),Z!=null&&x.unshift($c(c,Z,F))):m||(Z=qi(c,_),Z!=null&&x.push($c(c,Z,F)))),c=c.return}x.length!==0&&s.push({event:a,listeners:x})}var jR=/\r\n?/g,zR=/\u0000|\uFFFD/g;function Y0(s){return(typeof s=="string"?s:""+s).replace(jR,`
`).replace(zR,"")}function $0(s,a){return a=Y0(a),Y0(s)===a}function de(s,a,c,h,m,_){switch(c){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||Wn(s,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&Wn(s,""+h);break;case"className":ui(s,"class",h);break;case"tabIndex":ui(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ui(s,c,h);break;case"style":fc(s,h,_);break;case"data":if(a!=="object"){ui(s,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||c!=="href")){s.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=Ho(""+h),s.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(c==="formAction"?(a!=="input"&&de(s,a,"name",m.name,m,null),de(s,a,"formEncType",m.formEncType,m,null),de(s,a,"formMethod",m.formMethod,m,null),de(s,a,"formTarget",m.formTarget,m,null)):(de(s,a,"encType",m.encType,m,null),de(s,a,"method",m.method,m,null),de(s,a,"target",m.target,m,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=Ho(""+h),s.setAttribute(c,h);break;case"onClick":h!=null&&(s.onclick=Hi);break;case"onScroll":h!=null&&Bt("scroll",s);break;case"onScrollEnd":h!=null&&Bt("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}c=Ho(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""+h):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":h===!0?s.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,h):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(c,h):s.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(c):s.setAttribute(c,h);break;case"popover":Bt("beforetoggle",s),Bt("toggle",s),Uo(s,"popover",h);break;case"xlinkActuate":qe(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":qe(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":qe(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":qe(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":qe(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":qe(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":qe(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":qe(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":qe(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Uo(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=bh.get(c)||c,Uo(s,c,h))}}function ng(s,a,c,h,m,_){switch(c){case"style":fc(s,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"children":typeof h=="string"?Wn(s,h):(typeof h=="number"||typeof h=="bigint")&&Wn(s,""+h);break;case"onScroll":h!=null&&Bt("scroll",s);break;case"onScrollEnd":h!=null&&Bt("scrollend",s);break;case"onClick":h!=null&&(s.onclick=Hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ac.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(m=c.endsWith("Capture"),a=c.slice(2,m?c.length-7:void 0),_=s[cn]||null,_=_!=null?_[c]:null,typeof _=="function"&&s.removeEventListener(a,_,m),typeof h=="function")){typeof _!="function"&&_!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(a,h,m);break t}c in s?s[c]=h:h===!0?s.setAttribute(c,""):Uo(s,c,h)}}}function Tn(s,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",s),Bt("load",s);var h=!1,m=!1,_;for(_ in c)if(c.hasOwnProperty(_)){var x=c[_];if(x!=null)switch(_){case"src":h=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:de(s,a,_,x,c,null)}}m&&de(s,a,"srcSet",c.srcSet,c,null),h&&de(s,a,"src",c.src,c,null);return;case"input":Bt("invalid",s);var I=_=x=m=null,F=null,Z=null;for(h in c)if(c.hasOwnProperty(h)){var st=c[h];if(st!=null)switch(h){case"name":m=st;break;case"type":x=st;break;case"checked":F=st;break;case"defaultChecked":Z=st;break;case"value":_=st;break;case"defaultValue":I=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(i(137,a));break;default:de(s,a,h,st,c,null)}}yh(s,_,I,F,Z,x,m,!1);return;case"select":Bt("invalid",s),h=x=_=null;for(m in c)if(c.hasOwnProperty(m)&&(I=c[m],I!=null))switch(m){case"value":_=I;break;case"defaultValue":x=I;break;case"multiple":h=I;default:de(s,a,m,I,c,null)}a=_,c=x,s.multiple=!!h,a!=null?Ar(s,!!h,a,!1):c!=null&&Ar(s,!!h,c,!0);return;case"textarea":Bt("invalid",s),_=m=h=null;for(x in c)if(c.hasOwnProperty(x)&&(I=c[x],I!=null))switch(x){case"value":h=I;break;case"defaultValue":m=I;break;case"children":_=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:de(s,a,x,I,c,null)}Cr(s,h,m,_);return;case"option":for(F in c)if(c.hasOwnProperty(F)&&(h=c[F],h!=null))switch(F){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:de(s,a,F,h,c,null)}return;case"dialog":Bt("beforetoggle",s),Bt("toggle",s),Bt("cancel",s),Bt("close",s);break;case"iframe":case"object":Bt("load",s);break;case"video":case"audio":for(h=0;h<Yc.length;h++)Bt(Yc[h],s);break;case"image":Bt("error",s),Bt("load",s);break;case"details":Bt("toggle",s);break;case"embed":case"source":case"link":Bt("error",s),Bt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in c)if(c.hasOwnProperty(Z)&&(h=c[Z],h!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:de(s,a,Z,h,c,null)}return;default:if(Fo(a)){for(st in c)c.hasOwnProperty(st)&&(h=c[st],h!==void 0&&ng(s,a,st,h,c,void 0));return}}for(I in c)c.hasOwnProperty(I)&&(h=c[I],h!=null&&de(s,a,I,h,c,null))}function UR(s,a,c,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,_=null,x=null,I=null,F=null,Z=null,st=null;for(it in c){var ot=c[it];if(c.hasOwnProperty(it)&&ot!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":F=ot;default:h.hasOwnProperty(it)||de(s,a,it,null,h,ot)}}for(var tt in h){var it=h[tt];if(ot=c[tt],h.hasOwnProperty(tt)&&(it!=null||ot!=null))switch(tt){case"type":_=it;break;case"name":m=it;break;case"checked":Z=it;break;case"defaultChecked":st=it;break;case"value":x=it;break;case"defaultValue":I=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(i(137,a));break;default:it!==ot&&de(s,a,tt,it,h,ot)}}Bo(s,x,I,F,Z,st,_,m);return;case"select":it=x=I=tt=null;for(_ in c)if(F=c[_],c.hasOwnProperty(_)&&F!=null)switch(_){case"value":break;case"multiple":it=F;default:h.hasOwnProperty(_)||de(s,a,_,null,h,F)}for(m in h)if(_=h[m],F=c[m],h.hasOwnProperty(m)&&(_!=null||F!=null))switch(m){case"value":tt=_;break;case"defaultValue":I=_;break;case"multiple":x=_;default:_!==F&&de(s,a,m,_,h,F)}a=I,c=x,h=it,tt!=null?Ar(s,!!c,tt,!1):!!h!=!!c&&(a!=null?Ar(s,!!c,a,!0):Ar(s,!!c,c?[]:"",!1));return;case"textarea":it=tt=null;for(I in c)if(m=c[I],c.hasOwnProperty(I)&&m!=null&&!h.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:de(s,a,I,null,h,m)}for(x in h)if(m=h[x],_=c[x],h.hasOwnProperty(x)&&(m!=null||_!=null))switch(x){case"value":tt=m;break;case"defaultValue":it=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==_&&de(s,a,x,m,h,_)}_h(s,tt,it);return;case"option":for(var vt in c)if(tt=c[vt],c.hasOwnProperty(vt)&&tt!=null&&!h.hasOwnProperty(vt))switch(vt){case"selected":s.selected=!1;break;default:de(s,a,vt,null,h,tt)}for(F in h)if(tt=h[F],it=c[F],h.hasOwnProperty(F)&&tt!==it&&(tt!=null||it!=null))switch(F){case"selected":s.selected=tt&&typeof tt!="function"&&typeof tt!="symbol";break;default:de(s,a,F,tt,h,it)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Rt in c)tt=c[Rt],c.hasOwnProperty(Rt)&&tt!=null&&!h.hasOwnProperty(Rt)&&de(s,a,Rt,null,h,tt);for(Z in h)if(tt=h[Z],it=c[Z],h.hasOwnProperty(Z)&&tt!==it&&(tt!=null||it!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(i(137,a));break;default:de(s,a,Z,tt,h,it)}return;default:if(Fo(a)){for(var fe in c)tt=c[fe],c.hasOwnProperty(fe)&&tt!==void 0&&!h.hasOwnProperty(fe)&&ng(s,a,fe,void 0,h,tt);for(st in h)tt=h[st],it=c[st],!h.hasOwnProperty(st)||tt===it||tt===void 0&&it===void 0||ng(s,a,st,tt,h,it);return}}for(var Y in c)tt=c[Y],c.hasOwnProperty(Y)&&tt!=null&&!h.hasOwnProperty(Y)&&de(s,a,Y,null,h,tt);for(ot in h)tt=h[ot],it=c[ot],!h.hasOwnProperty(ot)||tt===it||tt==null&&it==null||de(s,a,ot,tt,h,it)}function K0(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function BR(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var m=c[h],_=m.transferSize,x=m.initiatorType,I=m.duration;if(_&&I&&K0(x)){for(x=0,I=m.responseEnd,h+=1;h<c.length;h++){var F=c[h],Z=F.startTime;if(Z>I)break;var st=F.transferSize,ot=F.initiatorType;st&&K0(ot)&&(F=F.responseEnd,x+=st*(F<I?1:(I-Z)/(F-Z)))}if(--h,a+=8*(_+x)/(m.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var ig=null,sg=null;function xd(s){return s.nodeType===9?s:s.ownerDocument}function X0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Q0(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function rg(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var ag=null;function FR(){var s=window.event;return s&&s.type==="popstate"?s===ag?!1:(ag=s,!0):(ag=null,!1)}var J0=typeof setTimeout=="function"?setTimeout:void 0,HR=typeof clearTimeout=="function"?clearTimeout:void 0,Z0=typeof Promise=="function"?Promise:void 0,qR=typeof queueMicrotask=="function"?queueMicrotask:typeof Z0<"u"?function(s){return Z0.resolve(null).then(s).catch(GR)}:J0;function GR(s){setTimeout(function(){throw s})}function Xr(s){return s==="head"}function tx(s,a){var c=a,h=0;do{var m=c.nextSibling;if(s.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"||c==="/&"){if(h===0){s.removeChild(m),Sl(a);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")Kc(s.ownerDocument.documentElement);else if(c==="head"){c=s.ownerDocument.head,Kc(c);for(var _=c.firstChild;_;){var x=_.nextSibling,I=_.nodeName;_[as]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&_.rel.toLowerCase()==="stylesheet"||c.removeChild(_),_=x}}else c==="body"&&Kc(s.ownerDocument.body);c=m}while(c);Sl(a)}function ex(s,a){var c=s;s=0;do{var h=c.nextSibling;if(c.nodeType===1?a?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(a?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(s===0)break;s--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||s++;c=h}while(c)}function og(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":og(c),zo(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function WR(s,a,c,h){for(;s.nodeType===1;){var m=c;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[as])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(_=s.getAttribute("rel"),_==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(_!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(_=s.getAttribute("src"),(_!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&_&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var _=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===_)return s}else return s;if(s=ki(s.nextSibling),s===null)break}return null}function YR(s,a,c){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=ki(s.nextSibling),s===null))return null;return s}function nx(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=ki(s.nextSibling),s===null))return null;return s}function lg(s){return s.data==="$?"||s.data==="$~"}function cg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function $R(s,a){var c=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||c.readyState!=="loading")a();else{var h=function(){a(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function ki(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var ug=null;function ix(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"||c==="/&"){if(a===0)return ki(s.nextSibling);a--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||a++}s=s.nextSibling}return null}function sx(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(a===0)return s;a--}else c!=="/$"&&c!=="/&"||a++}s=s.previousSibling}return null}function rx(s,a,c){switch(a=xd(c),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Kc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);zo(s)}var Ni=new Map,ax=new Set;function Ed(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var rr=K.d;K.d={f:KR,r:XR,D:QR,C:JR,L:ZR,m:tI,X:nI,S:eI,M:iI};function KR(){var s=rr.f(),a=fd();return s||a}function XR(s){var a=Ei(s);a!==null&&a.tag===5&&a.type==="form"?Sb(a):rr.r(s)}var bl=typeof document>"u"?null:document;function ox(s,a,c){var h=bl;if(h&&typeof a=="string"&&a){var m=Gn(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof c=="string"&&(m+='[crossorigin="'+c+'"]'),ax.has(m)||(ax.add(m),s={rel:s,crossOrigin:c,href:a},h.querySelector(m)===null&&(a=h.createElement("link"),Tn(a,"link",s),He(a),h.head.appendChild(a)))}}function QR(s){rr.D(s),ox("dns-prefetch",s,null)}function JR(s,a){rr.C(s,a),ox("preconnect",s,a)}function ZR(s,a,c){rr.L(s,a,c);var h=bl;if(h&&s&&a){var m='link[rel="preload"][as="'+Gn(a)+'"]';a==="image"&&c&&c.imageSrcSet?(m+='[imagesrcset="'+Gn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(m+='[imagesizes="'+Gn(c.imageSizes)+'"]')):m+='[href="'+Gn(s)+'"]';var _=m;switch(a){case"style":_=xl(s);break;case"script":_=El(s)}Ni.has(_)||(s=g({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:s,as:a},c),Ni.set(_,s),h.querySelector(m)!==null||a==="style"&&h.querySelector(Xc(_))||a==="script"&&h.querySelector(Qc(_))||(a=h.createElement("link"),Tn(a,"link",s),He(a),h.head.appendChild(a)))}}function tI(s,a){rr.m(s,a);var c=bl;if(c&&s){var h=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+Gn(h)+'"][href="'+Gn(s)+'"]',_=m;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=El(s)}if(!Ni.has(_)&&(s=g({rel:"modulepreload",href:s},a),Ni.set(_,s),c.querySelector(m)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Qc(_)))return}h=c.createElement("link"),Tn(h,"link",s),He(h),c.head.appendChild(h)}}}function eI(s,a,c){rr.S(s,a,c);var h=bl;if(h&&s){var m=ls(h).hoistableStyles,_=xl(s);a=a||"default";var x=m.get(_);if(!x){var I={loading:0,preload:null};if(x=h.querySelector(Xc(_)))I.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":a},c),(c=Ni.get(_))&&hg(s,c);var F=x=h.createElement("link");He(F),Tn(F,"link",s),F._p=new Promise(function(Z,st){F.onload=Z,F.onerror=st}),F.addEventListener("load",function(){I.loading|=1}),F.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Sd(x,a,h)}x={type:"stylesheet",instance:x,count:1,state:I},m.set(_,x)}}}function nI(s,a){rr.X(s,a);var c=bl;if(c&&s){var h=ls(c).hoistableScripts,m=El(s),_=h.get(m);_||(_=c.querySelector(Qc(m)),_||(s=g({src:s,async:!0},a),(a=Ni.get(m))&&dg(s,a),_=c.createElement("script"),He(_),Tn(_,"link",s),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(m,_))}}function iI(s,a){rr.M(s,a);var c=bl;if(c&&s){var h=ls(c).hoistableScripts,m=El(s),_=h.get(m);_||(_=c.querySelector(Qc(m)),_||(s=g({src:s,async:!0,type:"module"},a),(a=Ni.get(m))&&dg(s,a),_=c.createElement("script"),He(_),Tn(_,"link",s),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(m,_))}}function lx(s,a,c,h){var m=(m=gt.current)?Ed(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=xl(c.href),c=ls(m).hoistableStyles,h=c.get(a),h||(h={type:"style",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=xl(c.href);var _=ls(m).hoistableStyles,x=_.get(s);if(x||(m=m.ownerDocument||m,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(s,x),(_=m.querySelector(Xc(s)))&&!_._p&&(x.instance=_,x.state.loading=5),Ni.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Ni.set(s,c),_||sI(m,s,c,x.state))),a&&h===null)throw Error(i(528,""));return x}if(a&&h!==null)throw Error(i(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=El(c),c=ls(m).hoistableScripts,h=c.get(a),h||(h={type:"script",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function xl(s){return'href="'+Gn(s)+'"'}function Xc(s){return'link[rel="stylesheet"]['+s+"]"}function cx(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function sI(s,a,c,h){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=s.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),Tn(a,"link",c),He(a),s.head.appendChild(a))}function El(s){return'[src="'+Gn(s)+'"]'}function Qc(s){return"script[async]"+s}function ux(s,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var h=s.querySelector('style[data-href~="'+Gn(c.href)+'"]');if(h)return a.instance=h,He(h),h;var m=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),He(h),Tn(h,"style",m),Sd(h,c.precedence,s),a.instance=h;case"stylesheet":m=xl(c.href);var _=s.querySelector(Xc(m));if(_)return a.state.loading|=4,a.instance=_,He(_),_;h=cx(c),(m=Ni.get(m))&&hg(h,m),_=(s.ownerDocument||s).createElement("link"),He(_);var x=_;return x._p=new Promise(function(I,F){x.onload=I,x.onerror=F}),Tn(_,"link",h),a.state.loading|=4,Sd(_,c.precedence,s),a.instance=_;case"script":return _=El(c.src),(m=s.querySelector(Qc(_)))?(a.instance=m,He(m),m):(h=c,(m=Ni.get(_))&&(h=g({},c),dg(h,m)),s=s.ownerDocument||s,m=s.createElement("script"),He(m),Tn(m,"link",h),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,Sd(h,c.precedence,s));return a.instance}function Sd(s,a,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=h.length?h[h.length-1]:null,_=m,x=0;x<h.length;x++){var I=h[x];if(I.dataset.precedence===a)_=I;else if(_!==m)break}_?_.parentNode.insertBefore(s,_.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(s,a.firstChild))}function hg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function dg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Td=null;function hx(s,a,c){if(Td===null){var h=new Map,m=Td=new Map;m.set(c,h)}else m=Td,h=m.get(c),h||(h=new Map,m.set(c,h));if(h.has(s))return h;for(h.set(s,null),c=c.getElementsByTagName(s),m=0;m<c.length;m++){var _=c[m];if(!(_[as]||_[Fe]||s==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var x=_.getAttribute(a)||"";x=s+x;var I=h.get(x);I?I.push(_):h.set(x,[_])}}return h}function dx(s,a,c){s=s.ownerDocument||s,s.head.insertBefore(c,a==="title"?s.querySelector("head > title"):null)}function rI(s,a,c){if(c===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function fx(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function aI(s,a,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var m=xl(h.href),_=a.querySelector(Xc(m));if(_){a=_._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=wd.bind(s),a.then(s,s)),c.state.loading|=4,c.instance=_,He(_);return}_=a.ownerDocument||a,h=cx(h),(m=Ni.get(m))&&hg(h,m),_=_.createElement("link"),He(_);var x=_;x._p=new Promise(function(I,F){x.onload=I,x.onerror=F}),Tn(_,"link",h),c.instance=_}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(s.count++,c=wd.bind(s),a.addEventListener("load",c),a.addEventListener("error",c))}}var fg=0;function oI(s,a){return s.stylesheets&&s.count===0&&Cd(s,s.stylesheets),0<s.count||0<s.imgCount?function(c){var h=setTimeout(function(){if(s.stylesheets&&Cd(s,s.stylesheets),s.unsuspend){var _=s.unsuspend;s.unsuspend=null,_()}},6e4+a);0<s.imgBytes&&fg===0&&(fg=62500*BR());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Cd(s,s.stylesheets),s.unsuspend)){var _=s.unsuspend;s.unsuspend=null,_()}},(s.imgBytes>fg?50:800)+a);return s.unsuspend=c,function(){s.unsuspend=null,clearTimeout(h),clearTimeout(m)}}:null}function wd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Ad=null;function Cd(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Ad=new Map,a.forEach(lI,s),Ad=null,wd.call(s))}function lI(s,a){if(!(a.state.loading&4)){var c=Ad.get(s);if(c)var h=c.get(null);else{c=new Map,Ad.set(s,c);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<m.length;_++){var x=m[_];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(c.set(x.dataset.precedence,x),h=x)}h&&c.set(null,h)}m=a.instance,x=m.getAttribute("data-precedence"),_=c.get(x)||h,_===h&&c.set(null,m),c.set(x,m),this.count++,h=wd.bind(this),m.addEventListener("load",h),m.addEventListener("error",h),_?_.parentNode.insertBefore(m,_.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var Jc={$$typeof:z,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function cI(s,a,c,h,m,_,x,I,F){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Un(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Un(0),this.hiddenUpdates=Un(null),this.identifierPrefix=h,this.onUncaughtError=m,this.onCaughtError=_,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function px(s,a,c,h,m,_,x,I,F,Z,st,ot){return s=new cI(s,a,c,x,F,Z,st,ot,I),a=1,_===!0&&(a|=24),_=di(3,null,null,a),s.current=_,_.stateNode=s,a=Wp(),a.refCount++,s.pooledCache=a,a.refCount++,_.memoizedState={element:h,isDehydrated:c,cache:a},Xp(_),s}function mx(s){return s?(s=Zo,s):Zo}function gx(s,a,c,h,m,_){m=mx(m),h.context===null?h.context=m:h.pendingContext=m,h=zr(a),h.payload={element:c},_=_===void 0?null:_,_!==null&&(h.callback=_),c=Ur(s,h,a),c!==null&&(Qn(c,s,a),Dc(c,s,a))}function yx(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function pg(s,a){yx(s,a),(s=s.alternate)&&yx(s,a)}function _x(s){if(s.tag===13||s.tag===31){var a=Xa(s,67108864);a!==null&&Qn(a,s,67108864),pg(s,67108864)}}function vx(s){if(s.tag===13||s.tag===31){var a=yi();a=ss(a);var c=Xa(s,a);c!==null&&Qn(c,s,a),pg(s,a)}}var Rd=!0;function uI(s,a,c,h){var m=W.T;W.T=null;var _=K.p;try{K.p=2,mg(s,a,c,h)}finally{K.p=_,W.T=m}}function hI(s,a,c,h){var m=W.T;W.T=null;var _=K.p;try{K.p=8,mg(s,a,c,h)}finally{K.p=_,W.T=m}}function mg(s,a,c,h){if(Rd){var m=gg(h);if(m===null)eg(s,a,h,Id,c),xx(s,h);else if(fI(m,s,a,c,h))h.stopPropagation();else if(xx(s,h),a&4&&-1<dI.indexOf(s)){for(;m!==null;){var _=Ei(m);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var x=li(_.pendingLanes);if(x!==0){var I=_;for(I.pendingLanes|=2,I.entangledLanes|=2;x;){var F=1<<31-Se(x);I.entanglements[1]|=F,x&=~F}xs(_),(ne&6)===0&&(hd=gn()+500,Wc(0))}}break;case 31:case 13:I=Xa(_,2),I!==null&&Qn(I,_,2),fd(),pg(_,2)}if(_=gg(h),_===null&&eg(s,a,h,Id,c),_===m)break;m=_}m!==null&&h.stopPropagation()}else eg(s,a,h,null,c)}}function gg(s){return s=Si(s),yg(s)}var Id=null;function yg(s){if(Id=null,s=os(s),s!==null){var a=o(s);if(a===null)s=null;else{var c=a.tag;if(c===13){if(s=l(a),s!==null)return s;s=null}else if(c===31){if(s=u(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Id=s,null}function bx(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Us()){case ns:return 2;case La:return 8;case ji:case Va:return 32;case zi:return 268435456;default:return 32}default:return 32}}var _g=!1,Qr=null,Jr=null,Zr=null,Zc=new Map,tu=new Map,ta=[],dI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xx(s,a){switch(s){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":Zc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(a.pointerId)}}function eu(s,a,c,h,m,_){return s===null||s.nativeEvent!==_?(s={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:_,targetContainers:[m]},a!==null&&(a=Ei(a),a!==null&&_x(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function fI(s,a,c,h,m){switch(a){case"focusin":return Qr=eu(Qr,s,a,c,h,m),!0;case"dragenter":return Jr=eu(Jr,s,a,c,h,m),!0;case"mouseover":return Zr=eu(Zr,s,a,c,h,m),!0;case"pointerover":var _=m.pointerId;return Zc.set(_,eu(Zc.get(_)||null,s,a,c,h,m)),!0;case"gotpointercapture":return _=m.pointerId,tu.set(_,eu(tu.get(_)||null,s,a,c,h,m)),!0}return!1}function Ex(s){var a=os(s.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){s.blockedOn=a,Bi(s.priority,function(){vx(c)});return}}else if(a===31){if(a=u(c),a!==null){s.blockedOn=a,Bi(s.priority,function(){vx(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Dd(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=gg(s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);pc=h,c.target.dispatchEvent(h),pc=null}else return a=Ei(c),a!==null&&_x(a),s.blockedOn=c,!1;a.shift()}return!0}function Sx(s,a,c){Dd(s)&&c.delete(a)}function pI(){_g=!1,Qr!==null&&Dd(Qr)&&(Qr=null),Jr!==null&&Dd(Jr)&&(Jr=null),Zr!==null&&Dd(Zr)&&(Zr=null),Zc.forEach(Sx),tu.forEach(Sx)}function Md(s,a){s.blockedOn===a&&(s.blockedOn=null,_g||(_g=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,pI)))}var kd=null;function Tx(s){kd!==s&&(kd=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){kd===s&&(kd=null);for(var a=0;a<s.length;a+=3){var c=s[a],h=s[a+1],m=s[a+2];if(typeof h!="function"){if(yg(h||c)===null)continue;break}var _=Ei(c);_!==null&&(s.splice(a,3),a-=3,gm(_,{pending:!0,data:m,method:c.method,action:h},h,m))}}))}function Sl(s){function a(F){return Md(F,s)}Qr!==null&&Md(Qr,s),Jr!==null&&Md(Jr,s),Zr!==null&&Md(Zr,s),Zc.forEach(a),tu.forEach(a);for(var c=0;c<ta.length;c++){var h=ta[c];h.blockedOn===s&&(h.blockedOn=null)}for(;0<ta.length&&(c=ta[0],c.blockedOn===null);)Ex(c),c.blockedOn===null&&ta.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var m=c[h],_=c[h+1],x=m[cn]||null;if(typeof _=="function")x||Tx(c);else if(x){var I=null;if(_&&_.hasAttribute("formAction")){if(m=_,x=_[cn]||null)I=x.formAction;else if(yg(m)!==null)continue}else I=x.action;typeof I=="function"?c[h+1]=I:(c.splice(h,3),h-=3),Tx(c)}}}function wx(){function s(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(x){return m=x})},focusReset:"manual",scroll:"manual"})}function a(){m!==null&&(m(),m=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),m!==null&&(m(),m=null)}}}function vg(s){this._internalRoot=s}Nd.prototype.render=vg.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var c=a.current,h=yi();gx(c,h,s,a,null,null)},Nd.prototype.unmount=vg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;gx(s.current,2,null,s,null,null),fd(),a[rs]=null}};function Nd(s){this._internalRoot=s}Nd.prototype.unstable_scheduleHydration=function(s){if(s){var a=sc();s={blockedOn:null,target:s,priority:a};for(var c=0;c<ta.length&&a!==0&&a<ta[c].priority;c++);ta.splice(c,0,s),c===0&&Ex(s)}};var Ax=t.version;if(Ax!=="19.2.0")throw Error(i(527,Ax,"19.2.0"));K.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(a),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var mI={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Od.isDisabled&&Od.supportsFiber)try{ai=Od.inject(mI),tn=Od}catch{}}return iu.createRoot=function(s,a){if(!r(s))throw Error(i(299));var c=!1,h="",m=Nb,_=Ob,x=Pb;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=px(s,1,!1,null,null,c,h,null,m,_,x,wx),s[rs]=a.current,tg(s),new vg(a)},iu.hydrateRoot=function(s,a,c){if(!r(s))throw Error(i(299));var h=!1,m="",_=Nb,x=Ob,I=Pb,F=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(x=c.onCaughtError),c.onRecoverableError!==void 0&&(I=c.onRecoverableError),c.formState!==void 0&&(F=c.formState)),a=px(s,1,!0,a,c??null,h,m,F,_,x,I,wx),a.context=mx(null),c=a.current,h=yi(),h=ss(h),m=zr(h),m.callback=null,Ur(c,m,h),c=h,a.current.lanes=c,ye(a,c),xs(a),s[rs]=a.current,tg(s),new Nd(a)},iu.version="19.2.0",iu}var Lx;function TI(){if(Lx)return Eg.exports;Lx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Eg.exports=SI(),Eg.exports}var wI=TI();const AI=Fy(wI);var Vx="popstate";function CI(n={}){function t(r,o){let{pathname:l="/",search:u="",hash:d=""}=Do(r.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),ey("",{pathname:l,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function e(r,o){let l=r.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let d=r.location.href,f=d.indexOf("#");u=f===-1?d:d.slice(0,f)}return u+"#"+(typeof o=="string"?o:Du(o))}function i(r,o){Vi(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return II(t,e,i,n)}function De(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Vi(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function RI(){return Math.random().toString(36).substring(2,10)}function jx(n,t){return{usr:n.state,key:n.key,idx:t}}function ey(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Do(t):t,state:e,key:t&&t.key||i||RI()}}function Du({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function Do(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function II(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,l=r.history,u="POP",d=null,f=y();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function y(){return(l.state||{idx:null}).idx}function g(){u="POP";let R=y(),N=R==null?null:R-f;f=R,d&&d({action:u,location:A.location,delta:N})}function v(R,N){u="PUSH";let j=ey(A.location,R,N);e&&e(j,R),f=y()+1;let z=jx(j,f),X=A.createHref(j);try{l.pushState(z,"",X)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;r.location.assign(X)}o&&d&&d({action:u,location:A.location,delta:1})}function E(R,N){u="REPLACE";let j=ey(A.location,R,N);e&&e(j,R),f=y();let z=jx(j,f),X=A.createHref(j);l.replaceState(z,"",X),o&&d&&d({action:u,location:A.location,delta:0})}function w(R){return DI(R)}let A={get action(){return u},get location(){return n(r,l)},listen(R){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(Vx,g),d=R,()=>{r.removeEventListener(Vx,g),d=null}},createHref(R){return t(r,R)},createURL:w,encodeLocation(R){let N=w(R);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:v,replace:E,go(R){return l.go(R)}};return A}function DI(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),De(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Du(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function YT(n,t,e="/"){return MI(n,t,e,!1)}function MI(n,t,e,i){let r=typeof t=="string"?Do(t):t,o=yr(r.pathname||"/",e);if(o==null)return null;let l=$T(n);kI(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=HI(o);u=BI(l[d],f,i)}return u}function $T(n,t=[],e=[],i="",r=!1){let o=(l,u,d=r,f)=>{let y={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&d)return;De(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let g=mr([i,y.relativePath]),v=e.concat(y);l.children&&l.children.length>0&&(De(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),$T(l.children,t,v,g,d)),!(l.path==null&&!l.index)&&t.push({path:g,score:zI(g,l.index),routesMeta:v})};return n.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))o(l,u);else for(let d of KT(l.path))o(l,u,!0,d)}),t}function KT(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let l=KT(i.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),r&&u.push(...l),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function kI(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:UI(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var NI=/^:[\w-]+$/,OI=3,PI=2,LI=1,VI=10,jI=-2,zx=n=>n==="*";function zI(n,t){let e=n.split("/"),i=e.length;return e.some(zx)&&(i+=jI),t&&(i+=PI),e.filter(r=>!zx(r)).reduce((r,o)=>r+(NI.test(o)?OI:o===""?LI:VI),i)}function UI(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function BI(n,t,e=!1){let{routesMeta:i}=n,r={},o="/",l=[];for(let u=0;u<i.length;++u){let d=i[u],f=u===i.length-1,y=o==="/"?t:t.slice(o.length)||"/",g=yf({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},y),v=d.route;if(!g&&f&&e&&!i[i.length-1].route.index&&(g=yf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!g)return null;Object.assign(r,g.params),l.push({params:r,pathname:mr([o,g.pathname]),pathnameBase:$I(mr([o,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(o=mr([o,g.pathnameBase]))}return l}function yf(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=FI(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((f,{paramName:y,isOptional:g},v)=>{if(y==="*"){let w=u[v]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const E=u[v];return g&&!E?f[y]=void 0:f[y]=(E||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:n}}function FI(n,t=!1,e=!0){Vi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(i.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function HI(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function yr(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}var qI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GI=n=>qI.test(n);function WI(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?Do(n):n,o;if(e)if(GI(e))o=e;else{if(e.includes("//")){let l=e;e=e.replace(/\/\/+/g,"/"),Vi(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${e}`)}e.startsWith("/")?o=Ux(e.substring(1),"/"):o=Ux(e,t)}else o=t;return{pathname:o,search:KI(i),hash:XI(r)}}function Ux(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function Ag(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YI(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function XT(n){let t=YI(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function QT(n,t,e,i=!1){let r;typeof n=="string"?r=Do(n):(r={...n},De(!r.pathname||!r.pathname.includes("?"),Ag("?","pathname","search",r)),De(!r.pathname||!r.pathname.includes("#"),Ag("#","pathname","hash",r)),De(!r.search||!r.search.includes("#"),Ag("#","search","hash",r)));let o=n===""||r.pathname==="",l=o?"/":r.pathname,u;if(l==null)u=e;else{let g=t.length-1;if(!i&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;r.pathname=v.join("/")}u=g>=0?t[g]:"/"}let d=WI(r,u),f=l&&l!=="/"&&l.endsWith("/"),y=(o||l===".")&&e.endsWith("/");return!d.pathname.endsWith("/")&&(f||y)&&(d.pathname+="/"),d}var mr=n=>n.join("/").replace(/\/\/+/g,"/"),$I=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),KI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,XI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function QI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var JT=["POST","PUT","PATCH","DELETE"];new Set(JT);var JI=["GET",...JT];new Set(JI);var Kl=q.createContext(null);Kl.displayName="DataRouter";var Gf=q.createContext(null);Gf.displayName="DataRouterState";q.createContext(!1);var ZT=q.createContext({isTransitioning:!1});ZT.displayName="ViewTransition";var ZI=q.createContext(new Map);ZI.displayName="Fetchers";var t2=q.createContext(null);t2.displayName="Await";var Vs=q.createContext(null);Vs.displayName="Navigation";var Xu=q.createContext(null);Xu.displayName="Location";var js=q.createContext({outlet:null,matches:[],isDataRoute:!1});js.displayName="Route";var qy=q.createContext(null);qy.displayName="RouteError";function e2(n,{relative:t}={}){De(Qu(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=q.useContext(Vs),{hash:r,pathname:o,search:l}=Ju(n,{relative:t}),u=o;return e!=="/"&&(u=o==="/"?e:mr([e,o])),i.createHref({pathname:u,search:l,hash:r})}function Qu(){return q.useContext(Xu)!=null}function Mo(){return De(Qu(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Xu).location}var t1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function e1(n){q.useContext(Vs).static||q.useLayoutEffect(n)}function Gy(){let{isDataRoute:n}=q.useContext(js);return n?m2():n2()}function n2(){De(Qu(),"useNavigate() may be used only in the context of a <Router> component.");let n=q.useContext(Kl),{basename:t,navigator:e}=q.useContext(Vs),{matches:i}=q.useContext(js),{pathname:r}=Mo(),o=JSON.stringify(XT(i)),l=q.useRef(!1);return e1(()=>{l.current=!0}),q.useCallback((d,f={})=>{if(Vi(l.current,t1),!l.current)return;if(typeof d=="number"){e.go(d);return}let y=QT(d,JSON.parse(o),r,f.relative==="path");n==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:mr([t,y.pathname])),(f.replace?e.replace:e.push)(y,f.state,f)},[t,e,o,r,n])}var n1=q.createContext(null);function ko(){return q.useContext(n1)}function i2(n){let t=q.useContext(js).outlet;return q.useMemo(()=>t&&q.createElement(n1.Provider,{value:n},t),[t,n])}function Ju(n,{relative:t}={}){let{matches:e}=q.useContext(js),{pathname:i}=Mo(),r=JSON.stringify(XT(e));return q.useMemo(()=>QT(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function s2(n,t){return i1(n,t)}function i1(n,t,e,i,r){De(Qu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=q.useContext(Vs),{matches:l}=q.useContext(js),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",y=u?u.pathnameBase:"/",g=u&&u.route;{let j=g&&g.path||"";s1(f,!g||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let v=Mo(),E;if(t){let j=typeof t=="string"?Do(t):t;De(y==="/"||j.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${j.pathname}" was given in the \`location\` prop.`),E=j}else E=v;let w=E.pathname||"/",A=w;if(y!=="/"){let j=y.replace(/^\//,"").split("/");A="/"+w.replace(/^\//,"").split("/").slice(j.length).join("/")}let R=YT(n,{pathname:A});Vi(g||R!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Vi(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=c2(R&&R.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:mr([y,o.encodeLocation?o.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?y:mr([y,o.encodeLocation?o.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),l,e,i,r);return t&&N?q.createElement(Xu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},N):N}function r2(){let n=p2(),t=QI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:o},"ErrorBoundary")," or"," ",q.createElement("code",{style:o},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},t),e?q.createElement("pre",{style:r},e):null,l)}var a2=q.createElement(r2,null),o2=class extends q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?q.createElement(js.Provider,{value:this.props.routeContext},q.createElement(qy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function l2({routeContext:n,match:t,children:e}){let i=q.useContext(Kl);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),q.createElement(js.Provider,{value:n},e)}function c2(n,t=[],e=null,i=null,r=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let o=n,l=e?.errors;if(l!=null){let y=o.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);De(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let u=!1,d=-1;if(e)for(let y=0;y<o.length;y++){let g=o[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=y),g.route.id){let{loaderData:v,errors:E}=e,w=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!E||E[g.route.id]===void 0);if(g.route.lazy||w){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let f=e&&i?(y,g)=>{i(y,{location:e.location,params:e.matches?.[0]?.params??{},errorInfo:g})}:void 0;return o.reduceRight((y,g,v)=>{let E,w=!1,A=null,R=null;e&&(E=l&&g.route.id?l[g.route.id]:void 0,A=g.route.errorElement||a2,u&&(d<0&&v===0?(s1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,R=null):d===v&&(w=!0,R=g.route.hydrateFallbackElement||null)));let N=t.concat(o.slice(0,v+1)),j=()=>{let z;return E?z=A:w?z=R:g.route.Component?z=q.createElement(g.route.Component,null):g.route.element?z=g.route.element:z=y,q.createElement(l2,{match:g,routeContext:{outlet:y,matches:N,isDataRoute:e!=null},children:z})};return e&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?q.createElement(o2,{location:e.location,revalidation:e.revalidation,component:A,error:E,children:j(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:f}):j()},null)}function Wy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u2(n){let t=q.useContext(Kl);return De(t,Wy(n)),t}function h2(n){let t=q.useContext(Gf);return De(t,Wy(n)),t}function d2(n){let t=q.useContext(js);return De(t,Wy(n)),t}function Yy(n){let t=d2(n),e=t.matches[t.matches.length-1];return De(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function f2(){return Yy("useRouteId")}function p2(){let n=q.useContext(qy),t=h2("useRouteError"),e=Yy("useRouteError");return n!==void 0?n:t.errors?.[e]}function m2(){let{router:n}=u2("useNavigate"),t=Yy("useNavigate"),e=q.useRef(!1);return e1(()=>{e.current=!0}),q.useCallback(async(r,o={})=>{Vi(e.current,t1),e.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:t,...o}))},[n,t])}var Bx={};function s1(n,t,e){!t&&!Bx[n]&&(Bx[n]=!0,Vi(!1,e))}q.memo(g2);function g2({routes:n,future:t,state:e,unstable_onError:i}){return i1(n,void 0,e,i,t)}function y2(n){return i2(n.context)}function Ss(n){De(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _2({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:o=!1}){De(!Qu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=q.useMemo(()=>({basename:l,navigator:r,static:o,future:{}}),[l,r,o]);typeof e=="string"&&(e=Do(e));let{pathname:d="/",search:f="",hash:y="",state:g=null,key:v="default"}=e,E=q.useMemo(()=>{let w=yr(d,l);return w==null?null:{location:{pathname:w,search:f,hash:y,state:g,key:v},navigationType:i}},[l,d,f,y,g,v,i]);return Vi(E!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${y}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:q.createElement(Vs.Provider,{value:u},q.createElement(Xu.Provider,{children:t,value:E}))}function v2({children:n,location:t}){return s2(ny(n),t)}function ny(n,t=[]){let e=[];return q.Children.forEach(n,(i,r)=>{if(!q.isValidElement(i))return;let o=[...t,r];if(i.type===q.Fragment){e.push.apply(e,ny(i.props.children,o));return}De(i.type===Ss,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),De(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=ny(i.props.children,o)),e.push(l)}),e}var nf="get",sf="application/x-www-form-urlencoded";function Wf(n){return n!=null&&typeof n.tagName=="string"}function b2(n){return Wf(n)&&n.tagName.toLowerCase()==="button"}function x2(n){return Wf(n)&&n.tagName.toLowerCase()==="form"}function E2(n){return Wf(n)&&n.tagName.toLowerCase()==="input"}function S2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function T2(n,t){return n.button===0&&(!t||t==="_self")&&!S2(n)}var Pd=null;function w2(){if(Pd===null)try{new FormData(document.createElement("form"),0),Pd=!1}catch{Pd=!0}return Pd}var A2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cg(n){return n!=null&&!A2.has(n)?(Vi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sf}"`),null):n}function C2(n,t){let e,i,r,o,l;if(x2(n)){let u=n.getAttribute("action");i=u?yr(u,t):null,e=n.getAttribute("method")||nf,r=Cg(n.getAttribute("enctype"))||sf,o=new FormData(n)}else if(b2(n)||E2(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(i=d?yr(d,t):null,e=n.getAttribute("formmethod")||u.getAttribute("method")||nf,r=Cg(n.getAttribute("formenctype"))||Cg(u.getAttribute("enctype"))||sf,o=new FormData(u,n),!w2()){let{name:f,type:y,value:g}=n;if(y==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,g)}}else{if(Wf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=nf,i=null,r=sf,l=n}return o&&r==="text/plain"&&(l=o,o=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $y(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function R2(n,t,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&yr(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function I2(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function D2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function M2(n,t,e){let i=await Promise.all(n.map(async r=>{let o=t.routes[r.route.id];if(o){let l=await I2(o,e);return l.links?l.links():[]}return[]}));return P2(i.flat(1).filter(D2).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Fx(n,t,e,i,r,o){let l=(d,f)=>e[f]?d.route.id!==e[f].route.id:!0,u=(d,f)=>e[f].pathname!==d.pathname||e[f].route.path?.endsWith("*")&&e[f].params["*"]!==d.params["*"];return o==="assets"?t.filter((d,f)=>l(d,f)||u(d,f)):o==="data"?t.filter((d,f)=>{let y=i.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function k2(n,t,{includeHydrateFallback:e}={}){return N2(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function N2(n){return[...new Set(n)]}function O2(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function P2(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let o=JSON.stringify(O2(r));return e.has(o)||(e.add(o),i.push({key:o,link:r})),i},[])}function r1(){let n=q.useContext(Kl);return $y(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function L2(){let n=q.useContext(Gf);return $y(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ky=q.createContext(void 0);Ky.displayName="FrameworkContext";function a1(){let n=q.useContext(Ky);return $y(n,"You must render this element inside a <HydratedRouter> element"),n}function V2(n,t){let e=q.useContext(Ky),[i,r]=q.useState(!1),[o,l]=q.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:y,onTouchStart:g}=t,v=q.useRef(null);q.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let A=N=>{N.forEach(j=>{l(j.isIntersecting)})},R=new IntersectionObserver(A,{threshold:.5});return v.current&&R.observe(v.current),()=>{R.disconnect()}}},[n]),q.useEffect(()=>{if(i){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[i]);let E=()=>{r(!0)},w=()=>{r(!1),l(!1)};return e?n!=="intent"?[o,v,{}]:[o,v,{onFocus:su(u,E),onBlur:su(d,w),onMouseEnter:su(f,E),onMouseLeave:su(y,w),onTouchStart:su(g,E)}]:[!1,v,{}]}function su(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function j2({page:n,...t}){let{router:e}=r1(),i=q.useMemo(()=>YT(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?q.createElement(U2,{page:n,matches:i,...t}):null}function z2(n){let{manifest:t,routeModules:e}=a1(),[i,r]=q.useState([]);return q.useEffect(()=>{let o=!1;return M2(n,t,e).then(l=>{o||r(l)}),()=>{o=!0}},[n,t,e]),i}function U2({page:n,matches:t,...e}){let i=Mo(),{manifest:r,routeModules:o}=a1(),{basename:l}=r1(),{loaderData:u,matches:d}=L2(),f=q.useMemo(()=>Fx(n,t,d,r,i,"data"),[n,t,d,r,i]),y=q.useMemo(()=>Fx(n,t,d,r,i,"assets"),[n,t,d,r,i]),g=q.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let w=new Set,A=!1;if(t.forEach(N=>{let j=r.routes[N.route.id];!j||!j.hasLoader||(!f.some(z=>z.route.id===N.route.id)&&N.route.id in u&&o[N.route.id]?.shouldRevalidate||j.hasClientLoader?A=!0:w.add(N.route.id))}),w.size===0)return[];let R=R2(n,l,"data");return A&&w.size>0&&R.searchParams.set("_routes",t.filter(N=>w.has(N.route.id)).map(N=>N.route.id).join(",")),[R.pathname+R.search]},[l,u,i,r,f,t,n,o]),v=q.useMemo(()=>k2(y,r),[y,r]),E=z2(y);return q.createElement(q.Fragment,null,g.map(w=>q.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...e})),v.map(w=>q.createElement("link",{key:w,rel:"modulepreload",href:w,...e})),E.map(({key:w,link:A})=>q.createElement("link",{key:w,nonce:e.nonce,...A})))}function B2(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var o1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{o1&&(window.__reactRouterVersion="7.9.6")}catch{}function F2({basename:n,children:t,window:e}){let i=q.useRef();i.current==null&&(i.current=CI({window:e,v5Compat:!0}));let r=i.current,[o,l]=q.useState({action:r.action,location:r.location}),u=q.useCallback(d=>{q.startTransition(()=>l(d))},[l]);return q.useLayoutEffect(()=>r.listen(u),[r,u]),q.createElement(_2,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:r})}var l1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,c1=q.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:o,replace:l,state:u,target:d,to:f,preventScrollReset:y,viewTransition:g,...v},E){let{basename:w}=q.useContext(Vs),A=typeof f=="string"&&l1.test(f),R,N=!1;if(typeof f=="string"&&A&&(R=f,o1))try{let M=new URL(window.location.href),L=f.startsWith("//")?new URL(M.protocol+f):new URL(f),P=yr(L.pathname,w);L.origin===M.origin&&P!=null?f=P+L.search+L.hash:N=!0}catch{Vi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=e2(f,{relative:r}),[z,X,B]=V2(i,v),G=G2(f,{replace:l,state:u,target:d,preventScrollReset:y,relative:r,viewTransition:g});function D(M){t&&t(M),M.defaultPrevented||G(M)}let C=q.createElement("a",{...v,...B,href:R||j,onClick:N||o?t:D,ref:B2(E,X),target:d,"data-discover":!A&&e==="render"?"true":void 0});return z&&!A?q.createElement(q.Fragment,null,C,q.createElement(j2,{page:j})):C});c1.displayName="Link";var ia=q.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:o,to:l,viewTransition:u,children:d,...f},y){let g=Ju(l,{relative:f.relative}),v=Mo(),E=q.useContext(Gf),{navigator:w,basename:A}=q.useContext(Vs),R=E!=null&&X2(g)&&u===!0,N=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,j=v.pathname,z=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;e||(j=j.toLowerCase(),z=z?z.toLowerCase():null,N=N.toLowerCase()),z&&A&&(z=yr(z,A)||z);const X=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let B=j===N||!r&&j.startsWith(N)&&j.charAt(X)==="/",G=z!=null&&(z===N||!r&&z.startsWith(N)&&z.charAt(N.length)==="/"),D={isActive:B,isPending:G,isTransitioning:R},C=B?t:void 0,M;typeof i=="function"?M=i(D):M=[i,B?"active":null,G?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(D):o;return q.createElement(c1,{...f,"aria-current":C,className:M,ref:y,style:L,to:l,viewTransition:u},typeof d=="function"?d(D):d)});ia.displayName="NavLink";var H2=q.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:o,method:l=nf,action:u,onSubmit:d,relative:f,preventScrollReset:y,viewTransition:g,...v},E)=>{let w=$2(),A=K2(u,{relative:f}),R=l.toLowerCase()==="get"?"get":"post",N=typeof u=="string"&&l1.test(u),j=z=>{if(d&&d(z),z.defaultPrevented)return;z.preventDefault();let X=z.nativeEvent.submitter,B=X?.getAttribute("formmethod")||l;w(X||z.currentTarget,{fetcherKey:t,method:B,navigate:e,replace:r,state:o,relative:f,preventScrollReset:y,viewTransition:g})};return q.createElement("form",{ref:E,method:R,action:A,onSubmit:i?d:j,...v,"data-discover":!N&&n==="render"?"true":void 0})});H2.displayName="Form";function q2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u1(n){let t=q.useContext(Kl);return De(t,q2(n)),t}function G2(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:o,viewTransition:l}={}){let u=Gy(),d=Mo(),f=Ju(n,{relative:o});return q.useCallback(y=>{if(T2(y,t)){y.preventDefault();let g=e!==void 0?e:Du(d)===Du(f);u(n,{replace:g,state:i,preventScrollReset:r,relative:o,viewTransition:l})}},[d,u,f,e,i,t,n,r,o,l])}var W2=0,Y2=()=>`__${String(++W2)}__`;function $2(){let{router:n}=u1("useSubmit"),{basename:t}=q.useContext(Vs),e=f2();return q.useCallback(async(i,r={})=>{let{action:o,method:l,encType:u,formData:d,body:f}=C2(i,t);if(r.navigate===!1){let y=r.fetcherKey||Y2();await n.fetch(y,e,r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:f,formMethod:r.method||l,formEncType:r.encType||u,flushSync:r.flushSync})}else await n.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:f,formMethod:r.method||l,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,t,e])}function K2(n,{relative:t}={}){let{basename:e}=q.useContext(Vs),i=q.useContext(js);De(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...Ju(n||".",{relative:t})},l=Mo();if(n==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(y=>y==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let y=u.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:mr([e,o.pathname])),Du(o)}function X2(n,{relative:t}={}){let e=q.useContext(ZT);De(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=u1("useViewTransitionState"),r=Ju(n,{relative:t});if(!e.isTransitioning)return!1;let o=yr(e.currentLocation.pathname,i)||e.currentLocation.pathname,l=yr(e.nextLocation.pathname,i)||e.nextLocation.pathname;return yf(r.pathname,l)!=null||yf(r.pathname,o)!=null}var Q2=WT();const J2=Fy(Q2);function Z2(n){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.appendChild(e),e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}const tD=n=>{switch(n){case"success":return iD;case"info":return rD;case"warning":return sD;case"error":return aD;default:return null}},eD=Array(12).fill(0),nD=({visible:n,className:t})=>pt.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":n},pt.createElement("div",{className:"sonner-spinner"},eD.map((e,i)=>pt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),iD=pt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),sD=pt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},pt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),rD=pt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),aD=pt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),oD=pt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},pt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),pt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),lD=()=>{const[n,t]=pt.useState(document.hidden);return pt.useEffect(()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),n};let iy=1;class cD{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;const{message:i,...r}=t,o=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:iy++,l=this.toasts.find(d=>d.id===o),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),l?this.toasts=this.toasts.map(d=>d.id===o?(this.publish({...d,...t,id:o,title:i}),{...d,...t,id:o,dismissible:u,title:i}):d):this.addToast({title:i,...r,dismissible:u,id:o}),o},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(e=>e({id:t,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(i=>i({id:e.id,dismiss:!0}))}),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let i;e.loading!==void 0&&(i=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));const r=Promise.resolve(t instanceof Function?t():t);let o=i!==void 0,l;const u=r.then(async f=>{if(l=["resolve",f],pt.isValidElement(f))o=!1,this.create({id:i,type:"default",message:f});else if(hD(f)&&!f.ok){o=!1;const g=typeof e.error=="function"?await e.error(`HTTP error! status: ${f.status}`):e.error,v=typeof e.description=="function"?await e.description(`HTTP error! status: ${f.status}`):e.description,w=typeof g=="object"&&!pt.isValidElement(g)?g:{message:g};this.create({id:i,type:"error",description:v,...w})}else if(f instanceof Error){o=!1;const g=typeof e.error=="function"?await e.error(f):e.error,v=typeof e.description=="function"?await e.description(f):e.description,w=typeof g=="object"&&!pt.isValidElement(g)?g:{message:g};this.create({id:i,type:"error",description:v,...w})}else if(e.success!==void 0){o=!1;const g=typeof e.success=="function"?await e.success(f):e.success,v=typeof e.description=="function"?await e.description(f):e.description,w=typeof g=="object"&&!pt.isValidElement(g)?g:{message:g};this.create({id:i,type:"success",description:v,...w})}}).catch(async f=>{if(l=["reject",f],e.error!==void 0){o=!1;const y=typeof e.error=="function"?await e.error(f):e.error,g=typeof e.description=="function"?await e.description(f):e.description,E=typeof y=="object"&&!pt.isValidElement(y)?y:{message:y};this.create({id:i,type:"error",description:g,...E})}}).finally(()=>{o&&(this.dismiss(i),i=void 0),e.finally==null||e.finally.call(e)}),d=()=>new Promise((f,y)=>u.then(()=>l[0]==="reject"?y(l[1]):f(l[1])).catch(y));return typeof i!="string"&&typeof i!="number"?{unwrap:d}:Object.assign(i,{unwrap:d})},this.custom=(t,e)=>{const i=e?.id||iy++;return this.create({jsx:t(i),id:i,...e}),i},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Zn=new cD,uD=(n,t)=>{const e=t?.id||iy++;return Zn.addToast({title:n,...t,id:e}),e},hD=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",dD=uD,fD=()=>Zn.toasts,pD=()=>Zn.getActiveToasts(),ce=Object.assign(dD,{success:Zn.success,info:Zn.info,warning:Zn.warning,error:Zn.error,custom:Zn.custom,message:Zn.message,promise:Zn.promise,dismiss:Zn.dismiss,loading:Zn.loading},{getHistory:fD,getToasts:pD});Z2("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Ld(n){return n.label!==void 0}const mD=3,gD="24px",yD="16px",Hx=4e3,_D=356,vD=14,bD=45,xD=200;function Es(...n){return n.filter(Boolean).join(" ")}function ED(n){const[t,e]=n.split("-"),i=[];return t&&i.push(t),e&&i.push(e),i}const SD=n=>{var t,e,i,r,o,l,u,d,f;const{invert:y,toast:g,unstyled:v,interacting:E,setHeights:w,visibleToasts:A,heights:R,index:N,toasts:j,expanded:z,removeToast:X,defaultRichColors:B,closeButton:G,style:D,cancelButtonStyle:C,actionButtonStyle:M,className:L="",descriptionClassName:P="",duration:V,position:O,gap:xt,expandByDefault:bt,classNames:W,icons:K,closeButtonAriaLabel:ut="Close toast"}=n,[mt,ct]=pt.useState(null),[U,$]=pt.useState(null),[et,lt]=pt.useState(!1),[dt,gt]=pt.useState(!1),[St,It]=pt.useState(!1),[Lt,Ue]=pt.useState(!1),[an,on]=pt.useState(!1),[si,Rn]=pt.useState(0),[zs,ri]=pt.useState(0),Hn=pt.useRef(g.duration||V||Hx),Ze=pt.useRef(null),At=pt.useRef(null),te=N===0,mn=N+1<=A,Ee=g.type,qn=g.dismissible!==!1,gn=g.className||"",Us=g.descriptionClassName||"",ns=pt.useMemo(()=>R.findIndex(Ct=>Ct.toastId===g.id)||0,[R,g.id]),La=pt.useMemo(()=>{var Ct;return(Ct=g.closeButton)!=null?Ct:G},[g.closeButton,G]),ji=pt.useMemo(()=>g.duration||V||Hx,[g.duration,V]),Va=pt.useRef(0),zi=pt.useRef(0),ja=pt.useRef(0),Ui=pt.useRef(null),[ai,tn]=O.split("-"),zn=pt.useMemo(()=>R.reduce((Ct,ie,Be)=>Be>=ns?Ct:Ct+ie.height,0),[R,ns]),Se=lD(),Vo=g.invert||y,is=Ee==="loading";zi.current=pt.useMemo(()=>ns*xt+zn,[ns,zn]),pt.useEffect(()=>{Hn.current=ji},[ji]),pt.useEffect(()=>{lt(!0)},[]),pt.useEffect(()=>{const Ct=At.current;if(Ct){const ie=Ct.getBoundingClientRect().height;return ri(ie),w(Be=>[{toastId:g.id,height:ie,position:g.position},...Be]),()=>w(Be=>Be.filter(ln=>ln.toastId!==g.id))}},[w,g.id]),pt.useLayoutEffect(()=>{if(!et)return;const Ct=At.current,ie=Ct.style.height;Ct.style.height="auto";const Be=Ct.getBoundingClientRect().height;Ct.style.height=ie,ri(Be),w(ln=>ln.find(ye=>ye.toastId===g.id)?ln.map(ye=>ye.toastId===g.id?{...ye,height:Be}:ye):[{toastId:g.id,height:Be,position:g.position},...ln])},[et,g.title,g.description,w,g.id,g.jsx,g.action,g.cancel]);const oi=pt.useCallback(()=>{gt(!0),Rn(zi.current),w(Ct=>Ct.filter(ie=>ie.toastId!==g.id)),setTimeout(()=>{X(g)},xD)},[g,X,w,zi]);pt.useEffect(()=>{if(g.promise&&Ee==="loading"||g.duration===1/0||g.type==="loading")return;let Ct;return z||E||Se?(()=>{if(ja.current<Va.current){const ln=new Date().getTime()-Va.current;Hn.current=Hn.current-ln}ja.current=new Date().getTime()})():(()=>{Hn.current!==1/0&&(Va.current=new Date().getTime(),Ct=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),oi()},Hn.current))})(),()=>clearTimeout(Ct)},[z,E,g,Ee,Se,oi]),pt.useEffect(()=>{g.delete&&(oi(),g.onDismiss==null||g.onDismiss.call(g,g))},[oi,g.delete]);function bi(){var Ct;if(K?.loading){var ie;return pt.createElement("div",{className:Es(W?.loader,g==null||(ie=g.classNames)==null?void 0:ie.loader,"sonner-loader"),"data-visible":Ee==="loading"},K.loading)}return pt.createElement(nD,{className:Es(W?.loader,g==null||(Ct=g.classNames)==null?void 0:Ct.loader),visible:Ee==="loading"})}const Bs=g.icon||K?.[Ee]||tD(Ee);var Ie,li;return pt.createElement("li",{tabIndex:0,ref:At,className:Es(L,gn,W?.toast,g==null||(t=g.classNames)==null?void 0:t.toast,W?.default,W?.[Ee],g==null||(e=g.classNames)==null?void 0:e[Ee]),"data-sonner-toast":"","data-rich-colors":(Ie=g.richColors)!=null?Ie:B,"data-styled":!(g.jsx||g.unstyled||v),"data-mounted":et,"data-promise":!!g.promise,"data-swiped":an,"data-removed":dt,"data-visible":mn,"data-y-position":ai,"data-x-position":tn,"data-index":N,"data-front":te,"data-swiping":St,"data-dismissible":qn,"data-type":Ee,"data-invert":Vo,"data-swipe-out":Lt,"data-swipe-direction":U,"data-expanded":!!(z||bt&&et),"data-testid":g.testId,style:{"--index":N,"--toasts-before":N,"--z-index":j.length-N,"--offset":`${dt?si:zi.current}px`,"--initial-height":bt?"auto":`${zs}px`,...D,...g.style},onDragEnd:()=>{It(!1),ct(null),Ui.current=null},onPointerDown:Ct=>{Ct.button!==2&&(is||!qn||(Ze.current=new Date,Rn(zi.current),Ct.target.setPointerCapture(Ct.pointerId),Ct.target.tagName!=="BUTTON"&&(It(!0),Ui.current={x:Ct.clientX,y:Ct.clientY})))},onPointerUp:()=>{var Ct,ie,Be;if(Lt||!qn)return;Ui.current=null;const ln=Number(((Ct=At.current)==null?void 0:Ct.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Un=Number(((ie=At.current)==null?void 0:ie.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ye=new Date().getTime()-((Be=Ze.current)==null?void 0:Be.getTime()),In=mt==="x"?ln:Un,xi=Math.abs(In)/ye;if(Math.abs(In)>=bD||xi>.11){Rn(zi.current),g.onDismiss==null||g.onDismiss.call(g,g),$(mt==="x"?ln>0?"right":"left":Un>0?"down":"up"),oi(),Ue(!0);return}else{var yn,_n;(yn=At.current)==null||yn.style.setProperty("--swipe-amount-x","0px"),(_n=At.current)==null||_n.style.setProperty("--swipe-amount-y","0px")}on(!1),It(!1),ct(null)},onPointerMove:Ct=>{var ie,Be,ln;if(!Ui.current||!qn||((ie=window.getSelection())==null?void 0:ie.toString().length)>0)return;const ye=Ct.clientY-Ui.current.y,In=Ct.clientX-Ui.current.x;var xi;const yn=(xi=n.swipeDirections)!=null?xi:ED(O);!mt&&(Math.abs(In)>1||Math.abs(ye)>1)&&ct(Math.abs(In)>Math.abs(ye)?"x":"y");let _n={x:0,y:0};const ss=vn=>1/(1.5+Math.abs(vn)/20);if(mt==="y"){if(yn.includes("top")||yn.includes("bottom"))if(yn.includes("top")&&ye<0||yn.includes("bottom")&&ye>0)_n.y=ye;else{const vn=ye*ss(ye);_n.y=Math.abs(vn)<Math.abs(ye)?vn:ye}}else if(mt==="x"&&(yn.includes("left")||yn.includes("right")))if(yn.includes("left")&&In<0||yn.includes("right")&&In>0)_n.x=In;else{const vn=In*ss(In);_n.x=Math.abs(vn)<Math.abs(In)?vn:In}(Math.abs(_n.x)>0||Math.abs(_n.y)>0)&&on(!0),(Be=At.current)==null||Be.style.setProperty("--swipe-amount-x",`${_n.x}px`),(ln=At.current)==null||ln.style.setProperty("--swipe-amount-y",`${_n.y}px`)}},La&&!g.jsx&&Ee!=="loading"?pt.createElement("button",{"aria-label":ut,"data-disabled":is,"data-close-button":!0,onClick:is||!qn?()=>{}:()=>{oi(),g.onDismiss==null||g.onDismiss.call(g,g)},className:Es(W?.closeButton,g==null||(i=g.classNames)==null?void 0:i.closeButton)},(li=K?.close)!=null?li:oD):null,(Ee||g.icon||g.promise)&&g.icon!==null&&(K?.[Ee]!==null||g.icon)?pt.createElement("div",{"data-icon":"",className:Es(W?.icon,g==null||(r=g.classNames)==null?void 0:r.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||bi():null,g.type!=="loading"?Bs:null):null,pt.createElement("div",{"data-content":"",className:Es(W?.content,g==null||(o=g.classNames)==null?void 0:o.content)},pt.createElement("div",{"data-title":"",className:Es(W?.title,g==null||(l=g.classNames)==null?void 0:l.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?pt.createElement("div",{"data-description":"",className:Es(P,Us,W?.description,g==null||(u=g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),pt.isValidElement(g.cancel)?g.cancel:g.cancel&&Ld(g.cancel)?pt.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||C,onClick:Ct=>{Ld(g.cancel)&&qn&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Ct),oi())},className:Es(W?.cancelButton,g==null||(d=g.classNames)==null?void 0:d.cancelButton)},g.cancel.label):null,pt.isValidElement(g.action)?g.action:g.action&&Ld(g.action)?pt.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||M,onClick:Ct=>{Ld(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Ct),!Ct.defaultPrevented&&oi())},className:Es(W?.actionButton,g==null||(f=g.classNames)==null?void 0:f.actionButton)},g.action.label):null)};function qx(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function TD(n,t){const e={};return[n,t].forEach((i,r)=>{const o=r===1,l=o?"--mobile-offset":"--offset",u=o?yD:gD;function d(f){["top","right","bottom","left"].forEach(y=>{e[`${l}-${y}`]=typeof f=="number"?`${f}px`:f})}typeof i=="number"||typeof i=="string"?d(i):typeof i=="object"?["top","right","bottom","left"].forEach(f=>{i[f]===void 0?e[`${l}-${f}`]=u:e[`${l}-${f}`]=typeof i[f]=="number"?`${i[f]}px`:i[f]}):d(u)}),e}const h1=pt.forwardRef(function(t,e){const{id:i,invert:r,position:o="bottom-right",hotkey:l=["altKey","KeyT"],expand:u,closeButton:d,className:f,offset:y,mobileOffset:g,theme:v="light",richColors:E,duration:w,style:A,visibleToasts:R=mD,toastOptions:N,dir:j=qx(),gap:z=vD,icons:X,containerAriaLabel:B="Notifications"}=t,[G,D]=pt.useState([]),C=pt.useMemo(()=>i?G.filter(et=>et.toasterId===i):G.filter(et=>!et.toasterId),[G,i]),M=pt.useMemo(()=>Array.from(new Set([o].concat(C.filter(et=>et.position).map(et=>et.position)))),[C,o]),[L,P]=pt.useState([]),[V,O]=pt.useState(!1),[xt,bt]=pt.useState(!1),[W,K]=pt.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ut=pt.useRef(null),mt=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),ct=pt.useRef(null),U=pt.useRef(!1),$=pt.useCallback(et=>{D(lt=>{var dt;return(dt=lt.find(gt=>gt.id===et.id))!=null&&dt.delete||Zn.dismiss(et.id),lt.filter(({id:gt})=>gt!==et.id)})},[]);return pt.useEffect(()=>Zn.subscribe(et=>{if(et.dismiss){requestAnimationFrame(()=>{D(lt=>lt.map(dt=>dt.id===et.id?{...dt,delete:!0}:dt))});return}setTimeout(()=>{J2.flushSync(()=>{D(lt=>{const dt=lt.findIndex(gt=>gt.id===et.id);return dt!==-1?[...lt.slice(0,dt),{...lt[dt],...et},...lt.slice(dt+1)]:[et,...lt]})})})}),[G]),pt.useEffect(()=>{if(v!=="system"){K(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?K("dark"):K("light")),typeof window>"u")return;const et=window.matchMedia("(prefers-color-scheme: dark)");try{et.addEventListener("change",({matches:lt})=>{K(lt?"dark":"light")})}catch{et.addListener(({matches:dt})=>{try{K(dt?"dark":"light")}catch(gt){console.error(gt)}})}},[v]),pt.useEffect(()=>{G.length<=1&&O(!1)},[G]),pt.useEffect(()=>{const et=lt=>{var dt;if(l.every(It=>lt[It]||lt.code===It)){var St;O(!0),(St=ut.current)==null||St.focus()}lt.code==="Escape"&&(document.activeElement===ut.current||(dt=ut.current)!=null&&dt.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",et),()=>document.removeEventListener("keydown",et)},[l]),pt.useEffect(()=>{if(ut.current)return()=>{ct.current&&(ct.current.focus({preventScroll:!0}),ct.current=null,U.current=!1)}},[ut.current]),pt.createElement("section",{ref:e,"aria-label":`${B} ${mt}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},M.map((et,lt)=>{var dt;const[gt,St]=et.split("-");return C.length?pt.createElement("ol",{key:et,dir:j==="auto"?qx():j,tabIndex:-1,ref:ut,className:f,"data-sonner-toaster":!0,"data-sonner-theme":W,"data-y-position":gt,"data-x-position":St,style:{"--front-toast-height":`${((dt=L[0])==null?void 0:dt.height)||0}px`,"--width":`${_D}px`,"--gap":`${z}px`,...A,...TD(y,g)},onBlur:It=>{U.current&&!It.currentTarget.contains(It.relatedTarget)&&(U.current=!1,ct.current&&(ct.current.focus({preventScroll:!0}),ct.current=null))},onFocus:It=>{It.target instanceof HTMLElement&&It.target.dataset.dismissible==="false"||U.current||(U.current=!0,ct.current=It.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{xt||O(!1)},onDragEnd:()=>O(!1),onPointerDown:It=>{It.target instanceof HTMLElement&&It.target.dataset.dismissible==="false"||bt(!0)},onPointerUp:()=>bt(!1)},C.filter(It=>!It.position&&lt===0||It.position===et).map((It,Lt)=>{var Ue,an;return pt.createElement(SD,{key:It.id,icons:X,index:Lt,toast:It,defaultRichColors:E,duration:(Ue=N?.duration)!=null?Ue:w,className:N?.className,descriptionClassName:N?.descriptionClassName,invert:r,visibleToasts:R,closeButton:(an=N?.closeButton)!=null?an:d,interacting:xt,position:et,style:N?.style,unstyled:N?.unstyled,classNames:N?.classNames,cancelButtonStyle:N?.cancelButtonStyle,actionButtonStyle:N?.actionButtonStyle,closeButtonAriaLabel:N?.closeButtonAriaLabel,removeToast:$,toasts:C.filter(on=>on.position==It.position),heights:L.filter(on=>on.position==It.position),setHeights:P,expandByDefault:u,gap:z,expanded:V,swipeDirections:t.swipeDirections})})):null}))}),wD=()=>{};var Gx={};const d1=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},AD=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],l=n[e++],u=n[e++],d=((r&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;t[i++]=String.fromCharCode(55296+(d>>10)),t[i++]=String.fromCharCode(56320+(d&1023))}else{const o=n[e++],l=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|l&63)}}return t.join("")},f1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],l=r+1<n.length,u=l?n[r+1]:0,d=r+2<n.length,f=d?n[r+2]:0,y=o>>2,g=(o&3)<<4|u>>4;let v=(u&15)<<2|f>>6,E=f&63;d||(E=64,l||(v=64)),i.push(e[y],e[g],e[v],e[E])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(d1(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):AD(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],u=r<n.length?e[n.charAt(r)]:0;++r;const f=r<n.length?e[n.charAt(r)]:64;++r;const g=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||u==null||f==null||g==null)throw new CD;const v=o<<2|u>>4;if(i.push(v),f!==64){const E=u<<4&240|f>>2;if(i.push(E),g!==64){const w=f<<6&192|g;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class CD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RD=function(n){const t=d1(n);return f1.encodeByteArray(t,!0)},_f=function(n){return RD(n).replace(/\./g,"")},p1=function(n){try{return f1.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ID(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const DD=()=>ID().__FIREBASE_DEFAULTS__,MD=()=>{if(typeof process>"u"||typeof Gx>"u")return;const n=Gx.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},kD=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&p1(n[1]);return t&&JSON.parse(t)},Yf=()=>{try{return wD()||DD()||MD()||kD()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},m1=n=>Yf()?.emulatorHosts?.[n],ND=n=>{const t=m1(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},g1=()=>Yf()?.config,y1=n=>Yf()?.[`_${n}`];class OD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function Xl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _1(n){return(await fetch(n,{credentials:"include"})).ok}function PD(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[_f(JSON.stringify(e)),_f(JSON.stringify(l)),""].join(".")}const bu={};function LD(){const n={prod:[],emulator:[]};for(const t of Object.keys(bu))bu[t]?n.emulator.push(t):n.prod.push(t);return n}function VD(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Wx=!1;function v1(n,t){if(typeof window>"u"||typeof document>"u"||!Xl(window.location.host)||bu[n]===t||bu[n]||Wx)return;bu[n]=t;function e(v){return`__firebase__banner__${v}`}const i="__firebase__banner",o=LD().prod.length>0;function l(){const v=document.getElementById(i);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function d(v,E){v.setAttribute("width","24"),v.setAttribute("id",E),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Wx=!0,l()},v}function y(v,E){v.setAttribute("id",E),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=VD(i),E=e("text"),w=document.getElementById(E)||document.createElement("span"),A=e("learnmore"),R=document.getElementById(A)||document.createElement("a"),N=e("preprendIcon"),j=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const z=v.element;u(z),y(R,A);const X=f();d(j,N),z.append(j,w,R,X),document.body.appendChild(z)}o?(w.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function Vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vn())}function zD(){const n=Yf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BD(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function FD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HD(){const n=Vn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function qD(){return!zD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GD(){try{return typeof indexedDB=="object"}catch{return!1}}function WD(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}const YD="FirebaseError";class Er extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=YD,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zu.prototype.create)}}class Zu{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],l=o?$D(o,i):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new Er(r,u,i)}}function $D(n,t){return n.replace(KD,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const KD=/\{\$([^}]+)}/g;function XD(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Eo(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],l=t[r];if(Yx(o)&&Yx(l)){if(!Eo(o,l))return!1}else if(o!==l)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function Yx(n){return n!==null&&typeof n=="object"}function th(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function uu(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function hu(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function QD(n,t){const e=new JD(n,t);return e.subscribe.bind(e)}class JD{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");ZD(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Rg),r.error===void 0&&(r.error=Rg),r.complete===void 0&&(r.complete=Rg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZD(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Rg(){}function rn(n){return n&&n._delegate?n._delegate:n}class So{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const po="[DEFAULT]";class tM{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new OD;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(nM(t))try{this.getOrInitializeService({instanceIdentifier:po})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=po){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=po){return this.instances.has(t)}getOptions(t=po){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&l.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:eM(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=po){return this.component?this.component.multipleInstances?t:po:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eM(n){return n===po?void 0:n}function nM(n){return n.instantiationMode==="EAGER"}class iM{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new tM(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Gt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Gt||(Gt={}));const sM={debug:Gt.DEBUG,verbose:Gt.VERBOSE,info:Gt.INFO,warn:Gt.WARN,error:Gt.ERROR,silent:Gt.SILENT},rM=Gt.INFO,aM={[Gt.DEBUG]:"log",[Gt.VERBOSE]:"log",[Gt.INFO]:"info",[Gt.WARN]:"warn",[Gt.ERROR]:"error"},oM=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=aM[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Xy{constructor(t){this.name=t,this._logLevel=rM,this._logHandler=oM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Gt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?sM[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Gt.DEBUG,...t),this._logHandler(this,Gt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Gt.VERBOSE,...t),this._logHandler(this,Gt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Gt.INFO,...t),this._logHandler(this,Gt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Gt.WARN,...t),this._logHandler(this,Gt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Gt.ERROR,...t),this._logHandler(this,Gt.ERROR,...t)}}const lM=(n,t)=>t.some(e=>n instanceof e);let $x,Kx;function cM(){return $x||($x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uM(){return Kx||(Kx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b1=new WeakMap,sy=new WeakMap,x1=new WeakMap,Ig=new WeakMap,Qy=new WeakMap;function hM(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{e(pa(n.result)),r()},l=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",l)});return t.then(e=>{e instanceof IDBCursor&&b1.set(e,n)}).catch(()=>{}),Qy.set(t,n),t}function dM(n){if(sy.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{e(),r()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});sy.set(n,t)}let ry={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return sy.get(n);if(t==="objectStoreNames")return n.objectStoreNames||x1.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return pa(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function fM(n){ry=n(ry)}function pM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Dg(this),t,...e);return x1.set(i,t.sort?t.sort():[t]),pa(i)}:uM().includes(n)?function(...t){return n.apply(Dg(this),t),pa(b1.get(this))}:function(...t){return pa(n.apply(Dg(this),t))}}function mM(n){return typeof n=="function"?pM(n):(n instanceof IDBTransaction&&dM(n),lM(n,cM())?new Proxy(n,ry):n)}function pa(n){if(n instanceof IDBRequest)return hM(n);if(Ig.has(n))return Ig.get(n);const t=mM(n);return t!==n&&(Ig.set(n,t),Qy.set(t,n)),t}const Dg=n=>Qy.get(n);function gM(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const l=indexedDB.open(n,t),u=pa(l);return i&&l.addEventListener("upgradeneeded",d=>{i(pa(l.result),d.oldVersion,d.newVersion,pa(l.transaction),d)}),e&&l.addEventListener("blocked",d=>e(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const yM=["get","getKey","getAll","getAllKeys","count"],_M=["put","add","delete","clear"],Mg=new Map;function Xx(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Mg.get(t))return Mg.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=_M.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||yM.includes(e)))return;const o=async function(l,...u){const d=this.transaction(l,r?"readwrite":"readonly");let f=d.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[e](...u),r&&d.done]))[0]};return Mg.set(t,o),o}fM(n=>({...n,get:(t,e,i)=>Xx(t,e)||n.get(t,e,i),has:(t,e)=>!!Xx(t,e)||n.has(t,e)}));class vM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(bM(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function bM(n){return n.getComponent()?.type==="VERSION"}const ay="@firebase/app",Qx="0.14.6";const _r=new Xy("@firebase/app"),xM="@firebase/app-compat",EM="@firebase/analytics-compat",SM="@firebase/analytics",TM="@firebase/app-check-compat",wM="@firebase/app-check",AM="@firebase/auth",CM="@firebase/auth-compat",RM="@firebase/database",IM="@firebase/data-connect",DM="@firebase/database-compat",MM="@firebase/functions",kM="@firebase/functions-compat",NM="@firebase/installations",OM="@firebase/installations-compat",PM="@firebase/messaging",LM="@firebase/messaging-compat",VM="@firebase/performance",jM="@firebase/performance-compat",zM="@firebase/remote-config",UM="@firebase/remote-config-compat",BM="@firebase/storage",FM="@firebase/storage-compat",HM="@firebase/firestore",qM="@firebase/ai",GM="@firebase/firestore-compat",WM="firebase",YM="12.6.0";const oy="[DEFAULT]",$M={[ay]:"fire-core",[xM]:"fire-core-compat",[SM]:"fire-analytics",[EM]:"fire-analytics-compat",[wM]:"fire-app-check",[TM]:"fire-app-check-compat",[AM]:"fire-auth",[CM]:"fire-auth-compat",[RM]:"fire-rtdb",[IM]:"fire-data-connect",[DM]:"fire-rtdb-compat",[MM]:"fire-fn",[kM]:"fire-fn-compat",[NM]:"fire-iid",[OM]:"fire-iid-compat",[PM]:"fire-fcm",[LM]:"fire-fcm-compat",[VM]:"fire-perf",[jM]:"fire-perf-compat",[zM]:"fire-rc",[UM]:"fire-rc-compat",[BM]:"fire-gcs",[FM]:"fire-gcs-compat",[HM]:"fire-fst",[GM]:"fire-fst-compat",[qM]:"fire-vertex","fire-js":"fire-js",[WM]:"fire-js-all"};const vf=new Map,KM=new Map,ly=new Map;function Jx(n,t){try{n.container.addComponent(t)}catch(e){_r.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Ll(n){const t=n.name;if(ly.has(t))return _r.debug(`There were multiple attempts to register component ${t}.`),!1;ly.set(t,n);for(const e of vf.values())Jx(e,n);for(const e of KM.values())Jx(e,n);return!0}function Jy(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Pi(n){return n==null?!1:n.settings!==void 0}const XM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ma=new Zu("app","Firebase",XM);class QM{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new So("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ma.create("app-deleted",{appName:this._name})}}const Ql=YM;function E1(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:oy,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw ma.create("bad-app-name",{appName:String(r)});if(e||(e=g1()),!e)throw ma.create("no-options");const o=vf.get(r);if(o){if(Eo(e,o.options)&&Eo(i,o.config))return o;throw ma.create("duplicate-app",{appName:r})}const l=new iM(r);for(const d of ly.values())l.addComponent(d);const u=new QM(e,i,l);return vf.set(r,u),u}function S1(n=oy){const t=vf.get(n);if(!t&&n===oy&&g1())return E1();if(!t)throw ma.create("no-app",{appName:n});return t}function ga(n,t,e){let i=$M[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const l=[`Unable to register library "${i}" with version "${t}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),_r.warn(l.join(" "));return}Ll(new So(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const JM="firebase-heartbeat-database",ZM=1,Mu="firebase-heartbeat-store";let kg=null;function T1(){return kg||(kg=gM(JM,ZM,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Mu)}catch(e){console.warn(e)}}}}).catch(n=>{throw ma.create("idb-open",{originalErrorMessage:n.message})})),kg}async function tk(n){try{const e=(await T1()).transaction(Mu),i=await e.objectStore(Mu).get(w1(n));return await e.done,i}catch(t){if(t instanceof Er)_r.warn(t.message);else{const e=ma.create("idb-get",{originalErrorMessage:t?.message});_r.warn(e.message)}}}async function Zx(n,t){try{const i=(await T1()).transaction(Mu,"readwrite");await i.objectStore(Mu).put(t,w1(n)),await i.done}catch(e){if(e instanceof Er)_r.warn(e.message);else{const i=ma.create("idb-set",{originalErrorMessage:e?.message});_r.warn(i.message)}}}function w1(n){return`${n.name}!${n.options.appId}`}const ek=1024,nk=30;class ik{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new rk(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=tE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>nk){const r=ak(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){_r.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=tE(),{heartbeatsToSend:e,unsentEntries:i}=sk(this._heartbeatsCache.heartbeats),r=_f(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return _r.warn(t),""}}}function tE(){return new Date().toISOString().substring(0,10)}function sk(n,t=ek){const e=[];let i=n.slice();for(const r of n){const o=e.find(l=>l.agent===r.agent);if(o){if(o.dates.push(r.date),eE(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),eE(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class rk{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GD()?WD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await tk(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Zx(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Zx(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function eE(n){return _f(JSON.stringify({version:2,heartbeats:n})).length}function ak(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function ok(n){Ll(new So("platform-logger",t=>new vM(t),"PRIVATE")),Ll(new So("heartbeat",t=>new ik(t),"PRIVATE")),ga(ay,Qx,n),ga(ay,Qx,"esm2020"),ga("fire-js","")}ok("");function A1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lk=A1,C1=new Zu("auth","Firebase",A1());const bf=new Xy("@firebase/auth");function ck(n,...t){bf.logLevel<=Gt.WARN&&bf.warn(`Auth (${Ql}): ${n}`,...t)}function rf(n,...t){bf.logLevel<=Gt.ERROR&&bf.error(`Auth (${Ql}): ${n}`,...t)}function ts(n,...t){throw Zy(n,...t)}function Cs(n,...t){return Zy(n,...t)}function R1(n,t,e){const i={...lk(),[t]:e};return new Zu("auth","Firebase",i).create(t,{appName:n.name})}function gr(n){return R1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zy(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return C1.create(n,...t)}function Dt(n,t,...e){if(!n)throw Zy(t,...e)}function ur(n){const t="INTERNAL ASSERTION FAILED: "+n;throw rf(t),new Error(t)}function vr(n,t){n||ur(t)}function cy(){return typeof self<"u"&&self.location?.href||""}function uk(){return nE()==="http:"||nE()==="https:"}function nE(){return typeof self<"u"&&self.location?.protocol||null}function hk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uk()||BD()||"connection"in navigator)?navigator.onLine:!0}function dk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class eh{constructor(t,e){this.shortDelay=t,this.longDelay=e,vr(e>t,"Short delay should be less than long delay!"),this.isMobile=jD()||FD()}get(){return hk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function t_(n,t){vr(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class I1{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const pk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mk=new eh(3e4,6e4);function Da(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Ma(n,t,e,i,r={}){return D1(n,r,async()=>{let o={},l={};i&&(t==="GET"?l=i:o={body:JSON.stringify(i)});const u=th({key:n.config.apiKey,...l}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f={method:t,headers:d,...o};return UD()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Xl(n.emulatorConfig.host)&&(f.credentials="include"),I1.fetch()(await M1(n,n.config.apiHost,e,u),f)})}async function D1(n,t,e){n._canInitEmulator=!1;const i={...fk,...t};try{const r=new yk(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Vd(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vd(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Vd(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw Vd(n,"user-disabled",l);const y=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw R1(n,y,f);ts(n,y)}}catch(r){if(r instanceof Er)throw r;ts(n,"network-request-failed",{message:String(r)})}}async function nh(n,t,e,i,r={}){const o=await Ma(n,t,e,i,r);return"mfaPendingCredential"in o&&ts(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function M1(n,t,e,i){const r=`${t}${e}?${i}`,o=n,l=o.config.emulator?t_(n.config,r):`${n.config.apiScheme}://${r}`;return pk.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function gk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Cs(this.auth,"network-request-failed")),mk.get())})}}function Vd(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=Cs(n,t,i);return r.customData._tokenResponse=e,r}function iE(n){return n!==void 0&&n.enterprise!==void 0}class _k{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return gk(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vk(n,t){return Ma(n,"GET","/v2/recaptchaConfig",Da(n,t))}async function bk(n,t){return Ma(n,"POST","/v1/accounts:delete",t)}async function xf(n,t){return Ma(n,"POST","/v1/accounts:lookup",t)}function xu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function xk(n,t=!1){const e=rn(n),i=await e.getIdToken(t),r=e_(i);Dt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,l=o?.sign_in_provider;return{claims:r,token:i,authTime:xu(Ng(r.auth_time)),issuedAtTime:xu(Ng(r.iat)),expirationTime:xu(Ng(r.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Ng(n){return Number(n)*1e3}function e_(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return rf("JWT malformed, contained fewer than 3 sections"),null;try{const r=p1(e);return r?JSON.parse(r):(rf("Failed to decode base64 JWT payload"),null)}catch(r){return rf("Caught error parsing JWT payload as JSON",r?.toString()),null}}function sE(n){const t=e_(n);return Dt(t,"internal-error"),Dt(typeof t.exp<"u","internal-error"),Dt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function ku(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof Er&&Ek(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function Ek({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class Sk{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class uy{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=xu(this.lastLoginAt),this.creationTime=xu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ef(n){const t=n.auth,e=await n.getIdToken(),i=await ku(n,xf(t,{idToken:e}));Dt(i?.users.length,t,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?k1(r.providerUserInfo):[],l=wk(n.providerData,o),u=n.isAnonymous,d=!(n.email&&r.passwordHash)&&!l?.length,f=u?d:!1,y={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new uy(r.createdAt,r.lastLoginAt),isAnonymous:f};Object.assign(n,y)}async function Tk(n){const t=rn(n);await Ef(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function wk(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function k1(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function Ak(n,t){const e=await D1(n,{},async()=>{const i=th({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,l=await M1(n,r,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:i};return n.emulatorConfig&&Xl(n.emulatorConfig.host)&&(d.credentials="include"),I1.fetch()(l,d)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function Ck(n,t){return Ma(n,"POST","/v2/accounts:revokeToken",Da(n,t))}class Ml{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Dt(t.idToken,"internal-error"),Dt(typeof t.idToken<"u","internal-error"),Dt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):sE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Dt(t.length!==0,"internal-error");const e=sE(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Dt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await Ak(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,l=new Ml;return i&&(Dt(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),r&&(Dt(typeof r=="string","internal-error",{appName:t}),l.accessToken=r),o&&(Dt(typeof o=="number","internal-error",{appName:t}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ml,this.toJSON())}_performRefresh(){return ur("not implemented")}}function na(n,t){Dt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Qi{constructor({uid:t,auth:e,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new Sk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new uy(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await ku(this,this.stsTokenManager.getToken(this.auth,t));return Dt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return xk(this,t)}reload(){return Tk(this)}_assign(t){this!==t&&(Dt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Qi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Ef(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pi(this.auth.app))return Promise.reject(gr(this.auth));const t=await this.getIdToken();return await ku(this,bk(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,r=e.email??void 0,o=e.phoneNumber??void 0,l=e.photoURL??void 0,u=e.tenantId??void 0,d=e._redirectEventId??void 0,f=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:g,emailVerified:v,isAnonymous:E,providerData:w,stsTokenManager:A}=e;Dt(g&&A,t,"internal-error");const R=Ml.fromJSON(this.name,A);Dt(typeof g=="string",t,"internal-error"),na(i,t.name),na(r,t.name),Dt(typeof v=="boolean",t,"internal-error"),Dt(typeof E=="boolean",t,"internal-error"),na(o,t.name),na(l,t.name),na(u,t.name),na(d,t.name),na(f,t.name),na(y,t.name);const N=new Qi({uid:g,auth:t,email:r,emailVerified:v,displayName:i,isAnonymous:E,photoURL:l,phoneNumber:o,tenantId:u,stsTokenManager:R,createdAt:f,lastLoginAt:y});return w&&Array.isArray(w)&&(N.providerData=w.map(j=>({...j}))),d&&(N._redirectEventId=d),N}static async _fromIdTokenResponse(t,e,i=!1){const r=new Ml;r.updateFromServerResponse(e);const o=new Qi({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Ef(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];Dt(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?k1(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!o?.length,u=new Ml;u.updateFromIdToken(i);const d=new Qi({uid:r.localId,auth:t,stsTokenManager:u,isAnonymous:l}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new uy(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(d,f),d}}const rE=new Map;function hr(n){vr(n instanceof Function,"Expected a class definition");let t=rE.get(n);return t?(vr(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,rE.set(n,t),t)}class N1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}N1.type="NONE";const aE=N1;function af(n,t,e){return`firebase:${n}:${t}:${e}`}class kl{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=af(this.userKey,r.apiKey,o),this.fullPersistenceKey=af("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await xf(this.auth,{idToken:t}).catch(()=>{});return e?Qi._fromGetAccountInfoResponse(this.auth,e,t):null}return Qi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new kl(hr(aE),t,i);const r=(await Promise.all(e.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=r[0]||hr(aE);const l=af(i,t.config.apiKey,t.name);let u=null;for(const f of e)try{const y=await f._get(l);if(y){let g;if(typeof y=="string"){const v=await xf(t,{idToken:y}).catch(()=>{});if(!v)break;g=await Qi._fromGetAccountInfoResponse(t,v,y)}else g=Qi._fromJSON(t,y);f!==o&&(u=g),o=f;break}}catch{}const d=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new kl(o,t,i):(o=d[0],u&&await o._set(l,u.toJSON()),await Promise.all(e.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new kl(o,t,i))}}function oE(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(V1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(O1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(z1(t))return"Blackberry";if(U1(t))return"Webos";if(P1(t))return"Safari";if((t.includes("chrome/")||L1(t))&&!t.includes("edge/"))return"Chrome";if(j1(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function O1(n=Vn()){return/firefox\//i.test(n)}function P1(n=Vn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function L1(n=Vn()){return/crios\//i.test(n)}function V1(n=Vn()){return/iemobile/i.test(n)}function j1(n=Vn()){return/android/i.test(n)}function z1(n=Vn()){return/blackberry/i.test(n)}function U1(n=Vn()){return/webos/i.test(n)}function n_(n=Vn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Rk(n=Vn()){return n_(n)&&!!window.navigator?.standalone}function Ik(){return HD()&&document.documentMode===10}function B1(n=Vn()){return n_(n)||j1(n)||U1(n)||z1(n)||/windows phone/i.test(n)||V1(n)}function F1(n,t=[]){let e;switch(n){case"Browser":e=oE(Vn());break;case"Worker":e=`${oE(Vn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ql}/${i}`}class Dk{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((l,u)=>{try{const d=t(o);l(d)}catch(d){u(d)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function Mk(n,t={}){return Ma(n,"GET","/v2/passwordPolicy",Da(n,t))}const kk=6;class Nk{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??kk,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class Ok{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lE(this),this.idTokenSubscription=new lE(this),this.beforeStateQueue=new Dk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=hr(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await kl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await xf(this,{idToken:t}),i=await Qi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Pi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=i?._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===l)&&u?.user&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Dt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Ef(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=dk()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Pi(this.app))return Promise.reject(gr(this));const e=t?rn(t):null;return e&&Dt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Dt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Pi(this.app)?Promise.reject(gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Pi(this.app)?Promise.reject(gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Mk(this),e=new Nk(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Zu("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await Ck(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&hr(t)||this._popupRedirectResolver;Dt(e,this,"argument-error"),this.redirectPersistenceManager=await kl.create(this,[hr(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Dt(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof e=="function"){const d=t.addObserver(e,i,r);return()=>{l=!0,d()}}else{const d=t.addObserver(e);return()=>{l=!0,d()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=F1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(Pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&ck(`Error while retrieving App Check token: ${t.error}`),t?.token}}function No(n){return rn(n)}class lE{constructor(t){this.auth=t,this.observer=null,this.addObserver=QD(e=>this.observer=e)}get next(){return Dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let $f={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Pk(n){$f=n}function H1(n){return $f.loadJS(n)}function Lk(){return $f.recaptchaEnterpriseScript}function Vk(){return $f.gapiScript}function jk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class zk{constructor(){this.enterprise=new Uk}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class Uk{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const Bk="recaptcha-enterprise",q1="NO_RECAPTCHA";class Fk{constructor(t){this.type=Bk,this.auth=No(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{vk(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new _k(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(d=>{u(d)})})}function r(o,l,u){const d=window.grecaptcha;iE(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:t}).then(f=>{l(f)}).catch(()=>{l(q1)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zk().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{i(this.auth).then(u=>{if(!e&&iE(window.grecaptcha))r(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Lk();d.length!==0&&(d+=u),H1(d).then(()=>{r(u,o,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function cE(n,t,e,i=!1,r=!1){const o=new Fk(n);let l;if(r)l=q1;else try{l=await o.verify(e)}catch{l=await o.verify(e,!0)}const u={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function hy(n,t,e,i,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await cE(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await cE(n,t,e,e==="getOobCode");return i(n,l)}else return Promise.reject(o)})}function Hk(n,t){const e=Jy(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(Eo(o,t??{}))return r;ts(r,"already-initialized")}return e.initialize({options:t})}function qk(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(hr);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function Gk(n,t,e){const i=No(n);Dt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=G1(t),{host:l,port:u}=Wk(t),d=u===null?"":`:${u}`,f={url:`${o}//${l}${d}/`},y=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Dt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Dt(Eo(f,i.config.emulator)&&Eo(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Xl(l)?(_1(`${o}//${l}${d}`),v1("Auth",!0)):Yk()}function G1(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function Wk(n){const t=G1(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:uE(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:uE(l)}}}function uE(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function Yk(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class i_{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return ur("not implemented")}_getIdTokenResponse(t){return ur("not implemented")}_linkToIdToken(t,e){return ur("not implemented")}_getReauthenticationResolver(t){return ur("not implemented")}}async function $k(n,t){return Ma(n,"POST","/v1/accounts:signUp",t)}async function Kk(n,t){return nh(n,"POST","/v1/accounts:signInWithPassword",Da(n,t))}async function Xk(n,t){return nh(n,"POST","/v1/accounts:signInWithEmailLink",Da(n,t))}async function Qk(n,t){return nh(n,"POST","/v1/accounts:signInWithEmailLink",Da(n,t))}class Nu extends i_{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Nu(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Nu(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hy(t,e,"signInWithPassword",Kk);case"emailLink":return Xk(t,{email:this._email,oobCode:this._password});default:ts(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hy(t,i,"signUpPassword",$k);case"emailLink":return Qk(t,{idToken:e,email:this._email,oobCode:this._password});default:ts(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Nl(n,t){return nh(n,"POST","/v1/accounts:signInWithIdp",Da(n,t))}const Jk="http://localhost";class To extends i_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new To(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):ts("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...o}=e;if(!i||!r)return null;const l=new To(i,r);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(t){const e=this.buildRequest();return Nl(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Nl(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Nl(t,e)}buildRequest(){const t={requestUri:Jk,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=th(e)}return t}}function Zk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tN(n){const t=uu(hu(n)).link,e=t?uu(hu(t)).deep_link_id:null,i=uu(hu(n)).deep_link_id;return(i?uu(hu(i)).link:null)||i||e||t||n}class s_{constructor(t){const e=uu(hu(t)),i=e.apiKey??null,r=e.oobCode??null,o=Zk(e.mode??null);Dt(i&&r&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=r,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=tN(t);try{return new s_(e)}catch{return null}}}class Jl{constructor(){this.providerId=Jl.PROVIDER_ID}static credential(t,e){return Nu._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=s_.parseLink(e);return Dt(i,"argument-error"),Nu._fromEmailAndCode(t,i.code,i.tenantId)}}Jl.PROVIDER_ID="password";Jl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class W1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ih extends W1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class sa extends ih{constructor(){super("facebook.com")}static credential(t){return To._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return sa.credentialFromTaggedObject(t)}static credentialFromError(t){return sa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return sa.credential(t.oauthAccessToken)}catch{return null}}}sa.FACEBOOK_SIGN_IN_METHOD="facebook.com";sa.PROVIDER_ID="facebook.com";class ra extends ih{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return To._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return ra.credentialFromTaggedObject(t)}static credentialFromError(t){return ra.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return ra.credential(e,i)}catch{return null}}}ra.GOOGLE_SIGN_IN_METHOD="google.com";ra.PROVIDER_ID="google.com";class aa extends ih{constructor(){super("github.com")}static credential(t){return To._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return aa.credentialFromTaggedObject(t)}static credentialFromError(t){return aa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return aa.credential(t.oauthAccessToken)}catch{return null}}}aa.GITHUB_SIGN_IN_METHOD="github.com";aa.PROVIDER_ID="github.com";class oa extends ih{constructor(){super("twitter.com")}static credential(t,e){return To._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return oa.credentialFromTaggedObject(t)}static credentialFromError(t){return oa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return oa.credential(e,i)}catch{return null}}}oa.TWITTER_SIGN_IN_METHOD="twitter.com";oa.PROVIDER_ID="twitter.com";async function eN(n,t){return nh(n,"POST","/v1/accounts:signUp",Da(n,t))}class wo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await Qi._fromIdTokenResponse(t,i,r),l=hE(i);return new wo({user:o,providerId:l,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=hE(i);return new wo({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function hE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Sf extends Er{constructor(t,e,i,r){super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Sf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new Sf(t,e,i,r)}}function Y1(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Sf._fromErrorAndOperation(n,o,t,i):o})}async function nN(n,t,e=!1){const i=await ku(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return wo._forOperation(n,"link",i)}async function iN(n,t,e=!1){const{auth:i}=n;if(Pi(i.app))return Promise.reject(gr(i));const r="reauthenticate";try{const o=await ku(n,Y1(i,r,t,n),e);Dt(o.idToken,i,"internal-error");const l=e_(o.idToken);Dt(l,i,"internal-error");const{sub:u}=l;return Dt(n.uid===u,i,"user-mismatch"),wo._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&ts(i,"user-mismatch"),o}}async function $1(n,t,e=!1){if(Pi(n.app))return Promise.reject(gr(n));const i="signIn",r=await Y1(n,i,t),o=await wo._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function sN(n,t){return $1(No(n),t)}async function K1(n){const t=No(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function rN(n,t,e){if(Pi(n.app))return Promise.reject(gr(n));const i=No(n),l=await hy(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eN).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&K1(n),d}),u=await wo._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(u.user),u}function dE(n,t,e){return Pi(n.app)?Promise.reject(gr(n)):sN(rn(n),Jl.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&K1(n),i})}function aN(n,t,e,i){return rn(n).onIdTokenChanged(t,e,i)}function oN(n,t,e){return rn(n).beforeAuthStateChanged(t,e)}const Tf="__sak";class X1{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Tf,"1"),this.storage.removeItem(Tf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const lN=1e3,cN=10;class Q1 extends X1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=B1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!e&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);Ik()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,cN):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},lN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Q1.type="LOCAL";const uN=Q1;class J1 extends X1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}J1.type="SESSION";const Z1=J1;function hN(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class Kf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new Kf(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,l=this.handlersMap[r];if(!l?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(l).map(async f=>f(e.origin,o)),d=await hN(u);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:d})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kf.receivers=[];function r_(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}class dN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,l;return new Promise((u,d)=>{const f=r_("",20);r.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(g){const v=g;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(v.data.response);break;default:clearTimeout(y),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:f,data:e},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Rs(){return window}function fN(n){Rs().location.href=n}function tw(){return typeof Rs().WorkerGlobalScope<"u"&&typeof Rs().importScripts=="function"}async function pN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mN(){return navigator?.serviceWorker?.controller||null}function gN(){return tw()?self:null}const ew="firebaseLocalStorageDb",yN=1,wf="firebaseLocalStorage",nw="fbase_key";class sh{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Xf(n,t){return n.transaction([wf],t?"readwrite":"readonly").objectStore(wf)}function _N(){const n=indexedDB.deleteDatabase(ew);return new sh(n).toPromise()}function dy(){const n=indexedDB.open(ew,yN);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(wf,{keyPath:nw})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(wf)?t(i):(i.close(),await _N(),t(await dy()))})})}async function fE(n,t,e){const i=Xf(n,!0).put({[nw]:t,value:e});return new sh(i).toPromise()}async function vN(n,t){const e=Xf(n,!1).get(t),i=await new sh(e).toPromise();return i===void 0?null:i.value}function pE(n,t){const e=Xf(n,!0).delete(t);return new sh(e).toPromise()}const bN=800,xN=3;class iw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dy(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>xN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kf._getInstance(gN()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pN(),!this.activeServiceWorker)return;this.sender=new dN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||mN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await dy();return await fE(t,Tf,"1"),await pE(t,Tf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>fE(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>vN(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>pE(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=Xf(r,!1).getAll();return new sh(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iw.type="LOCAL";const EN=iw;new eh(3e4,6e4);function SN(n,t){return t?hr(t):(Dt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class a_ extends i_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Nl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Nl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Nl(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function TN(n){return $1(n.auth,new a_(n),n.bypassAuthState)}function wN(n){const{auth:t,user:e}=n;return Dt(e,t,"internal-error"),iN(e,new a_(n),n.bypassAuthState)}async function AN(n){const{auth:t,user:e}=n;return Dt(e,t,"internal-error"),nN(e,new a_(n),n.bypassAuthState)}class sw{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:l,type:u}=t;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return TN;case"linkViaPopup":case"linkViaRedirect":return AN;case"reauthViaPopup":case"reauthViaRedirect":return wN;default:ts(this.auth,"internal-error")}}resolve(t){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const CN=new eh(2e3,1e4);class Dl extends sw{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Dl.currentPopupAction&&Dl.currentPopupAction.cancel(),Dl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Dt(t,this.auth,"internal-error"),t}async onExecution(){vr(this.filter.length===1,"Popup operations only handle one event");const t=r_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Cs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Cs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Dl.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,CN.get())};t()}}Dl.currentPopupAction=null;const RN="pendingRedirect",of=new Map;class IN extends sw{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=of.get(this.auth._key());if(!t){try{const i=await DN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}of.set(this.auth._key(),t)}return this.bypassAuthState||of.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DN(n,t){const e=NN(t),i=kN(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function MN(n,t){of.set(n._key(),t)}function kN(n){return hr(n._redirectPersistence)}function NN(n){return af(RN,n.config.apiKey,n.name)}async function ON(n,t,e=!1){if(Pi(n.app))return Promise.reject(gr(n));const i=No(n),r=SN(i,t),l=await new IN(i,r,e).execute();return l&&!e&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}const PN=600*1e3;class LN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!VN(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!rw(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Cs(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=PN&&this.cachedEventUids.clear(),this.cachedEventUids.has(mE(t))}saveEventToCache(t){this.cachedEventUids.add(mE(t)),this.lastProcessedEventTime=Date.now()}}function mE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function rw({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function VN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rw(n);default:return!1}}async function jN(n,t={}){return Ma(n,"GET","/v1/projects",t)}const zN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UN=/^https?/;async function BN(n){if(n.config.emulator)return;const{authorizedDomains:t}=await jN(n);for(const e of t)try{if(FN(e))return}catch{}ts(n,"unauthorized-domain")}function FN(n){const t=cy(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&l.hostname===i}if(!UN.test(e))return!1;if(zN.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const HN=new eh(3e4,6e4);function gE(){const n=Rs().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function qN(n){return new Promise((t,e)=>{function i(){gE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{gE(),e(Cs(n,"network-request-failed"))},timeout:HN.get()})}if(Rs().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Rs().gapi?.load)i();else{const r=jk("iframefcb");return Rs()[r]=()=>{gapi.load?i():e(Cs(n,"network-request-failed"))},H1(`${Vk()}?onload=${r}`).catch(o=>e(o))}}).catch(t=>{throw lf=null,t})}let lf=null;function GN(n){return lf=lf||qN(n),lf}const WN=new eh(5e3,15e3),YN="__/auth/iframe",$N="emulator/auth/iframe",KN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QN(n){const t=n.config;Dt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?t_(t,$N):`https://${n.config.authDomain}/${YN}`,i={apiKey:t.apiKey,appName:n.name,v:Ql},r=XN.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${th(i).slice(1)}`}async function JN(n){const t=await GN(n),e=Rs().gapi;return Dt(e,n,"internal-error"),t.open({where:document.body,url:QN(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KN,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const l=Cs(n,"network-request-failed"),u=Rs().setTimeout(()=>{o(l)},WN.get());function d(){Rs().clearTimeout(u),r(i)}i.ping(d).then(d,()=>{o(l)})}))}const ZN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tO=500,eO=600,nO="_blank",iO="http://localhost";class yE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sO(n,t,e,i=tO,r=eO){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const d={...ZN,width:i.toString(),height:r.toString(),top:o,left:l},f=Vn().toLowerCase();e&&(u=L1(f)?nO:e),O1(f)&&(t=t||iO,d.scrollbars="yes");const y=Object.entries(d).reduce((v,[E,w])=>`${v}${E}=${w},`,"");if(Rk(f)&&u!=="_self")return rO(t||"",u),new yE(null);const g=window.open(t||"",u,y);Dt(g,n,"popup-blocked");try{g.focus()}catch{}return new yE(g)}function rO(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}const aO="__/auth/handler",oO="emulator/auth/handler",lO=encodeURIComponent("fac");async function _E(n,t,e,i,r,o){Dt(n.config.authDomain,n,"auth-domain-config-required"),Dt(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Ql,eventId:r};if(t instanceof W1){t.setDefaultLanguage(n.languageCode),l.providerId=t.providerId||"",XD(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,g]of Object.entries({}))l[y]=g}if(t instanceof ih){const y=t.getScopes().filter(g=>g!=="");y.length>0&&(l.scopes=y.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const y of Object.keys(u))u[y]===void 0&&delete u[y];const d=await n._getAppCheckToken(),f=d?`#${lO}=${encodeURIComponent(d)}`:"";return`${cO(n)}?${th(u).slice(1)}${f}`}function cO({config:n}){return n.emulator?t_(n,oO):`https://${n.authDomain}/${aO}`}const Og="webStorageSupport";class uO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Z1,this._completeRedirectFn=ON,this._overrideRedirectResult=MN}async _openPopup(t,e,i,r){vr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await _E(t,e,i,cy(),r);return sO(t,o,r_())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await _E(t,e,i,cy(),r);return fN(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(vr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await JN(t),i=new LN(t);return e.register("authEvent",r=>(Dt(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Og,{type:Og},r=>{const o=r?.[0]?.[Og];o!==void 0&&e(!!o),ts(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=BN(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return B1()||P1()||n_()}}const hO=uO;var vE="@firebase/auth",bE="1.11.1";class dO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pO(n){Ll(new So("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;Dt(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F1(n)},f=new Ok(i,r,o,d);return qk(f,e),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Ll(new So("auth-internal",t=>{const e=No(t.getProvider("auth").getImmediate());return(i=>new dO(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),ga(vE,bE,fO(n)),ga(vE,bE,"esm2020")}const mO=300,gO=y1("authIdTokenMaxAge")||mO;let xE=null;const yO=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>gO)return;const r=e?.token;xE!==r&&(xE=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function _O(n=S1()){const t=Jy(n,"auth");if(t.isInitialized())return t.getImmediate();const e=Hk(n,{popupRedirectResolver:hO,persistence:[EN,uN,Z1]}),i=y1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=yO(o.toString());oN(e,l,()=>l(e.currentUser)),aN(e,u=>l(u))}}const r=m1("auth");return r&&Gk(e,`http://${r}`),e}function vO(){return document.getElementsByTagName("head")?.[0]??document}Pk({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=Cs("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",vO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pO("Browser");var bO="firebase",xO="12.6.0";ga(bO,xO,"app");var EE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ya,aw;(function(){var n;function t(D,C){function M(){}M.prototype=C.prototype,D.F=C.prototype,D.prototype=new M,D.prototype.constructor=D,D.D=function(L,P,V){for(var O=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)O[xt-2]=arguments[xt];return C.prototype[P].apply(L,O)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(D,C,M){M||(M=0);const L=Array(16);if(typeof C=="string")for(var P=0;P<16;++P)L[P]=C.charCodeAt(M++)|C.charCodeAt(M++)<<8|C.charCodeAt(M++)<<16|C.charCodeAt(M++)<<24;else for(P=0;P<16;++P)L[P]=C[M++]|C[M++]<<8|C[M++]<<16|C[M++]<<24;C=D.g[0],M=D.g[1],P=D.g[2];let V=D.g[3],O;O=C+(V^M&(P^V))+L[0]+3614090360&4294967295,C=M+(O<<7&4294967295|O>>>25),O=V+(P^C&(M^P))+L[1]+3905402710&4294967295,V=C+(O<<12&4294967295|O>>>20),O=P+(M^V&(C^M))+L[2]+606105819&4294967295,P=V+(O<<17&4294967295|O>>>15),O=M+(C^P&(V^C))+L[3]+3250441966&4294967295,M=P+(O<<22&4294967295|O>>>10),O=C+(V^M&(P^V))+L[4]+4118548399&4294967295,C=M+(O<<7&4294967295|O>>>25),O=V+(P^C&(M^P))+L[5]+1200080426&4294967295,V=C+(O<<12&4294967295|O>>>20),O=P+(M^V&(C^M))+L[6]+2821735955&4294967295,P=V+(O<<17&4294967295|O>>>15),O=M+(C^P&(V^C))+L[7]+4249261313&4294967295,M=P+(O<<22&4294967295|O>>>10),O=C+(V^M&(P^V))+L[8]+1770035416&4294967295,C=M+(O<<7&4294967295|O>>>25),O=V+(P^C&(M^P))+L[9]+2336552879&4294967295,V=C+(O<<12&4294967295|O>>>20),O=P+(M^V&(C^M))+L[10]+4294925233&4294967295,P=V+(O<<17&4294967295|O>>>15),O=M+(C^P&(V^C))+L[11]+2304563134&4294967295,M=P+(O<<22&4294967295|O>>>10),O=C+(V^M&(P^V))+L[12]+1804603682&4294967295,C=M+(O<<7&4294967295|O>>>25),O=V+(P^C&(M^P))+L[13]+4254626195&4294967295,V=C+(O<<12&4294967295|O>>>20),O=P+(M^V&(C^M))+L[14]+2792965006&4294967295,P=V+(O<<17&4294967295|O>>>15),O=M+(C^P&(V^C))+L[15]+1236535329&4294967295,M=P+(O<<22&4294967295|O>>>10),O=C+(P^V&(M^P))+L[1]+4129170786&4294967295,C=M+(O<<5&4294967295|O>>>27),O=V+(M^P&(C^M))+L[6]+3225465664&4294967295,V=C+(O<<9&4294967295|O>>>23),O=P+(C^M&(V^C))+L[11]+643717713&4294967295,P=V+(O<<14&4294967295|O>>>18),O=M+(V^C&(P^V))+L[0]+3921069994&4294967295,M=P+(O<<20&4294967295|O>>>12),O=C+(P^V&(M^P))+L[5]+3593408605&4294967295,C=M+(O<<5&4294967295|O>>>27),O=V+(M^P&(C^M))+L[10]+38016083&4294967295,V=C+(O<<9&4294967295|O>>>23),O=P+(C^M&(V^C))+L[15]+3634488961&4294967295,P=V+(O<<14&4294967295|O>>>18),O=M+(V^C&(P^V))+L[4]+3889429448&4294967295,M=P+(O<<20&4294967295|O>>>12),O=C+(P^V&(M^P))+L[9]+568446438&4294967295,C=M+(O<<5&4294967295|O>>>27),O=V+(M^P&(C^M))+L[14]+3275163606&4294967295,V=C+(O<<9&4294967295|O>>>23),O=P+(C^M&(V^C))+L[3]+4107603335&4294967295,P=V+(O<<14&4294967295|O>>>18),O=M+(V^C&(P^V))+L[8]+1163531501&4294967295,M=P+(O<<20&4294967295|O>>>12),O=C+(P^V&(M^P))+L[13]+2850285829&4294967295,C=M+(O<<5&4294967295|O>>>27),O=V+(M^P&(C^M))+L[2]+4243563512&4294967295,V=C+(O<<9&4294967295|O>>>23),O=P+(C^M&(V^C))+L[7]+1735328473&4294967295,P=V+(O<<14&4294967295|O>>>18),O=M+(V^C&(P^V))+L[12]+2368359562&4294967295,M=P+(O<<20&4294967295|O>>>12),O=C+(M^P^V)+L[5]+4294588738&4294967295,C=M+(O<<4&4294967295|O>>>28),O=V+(C^M^P)+L[8]+2272392833&4294967295,V=C+(O<<11&4294967295|O>>>21),O=P+(V^C^M)+L[11]+1839030562&4294967295,P=V+(O<<16&4294967295|O>>>16),O=M+(P^V^C)+L[14]+4259657740&4294967295,M=P+(O<<23&4294967295|O>>>9),O=C+(M^P^V)+L[1]+2763975236&4294967295,C=M+(O<<4&4294967295|O>>>28),O=V+(C^M^P)+L[4]+1272893353&4294967295,V=C+(O<<11&4294967295|O>>>21),O=P+(V^C^M)+L[7]+4139469664&4294967295,P=V+(O<<16&4294967295|O>>>16),O=M+(P^V^C)+L[10]+3200236656&4294967295,M=P+(O<<23&4294967295|O>>>9),O=C+(M^P^V)+L[13]+681279174&4294967295,C=M+(O<<4&4294967295|O>>>28),O=V+(C^M^P)+L[0]+3936430074&4294967295,V=C+(O<<11&4294967295|O>>>21),O=P+(V^C^M)+L[3]+3572445317&4294967295,P=V+(O<<16&4294967295|O>>>16),O=M+(P^V^C)+L[6]+76029189&4294967295,M=P+(O<<23&4294967295|O>>>9),O=C+(M^P^V)+L[9]+3654602809&4294967295,C=M+(O<<4&4294967295|O>>>28),O=V+(C^M^P)+L[12]+3873151461&4294967295,V=C+(O<<11&4294967295|O>>>21),O=P+(V^C^M)+L[15]+530742520&4294967295,P=V+(O<<16&4294967295|O>>>16),O=M+(P^V^C)+L[2]+3299628645&4294967295,M=P+(O<<23&4294967295|O>>>9),O=C+(P^(M|~V))+L[0]+4096336452&4294967295,C=M+(O<<6&4294967295|O>>>26),O=V+(M^(C|~P))+L[7]+1126891415&4294967295,V=C+(O<<10&4294967295|O>>>22),O=P+(C^(V|~M))+L[14]+2878612391&4294967295,P=V+(O<<15&4294967295|O>>>17),O=M+(V^(P|~C))+L[5]+4237533241&4294967295,M=P+(O<<21&4294967295|O>>>11),O=C+(P^(M|~V))+L[12]+1700485571&4294967295,C=M+(O<<6&4294967295|O>>>26),O=V+(M^(C|~P))+L[3]+2399980690&4294967295,V=C+(O<<10&4294967295|O>>>22),O=P+(C^(V|~M))+L[10]+4293915773&4294967295,P=V+(O<<15&4294967295|O>>>17),O=M+(V^(P|~C))+L[1]+2240044497&4294967295,M=P+(O<<21&4294967295|O>>>11),O=C+(P^(M|~V))+L[8]+1873313359&4294967295,C=M+(O<<6&4294967295|O>>>26),O=V+(M^(C|~P))+L[15]+4264355552&4294967295,V=C+(O<<10&4294967295|O>>>22),O=P+(C^(V|~M))+L[6]+2734768916&4294967295,P=V+(O<<15&4294967295|O>>>17),O=M+(V^(P|~C))+L[13]+1309151649&4294967295,M=P+(O<<21&4294967295|O>>>11),O=C+(P^(M|~V))+L[4]+4149444226&4294967295,C=M+(O<<6&4294967295|O>>>26),O=V+(M^(C|~P))+L[11]+3174756917&4294967295,V=C+(O<<10&4294967295|O>>>22),O=P+(C^(V|~M))+L[2]+718787259&4294967295,P=V+(O<<15&4294967295|O>>>17),O=M+(V^(P|~C))+L[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(P+(O<<21&4294967295|O>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+V&4294967295}i.prototype.v=function(D,C){C===void 0&&(C=D.length);const M=C-this.blockSize,L=this.C;let P=this.h,V=0;for(;V<C;){if(P==0)for(;V<=M;)r(this,D,V),V+=this.blockSize;if(typeof D=="string"){for(;V<C;)if(L[P++]=D.charCodeAt(V++),P==this.blockSize){r(this,L),P=0;break}}else for(;V<C;)if(L[P++]=D[V++],P==this.blockSize){r(this,L),P=0;break}}this.h=P,this.o+=C},i.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;C=this.o*8;for(var M=D.length-8;M<D.length;++M)D[M]=C&255,C/=256;for(this.v(D),D=Array(16),C=0,M=0;M<4;++M)for(let L=0;L<32;L+=8)D[C++]=this.g[M]>>>L&255;return D};function o(D,C){var M=u;return Object.prototype.hasOwnProperty.call(M,D)?M[D]:M[D]=C(D)}function l(D,C){this.h=C;const M=[];let L=!0;for(let P=D.length-1;P>=0;P--){const V=D[P]|0;L&&V==C||(M[P]=V,L=!1)}this.g=M}var u={};function d(D){return-128<=D&&D<128?o(D,function(C){return new l([C|0],C<0?-1:0)}):new l([D|0],D<0?-1:0)}function f(D){if(isNaN(D)||!isFinite(D))return g;if(D<0)return R(f(-D));const C=[];let M=1;for(let L=0;D>=M;L++)C[L]=D/M|0,M*=4294967296;return new l(C,0)}function y(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return R(y(D.substring(1),C));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=f(Math.pow(C,8));let L=g;for(let V=0;V<D.length;V+=8){var P=Math.min(8,D.length-V);const O=parseInt(D.substring(V,V+P),C);P<8?(P=f(Math.pow(C,P)),L=L.j(P).add(f(O))):(L=L.j(M),L=L.add(f(O)))}return L}var g=d(0),v=d(1),E=d(16777216);n=l.prototype,n.m=function(){if(A(this))return-R(this).m();let D=0,C=1;for(let M=0;M<this.g.length;M++){const L=this.i(M);D+=(L>=0?L:4294967296+L)*C,C*=4294967296}return D},n.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(w(this))return"0";if(A(this))return"-"+R(this).toString(D);const C=f(Math.pow(D,6));var M=this;let L="";for(;;){const P=X(M,C).g;M=N(M,P.j(C));let V=((M.g.length>0?M.g[0]:M.h)>>>0).toString(D);if(M=P,w(M))return V+L;for(;V.length<6;)V="0"+V;L=V+L}},n.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function w(D){if(D.h!=0)return!1;for(let C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function A(D){return D.h==-1}n.l=function(D){return D=N(this,D),A(D)?-1:w(D)?0:1};function R(D){const C=D.g.length,M=[];for(let L=0;L<C;L++)M[L]=~D.g[L];return new l(M,~D.h).add(v)}n.abs=function(){return A(this)?R(this):this},n.add=function(D){const C=Math.max(this.g.length,D.g.length),M=[];let L=0;for(let P=0;P<=C;P++){let V=L+(this.i(P)&65535)+(D.i(P)&65535),O=(V>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);L=O>>>16,V&=65535,O&=65535,M[P]=O<<16|V}return new l(M,M[M.length-1]&-2147483648?-1:0)};function N(D,C){return D.add(R(C))}n.j=function(D){if(w(this)||w(D))return g;if(A(this))return A(D)?R(this).j(R(D)):R(R(this).j(D));if(A(D))return R(this.j(R(D)));if(this.l(E)<0&&D.l(E)<0)return f(this.m()*D.m());const C=this.g.length+D.g.length,M=[];for(var L=0;L<2*C;L++)M[L]=0;for(L=0;L<this.g.length;L++)for(let P=0;P<D.g.length;P++){const V=this.i(L)>>>16,O=this.i(L)&65535,xt=D.i(P)>>>16,bt=D.i(P)&65535;M[2*L+2*P]+=O*bt,j(M,2*L+2*P),M[2*L+2*P+1]+=V*bt,j(M,2*L+2*P+1),M[2*L+2*P+1]+=O*xt,j(M,2*L+2*P+1),M[2*L+2*P+2]+=V*xt,j(M,2*L+2*P+2)}for(D=0;D<C;D++)M[D]=M[2*D+1]<<16|M[2*D];for(D=C;D<2*C;D++)M[D]=0;return new l(M,0)};function j(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function z(D,C){this.g=D,this.h=C}function X(D,C){if(w(C))throw Error("division by zero");if(w(D))return new z(g,g);if(A(D))return C=X(R(D),C),new z(R(C.g),R(C.h));if(A(C))return C=X(D,R(C)),new z(R(C.g),C.h);if(D.g.length>30){if(A(D)||A(C))throw Error("slowDivide_ only works with positive integers.");for(var M=v,L=C;L.l(D)<=0;)M=B(M),L=B(L);var P=G(M,1),V=G(L,1);for(L=G(L,2),M=G(M,2);!w(L);){var O=V.add(L);O.l(D)<=0&&(P=P.add(M),V=O),L=G(L,1),M=G(M,1)}return C=N(D,P.j(C)),new z(P,C)}for(P=g;D.l(C)>=0;){for(M=Math.max(1,Math.floor(D.m()/C.m())),L=Math.ceil(Math.log(M)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),V=f(M),O=V.j(C);A(O)||O.l(D)>0;)M-=L,V=f(M),O=V.j(C);w(V)&&(V=v),P=P.add(V),D=N(D,O)}return new z(P,D)}n.B=function(D){return X(this,D).h},n.and=function(D){const C=Math.max(this.g.length,D.g.length),M=[];for(let L=0;L<C;L++)M[L]=this.i(L)&D.i(L);return new l(M,this.h&D.h)},n.or=function(D){const C=Math.max(this.g.length,D.g.length),M=[];for(let L=0;L<C;L++)M[L]=this.i(L)|D.i(L);return new l(M,this.h|D.h)},n.xor=function(D){const C=Math.max(this.g.length,D.g.length),M=[];for(let L=0;L<C;L++)M[L]=this.i(L)^D.i(L);return new l(M,this.h^D.h)};function B(D){const C=D.g.length+1,M=[];for(let L=0;L<C;L++)M[L]=D.i(L)<<1|D.i(L-1)>>>31;return new l(M,D.h)}function G(D,C){const M=C>>5;C%=32;const L=D.g.length-M,P=[];for(let V=0;V<L;V++)P[V]=C>0?D.i(V+M)>>>C|D.i(V+M+1)<<32-C:D.i(V+M);return new l(P,D.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,aw=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=y,ya=l}).apply(typeof EE<"u"?EE:typeof self<"u"?self:typeof window<"u"?window:{});var jd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ow,du,lw,cf,fy,cw,uw,hw;(function(){var n,t=Object.defineProperty;function e(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof jd=="object"&&jd];for(var b=0;b<p.length;++b){var T=p[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=e(this);function r(p,b){if(b)t:{var T=i;p=p.split(".");for(var k=0;k<p.length-1;k++){var Q=p[k];if(!(Q in T))break t;T=T[Q]}p=p[p.length-1],k=T[p],b=b(k),b!=k&&b!=null&&t(T,p,{configurable:!0,writable:!0,value:b})}}r("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(p){return p||function(b){var T=[],k;for(k in b)Object.prototype.hasOwnProperty.call(b,k)&&T.push([k,b[k]]);return T}});var o=o||{},l=this||self;function u(p){var b=typeof p;return b=="object"&&p!=null||b=="function"}function d(p,b,T){return p.call.apply(p.bind,arguments)}function f(p,b,T){return f=d,f.apply(null,arguments)}function y(p,b){var T=Array.prototype.slice.call(arguments,1);return function(){var k=T.slice();return k.push.apply(k,arguments),p.apply(this,k)}}function g(p,b){function T(){}T.prototype=b.prototype,p.Z=b.prototype,p.prototype=new T,p.prototype.constructor=p,p.Ob=function(k,Q,nt){for(var ft=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)ft[Vt-2]=arguments[Vt];return b.prototype[Q].apply(k,ft)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function E(p){const b=p.length;if(b>0){const T=Array(b);for(let k=0;k<b;k++)T[k]=p[k];return T}return[]}function w(p,b){for(let k=1;k<arguments.length;k++){const Q=arguments[k];var T=typeof Q;if(T=T!="object"?T:Q?Array.isArray(Q)?"array":T:"null",T=="array"||T=="object"&&typeof Q.length=="number"){T=p.length||0;const nt=Q.length||0;p.length=T+nt;for(let ft=0;ft<nt;ft++)p[T+ft]=Q[ft]}else p.push(Q)}}class A{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function R(p){l.setTimeout(()=>{throw p},0)}function N(){var p=D;let b=null;return p.g&&(b=p.g,p.g=p.g.next,p.g||(p.h=null),b.next=null),b}class j{constructor(){this.h=this.g=null}add(b,T){const k=z.get();k.set(b,T),this.h?this.h.next=k:this.g=k,this.h=k}}var z=new A(()=>new X,p=>p.reset());class X{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let B,G=!1,D=new j,C=()=>{const p=Promise.resolve(void 0);B=()=>{p.then(M)}};function M(){for(var p;p=N();){try{p.h.call(p.g)}catch(T){R(T)}var b=z;b.j(p),b.h<100&&(b.h++,p.next=b.g,b.g=p)}G=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(p,b){this.type=p,this.g=this.target=b,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var p=!1,b=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const T=()=>{};l.addEventListener("test",T,b),l.removeEventListener("test",T,b)}catch{}return p})();function O(p){return/^[\s\xa0]*$/.test(p)}function xt(p,b){P.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,b)}g(xt,P),xt.prototype.init=function(p,b){const T=this.type=p.type,k=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=b,b=p.relatedTarget,b||(T=="mouseover"?b=p.fromElement:T=="mouseout"&&(b=p.toElement)),this.relatedTarget=b,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&xt.Z.h.call(this)},xt.prototype.h=function(){xt.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var bt="closure_listenable_"+(Math.random()*1e6|0),W=0;function K(p,b,T,k,Q){this.listener=p,this.proxy=null,this.src=b,this.type=T,this.capture=!!k,this.ha=Q,this.key=++W,this.da=this.fa=!1}function ut(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function mt(p,b,T){for(const k in p)b.call(T,p[k],k,p)}function ct(p,b){for(const T in p)b.call(void 0,p[T],T,p)}function U(p){const b={};for(const T in p)b[T]=p[T];return b}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(p,b){let T,k;for(let Q=1;Q<arguments.length;Q++){k=arguments[Q];for(T in k)p[T]=k[T];for(let nt=0;nt<$.length;nt++)T=$[nt],Object.prototype.hasOwnProperty.call(k,T)&&(p[T]=k[T])}}function lt(p){this.src=p,this.g={},this.h=0}lt.prototype.add=function(p,b,T,k,Q){const nt=p.toString();p=this.g[nt],p||(p=this.g[nt]=[],this.h++);const ft=gt(p,b,k,Q);return ft>-1?(b=p[ft],T||(b.fa=!1)):(b=new K(b,this.src,nt,!!k,Q),b.fa=T,p.push(b)),b};function dt(p,b){const T=b.type;if(T in p.g){var k=p.g[T],Q=Array.prototype.indexOf.call(k,b,void 0),nt;(nt=Q>=0)&&Array.prototype.splice.call(k,Q,1),nt&&(ut(b),p.g[T].length==0&&(delete p.g[T],p.h--))}}function gt(p,b,T,k){for(let Q=0;Q<p.length;++Q){const nt=p[Q];if(!nt.da&&nt.listener==b&&nt.capture==!!T&&nt.ha==k)return Q}return-1}var St="closure_lm_"+(Math.random()*1e6|0),It={};function Lt(p,b,T,k,Q){if(Array.isArray(b)){for(let nt=0;nt<b.length;nt++)Lt(p,b[nt],T,k,Q);return null}return T=Ze(T),p&&p[bt]?p.J(b,T,u(k)?!!k.capture:!1,Q):Ue(p,b,T,!1,k,Q)}function Ue(p,b,T,k,Q,nt){if(!b)throw Error("Invalid event type");const ft=u(Q)?!!Q.capture:!!Q;let Vt=ri(p);if(Vt||(p[St]=Vt=new lt(p)),T=Vt.add(b,T,k,ft,nt),T.proxy)return T;if(k=an(),T.proxy=k,k.src=p,k.listener=T,p.addEventListener)V||(Q=ft),Q===void 0&&(Q=!1),p.addEventListener(b.toString(),k,Q);else if(p.attachEvent)p.attachEvent(Rn(b.toString()),k);else if(p.addListener&&p.removeListener)p.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return T}function an(){function p(T){return b.call(p.src,p.listener,T)}const b=zs;return p}function on(p,b,T,k,Q){if(Array.isArray(b))for(var nt=0;nt<b.length;nt++)on(p,b[nt],T,k,Q);else k=u(k)?!!k.capture:!!k,T=Ze(T),p&&p[bt]?(p=p.i,nt=String(b).toString(),nt in p.g&&(b=p.g[nt],T=gt(b,T,k,Q),T>-1&&(ut(b[T]),Array.prototype.splice.call(b,T,1),b.length==0&&(delete p.g[nt],p.h--)))):p&&(p=ri(p))&&(b=p.g[b.toString()],p=-1,b&&(p=gt(b,T,k,Q)),(T=p>-1?b[p]:null)&&si(T))}function si(p){if(typeof p!="number"&&p&&!p.da){var b=p.src;if(b&&b[bt])dt(b.i,p);else{var T=p.type,k=p.proxy;b.removeEventListener?b.removeEventListener(T,k,p.capture):b.detachEvent?b.detachEvent(Rn(T),k):b.addListener&&b.removeListener&&b.removeListener(k),(T=ri(b))?(dt(T,p),T.h==0&&(T.src=null,b[St]=null)):ut(p)}}}function Rn(p){return p in It?It[p]:It[p]="on"+p}function zs(p,b){if(p.da)p=!0;else{b=new xt(b,this);const T=p.listener,k=p.ha||p.src;p.fa&&si(p),p=T.call(k,b)}return p}function ri(p){return p=p[St],p instanceof lt?p:null}var Hn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ze(p){return typeof p=="function"?p:(p[Hn]||(p[Hn]=function(b){return p.handleEvent(b)}),p[Hn])}function At(){L.call(this),this.i=new lt(this),this.M=this,this.G=null}g(At,L),At.prototype[bt]=!0,At.prototype.removeEventListener=function(p,b,T,k){on(this,p,b,T,k)};function te(p,b){var T,k=p.G;if(k)for(T=[];k;k=k.G)T.push(k);if(p=p.M,k=b.type||b,typeof b=="string")b=new P(b,p);else if(b instanceof P)b.target=b.target||p;else{var Q=b;b=new P(k,p),et(b,Q)}Q=!0;let nt,ft;if(T)for(ft=T.length-1;ft>=0;ft--)nt=b.g=T[ft],Q=mn(nt,k,!0,b)&&Q;if(nt=b.g=p,Q=mn(nt,k,!0,b)&&Q,Q=mn(nt,k,!1,b)&&Q,T)for(ft=0;ft<T.length;ft++)nt=b.g=T[ft],Q=mn(nt,k,!1,b)&&Q}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var p=this.i;for(const b in p.g){const T=p.g[b];for(let k=0;k<T.length;k++)ut(T[k]);delete p.g[b],p.h--}}this.G=null},At.prototype.J=function(p,b,T,k){return this.i.add(String(p),b,!1,T,k)},At.prototype.K=function(p,b,T,k){return this.i.add(String(p),b,!0,T,k)};function mn(p,b,T,k){if(b=p.i.g[String(b)],!b)return!0;b=b.concat();let Q=!0;for(let nt=0;nt<b.length;++nt){const ft=b[nt];if(ft&&!ft.da&&ft.capture==T){const Vt=ft.listener,Pe=ft.ha||ft.src;ft.fa&&dt(p.i,ft),Q=Vt.call(Pe,k)!==!1&&Q}}return Q&&!k.defaultPrevented}function Ee(p,b){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=f(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:l.setTimeout(p,b||0)}function qn(p){p.g=Ee(()=>{p.g=null,p.i&&(p.i=!1,qn(p))},p.l);const b=p.h;p.h=null,p.m.apply(null,b)}class gn extends L{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:qn(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Us(p){L.call(this),this.h=p,this.g={}}g(Us,L);var ns=[];function La(p){mt(p.g,function(b,T){this.g.hasOwnProperty(T)&&si(b)},p),p.g={}}Us.prototype.N=function(){Us.Z.N.call(this),La(this)},Us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ji=l.JSON.stringify,Va=l.JSON.parse,zi=class{stringify(p){return l.JSON.stringify(p,void 0)}parse(p){return l.JSON.parse(p,void 0)}};function ja(){}function Ui(){}var ai={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tn(){P.call(this,"d")}g(tn,P);function zn(){P.call(this,"c")}g(zn,P);var Se={},Vo=null;function is(){return Vo=Vo||new At}Se.Ia="serverreachability";function oi(p){P.call(this,Se.Ia,p)}g(oi,P);function bi(p){const b=is();te(b,new oi(b))}Se.STAT_EVENT="statevent";function Bs(p,b){P.call(this,Se.STAT_EVENT,p),this.stat=b}g(Bs,P);function Ie(p){const b=is();te(b,new Bs(b,p))}Se.Ja="timingevent";function li(p,b){P.call(this,Se.Ja,p),this.size=b}g(li,P);function Ct(p,b){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){p()},b)}function ie(){this.g=!0}ie.prototype.ua=function(){this.g=!1};function Be(p,b,T,k,Q,nt){p.info(function(){if(p.g)if(nt){var ft="",Vt=nt.split("&");for(let ee=0;ee<Vt.length;ee++){var Pe=Vt[ee].split("=");if(Pe.length>1){const Te=Pe[0];Pe=Pe[1];const wi=Te.split("_");ft=wi.length>=2&&wi[1]=="type"?ft+(Te+"="+Pe+"&"):ft+(Te+"=redacted&")}}}else ft=null;else ft=nt;return"XMLHTTP REQ ("+k+") [attempt "+Q+"]: "+b+`
`+T+`
`+ft})}function ln(p,b,T,k,Q,nt,ft){p.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+Q+"]: "+b+`
`+T+`
`+nt+" "+ft})}function Un(p,b,T,k){p.info(function(){return"XMLHTTP TEXT ("+b+"): "+In(p,T)+(k?" "+k:"")})}function ye(p,b){p.info(function(){return"TIMEOUT: "+b})}ie.prototype.info=function(){};function In(p,b){if(!p.g)return b;if(!b)return null;try{const nt=JSON.parse(b);if(nt){for(p=0;p<nt.length;p++)if(Array.isArray(nt[p])){var T=nt[p];if(!(T.length<2)){var k=T[1];if(Array.isArray(k)&&!(k.length<1)){var Q=k[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let ft=1;ft<k.length;ft++)k[ft]=""}}}}return ji(nt)}catch{return b}}var xi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_n;function ss(){}g(ss,ja),ss.prototype.g=function(){return new XMLHttpRequest},_n=new ss;function vn(p){return encodeURIComponent(String(p))}function sc(p){var b=1;p=p.split(":");const T=[];for(;b>0&&p.length;)T.push(p.shift()),b--;return p.length&&T.push(p.join(":")),T}function Bi(p,b,T,k){this.j=p,this.i=b,this.l=T,this.S=k||1,this.V=new Us(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fi}function Fi(){this.i=null,this.g="",this.h=!1}var Fe={},cn={};function rs(p,b,T){p.M=1,p.A=za(qe(b)),p.u=T,p.R=!0,jo(p,null)}function jo(p,b){p.F=Date.now(),as(p),p.B=qe(p.A);var T=p.B,k=p.S;Array.isArray(k)||(k=[String(k)]),Fo(T.i,"t",k),p.C=0,T=p.j.L,p.h=new Fi,p.g=Rh(p.j,T?b:null,!p.u),p.P>0&&(p.O=new gn(f(p.Y,p,p.g),p.P)),b=p.V,T=p.g,k=p.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(ns[0]=Q.toString()),Q=ns);for(let nt=0;nt<Q.length;nt++){const ft=Lt(T,Q[nt],k||b.handleEvent,!1,b.h||b);if(!ft)break;b.g[ft.key]=ft}b=p.J?U(p.J):{},p.u?(p.v||(p.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,b)):(p.v="GET",p.g.ea(p.B,p.v,null,b)),bi(),Be(p.i,p.v,p.B,p.l,p.S,p.u)}Bi.prototype.ba=function(p){p=p.target;const b=this.O;b&&Gi(p)==3?b.j():this.Y(p)},Bi.prototype.Y=function(p){try{if(p==this.g)t:{const Vt=Gi(this.g),Pe=this.g.ya(),ee=this.g.ca();if(!(Vt<3)&&(Vt!=3||this.g&&(this.h.h||this.g.la()||bn(this.g)))){this.K||Vt!=4||Pe==7||(Pe==8||ee<=0?bi(3):bi(2)),os(this);var b=this.g.ca();this.X=b;var T=Ap(this);if(this.o=b==200,ln(this.i,this.v,this.B,this.l,this.S,Vt,b),this.o){if(this.U&&!this.L){e:{if(this.g){var k,Q=this.g;if((k=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(k)){var nt=k;break e}}nt=null}if(p=nt)Un(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ls(this,p);else{this.o=!1,this.m=3,Ie(12),ci(this),Ei(this);break t}}if(this.R){p=!0;let Te;for(;!this.K&&this.C<T.length;)if(Te=mh(this,T),Te==cn){Vt==4&&(this.m=4,Ie(14),p=!1),Un(this.i,this.l,null,"[Incomplete Response]");break}else if(Te==Fe){this.m=4,Ie(15),Un(this.i,this.l,T,"[Invalid Chunk]"),p=!1;break}else Un(this.i,this.l,Te,null),ls(this,Te);if(ph(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||T.length!=0||this.h.h||(this.m=1,Ie(16),p=!1),this.o=this.o&&p,!p)Un(this.i,this.l,T,"[Invalid Chunked Response]"),ci(this),Ei(this);else if(T.length>0&&!this.W){this.W=!0;var ft=this.j;ft.g==this&&ft.aa&&!ft.P&&(ft.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),vc(ft),ft.P=!0,Ie(11))}}else Un(this.i,this.l,T,null),ls(this,T);Vt==4&&ci(this),this.o&&!this.K&&(Vt==4?Th(this.j,this):(this.o=!1,as(this)))}else Hs(this.g),b==400&&T.indexOf("Unknown SID")>0?(this.m=3,Ie(12)):(this.m=0,Ie(13)),ci(this),Ei(this)}}}catch{}finally{}};function Ap(p){if(!ph(p))return p.g.la();const b=bn(p.g);if(b==="")return"";let T="";const k=b.length,Q=Gi(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return ci(p),Ei(p),"";p.h.i=new l.TextDecoder}for(let nt=0;nt<k;nt++)p.h.h=!0,T+=p.h.i.decode(b[nt],{stream:!(Q&&nt==k-1)});return b.length=0,p.h.g+=T,p.C=0,p.h.g}function ph(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function mh(p,b){var T=p.C,k=b.indexOf(`
`,T);return k==-1?cn:(T=Number(b.substring(T,k)),isNaN(T)?Fe:(k+=1,k+T>b.length?cn:(b=b.slice(k,k+T),p.C=k+T,b)))}Bi.prototype.cancel=function(){this.K=!0,ci(this)};function as(p){p.T=Date.now()+p.H,zo(p,p.H)}function zo(p,b){if(p.D!=null)throw Error("WatchDog timer not null");p.D=Ct(f(p.aa,p),b)}function os(p){p.D&&(l.clearTimeout(p.D),p.D=null)}Bi.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(ye(this.i,this.B),this.M!=2&&(bi(),Ie(17)),ci(this),this.m=2,Ei(this)):zo(this,this.T-p)};function Ei(p){p.j.I==0||p.K||Th(p.j,p)}function ci(p){os(p);var b=p.O;b&&typeof b.dispose=="function"&&b.dispose(),p.O=null,La(p.V),p.g&&(b=p.g,p.g=null,b.abort(),b.dispose())}function ls(p,b){try{var T=p.j;if(T.I!=0&&(T.g==p||us(T.h,p))){if(!p.L&&us(T.h,p)&&T.I==3){try{var k=T.Ba.g.parse(b)}catch{k=null}if(Array.isArray(k)&&k.length==3){var Q=k;if(Q[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<p.F)Yo(T),kr(T);else break t;Wa(T),Ie(18)}}else T.xa=Q[1],0<T.xa-T.K&&Q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Ct(f(T.Va,T),6e3));cs(T.h)<=1&&T.ta&&(T.ta=void 0)}else gs(T,11)}else if((p.L||T.g==p)&&Yo(T),!O(b))for(Q=T.Ba.g.parse(b),b=0;b<Q.length;b++){let ee=Q[b];const Te=ee[0];if(!(Te<=T.K))if(T.K=Te,ee=ee[1],T.I==2)if(ee[0]=="c"){T.M=ee[1],T.ba=ee[2];const wi=ee[3];wi!=null&&(T.ka=wi,T.j.info("VER="+T.ka));const ys=ee[4];ys!=null&&(T.za=ys,T.j.info("SVER="+T.za));const Wi=ee[5];Wi!=null&&typeof Wi=="number"&&Wi>0&&(k=1.5*Wi,T.O=k,T.j.info("backChannelRequestTimeoutMs_="+k)),k=T;const Yi=p.g;if(Yi){const Ya=Yi.g?Yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ya){var nt=k.h;nt.g||Ya.indexOf("spdy")==-1&&Ya.indexOf("quic")==-1&&Ya.indexOf("h2")==-1||(nt.j=nt.l,nt.g=new Set,nt.h&&(oc(nt,nt.h),nt.h=null))}if(k.G){const $o=Yi.g?Yi.g.getResponseHeader("X-HTTP-Session-Id"):null;$o&&(k.wa=$o,re(k.J,k.G,$o))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-p.F,T.j.info("Handshake RTT: "+T.T+"ms")),k=T;var ft=p;if(k.na=Ch(k,k.L?k.ba:null,k.W),ft.L){lc(k.h,ft);var Vt=ft,Pe=k.O;Pe&&(Vt.H=Pe),Vt.D&&(os(Vt),as(Vt)),k.g=ft}else Eh(k);T.i.length>0&&ms(T)}else ee[0]!="stop"&&ee[0]!="close"||gs(T,7);else T.I==3&&(ee[0]=="stop"||ee[0]=="close"?ee[0]=="stop"?gs(T,7):yc(T):ee[0]!="noop"&&T.l&&T.l.qa(ee),T.A=0)}}bi(4)}catch{}}var He=class{constructor(p,b){this.g=p,this.map=b}};function rc(p){this.l=p||10,l.PerformanceNavigationTiming?(p=l.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ac(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function cs(p){return p.h?1:p.g?p.g.size:0}function us(p,b){return p.h?p.h==b:p.g?p.g.has(b):!1}function oc(p,b){p.g?p.g.add(b):p.h=b}function lc(p,b){p.h&&p.h==b?p.h=null:p.g&&p.g.has(b)&&p.g.delete(b)}rc.prototype.cancel=function(){if(this.i=cc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function cc(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let b=p.i;for(const T of p.g.values())b=b.concat(T.G);return b}return E(p.i)}var gh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Uo(p,b){if(p){p=p.split("&");for(let T=0;T<p.length;T++){const k=p[T].indexOf("=");let Q,nt=null;k>=0?(Q=p[T].substring(0,k),nt=p[T].substring(k+1)):Q=p[T],b(Q,nt?decodeURIComponent(nt.replace(/\+/g," ")):"")}}}function ui(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;p instanceof ui?(this.l=p.l,un(this,p.j),this.o=p.o,this.g=p.g,wr(this,p.u),this.h=p.h,uc(this,bh(p.i)),this.m=p.m):p&&(b=String(p).match(gh))?(this.l=!1,un(this,b[1]||"",!0),this.o=hs(b[2]||""),this.g=hs(b[3]||"",!0),wr(this,b[4]),this.h=hs(b[5]||"",!0),uc(this,b[6]||"",!0),this.m=hs(b[7]||"")):(this.l=!1,this.i=new Cr(null,this.l))}ui.prototype.toString=function(){const p=[];var b=this.j;b&&p.push(Ua(b,Bo,!0),":");var T=this.g;return(T||b=="file")&&(p.push("//"),(b=this.o)&&p.push(Ua(b,Bo,!0),"@"),p.push(vn(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&p.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&p.push("/"),p.push(Ua(T,T.charAt(0)=="/"?hc:yh,!0))),(T=this.i.toString())&&p.push("?",T),(T=this.m)&&p.push("#",Ua(T,_h)),p.join("")},ui.prototype.resolve=function(p){const b=qe(this);let T=!!p.j;T?un(b,p.j):T=!!p.o,T?b.o=p.o:T=!!p.g,T?b.g=p.g:T=p.u!=null;var k=p.h;if(T)wr(b,p.u);else if(T=!!p.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var Q=b.h.lastIndexOf("/");Q!=-1&&(k=b.h.slice(0,Q+1)+k)}if(Q=k,Q==".."||Q==".")k="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){k=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const nt=[];for(let ft=0;ft<Q.length;){const Vt=Q[ft++];Vt=="."?k&&ft==Q.length&&nt.push(""):Vt==".."?((nt.length>1||nt.length==1&&nt[0]!="")&&nt.pop(),k&&ft==Q.length&&nt.push("")):(nt.push(Vt),k=!0)}k=nt.join("/")}else k=Q}return T?b.h=k:T=p.i.toString()!=="",T?uc(b,bh(p.i)):T=!!p.m,T&&(b.m=p.m),b};function qe(p){return new ui(p)}function un(p,b,T){p.j=T?hs(b,!0):b,p.j&&(p.j=p.j.replace(/:$/,""))}function wr(p,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);p.u=b}else p.u=null}function uc(p,b,T){b instanceof Cr?(p.i=b,Ho(p.i,p.l)):(T||(b=Ua(b,Ar)),p.i=new Cr(b,p.l))}function re(p,b,T){p.i.set(b,T)}function za(p){return re(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function hs(p,b){return p?b?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Ua(p,b,T){return typeof p=="string"?(p=encodeURI(p).replace(b,Gn),T&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Gn(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Bo=/[#\/\?@]/g,yh=/[#\?:]/g,hc=/[#\?]/g,Ar=/[#\?@]/g,_h=/#/g;function Cr(p,b){this.h=this.g=null,this.i=p||null,this.j=!!b}function Wn(p){p.g||(p.g=new Map,p.h=0,p.i&&Uo(p.i,function(b,T){p.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}n=Cr.prototype,n.add=function(p,b){Wn(this),this.i=null,p=Rr(this,p);let T=this.g.get(p);return T||this.g.set(p,T=[]),T.push(b),this.h+=1,this};function vh(p,b){Wn(p),b=Rr(p,b),p.g.has(b)&&(p.i=null,p.h-=p.g.get(b).length,p.g.delete(b))}function dc(p,b){return Wn(p),b=Rr(p,b),p.g.has(b)}n.forEach=function(p,b){Wn(this),this.g.forEach(function(T,k){T.forEach(function(Q){p.call(b,Q,k,this)},this)},this)};function fc(p,b){Wn(p);let T=[];if(typeof b=="string")dc(p,b)&&(T=T.concat(p.g.get(Rr(p,b))));else for(p=Array.from(p.g.values()),b=0;b<p.length;b++)T=T.concat(p[b]);return T}n.set=function(p,b){return Wn(this),this.i=null,p=Rr(this,p),dc(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[b]),this.h+=1,this},n.get=function(p,b){return p?(p=fc(this,p),p.length>0?String(p[0]):b):b};function Fo(p,b,T){vh(p,b),T.length>0&&(p.i=null,p.g.set(Rr(p,b),E(T)),p.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],b=Array.from(this.g.keys());for(let k=0;k<b.length;k++){var T=b[k];const Q=vn(T);T=fc(this,T);for(let nt=0;nt<T.length;nt++){let ft=Q;T[nt]!==""&&(ft+="="+vn(T[nt])),p.push(ft)}}return this.i=p.join("&")};function bh(p){const b=new Cr;return b.i=p.i,p.g&&(b.g=new Map(p.g),b.h=p.h),b}function Rr(p,b){return b=String(b),p.j&&(b=b.toLowerCase()),b}function Ho(p,b){b&&!p.j&&(Wn(p),p.i=null,p.g.forEach(function(T,k){const Q=k.toLowerCase();k!=Q&&(vh(this,k),Fo(this,Q,T))},p)),p.j=b}function Hi(p,b){const T=new ie;if(l.Image){const k=new Image;k.onload=y(Si,T,"TestLoadImage: loaded",!0,b,k),k.onerror=y(Si,T,"TestLoadImage: error",!1,b,k),k.onabort=y(Si,T,"TestLoadImage: abort",!1,b,k),k.ontimeout=y(Si,T,"TestLoadImage: timeout",!1,b,k),l.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=p}else b(!1)}function pc(p,b){const T=new ie,k=new AbortController,Q=setTimeout(()=>{k.abort(),Si(T,"TestPingServer: timeout",!1,b)},1e4);fetch(p,{signal:k.signal}).then(nt=>{clearTimeout(Q),nt.ok?Si(T,"TestPingServer: ok",!0,b):Si(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Q),Si(T,"TestPingServer: error",!1,b)})}function Si(p,b,T,k,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),k(T)}catch{}}function Ir(){this.g=new zi}function ds(p){this.i=p.Sb||null,this.h=p.ab||!1}g(ds,ja),ds.prototype.g=function(){return new Ba(this.i,this.h)};function Ba(p,b){At.call(this),this.H=p,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Ba,At),n=Ba.prototype,n.open=function(p,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=b,this.readyState=1,qi(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(b.body=p),(this.H||l).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Dr(this)),this.readyState=0},n.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,qi(this)),this.g&&(this.readyState=3,qi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;qo(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function qo(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}n.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var b=p.value?p.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!p.done}))&&(this.response=this.responseText+=b)}p.done?Dr(this):qi(this),this.readyState==3&&qo(this)}},n.Oa=function(p){this.g&&(this.response=this.responseText=p,Dr(this))},n.Na=function(p){this.g&&(this.response=p,Dr(this))},n.ga=function(){this.g&&Dr(this)};function Dr(p){p.readyState=4,p.l=null,p.j=null,p.B=null,qi(p)}n.setRequestHeader=function(p,b){this.A.append(p,b)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,p.push(T[0]+": "+T[1]),T=b.next();return p.join(`\r
`)};function qi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Ba.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Ti(p){let b="";return mt(p,function(T,k){b+=k,b+=":",b+=T,b+=`\r
`}),b}function Fa(p,b,T){t:{for(k in T){var k=!1;break t}k=!0}k||(T=Ti(T),typeof p=="string"?T!=null&&vn(T):re(p,b,T))}function ue(p){At.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(ue,At);var fs=/^https?$/i,mc=["POST","PUT"];n=ue.prototype,n.Fa=function(p){this.H=p},n.ea=function(p,b,T,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);b=b?b.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_n.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(b,String(p),!0),this.B=!1}catch(nt){Ha(this,nt);return}if(p=T||"",T=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var Q in k)T.set(Q,k[Q]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const nt of k.keys())T.set(nt,k.get(nt));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(T.keys()).find(nt=>nt.toLowerCase()=="content-type"),Q=l.FormData&&p instanceof l.FormData,!(Array.prototype.indexOf.call(mc,b,void 0)>=0)||k||Q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[nt,ft]of T)this.g.setRequestHeader(nt,ft);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(nt){Ha(this,nt)}};function Ha(p,b){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=b,p.o=5,gc(p),Fs(p)}function gc(p){p.A||(p.A=!0,te(p,"complete"),te(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,te(this,"complete"),te(this,"abort"),Fs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fs(this,!0)),ue.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?qa(this):this.Xa())},n.Xa=function(){qa(this)};function qa(p){if(p.h&&typeof o<"u"){if(p.v&&Gi(p)==4)setTimeout(p.Ca.bind(p),0);else if(te(p,"readystatechange"),Gi(p)==4){p.h=!1;try{const nt=p.ca();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break t;default:b=!1}var T;if(!(T=b)){var k;if(k=nt===0){let ft=String(p.D).match(gh)[1]||null;!ft&&l.self&&l.self.location&&(ft=l.self.location.protocol.slice(0,-1)),k=!fs.test(ft?ft.toLowerCase():"")}T=k}if(T)te(p,"complete"),te(p,"success");else{p.o=6;try{var Q=Gi(p)>2?p.g.statusText:""}catch{Q=""}p.l=Q+" ["+p.ca()+"]",gc(p)}}finally{Fs(p)}}}}function Fs(p,b){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const T=p.g;p.g=null,b||te(p,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Gi(p){return p.g?p.g.readyState:0}n.ca=function(){try{return Gi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(p){if(this.g){var b=this.g.responseText;return p&&b.indexOf(p)==0&&(b=b.substring(p.length)),Va(b)}};function bn(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Hs(p){const b={};p=(p.g&&Gi(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<p.length;k++){if(O(p[k]))continue;var T=sc(p[k]);const Q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const nt=b[Q]||[];b[Q]=nt,nt.push(T)}ct(b,function(k){return k.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ps(p,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[p]||b}function Mr(p){this.za=0,this.i=[],this.j=new ie,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ps("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ps("baseRetryDelayMs",5e3,p),this.Za=ps("retryDelaySeedMs",1e4,p),this.Ta=ps("forwardChannelMaxRetries",2,p),this.va=ps("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new rc(p&&p.concurrentRequestLimit),this.Ba=new Ir,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Mr.prototype,n.ka=8,n.I=1,n.connect=function(p,b,T,k){Ie(0),this.W=p,this.H=b||{},T&&k!==void 0&&(this.H.OSID=T,this.H.OAID=k),this.F=this.X,this.J=Ch(this,null,this.W),ms(this)};function yc(p){if(Go(p),p.I==3){var b=p.V++,T=qe(p.J);if(re(T,"SID",p.M),re(T,"RID",b),re(T,"TYPE","terminate"),Ga(p,T),b=new Bi(p,p.j,b),b.M=2,b.A=za(qe(T)),T=!1,l.navigator&&l.navigator.sendBeacon)try{T=l.navigator.sendBeacon(b.A.toString(),"")}catch{}!T&&l.Image&&(new Image().src=b.A,T=!0),T||(b.g=Rh(b.j,null),b.g.ea(b.A)),b.F=Date.now(),as(b)}Ah(p)}function kr(p){p.g&&(vc(p),p.g.cancel(),p.g=null)}function Go(p){kr(p),p.v&&(l.clearTimeout(p.v),p.v=null),Yo(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&l.clearTimeout(p.m),p.m=null)}function ms(p){if(!ac(p.h)&&!p.m){p.m=!0;var b=p.Ea;B||C(),G||(B(),G=!0),D.add(b,p),p.D=0}}function Wo(p,b){return cs(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=b.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=Ct(f(p.Ea,p,b),wh(p,p.D)),p.D++,!0)}n.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const Q=new Bi(this,this.j,p);let nt=this.o;if(this.U&&(nt?(nt=U(nt),et(nt,this.U)):nt=this.U),this.u!==null||this.R||(Q.J=nt,nt=null),this.S)t:{for(var b=0,T=0;T<this.i.length;T++){e:{var k=this.i[T];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break e}k=void 0}if(k===void 0)break;if(b+=k,b>4096){b=T;break t}if(b===4096||T===this.i.length-1){b=T+1;break t}}b=1e3}else b=1e3;b=xh(this,Q,b),T=qe(this.J),re(T,"RID",p),re(T,"CVER",22),this.G&&re(T,"X-HTTP-Session-Id",this.G),Ga(this,T),nt&&(this.R?b="headers="+vn(Ti(nt))+"&"+b:this.u&&Fa(T,this.u,nt)),oc(this.h,Q),this.Ra&&re(T,"TYPE","init"),this.S?(re(T,"$req",b),re(T,"SID","null"),Q.U=!0,rs(Q,T,null)):rs(Q,T,b),this.I=2}}else this.I==3&&(p?_c(this,p):this.i.length==0||ac(this.h)||_c(this))};function _c(p,b){var T;b?T=b.l:T=p.V++;const k=qe(p.J);re(k,"SID",p.M),re(k,"RID",T),re(k,"AID",p.K),Ga(p,k),p.u&&p.o&&Fa(k,p.u,p.o),T=new Bi(p,p.j,T,p.D+1),p.u===null&&(T.J=p.o),b&&(p.i=b.G.concat(p.i)),b=xh(p,T,1e3),T.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),oc(p.h,T),rs(T,k,b)}function Ga(p,b){p.H&&mt(p.H,function(T,k){re(b,k,T)}),p.l&&mt({},function(T,k){re(b,k,T)})}function xh(p,b,T){T=Math.min(p.i.length,T);const k=p.l?f(p.l.Ka,p.l,p):null;t:{var Q=p.i;let Vt=-1;for(;;){const Pe=["count="+T];Vt==-1?T>0?(Vt=Q[0].g,Pe.push("ofs="+Vt)):Vt=0:Pe.push("ofs="+Vt);let ee=!0;for(let Te=0;Te<T;Te++){var nt=Q[Te].g;const wi=Q[Te].map;if(nt-=Vt,nt<0)Vt=Math.max(0,Q[Te].g-100),ee=!1;else try{nt="req"+nt+"_"||"";try{var ft=wi instanceof Map?wi:Object.entries(wi);for(const[ys,Wi]of ft){let Yi=Wi;u(Wi)&&(Yi=ji(Wi)),Pe.push(nt+ys+"="+encodeURIComponent(Yi))}}catch(ys){throw Pe.push(nt+"type="+encodeURIComponent("_badmap")),ys}}catch{k&&k(wi)}}if(ee){ft=Pe.join("&");break t}}ft=void 0}return p=p.i.splice(0,T),b.G=p,ft}function Eh(p){if(!p.g&&!p.v){p.Y=1;var b=p.Da;B||C(),G||(B(),G=!0),D.add(b,p),p.A=0}}function Wa(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=Ct(f(p.Da,p),wh(p,p.A)),p.A++,!0)}n.Da=function(){if(this.v=null,Sh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=Ct(f(this.Wa,this),p)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ie(10),kr(this),Sh(this))};function vc(p){p.B!=null&&(l.clearTimeout(p.B),p.B=null)}function Sh(p){p.g=new Bi(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var b=qe(p.na);re(b,"RID","rpc"),re(b,"SID",p.M),re(b,"AID",p.K),re(b,"CI",p.F?"0":"1"),!p.F&&p.ia&&re(b,"TO",p.ia),re(b,"TYPE","xmlhttp"),Ga(p,b),p.u&&p.o&&Fa(b,p.u,p.o),p.O&&(p.g.H=p.O);var T=p.g;p=p.ba,T.M=1,T.A=za(qe(b)),T.u=null,T.R=!0,jo(T,p)}n.Va=function(){this.C!=null&&(this.C=null,kr(this),Wa(this),Ie(19))};function Yo(p){p.C!=null&&(l.clearTimeout(p.C),p.C=null)}function Th(p,b){var T=null;if(p.g==b){Yo(p),vc(p),p.g=null;var k=2}else if(us(p.h,b))T=b.G,lc(p.h,b),k=1;else return;if(p.I!=0){if(b.o)if(k==1){T=b.u?b.u.length:0,b=Date.now()-b.F;var Q=p.D;k=is(),te(k,new li(k,T)),ms(p)}else Eh(p);else if(Q=b.m,Q==3||Q==0&&b.X>0||!(k==1&&Wo(p,b)||k==2&&Wa(p)))switch(T&&T.length>0&&(b=p.h,b.i=b.i.concat(T)),Q){case 1:gs(p,5);break;case 4:gs(p,10);break;case 3:gs(p,6);break;default:gs(p,2)}}}function wh(p,b){let T=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(T*=2),T*b}function gs(p,b){if(p.j.info("Error code "+b),b==2){var T=f(p.bb,p),k=p.Ua;const Q=!k;k=new ui(k||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||un(k,"https"),za(k),Q?Hi(k.toString(),T):pc(k.toString(),T)}else Ie(2);p.I=0,p.l&&p.l.pa(b),Ah(p),Go(p)}n.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Ie(2)):(this.j.info("Failed to ping google.com"),Ie(1))};function Ah(p){if(p.I=0,p.ja=[],p.l){const b=cc(p.h);(b.length!=0||p.i.length!=0)&&(w(p.ja,b),w(p.ja,p.i),p.h.i.length=0,E(p.i),p.i.length=0),p.l.oa()}}function Ch(p,b,T){var k=T instanceof ui?qe(T):new ui(T);if(k.g!="")b&&(k.g=b+"."+k.g),wr(k,k.u);else{var Q=l.location;k=Q.protocol,b=b?b+"."+Q.hostname:Q.hostname,Q=+Q.port;const nt=new ui(null);k&&un(nt,k),b&&(nt.g=b),Q&&wr(nt,Q),T&&(nt.h=T),k=nt}return T=p.G,b=p.wa,T&&b&&re(k,T,b),re(k,"VER",p.ka),Ga(p,k),k}function Rh(p,b,T){if(b&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=p.Aa&&!p.ma?new ue(new ds({ab:T})):new ue(p.ma),b.Fa(p.L),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ih(){}n=Ih.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Nr(){}Nr.prototype.g=function(p,b){return new Bn(p,b)};function Bn(p,b){At.call(this),this.g=new Mr(b),this.l=p,this.h=b&&b.messageUrlParams||null,p=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(p?p["X-WebChannel-Content-Type"]=b.messageContentType:p={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(p?p["X-WebChannel-Client-Profile"]=b.sa:p={"X-WebChannel-Client-Profile":b.sa}),this.g.U=p,(p=b&&b.Qb)&&!O(p)&&(this.g.u=p),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!O(b)&&(this.g.G=b,p=this.h,p!==null&&b in p&&(p=this.h,b in p&&delete p[b])),this.j=new qs(this)}g(Bn,At),Bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Bn.prototype.close=function(){yc(this.g)},Bn.prototype.o=function(p){var b=this.g;if(typeof p=="string"){var T={};T.__data__=p,p=T}else this.v&&(T={},T.__data__=ji(p),p=T);b.i.push(new He(b.Ya++,p)),b.I==3&&ms(b)},Bn.prototype.N=function(){this.g.l=null,delete this.j,yc(this.g),delete this.g,Bn.Z.N.call(this)};function Dh(p){tn.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var b=p.__sm__;if(b){t:{for(const T in b){p=T;break t}p=void 0}(this.i=p)&&(p=this.i,b=b!==null&&p in b?b[p]:void 0),this.data=b}else this.data=p}g(Dh,tn);function Mh(){zn.call(this),this.status=1}g(Mh,zn);function qs(p){this.g=p}g(qs,Ih),qs.prototype.ra=function(){te(this.g,"a")},qs.prototype.qa=function(p){te(this.g,new Dh(p))},qs.prototype.pa=function(p){te(this.g,new Mh)},qs.prototype.oa=function(){te(this.g,"b")},Nr.prototype.createWebChannel=Nr.prototype.g,Bn.prototype.send=Bn.prototype.o,Bn.prototype.open=Bn.prototype.m,Bn.prototype.close=Bn.prototype.close,hw=function(){return new Nr},uw=function(){return is()},cw=Se,fy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xi.NO_ERROR=0,xi.TIMEOUT=8,xi.HTTP_ERROR=6,cf=xi,yn.COMPLETE="complete",lw=yn,Ui.EventType=ai,ai.OPEN="a",ai.CLOSE="b",ai.ERROR="c",ai.MESSAGE="d",At.prototype.listen=At.prototype.J,du=Ui,ue.prototype.listenOnce=ue.prototype.K,ue.prototype.getLastError=ue.prototype.Ha,ue.prototype.getLastErrorCode=ue.prototype.ya,ue.prototype.getStatus=ue.prototype.ca,ue.prototype.getResponseJson=ue.prototype.La,ue.prototype.getResponseText=ue.prototype.la,ue.prototype.send=ue.prototype.ea,ue.prototype.setWithCredentials=ue.prototype.Fa,ow=ue}).apply(typeof jd<"u"?jd:typeof self<"u"?self:typeof window<"u"?window:{});const SE="@firebase/firestore",TE="4.9.2";class Nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Nn.UNAUTHENTICATED=new Nn(null),Nn.GOOGLE_CREDENTIALS=new Nn("google-credentials-uid"),Nn.FIRST_PARTY=new Nn("first-party-uid"),Nn.MOCK_USER=new Nn("mock-user");let Zl="12.3.0";const Ao=new Xy("@firebase/firestore");function Al(){return Ao.logLevel}function _t(n,...t){if(Ao.logLevel<=Gt.DEBUG){const e=t.map(o_);Ao.debug(`Firestore (${Zl}): ${n}`,...e)}}function br(n,...t){if(Ao.logLevel<=Gt.ERROR){const e=t.map(o_);Ao.error(`Firestore (${Zl}): ${n}`,...e)}}function Vl(n,...t){if(Ao.logLevel<=Gt.WARN){const e=t.map(o_);Ao.warn(`Firestore (${Zl}): ${n}`,...e)}}function o_(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function Mt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,dw(n,i,e)}function dw(n,t,e){let i=`FIRESTORE (${Zl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw br(i),new Error(i)}function se(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||dw(t,r,i)}function Pt(n,t){return n}const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends Er{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _a{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class fw{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class EO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(Nn.UNAUTHENTICATED)))}shutdown(){}}class SO{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class TO{constructor(t){this.t=t,this.currentUser=Nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){se(this.o===void 0,42304);let i=this.i;const r=d=>this.i!==i?(i=this.i,e(d)):Promise.resolve();let o=new _a;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _a,t.enqueueRetryable((()=>r(this.currentUser)))};const l=()=>{const d=o;t.enqueueRetryable((async()=>{await d.promise,await r(this.currentUser)}))},u=d=>{_t("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(_t("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _a)}}),0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(_t("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(se(typeof i.accessToken=="string",31837,{l:i}),new fw(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return se(t===null||typeof t=="string",2055,{h:t}),new Nn(t)}}class wO{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=Nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AO{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new wO(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(Nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class wE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CO{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){se(this.o===void 0,3512);const i=o=>{o.error!=null&&_t("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,_t("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const r=o=>{_t("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):_t("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new wE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(se(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new wE(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function RO(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class l_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=RO(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function Wt(n,t){return n<t?-1:n>t?1:0}function py(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),o=t.charAt(i);if(r!==o)return Pg(r)===Pg(o)?Wt(r,o):Pg(r)?1:-1}return Wt(n.length,t.length)}const IO=55296,DO=57343;function Pg(n){const t=n.charCodeAt(0);return t>=IO&&t<=DO}function jl(n,t,e){return n.length===t.length&&n.every(((i,r)=>e(i,t[r])))}const AE="__name__";class As{constructor(t,e,i){e===void 0?e=0:e>t.length&&Mt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Mt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return As.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof As?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=As.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return Wt(t.length,e.length)}static compareSegments(t,e){const i=As.isNumericId(t),r=As.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?As.extractNumericId(t).compare(As.extractNumericId(e)):py(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ya.fromString(t.substring(4,t.length-2))}}class ge extends As{construct(t,e,i){return new ge(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new yt(at.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((r=>r.length>0)))}return new ge(e)}static emptyPath(){return new ge([])}}const MO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class An extends As{construct(t,e,i){return new An(t,e,i)}static isValidIdentifier(t){return MO.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),An.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===AE}static keyField(){return new An([AE])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new yt(at.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;r<t.length;){const u=t[r];if(u==="\\"){if(r+1===t.length)throw new yt(at.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new yt(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=d,r+=2}else u==="`"?(l=!l,r++):u!=="."||l?(i+=u,r++):(o(),r++)}if(o(),l)throw new yt(at.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new An(e)}static emptyPath(){return new An([])}}class wt{constructor(t){this.path=t}static fromPath(t){return new wt(ge.fromString(t))}static fromName(t){return new wt(ge.fromString(t).popFirst(5))}static empty(){return new wt(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ge.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ge.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new wt(new ge(t.slice()))}}function pw(n,t,e){if(!e)throw new yt(at.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function kO(n,t,e,i){if(t===!0&&i===!0)throw new yt(at.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function CE(n){if(!wt.isDocumentKey(n))throw new yt(at.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function RE(n){if(wt.isDocumentKey(n))throw new yt(at.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function mw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Qf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Mt(12329,{type:typeof n})}function Zi(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new yt(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Qf(n);throw new yt(at.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Qe(n,t){const e={typeString:n};return t&&(e.value=t),e}function rh(n,t){if(!mw(n))throw new yt(at.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const l=n[i];if(r&&typeof l!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&l!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new yt(at.INVALID_ARGUMENT,e);return!0}const IE=-62135596800,DE=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(t){return be.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*DE);return new be(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new yt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new yt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<IE)throw new yt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/DE}_compareTo(t){return this.seconds===t.seconds?Wt(this.nanoseconds,t.nanoseconds):Wt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:be._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(rh(t,be._jsonSchema))return new be(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-IE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}be._jsonSchemaVersion="firestore/timestamp/1.0",be._jsonSchema={type:Qe("string",be._jsonSchemaVersion),seconds:Qe("number"),nanoseconds:Qe("number")};class kt{static fromTimestamp(t){return new kt(t)}static min(){return new kt(new be(0,0))}static max(){return new kt(new be(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ou=-1;function NO(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=kt.fromTimestamp(i===1e9?new be(e+1,0):new be(e,i));return new xa(r,wt.empty(),t)}function OO(n){return new xa(n.readTime,n.key,Ou)}class xa{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new xa(kt.min(),wt.empty(),Ou)}static max(){return new xa(kt.max(),wt.empty(),Ou)}}function PO(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=wt.comparator(n.documentKey,t.documentKey),e!==0?e:Wt(n.largestBatchId,t.largestBatchId))}const LO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function tc(n){if(n.code!==at.FAILED_PRECONDITION||n.message!==LO)throw n;_t("LocalStore","Unexpectedly lost primary lease")}class ht{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ht(((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof ht?e:ht.resolve(e)}catch(e){return ht.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):ht.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):ht.reject(e)}static resolve(t){return new ht(((e,i)=>{e(t)}))}static reject(t){return new ht(((e,i)=>{i(t)}))}static waitFor(t){return new ht(((e,i)=>{let r=0,o=0,l=!1;t.forEach((u=>{++r,u.next((()=>{++o,l&&o===r&&e()}),(d=>i(d)))})),l=!0,o===r&&e()}))}static or(t){let e=ht.resolve(!1);for(const i of t)e=e.next((r=>r?ht.resolve(r):i()));return e}static forEach(t,e){const i=[];return t.forEach(((r,o)=>{i.push(e.call(this,r,o))})),this.waitFor(i)}static mapArray(t,e){return new ht(((i,r)=>{const o=t.length,l=new Array(o);let u=0;for(let d=0;d<o;d++){const f=d;e(t[f]).next((y=>{l[f]=y,++u,u===o&&i(l)}),(y=>r(y)))}}))}static doWhile(t,e){return new ht(((i,r)=>{const o=()=>{t()===!0?e().next((()=>{o()}),r):i()};o()}))}}function jO(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function ec(n){return n.name==="IndexedDbTransactionError"}class Jf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Jf.ce=-1;const c_=-1;function Zf(n){return n==null}function Af(n){return n===0&&1/n==-1/0}function zO(n){return typeof n=="number"&&Number.isInteger(n)&&!Af(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const gw="";function UO(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=ME(t)),t=BO(n.get(e),t);return ME(t)}function BO(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case gw:e+="";break;default:e+=o}}return e}function ME(n){return n+gw+""}function kE(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function ka(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function yw(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Me{constructor(t,e){this.comparator=t,this.root=e||wn.EMPTY}insert(t,e){return new Me(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(t){return new Me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,wn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new zd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new zd(this.root,t,this.comparator,!1)}getReverseIterator(){return new zd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new zd(this.root,t,this.comparator,!0)}}class zd{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class wn{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??wn.RED,this.left=r??wn.EMPTY,this.right=o??wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new wn(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return wn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return wn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Mt(27949);return t+(this.isRed()?0:1)}}wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1;wn.EMPTY=new class{constructor(){this.size=0}get key(){throw Mt(57766)}get value(){throw Mt(16141)}get color(){throw Mt(16727)}get left(){throw Mt(29726)}get right(){throw Mt(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new wn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class sn{constructor(t){this.comparator=t,this.data=new Me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new NE(this.data.getIterator())}getIteratorFrom(t){return new NE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof sn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new sn(this.comparator);return e.data=t,e}}class NE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class vi{constructor(t){this.fields=t,t.sort(An.comparator)}static empty(){return new vi([])}unionWith(t){let e=new sn(An.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new vi(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return jl(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}class _w extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Cn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new _w("Invalid base64 string: "+o):o}})(t);return new Cn(e)}static fromUint8Array(t){const e=(function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o})(t);return new Cn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Wt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Cn.EMPTY_BYTE_STRING=new Cn("");const FO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ea(n){if(se(!!n,39018),typeof n=="string"){let t=0;const e=FO.exec(n);if(se(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:je(n.seconds),nanos:je(n.nanos)}}function je(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Sa(n){return typeof n=="string"?Cn.fromBase64String(n):Cn.fromUint8Array(n)}const vw="server_timestamp",bw="__type__",xw="__previous_value__",Ew="__local_write_time__";function u_(n){return(n?.mapValue?.fields||{})[bw]?.stringValue===vw}function tp(n){const t=n.mapValue.fields[xw];return u_(t)?tp(t):t}function Pu(n){const t=Ea(n.mapValue.fields[Ew].timestampValue);return new be(t.seconds,t.nanos)}class HO{constructor(t,e,i,r,o,l,u,d,f,y){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=y}}const Cf="(default)";class Lu{constructor(t,e){this.projectId=t,this.database=e||Cf}static empty(){return new Lu("","")}get isDefaultDatabase(){return this.database===Cf}isEqual(t){return t instanceof Lu&&t.projectId===this.projectId&&t.database===this.database}}const Sw="__type__",qO="__max__",Ud={mapValue:{}},Tw="__vector__",Rf="value";function Ta(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?u_(n)?4:WO(n)?9007199254740991:GO(n)?10:11:Mt(28295,{value:n})}function Ls(n,t){if(n===t)return!0;const e=Ta(n);if(e!==Ta(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Pu(n).isEqual(Pu(t));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=Ea(r.timestampValue),u=Ea(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(r,o){return Sa(r.bytesValue).isEqual(Sa(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(r,o){return je(r.geoPointValue.latitude)===je(o.geoPointValue.latitude)&&je(r.geoPointValue.longitude)===je(o.geoPointValue.longitude)})(n,t);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return je(r.integerValue)===je(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=je(r.doubleValue),u=je(o.doubleValue);return l===u?Af(l)===Af(u):isNaN(l)&&isNaN(u)}return!1})(n,t);case 9:return jl(n.arrayValue.values||[],t.arrayValue.values||[],Ls);case 10:case 11:return(function(r,o){const l=r.mapValue.fields||{},u=o.mapValue.fields||{};if(kE(l)!==kE(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Ls(l[d],u[d])))return!1;return!0})(n,t);default:return Mt(52216,{left:n})}}function Vu(n,t){return(n.values||[]).find((e=>Ls(e,t)))!==void 0}function zl(n,t){if(n===t)return 0;const e=Ta(n),i=Ta(t);if(e!==i)return Wt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Wt(n.booleanValue,t.booleanValue);case 2:return(function(o,l){const u=je(o.integerValue||o.doubleValue),d=je(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(n,t);case 3:return OE(n.timestampValue,t.timestampValue);case 4:return OE(Pu(n),Pu(t));case 5:return py(n.stringValue,t.stringValue);case 6:return(function(o,l){const u=Sa(o),d=Sa(l);return u.compareTo(d)})(n.bytesValue,t.bytesValue);case 7:return(function(o,l){const u=o.split("/"),d=l.split("/");for(let f=0;f<u.length&&f<d.length;f++){const y=Wt(u[f],d[f]);if(y!==0)return y}return Wt(u.length,d.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,l){const u=Wt(je(o.latitude),je(l.latitude));return u!==0?u:Wt(je(o.longitude),je(l.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return PE(n.arrayValue,t.arrayValue);case 10:return(function(o,l){const u=o.fields||{},d=l.fields||{},f=u[Rf]?.arrayValue,y=d[Rf]?.arrayValue,g=Wt(f?.values?.length||0,y?.values?.length||0);return g!==0?g:PE(f,y)})(n.mapValue,t.mapValue);case 11:return(function(o,l){if(o===Ud.mapValue&&l===Ud.mapValue)return 0;if(o===Ud.mapValue)return 1;if(l===Ud.mapValue)return-1;const u=o.fields||{},d=Object.keys(u),f=l.fields||{},y=Object.keys(f);d.sort(),y.sort();for(let g=0;g<d.length&&g<y.length;++g){const v=py(d[g],y[g]);if(v!==0)return v;const E=zl(u[d[g]],f[y[g]]);if(E!==0)return E}return Wt(d.length,y.length)})(n.mapValue,t.mapValue);default:throw Mt(23264,{he:e})}}function OE(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Wt(n,t);const e=Ea(n),i=Ea(t),r=Wt(e.seconds,i.seconds);return r!==0?r:Wt(e.nanos,i.nanos)}function PE(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=zl(e[r],i[r]);if(o)return o}return Wt(e.length,i.length)}function Ul(n){return my(n)}function my(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=Ea(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Sa(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return wt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=my(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const l of i)o?o=!1:r+=",",r+=`${l}:${my(e.fields[l])}`;return r+"}"})(n.mapValue):Mt(61005,{value:n})}function uf(n){switch(Ta(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=tp(n);return t?16+uf(t):16;case 5:return 2*n.stringValue.length;case 6:return Sa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,o)=>r+uf(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return ka(i.fields,((o,l)=>{r+=o.length+uf(l)})),r})(n.mapValue);default:throw Mt(13486,{value:n})}}function LE(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function gy(n){return!!n&&"integerValue"in n}function h_(n){return!!n&&"arrayValue"in n}function VE(n){return!!n&&"nullValue"in n}function jE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hf(n){return!!n&&"mapValue"in n}function GO(n){return(n?.mapValue?.fields||{})[Sw]?.stringValue===Tw}function Eu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return ka(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=Eu(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Eu(n.arrayValue.values[e]);return t}return{...n}}function WO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===qO}class ei{constructor(t){this.value=t}static empty(){return new ei({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!hf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Eu(e)}setAll(t){let e=An.emptyPath(),i={},r=[];t.forEach(((l,u)=>{if(!e.isImmediateParentOf(u)){const d=this.getFieldsMap(e);this.applyChanges(d,i,r),i={},r=[],e=u.popLast()}l?i[u.lastSegment()]=Eu(l):r.push(u.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());hf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ls(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];hf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){ka(e,((r,o)=>t[r]=o));for(const r of i)delete t[r]}clone(){return new ei(Eu(this.value))}}function ww(n){const t=[];return ka(n.fields,((e,i)=>{const r=new An([e]);if(hf(i)){const o=ww(i.mapValue).fields;if(o.length===0)t.push(r);else for(const l of o)t.push(r.child(l))}else t.push(r)})),new vi(t)}class Pn{constructor(t,e,i,r,o,l,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(t){return new Pn(t,0,kt.min(),kt.min(),kt.min(),ei.empty(),0)}static newFoundDocument(t,e,i,r){return new Pn(t,1,e,kt.min(),i,r,0)}static newNoDocument(t,e){return new Pn(t,2,e,kt.min(),kt.min(),ei.empty(),0)}static newUnknownDocument(t,e){return new Pn(t,3,e,kt.min(),kt.min(),ei.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(kt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ei.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Pn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class If{constructor(t,e){this.position=t,this.inclusive=e}}function zE(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],l=n.position[r];if(o.field.isKeyField()?i=wt.comparator(wt.fromName(l.referenceValue),e.key):i=zl(l,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function UE(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ls(n.position[e],t.position[e]))return!1;return!0}class ju{constructor(t,e="asc"){this.field=t,this.dir=e}}function YO(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class Aw{}class Xe extends Aw{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new KO(t,e,i):e==="array-contains"?new JO(t,i):e==="in"?new ZO(t,i):e==="not-in"?new tP(t,i):e==="array-contains-any"?new eP(t,i):new Xe(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new XO(t,i):new QO(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(zl(e,this.value)):e!==null&&Ta(this.value)===Ta(e)&&this.matchesComparison(zl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class es extends Aw{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new es(t,e)}matches(t){return Cw(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Cw(n){return n.op==="and"}function Rw(n){return $O(n)&&Cw(n)}function $O(n){for(const t of n.filters)if(t instanceof es)return!1;return!0}function yy(n){if(n instanceof Xe)return n.field.canonicalString()+n.op.toString()+Ul(n.value);if(Rw(n))return n.filters.map((t=>yy(t))).join(",");{const t=n.filters.map((e=>yy(e))).join(",");return`${n.op}(${t})`}}function Iw(n,t){return n instanceof Xe?(function(i,r){return r instanceof Xe&&i.op===r.op&&i.field.isEqual(r.field)&&Ls(i.value,r.value)})(n,t):n instanceof es?(function(i,r){return r instanceof es&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((o,l,u)=>o&&Iw(l,r.filters[u])),!0):!1})(n,t):void Mt(19439)}function Dw(n){return n instanceof Xe?(function(e){return`${e.field.canonicalString()} ${e.op} ${Ul(e.value)}`})(n):n instanceof es?(function(e){return e.op.toString()+" {"+e.getFilters().map(Dw).join(" ,")+"}"})(n):"Filter"}class KO extends Xe{constructor(t,e,i){super(t,e,i),this.key=wt.fromName(i.referenceValue)}matches(t){const e=wt.comparator(t.key,this.key);return this.matchesComparison(e)}}class XO extends Xe{constructor(t,e){super(t,"in",e),this.keys=Mw("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class QO extends Xe{constructor(t,e){super(t,"not-in",e),this.keys=Mw("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Mw(n,t){return(t.arrayValue?.values||[]).map((e=>wt.fromName(e.referenceValue)))}class JO extends Xe{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return h_(e)&&Vu(e.arrayValue,this.value)}}class ZO extends Xe{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Vu(this.value.arrayValue,e)}}class tP extends Xe{constructor(t,e){super(t,"not-in",e)}matches(t){if(Vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Vu(this.value.arrayValue,e)}}class eP extends Xe{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!h_(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Vu(this.value.arrayValue,i)))}}class nP{constructor(t,e=null,i=[],r=[],o=null,l=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=l,this.endAt=u,this.Te=null}}function BE(n,t=null,e=[],i=[],r=null,o=null,l=null){return new nP(n,t,e,i,r,o,l)}function d_(n){const t=Pt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>yy(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),Zf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>Ul(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>Ul(i))).join(",")),t.Te=e}return t.Te}function f_(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!YO(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Iw(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!UE(n.startAt,t.startAt)&&UE(n.endAt,t.endAt)}function _y(n){return wt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class nc{constructor(t,e=null,i=[],r=[],o=null,l="F",u=null,d=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function iP(n,t,e,i,r,o,l,u){return new nc(n,t,e,i,r,o,l,u)}function p_(n){return new nc(n)}function FE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function kw(n){return n.collectionGroup!==null}function Su(n){const t=Pt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new sn(An.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new ju(o,i))})),e.has(An.keyField().canonicalString())||t.Ie.push(new ju(An.keyField(),i))}return t.Ie}function Is(n){const t=Pt(n);return t.Ee||(t.Ee=sP(t,Su(n))),t.Ee}function sP(n,t){if(n.limitType==="F")return BE(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new ju(r.field,o)}));const e=n.endAt?new If(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new If(n.startAt.position,n.startAt.inclusive):null;return BE(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function vy(n,t){const e=n.filters.concat([t]);return new nc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Df(n,t,e){return new nc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function ep(n,t){return f_(Is(n),Is(t))&&n.limitType===t.limitType}function Nw(n){return`${d_(Is(n))}|lt:${n.limitType}`}function Cl(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((r=>Dw(r))).join(", ")}]`),Zf(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((r=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(r))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Ul(r))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Ul(r))).join(",")),`Target(${i})`})(Is(n))}; limitType=${n.limitType})`}function np(n,t){return t.isFoundDocument()&&(function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):wt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,r){for(const o of Su(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0})(n,t)&&(function(i,r){return!(i.startAt&&!(function(l,u,d){const f=zE(l,u,d);return l.inclusive?f<=0:f<0})(i.startAt,Su(i),r)||i.endAt&&!(function(l,u,d){const f=zE(l,u,d);return l.inclusive?f>=0:f>0})(i.endAt,Su(i),r))})(n,t)}function rP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Ow(n){return(t,e)=>{let i=!1;for(const r of Su(n)){const o=aP(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function aP(n,t,e){const i=n.field.isKeyField()?wt.comparator(t.key,e.key):(function(o,l,u){const d=l.data.field(o),f=u.data.field(o);return d!==null&&f!==null?zl(d,f):Mt(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Mt(19790,{direction:n.dir})}}class Oo{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){ka(this.inner,((e,i)=>{for(const[r,o]of i)t(r,o)}))}isEmpty(){return yw(this.inner)}size(){return this.innerSize}}const oP=new Me(wt.comparator);function xr(){return oP}const Pw=new Me(wt.comparator);function fu(...n){let t=Pw;for(const e of n)t=t.insert(e.key,e);return t}function Lw(n){let t=Pw;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function yo(){return Tu()}function Vw(){return Tu()}function Tu(){return new Oo((n=>n.toString()),((n,t)=>n.isEqual(t)))}const lP=new Me(wt.comparator),cP=new sn(wt.comparator);function Yt(...n){let t=cP;for(const e of n)t=t.add(e);return t}const uP=new sn(Wt);function hP(){return uP}function m_(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Af(t)?"-0":t}}function jw(n){return{integerValue:""+n}}function dP(n,t){return zO(t)?jw(t):m_(n,t)}class ip{constructor(){this._=void 0}}function fP(n,t,e){return n instanceof zu?(function(r,o){const l={fields:{[bw]:{stringValue:vw},[Ew]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&u_(o)&&(o=tp(o)),o&&(l.fields[xw]=o),{mapValue:l}})(e,t):n instanceof Uu?Uw(n,t):n instanceof Bu?Bw(n,t):(function(r,o){const l=zw(r,o),u=HE(l)+HE(r.Ae);return gy(l)&&gy(r.Ae)?jw(u):m_(r.serializer,u)})(n,t)}function pP(n,t,e){return n instanceof Uu?Uw(n,t):n instanceof Bu?Bw(n,t):e}function zw(n,t){return n instanceof Mf?(function(i){return gy(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class zu extends ip{}class Uu extends ip{constructor(t){super(),this.elements=t}}function Uw(n,t){const e=Fw(t);for(const i of n.elements)e.some((r=>Ls(r,i)))||e.push(i);return{arrayValue:{values:e}}}class Bu extends ip{constructor(t){super(),this.elements=t}}function Bw(n,t){let e=Fw(t);for(const i of n.elements)e=e.filter((r=>!Ls(r,i)));return{arrayValue:{values:e}}}class Mf extends ip{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function HE(n){return je(n.integerValue||n.doubleValue)}function Fw(n){return h_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class mP{constructor(t,e){this.field=t,this.transform=e}}function gP(n,t){return n.field.isEqual(t.field)&&(function(i,r){return i instanceof Uu&&r instanceof Uu||i instanceof Bu&&r instanceof Bu?jl(i.elements,r.elements,Ls):i instanceof Mf&&r instanceof Mf?Ls(i.Ae,r.Ae):i instanceof zu&&r instanceof zu})(n.transform,t.transform)}class yP{constructor(t,e){this.version=t,this.transformResults=e}}class ii{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ii}static exists(t){return new ii(void 0,t)}static updateTime(t){return new ii(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function df(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class sp{}function Hw(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new rp(n.key,ii.none()):new ah(n.key,n.data,ii.none());{const e=n.data,i=ei.empty();let r=new sn(An.comparator);for(let o of t.fields)if(!r.has(o)){let l=e.field(o);l===null&&o.length>1&&(o=o.popLast(),l=e.field(o)),l===null?i.delete(o):i.set(o,l),r=r.add(o)}return new Na(n.key,i,new vi(r.toArray()),ii.none())}}function _P(n,t,e){n instanceof ah?(function(r,o,l){const u=r.value.clone(),d=GE(r.fieldTransforms,o,l.transformResults);u.setAll(d),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,t,e):n instanceof Na?(function(r,o,l){if(!df(r.precondition,o))return void o.convertToUnknownDocument(l.version);const u=GE(r.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(qw(r)),d.setAll(u),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(n,t,e):(function(r,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,t,e)}function wu(n,t,e,i){return n instanceof ah?(function(o,l,u,d){if(!df(o.precondition,l))return u;const f=o.value.clone(),y=WE(o.fieldTransforms,d,l);return f.setAll(y),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(n,t,e,i):n instanceof Na?(function(o,l,u,d){if(!df(o.precondition,l))return u;const f=WE(o.fieldTransforms,d,l),y=l.data;return y.setAll(qw(o)),y.setAll(f),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((g=>g.field)))})(n,t,e,i):(function(o,l,u){return df(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,t,e)}function vP(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=zw(i.transform,r||null);o!=null&&(e===null&&(e=ei.empty()),e.set(i.field,o))}return e||null}function qE(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&jl(i,r,((o,l)=>gP(o,l)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class ah extends sp{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Na extends sp{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function qw(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function GE(n,t,e){const i=new Map;se(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let r=0;r<e.length;r++){const o=n[r],l=o.transform,u=t.data.field(o.field);i.set(o.field,pP(l,u,e[r]))}return i}function WE(n,t,e){const i=new Map;for(const r of n){const o=r.transform,l=e.data.field(r.field);i.set(r.field,fP(o,l,t))}return i}class rp extends sp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bP extends sp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xP{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&_P(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=wu(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=wu(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=Vw();return this.mutations.forEach((r=>{const o=t.get(r.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=e.has(r.key)?null:u;const d=Hw(l,u);d!==null&&i.set(r.key,d),l.isValidDocument()||l.convertToNoDocument(kt.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Yt())}isEqual(t){return this.batchId===t.batchId&&jl(this.mutations,t.mutations,((e,i)=>qE(e,i)))&&jl(this.baseMutations,t.baseMutations,((e,i)=>qE(e,i)))}}class g_{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){se(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=(function(){return lP})();const o=t.mutations;for(let l=0;l<o.length;l++)r=r.insert(o[l].key,i[l].version);return new g_(t,e,i,r)}}class EP{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class SP{constructor(t,e){this.count=t,this.unchangedNames=e}}var Ke,Xt;function TP(n){switch(n){case at.OK:return Mt(64938);case at.CANCELLED:case at.UNKNOWN:case at.DEADLINE_EXCEEDED:case at.RESOURCE_EXHAUSTED:case at.INTERNAL:case at.UNAVAILABLE:case at.UNAUTHENTICATED:return!1;case at.INVALID_ARGUMENT:case at.NOT_FOUND:case at.ALREADY_EXISTS:case at.PERMISSION_DENIED:case at.FAILED_PRECONDITION:case at.ABORTED:case at.OUT_OF_RANGE:case at.UNIMPLEMENTED:case at.DATA_LOSS:return!0;default:return Mt(15467,{code:n})}}function Gw(n){if(n===void 0)return br("GRPC error has no .code"),at.UNKNOWN;switch(n){case Ke.OK:return at.OK;case Ke.CANCELLED:return at.CANCELLED;case Ke.UNKNOWN:return at.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return at.INTERNAL;case Ke.UNAVAILABLE:return at.UNAVAILABLE;case Ke.UNAUTHENTICATED:return at.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case Ke.NOT_FOUND:return at.NOT_FOUND;case Ke.ALREADY_EXISTS:return at.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return at.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case Ke.ABORTED:return at.ABORTED;case Ke.OUT_OF_RANGE:return at.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return at.UNIMPLEMENTED;case Ke.DATA_LOSS:return at.DATA_LOSS;default:return Mt(39323,{code:n})}}(Xt=Ke||(Ke={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";function wP(){return new TextEncoder}const AP=new ya([4294967295,4294967295],0);function YE(n){const t=wP().encode(n),e=new aw;return e.update(t),new Uint8Array(e.digest())}function $E(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new ya([e,i],0),new ya([r,o],0)]}class y_{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new pu(`Invalid padding: ${e}`);if(i<0)throw new pu(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new pu(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new pu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=ya.fromNumber(this.ge)}ye(t,e,i){let r=t.add(e.multiply(ya.fromNumber(i)));return r.compare(AP)===1&&(r=new ya([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=YE(t),[i,r]=$E(e);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,r,o);if(!this.we(l))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),l=new y_(o,r,e);return i.forEach((u=>l.insert(u))),l}insert(t){if(this.ge===0)return;const e=YE(t),[i,r]=$E(e);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,r,o);this.Se(l)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ap{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,oh.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new ap(kt.min(),r,new Me(Wt),xr(),Yt())}}class oh{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new oh(i,e,Yt(),Yt(),Yt())}}class ff{constructor(t,e,i,r){this.be=t,this.removedTargetIds=e,this.key=i,this.De=r}}class Ww{constructor(t,e){this.targetId=t,this.Ce=e}}class Yw{constructor(t,e,i=Cn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class KE{constructor(){this.ve=0,this.Fe=XE(),this.Me=Cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Yt(),e=Yt(),i=Yt();return this.Fe.forEach(((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Mt(38017,{changeType:o})}})),new oh(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=XE()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,se(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class CP{constructor(t){this.Ge=t,this.ze=new Map,this.je=xr(),this.Je=Bd(),this.He=Bd(),this.Ye=new Me(Wt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:Mt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,r)=>{this.rt(r)&&e(r)}))}st(t){const e=t.targetId,i=t.Ce.count,r=this.ot(e);if(r){const o=r.target;if(_y(o))if(i===0){const l=new wt(o.path);this.et(e,l,Pn.newNoDocument(l,kt.min()))}else se(i===1,20013,{expectedCount:i});else{const l=this._t(e);if(l!==i){const u=this.ut(t),d=u?this.ct(u,t,l):1;if(d!==0){this.it(e);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,f)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let l,u;try{l=Sa(i).toUint8Array()}catch(d){if(d instanceof _w)return Vl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new y_(l,r,o)}catch(d){return Vl(d instanceof pu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let r=0;return i.forEach((o=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;t.mightContain(u)||(this.et(e,o,null),r++)})),r}Tt(t){const e=new Map;this.ze.forEach(((o,l)=>{const u=this.ot(l);if(u){if(o.current&&_y(u.target)){const d=new wt(u.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,Pn.newNoDocument(d,t))}o.Be&&(e.set(l,o.ke()),o.qe())}}));let i=Yt();this.He.forEach(((o,l)=>{let u=!0;l.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(i=i.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(t)));const r=new ap(t,e,this.Ye,this.je,i);return this.je=xr(),this.Je=Bd(),this.He=Bd(),this.Ye=new Me(Wt),r}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,e)?r.Qe(e,1):r.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new KE,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new sn(Wt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new sn(Wt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||_t("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new KE),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Bd(){return new Me(wt.comparator)}function XE(){return new Me(wt.comparator)}const RP={asc:"ASCENDING",desc:"DESCENDING"},IP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DP={and:"AND",or:"OR"};class MP{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function by(n,t){return n.useProto3Json||Zf(t)?t:{value:t}}function kf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function $w(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function kP(n,t){return kf(n,t.toTimestamp())}function Ds(n){return se(!!n,49232),kt.fromTimestamp((function(e){const i=Ea(e);return new be(i.seconds,i.nanos)})(n))}function __(n,t){return xy(n,t).canonicalString()}function xy(n,t){const e=(function(r){return new ge(["projects",r.projectId,"databases",r.database])})(n).child("documents");return t===void 0?e:e.child(t)}function Kw(n){const t=ge.fromString(n);return se(tA(t),10190,{key:t.toString()}),t}function Ey(n,t){return __(n.databaseId,t.path)}function Lg(n,t){const e=Kw(t);if(e.get(1)!==n.databaseId.projectId)throw new yt(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new yt(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new wt(Qw(e))}function Xw(n,t){return __(n.databaseId,t)}function NP(n){const t=Kw(n);return t.length===4?ge.emptyPath():Qw(t)}function Sy(n){return new ge(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Qw(n){return se(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function QE(n,t,e){return{name:Ey(n,t),fields:e.value.mapValue.fields}}function OP(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Mt(39313,{state:f})})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=(function(f,y){return f.useProto3Json?(se(y===void 0||typeof y=="string",58123),Cn.fromBase64String(y||"")):(se(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Cn.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),l=t.targetChange.cause,u=l&&(function(f){const y=f.code===void 0?at.UNKNOWN:Gw(f.code);return new yt(y,f.message||"")})(l);e=new Yw(i,r,o,u||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Lg(n,i.document.name),o=Ds(i.document.updateTime),l=i.document.createTime?Ds(i.document.createTime):kt.min(),u=new ei({mapValue:{fields:i.document.fields}}),d=Pn.newFoundDocument(r,o,l,u),f=i.targetIds||[],y=i.removedTargetIds||[];e=new ff(f,y,d.key,d)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Lg(n,i.document),o=i.readTime?Ds(i.readTime):kt.min(),l=Pn.newNoDocument(r,o),u=i.removedTargetIds||[];e=new ff([],u,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Lg(n,i.document),o=i.removedTargetIds||[];e=new ff([],o,r,null)}else{if(!("filter"in t))return Mt(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,l=new SP(r,o),u=i.targetId;e=new Ww(u,l)}}return e}function PP(n,t){let e;if(t instanceof ah)e={update:QE(n,t.key,t.value)};else if(t instanceof rp)e={delete:Ey(n,t.key)};else if(t instanceof Na)e={update:QE(n,t.key,t.data),updateMask:qP(t.fieldMask)};else{if(!(t instanceof bP))return Mt(16599,{Vt:t.type});e={verify:Ey(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,l){const u=l.transform;if(u instanceof zu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Uu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Bu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Mf)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Mt(20930,{transform:l.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:kP(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Mt(27497)})(n,t.precondition)),e}function LP(n,t){return n&&n.length>0?(se(t!==void 0,14353),n.map((e=>(function(r,o){let l=r.updateTime?Ds(r.updateTime):Ds(o);return l.isEqual(kt.min())&&(l=Ds(o)),new yP(l,r.transformResults||[])})(e,t)))):[]}function VP(n,t){return{documents:[Xw(n,t.path)]}}function jP(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=Xw(n,r);const o=(function(f){if(f.length!==0)return Zw(es.create(f,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const l=(function(f){if(f.length!==0)return f.map((y=>(function(v){return{field:Rl(v.field),direction:BP(v.dir)}})(y)))})(t.orderBy);l&&(e.structuredQuery.orderBy=l);const u=by(n,t.limit);return u!==null&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(t.endAt)),{ft:e,parent:r}}function zP(n){let t=NP(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){se(i===1,65062);const y=e.from[0];y.allDescendants?r=y.collectionId:t=t.child(y.collectionId)}let o=[];e.where&&(o=(function(g){const v=Jw(g);return v instanceof es&&Rw(v)?v.getFilters():[v]})(e.where));let l=[];e.orderBy&&(l=(function(g){return g.map((v=>(function(w){return new ju(Il(w.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(v)))})(e.orderBy));let u=null;e.limit&&(u=(function(g){let v;return v=typeof g=="object"?g.value:g,Zf(v)?null:v})(e.limit));let d=null;e.startAt&&(d=(function(g){const v=!!g.before,E=g.values||[];return new If(E,v)})(e.startAt));let f=null;return e.endAt&&(f=(function(g){const v=!g.before,E=g.values||[];return new If(E,v)})(e.endAt)),iP(t,r,l,o,u,"F",d,f)}function UP(n,t){const e=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mt(28987,{purpose:r})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function Jw(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Il(e.unaryFilter.field);return Xe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Il(e.unaryFilter.field);return Xe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Il(e.unaryFilter.field);return Xe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Il(e.unaryFilter.field);return Xe.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Mt(61313);default:return Mt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Xe.create(Il(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Mt(58110);default:return Mt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return es.create(e.compositeFilter.filters.map((i=>Jw(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Mt(1026)}})(e.compositeFilter.op))})(n):Mt(30097,{filter:n})}function BP(n){return RP[n]}function FP(n){return IP[n]}function HP(n){return DP[n]}function Rl(n){return{fieldPath:n.canonicalString()}}function Il(n){return An.fromServerFormat(n.fieldPath)}function Zw(n){return n instanceof Xe?(function(e){if(e.op==="=="){if(jE(e.value))return{unaryFilter:{field:Rl(e.field),op:"IS_NAN"}};if(VE(e.value))return{unaryFilter:{field:Rl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(jE(e.value))return{unaryFilter:{field:Rl(e.field),op:"IS_NOT_NAN"}};if(VE(e.value))return{unaryFilter:{field:Rl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rl(e.field),op:FP(e.op),value:e.value}}})(n):n instanceof es?(function(e){const i=e.getFilters().map((r=>Zw(r)));return i.length===1?i[0]:{compositeFilter:{op:HP(e.op),filters:i}}})(n):Mt(54877,{filter:n})}function qP(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function tA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class ca{constructor(t,e,i,r,o=kt.min(),l=kt.min(),u=Cn.EMPTY_BYTE_STRING,d=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(t){return new ca(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class GP{constructor(t){this.yt=t}}function WP(n){const t=zP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Df(t,t.limit,"L"):t}class YP{constructor(){this.Cn=new $P}addToCollectionParentIndex(t,e){return this.Cn.add(e),ht.resolve()}getCollectionParents(t,e){return ht.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return ht.resolve()}deleteFieldIndex(t,e){return ht.resolve()}deleteAllFieldIndexes(t){return ht.resolve()}createTargetIndexes(t,e){return ht.resolve()}getDocumentsMatchingTarget(t,e){return ht.resolve(null)}getIndexType(t,e){return ht.resolve(0)}getFieldIndexes(t,e){return ht.resolve([])}getNextCollectionGroupToUpdate(t){return ht.resolve(null)}getMinOffset(t,e){return ht.resolve(xa.min())}getMinOffsetFromCollectionGroup(t,e){return ht.resolve(xa.min())}updateCollectionGroup(t,e,i){return ht.resolve()}updateIndexEntries(t,e){return ht.resolve()}}class $P{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new sn(ge.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new sn(ge.comparator)).toArray()}}const JE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eA=41943040;class ti{static withCacheSize(t){return new ti(t,ti.DEFAULT_COLLECTION_PERCENTILE,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}ti.DEFAULT_COLLECTION_PERCENTILE=10,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ti.DEFAULT=new ti(eA,ti.DEFAULT_COLLECTION_PERCENTILE,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ti.DISABLED=new ti(-1,0,0);class Bl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Bl(0)}static cr(){return new Bl(-1)}}const ZE="LruGarbageCollector",KP=1048576;function tS([n,t],[e,i]){const r=Wt(n,e);return r===0?Wt(t,i):r}class XP{constructor(t){this.Ir=t,this.buffer=new sn(tS),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();tS(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class QP{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){_t(ZE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ec(e)?_t(ZE,"Ignoring IndexedDB error during garbage collection: ",e):await tc(e)}await this.Vr(3e5)}))}}class JP{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return ht.resolve(Jf.ce);const i=new XP(e);return this.mr.forEachTarget(t,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(t,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(_t("LruGarbageCollector","Garbage collection skipped; disabled"),ht.resolve(JE)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(_t("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JE):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,r,o,l,u,d,f;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(_t("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),r=this.params.maximumSequenceNumbersToCollect):r=g,l=Date.now(),this.nthSequenceNumber(t,r)))).next((g=>(i=g,u=Date.now(),this.removeTargets(t,i,e)))).next((g=>(o=g,d=Date.now(),this.removeOrphanedDocuments(t,i)))).next((g=>(f=Date.now(),Al()<=Gt.DEBUG&&_t("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-y}ms
	Determined least recently used ${r} in `+(u-l)+`ms
	Removed ${o} targets in `+(d-u)+`ms
	Removed ${g} documents in `+(f-d)+`ms
Total Duration: ${f-y}ms`),ht.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:g}))))}}function ZP(n,t){return new JP(n,t)}class tL{constructor(){this.changes=new Oo((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Pn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?ht.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class eL{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class nL{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(i=r,this.remoteDocumentCache.getEntry(t,e)))).next((r=>(i!==null&&wu(i.mutation,r,vi.empty(),be.now()),r)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Yt()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Yt()){const r=yo();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,i).next((o=>{let l=fu();return o.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(t,e){const i=yo();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Yt())))}populateOverlays(t,e,i){const r=[];return i.forEach((o=>{e.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(t,r).next((o=>{o.forEach(((l,u)=>{e.set(l,u)}))}))}computeViews(t,e,i,r){let o=xr();const l=Tu(),u=(function(){return Tu()})();return e.forEach(((d,f)=>{const y=i.get(f.key);r.has(f.key)&&(y===void 0||y.mutation instanceof Na)?o=o.insert(f.key,f):y!==void 0?(l.set(f.key,y.mutation.getFieldMask()),wu(y.mutation,f,y.mutation.getFieldMask(),be.now())):l.set(f.key,vi.empty())})),this.recalculateAndSaveOverlays(t,o).next((d=>(d.forEach(((f,y)=>l.set(f,y))),e.forEach(((f,y)=>u.set(f,new eL(y,l.get(f)??null)))),u)))}recalculateAndSaveOverlays(t,e){const i=Tu();let r=new Me(((l,u)=>l-u)),o=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((l=>{for(const u of l)u.keys().forEach((d=>{const f=e.get(d);if(f===null)return;let y=i.get(d)||vi.empty();y=u.applyToLocalView(f,y),i.set(d,y);const g=(r.get(u.batchId)||Yt()).add(d);r=r.insert(u.batchId,g)}))})).next((()=>{const l=[],u=r.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),f=d.key,y=d.value,g=Vw();y.forEach((v=>{if(!o.has(v)){const E=Hw(e.get(v),i.get(v));E!==null&&g.set(v,E),o=o.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(t,f,g))}return ht.waitFor(l)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,r){return(function(l){return wt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):kw(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next((o=>{const l=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):ht.resolve(yo());let u=Ou,d=o;return l.next((f=>ht.forEach(f,((y,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),o.get(y)?ht.resolve():this.remoteDocumentCache.getEntry(t,y).next((v=>{d=d.insert(y,v)}))))).next((()=>this.populateOverlays(t,f,o))).next((()=>this.computeViews(t,d,f,Yt()))).next((y=>({batchId:u,changes:Lw(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new wt(e)).next((i=>{let r=fu();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let l=fu();return this.indexManager.getCollectionParents(t,o).next((u=>ht.forEach(u,(d=>{const f=(function(g,v){return new nc(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(e,d.child(o));return this.getDocumentsMatchingCollectionQuery(t,f,i,r).next((y=>{y.forEach(((g,v)=>{l=l.insert(g,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r)))).next((l=>{o.forEach(((d,f)=>{const y=f.getKey();l.get(y)===null&&(l=l.insert(y,Pn.newInvalidDocument(y)))}));let u=fu();return l.forEach(((d,f)=>{const y=o.get(d);y!==void 0&&wu(y.mutation,f,vi.empty(),be.now()),np(e,f)&&(u=u.insert(d,f))})),u}))}}class iL{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return ht.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:Ds(r.createTime)}})(e)),ht.resolve()}getNamedQuery(t,e){return ht.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(r){return{name:r.name,query:WP(r.bundledQuery),readTime:Ds(r.readTime)}})(e)),ht.resolve()}}class sL{constructor(){this.overlays=new Me(wt.comparator),this.qr=new Map}getOverlay(t,e){return ht.resolve(this.overlays.get(e))}getOverlays(t,e){const i=yo();return ht.forEach(e,(r=>this.getOverlay(t,r).next((o=>{o!==null&&i.set(r,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((r,o)=>{this.St(t,e,o)})),ht.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),ht.resolve()}getOverlaysForCollection(t,e,i){const r=yo(),o=e.length+1,l=new wt(e.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,f=d.getKey();if(!e.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>i&&r.set(d.getKey(),d)}return ht.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new Me(((f,y)=>f-y));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===e&&f.largestBatchId>i){let y=o.get(f.largestBatchId);y===null&&(y=yo(),o=o.insert(f.largestBatchId,y)),y.set(f.getKey(),f)}}const u=yo(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,y)=>u.set(f,y))),!(u.size()>=r)););return ht.resolve(u)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new EP(e,i));let o=this.qr.get(e);o===void 0&&(o=Yt(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}class rL{constructor(){this.sessionToken=Cn.EMPTY_BYTE_STRING}getSessionToken(t){return ht.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ht.resolve()}}class v_{constructor(){this.Qr=new sn(dn.$r),this.Ur=new sn(dn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new dn(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new dn(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new wt(new ge([])),i=new dn(e,t),r=new dn(e,t+1),o=[];return this.Ur.forEachInRange([i,r],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new wt(new ge([])),i=new dn(e,t),r=new dn(e,t+1);let o=Yt();return this.Ur.forEachInRange([i,r],(l=>{o=o.add(l.key)})),o}containsKey(t){const e=new dn(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class dn{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return wt.comparator(t.key,e.key)||Wt(t.Yr,e.Yr)}static Kr(t,e){return Wt(t.Yr,e.Yr)||wt.comparator(t.key,e.key)}}class aL{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new sn(dn.$r)}checkEmpty(t){return ht.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new xP(o,e,i,r);this.mutationQueue.push(l);for(const u of r)this.Zr=this.Zr.add(new dn(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return ht.resolve(l)}lookupMutationBatch(t,e){return ht.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ei(i),o=r<0?0:r;return ht.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(this.mutationQueue.length===0?c_:this.tr-1)}getAllMutationBatches(t){return ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new dn(e,0),r=new dn(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,r],(l=>{const u=this.Xr(l.Yr);o.push(u)})),ht.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new sn(Wt);return e.forEach((r=>{const o=new dn(r,0),l=new dn(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(u=>{i=i.add(u.Yr)}))})),ht.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;wt.isDocumentKey(o)||(o=o.child(""));const l=new dn(new wt(o),0);let u=new sn(Wt);return this.Zr.forEachWhile((d=>{const f=d.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(u=u.add(d.Yr)),!0)}),l),ht.resolve(this.ti(u))}ti(t){const e=[];return t.forEach((i=>{const r=this.Xr(i);r!==null&&e.push(r)})),e}removeMutationBatch(t,e){se(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ht.forEach(e.mutations,(r=>{const o=new dn(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new dn(e,0),r=this.Zr.firstAfterOrEqual(i);return ht.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,ht.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class oL{constructor(t){this.ri=t,this.docs=(function(){return new Me(wt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,l=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ht.resolve(i?i.document.mutableCopy():Pn.newInvalidDocument(e))}getEntries(t,e){let i=xr();return e.forEach((r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Pn.newInvalidDocument(r))})),ht.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=xr();const l=e.path,u=new wt(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:f,value:{document:y}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||PO(OO(y),i)<=0||(r.has(y.key)||np(e,y))&&(o=o.insert(y.key,y.mutableCopy()))}return ht.resolve(o)}getAllFromCollectionGroup(t,e,i,r){Mt(9500)}ii(t,e){return ht.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new lL(this)}getSize(t){return ht.resolve(this.size)}}class lL extends tL{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?e.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(i)})),ht.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class cL{constructor(t){this.persistence=t,this.si=new Oo((e=>d_(e)),f_),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.oi=0,this._i=new v_,this.targetCount=0,this.ai=Bl.ur()}forEachTarget(t,e){return this.si.forEach(((i,r)=>e(r))),ht.resolve()}getLastRemoteSnapshotVersion(t){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ht.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),ht.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Bl(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,ht.resolve()}updateTargetData(t,e){return this.Pr(e),ht.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,ht.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=e&&i.get(u.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)})),ht.waitFor(o).next((()=>r))}getTargetCount(t){return ht.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return ht.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),ht.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach((l=>{o.push(r.markPotentiallyOrphaned(t,l))})),ht.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),ht.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return ht.resolve(i)}containsKey(t,e){return ht.resolve(this._i.containsKey(e))}}class nA{constructor(t,e){this.ui={},this.overlays={},this.ci=new Jf(0),this.li=!1,this.li=!0,this.hi=new rL,this.referenceDelegate=t(this),this.Pi=new cL(this),this.indexManager=new YP,this.remoteDocumentCache=(function(r){return new oL(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new GP(e),this.Ii=new iL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new sL,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new aL(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){_t("MemoryPersistence","Starting transaction:",t);const r=new uL(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((o=>this.referenceDelegate.di(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ai(t,e){return ht.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class uL extends VO{constructor(t){super(),this.currentSequenceNumber=t}}class b_{constructor(t){this.persistence=t,this.Ri=new v_,this.Vi=null}static mi(t){return new b_(t)}get fi(){if(this.Vi)return this.Vi;throw Mt(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),ht.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),ht.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),ht.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((r=>{r.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.fi,(i=>{const r=wt.fromPath(i);return this.gi(t,r).next((o=>{o||e.removeEntry(r,kt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return ht.or([()=>ht.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Nf{constructor(t,e){this.persistence=t,this.pi=new Oo((i=>UO(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=ZP(this,e)}static mi(t,e){return new Nf(t,e)}Ei(){}di(t){return ht.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((r=>i+r))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return ht.forEach(this.pi,((i,r)=>this.br(t,i,r).next((o=>o?ht.resolve():e(r)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(t,(l=>this.br(t,l,e).next((u=>{u||(i++,o.removeEntry(l,kt.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),ht.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),ht.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),ht.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),ht.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=uf(t.data.value)),e}br(t,e,i){return ht.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.pi.get(e);return ht.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class x_{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=r}static As(t,e){let i=Yt(),r=Yt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new x_(t,e.fromCache,i,r)}}class hL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class dL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return qD()?8:jO(Vn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ys(t,e).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(t,e,r,i).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new hL;return this.Ss(t,e,l).next((u=>{if(o.result=u,this.Vs)return this.bs(t,e,l,u.size)}))})).next((()=>o.result))}bs(t,e,i,r){return i.documentReadCount<this.fs?(Al()<=Gt.DEBUG&&_t("QueryEngine","SDK will not create cache indexes for query:",Cl(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ht.resolve()):(Al()<=Gt.DEBUG&&_t("QueryEngine","Query:",Cl(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(Al()<=Gt.DEBUG&&_t("QueryEngine","The SDK decides to create cache indexes for query:",Cl(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Is(e))):ht.resolve())}ys(t,e){if(FE(e))return ht.resolve(null);let i=Is(e);return this.indexManager.getIndexType(t,i).next((r=>r===0?null:(e.limit!==null&&r===1&&(e=Df(e,null,"F"),i=Is(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const l=Yt(...o);return this.ps.getDocuments(t,l).next((u=>this.indexManager.getMinOffset(t,i).next((d=>{const f=this.Ds(e,u);return this.Cs(e,f,l,d.readTime)?this.ys(t,Df(e,null,"F")):this.vs(t,f,e,d)}))))})))))}ws(t,e,i,r){return FE(e)||r.isEqual(kt.min())?ht.resolve(null):this.ps.getDocuments(t,i).next((o=>{const l=this.Ds(e,o);return this.Cs(e,l,i,r)?ht.resolve(null):(Al()<=Gt.DEBUG&&_t("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Cl(e)),this.vs(t,l,e,NO(r,Ou)).next((u=>u)))}))}Ds(t,e){let i=new sn(Ow(t));return e.forEach(((r,o)=>{np(t,o)&&(i=i.add(o))})),i}Cs(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(t,e,i){return Al()<=Gt.DEBUG&&_t("QueryEngine","Using full collection scan to execute query:",Cl(e)),this.ps.getDocumentsMatchingQuery(t,e,xa.min(),i)}vs(t,e,i,r){return this.ps.getDocumentsMatchingQuery(t,i,r).next((o=>(e.forEach((l=>{o=o.insert(l.key,l)})),o)))}}const E_="LocalStore",fL=3e8;class pL{constructor(t,e,i,r){this.persistence=t,this.Fs=e,this.serializer=r,this.Ms=new Me(Wt),this.xs=new Oo((o=>d_(o)),f_),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new nL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function mL(n,t,e,i){return new pL(n,t,e,i)}async function iA(n,t){const e=Pt(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next((o=>(r=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const l=[],u=[];let d=Yt();for(const f of r){l.push(f.batchId);for(const y of f.mutations)d=d.add(y.key)}for(const f of o){u.push(f.batchId);for(const y of f.mutations)d=d.add(y.key)}return e.localDocuments.getDocuments(i,d).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:u})))}))}))}function gL(n,t){const e=Pt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,d,f,y){const g=f.batch,v=g.keys();let E=ht.resolve();return v.forEach((w=>{E=E.next((()=>y.getEntry(d,w))).next((A=>{const R=f.docVersions.get(w);se(R!==null,48541),A.version.compareTo(R)<0&&(g.applyToRemoteDocument(A,f),A.isValidDocument()&&(A.setReadTime(f.commitVersion),y.addEntry(A)))}))})),E.next((()=>u.mutationQueue.removeMutationBatch(d,g)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(u){let d=Yt();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(d=d.add(u.batch.mutations[f].key));return d})(t)))).next((()=>e.localDocuments.getDocuments(i,r)))}))}function sA(n){const t=Pt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function yL(n,t){const e=Pt(n),i=t.snapshotVersion;let r=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=e.Ns.newChangeBuffer({trackRemovals:!0});r=e.Ms;const u=[];t.targetChanges.forEach(((y,g)=>{const v=r.get(g);if(!v)return;u.push(e.Pi.removeMatchingKeys(o,y.removedDocuments,g).next((()=>e.Pi.addMatchingKeys(o,y.addedDocuments,g))));let E=v.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(g)!==null?E=E.withResumeToken(Cn.EMPTY_BYTE_STRING,kt.min()).withLastLimboFreeSnapshotVersion(kt.min()):y.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(y.resumeToken,i)),r=r.insert(g,E),(function(A,R,N){return A.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=fL?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0})(v,E,y)&&u.push(e.Pi.updateTargetData(o,E))}));let d=xr(),f=Yt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(o,y))})),u.push(_L(o,l,t.documentUpdates).next((y=>{d=y.ks,f=y.qs}))),!i.isEqual(kt.min())){const y=e.Pi.getLastRemoteSnapshotVersion(o).next((g=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));u.push(y)}return ht.waitFor(u).next((()=>l.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,d,f))).next((()=>d))})).then((o=>(e.Ms=r,o)))}function _L(n,t,e){let i=Yt(),r=Yt();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let l=xr();return e.forEach(((u,d)=>{const f=o.get(u);d.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(u)),d.isNoDocument()&&d.version.isEqual(kt.min())?(t.removeEntry(u,d.readTime),l=l.insert(u,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(d),l=l.insert(u,d)):_t(E_,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",d.version)})),{ks:l,qs:r}}))}function vL(n,t){const e=Pt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=c_),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function bL(n,t){const e=Pt(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return e.Pi.getTargetData(i,t).next((o=>o?(r=o,ht.resolve(r)):e.Pi.allocateTargetId(i).next((l=>(r=new ca(t,l,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=e.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function Ty(n,t,e){const i=Pt(n),r=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!ec(l))throw l;_t(E_,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function eS(n,t,e){const i=Pt(n);let r=kt.min(),o=Yt();return i.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,f,y){const g=Pt(d),v=g.xs.get(y);return v!==void 0?ht.resolve(g.Ms.get(v)):g.Pi.getTargetData(f,y)})(i,l,Is(t)).next((u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(l,u.targetId).next((d=>{o=d}))})).next((()=>i.Fs.getDocumentsMatchingQuery(l,t,e?r:kt.min(),e?o:Yt()))).next((u=>(xL(i,rP(t),u),{documents:u,Qs:o})))))}function xL(n,t,e){let i=n.Os.get(t)||kt.min();e.forEach(((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(t,i)}class nS{constructor(){this.activeTargetIds=hP()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class EL{constructor(){this.Mo=new nS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new nS,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class SL{Oo(t){}shutdown(){}}const iS="ConnectivityMonitor";class sS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_t(iS,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){_t(iS,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Fd=null;function wy(){return Fd===null?Fd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fd++,"0x"+Fd.toString(16)}const Vg="RestConnection",TL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wL{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Cf?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(t,e,i,r,o){const l=wy(),u=this.zo(t,e.toUriEncodedString());_t(Vg,`Sending RPC '${t}' ${l}:`,u,i);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,r,o);const{host:f}=new URL(u),y=Xl(f);return this.Jo(t,u,d,i,y).then((g=>(_t(Vg,`Received RPC '${t}' ${l}: `,g),g)),(g=>{throw Vl(Vg,`RPC '${t}' ${l} failed with error: `,g,"url: ",u,"request:",i),g}))}Ho(t,e,i,r,o,l){return this.Go(t,e,i,r,o)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((r,o)=>t[o]=r)),i&&i.headers.forEach(((r,o)=>t[o]=r))}zo(t,e){const i=TL[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}class AL{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Mn="WebChannelConnection";class CL extends wL{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,r,o){const l=wy();return new Promise(((u,d)=>{const f=new ow;f.setWithCredentials(!0),f.listenOnce(lw.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case cf.NO_ERROR:const g=f.getResponseJson();_t(Mn,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(g)),u(g);break;case cf.TIMEOUT:_t(Mn,`RPC '${t}' ${l} timed out`),d(new yt(at.DEADLINE_EXCEEDED,"Request time out"));break;case cf.HTTP_ERROR:const v=f.getStatus();if(_t(Mn,`RPC '${t}' ${l} failed with status:`,v,"response text:",f.getResponseText()),v>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const w=E?.error;if(w&&w.status&&w.message){const A=(function(N){const j=N.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(j)>=0?j:at.UNKNOWN})(w.status);d(new yt(A,w.message))}else d(new yt(at.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new yt(at.UNAVAILABLE,"Connection failed."));break;default:Mt(9055,{l_:t,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{_t(Mn,`RPC '${t}' ${l} completed.`)}}));const y=JSON.stringify(r);_t(Mn,`RPC '${t}' ${l} sending request:`,r),f.send(e,"POST",y,i,15)}))}T_(t,e,i){const r=wy(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=hw(),u=uw(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,e,i),d.encodeInitMessageHeaders=!0;const y=o.join("");_t(Mn,`Creating RPC '${t}' stream ${r}: ${y}`,d);const g=l.createWebChannel(y,d);this.I_(g);let v=!1,E=!1;const w=new AL({Yo:R=>{E?_t(Mn,`Not sending because RPC '${t}' stream ${r} is closed:`,R):(v||(_t(Mn,`Opening RPC '${t}' stream ${r} transport.`),g.open(),v=!0),_t(Mn,`RPC '${t}' stream ${r} sending:`,R),g.send(R))},Zo:()=>g.close()}),A=(R,N,j)=>{R.listen(N,(z=>{try{j(z)}catch(X){setTimeout((()=>{throw X}),0)}}))};return A(g,du.EventType.OPEN,(()=>{E||(_t(Mn,`RPC '${t}' stream ${r} transport opened.`),w.o_())})),A(g,du.EventType.CLOSE,(()=>{E||(E=!0,_t(Mn,`RPC '${t}' stream ${r} transport closed`),w.a_(),this.E_(g))})),A(g,du.EventType.ERROR,(R=>{E||(E=!0,Vl(Mn,`RPC '${t}' stream ${r} transport errored. Name:`,R.name,"Message:",R.message),w.a_(new yt(at.UNAVAILABLE,"The operation could not be completed")))})),A(g,du.EventType.MESSAGE,(R=>{if(!E){const N=R.data[0];se(!!N,16349);const j=N,z=j?.error||j[0]?.error;if(z){_t(Mn,`RPC '${t}' stream ${r} received error:`,z);const X=z.status;let B=(function(C){const M=Ke[C];if(M!==void 0)return Gw(M)})(X),G=z.message;B===void 0&&(B=at.INTERNAL,G="Unknown error status: "+X+" with message "+z.message),E=!0,w.a_(new yt(B,G)),g.close()}else _t(Mn,`RPC '${t}' stream ${r} received:`,N),w.u_(N)}})),A(u,cw.STAT_EVENT,(R=>{R.stat===fy.PROXY?_t(Mn,`RPC '${t}' stream ${r} detected buffering proxy`):R.stat===fy.NOPROXY&&_t(Mn,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function jg(){return typeof document<"u"?document:null}function op(n){return new MP(n,!0)}class rA{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&_t("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const rS="PersistentStream";class aA{constructor(t,e,i,r,o,l,u,d){this.Mi=t,this.S_=i,this.b_=r,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rA(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===at.RESOURCE_EXHAUSTED?(br(e.toString()),br("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===at.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===e&&this.G_(i,r)}),(i=>{t((()=>{const r=new yt(at.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return _t(rS,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(_t(rS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class RL extends aA{constructor(t,e,i,r,o,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,l),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=OP(this.serializer,t),i=(function(o){if(!("targetChange"in o))return kt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?kt.min():l.readTime?Ds(l.readTime):kt.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=Sy(this.serializer),e.addTarget=(function(o,l){let u;const d=l.target;if(u=_y(d)?{documents:VP(o,d)}:{query:jP(o,d).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=$w(o,l.resumeToken);const f=by(o,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(kt.min())>0){u.readTime=kf(o,l.snapshotVersion.toTimestamp());const f=by(o,l.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,t);const i=UP(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=Sy(this.serializer),e.removeTarget=t,this.q_(e)}}class IL extends aA{constructor(t,e,i,r,o,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return se(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,se(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){se(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=LP(t.writeResults,t.commitTime),i=Ds(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=Sy(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>PP(this.serializer,i)))};this.q_(e)}}class DL{}class ML extends DL{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new yt(at.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(t,xy(e,i),r,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new yt(at.UNKNOWN,o.toString())}))}Ho(t,e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(t,xy(e,i),r,l,u,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new yt(at.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class kL{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(br(e),this.aa=!1):_t("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Co="RemoteStore";class NL{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{i.enqueueAndForget((async()=>{Po(this)&&(_t(Co,"Restarting streams for network reachability change."),await(async function(d){const f=Pt(d);f.Ea.add(4),await lh(f),f.Ra.set("Unknown"),f.Ea.delete(4),await lp(f)})(this))}))})),this.Ra=new kL(i,r)}}async function lp(n){if(Po(n))for(const t of n.da)await t(!0)}async function lh(n){for(const t of n.da)await t(!1)}function oA(n,t){const e=Pt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),A_(e)?w_(e):ic(e).O_()&&T_(e,t))}function S_(n,t){const e=Pt(n),i=ic(e);e.Ia.delete(t),i.O_()&&lA(e,t),e.Ia.size===0&&(i.O_()?i.L_():Po(e)&&e.Ra.set("Unknown"))}function T_(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(kt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}ic(n).Y_(t)}function lA(n,t){n.Va.Ue(t),ic(n).Z_(t)}function w_(n){n.Va=new CP({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),ic(n).start(),n.Ra.ua()}function A_(n){return Po(n)&&!ic(n).x_()&&n.Ia.size>0}function Po(n){return Pt(n).Ea.size===0}function cA(n){n.Va=void 0}async function OL(n){n.Ra.set("Online")}async function PL(n){n.Ia.forEach(((t,e)=>{T_(n,t)}))}async function LL(n,t){cA(n),A_(n)?(n.Ra.ha(t),w_(n)):n.Ra.set("Unknown")}async function VL(n,t,e){if(n.Ra.set("Online"),t instanceof Yw&&t.state===2&&t.cause)try{await(async function(r,o){const l=o.cause;for(const u of o.targetIds)r.Ia.has(u)&&(await r.remoteSyncer.rejectListen(u,l),r.Ia.delete(u),r.Va.removeTarget(u))})(n,t)}catch(i){_t(Co,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Of(n,i)}else if(t instanceof ff?n.Va.Ze(t):t instanceof Ww?n.Va.st(t):n.Va.tt(t),!e.isEqual(kt.min()))try{const i=await sA(n.localStore);e.compareTo(i)>=0&&await(function(o,l){const u=o.Va.Tt(l);return u.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const y=o.Ia.get(f);y&&o.Ia.set(f,y.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,f)=>{const y=o.Ia.get(d);if(!y)return;o.Ia.set(d,y.withResumeToken(Cn.EMPTY_BYTE_STRING,y.snapshotVersion)),lA(o,d);const g=new ca(y.target,d,f,y.sequenceNumber);T_(o,g)})),o.remoteSyncer.applyRemoteEvent(u)})(n,e)}catch(i){_t(Co,"Failed to raise snapshot:",i),await Of(n,i)}}async function Of(n,t,e){if(!ec(t))throw t;n.Ea.add(1),await lh(n),n.Ra.set("Offline"),e||(e=()=>sA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{_t(Co,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await lp(n)}))}function uA(n,t){return t().catch((e=>Of(n,e,t)))}async function cp(n){const t=Pt(n),e=wa(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:c_;for(;jL(t);)try{const r=await vL(t.localStore,i);if(r===null){t.Ta.length===0&&e.L_();break}i=r.batchId,zL(t,r)}catch(r){await Of(t,r)}hA(t)&&dA(t)}function jL(n){return Po(n)&&n.Ta.length<10}function zL(n,t){n.Ta.push(t);const e=wa(n);e.O_()&&e.X_&&e.ea(t.mutations)}function hA(n){return Po(n)&&!wa(n).x_()&&n.Ta.length>0}function dA(n){wa(n).start()}async function UL(n){wa(n).ra()}async function BL(n){const t=wa(n);for(const e of n.Ta)t.ea(e.mutations)}async function FL(n,t,e){const i=n.Ta.shift(),r=g_.from(i,t,e);await uA(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await cp(n)}async function HL(n,t){t&&wa(n).X_&&await(async function(i,r){if((function(l){return TP(l)&&l!==at.ABORTED})(r.code)){const o=i.Ta.shift();wa(i).B_(),await uA(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r))),await cp(i)}})(n,t),hA(n)&&dA(n)}async function aS(n,t){const e=Pt(n);e.asyncQueue.verifyOperationInProgress(),_t(Co,"RemoteStore received new credentials");const i=Po(e);e.Ea.add(3),await lh(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await lp(e)}async function qL(n,t){const e=Pt(n);t?(e.Ea.delete(2),await lp(e)):t||(e.Ea.add(2),await lh(e),e.Ra.set("Unknown"))}function ic(n){return n.ma||(n.ma=(function(e,i,r){const o=Pt(e);return o.sa(),new RL(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:OL.bind(null,n),t_:PL.bind(null,n),r_:LL.bind(null,n),H_:VL.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),A_(n)?w_(n):n.Ra.set("Unknown")):(await n.ma.stop(),cA(n))}))),n.ma}function wa(n){return n.fa||(n.fa=(function(e,i,r){const o=Pt(e);return o.sa(),new IL(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:UL.bind(null,n),r_:HL.bind(null,n),ta:BL.bind(null,n),na:FL.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await cp(n)):(await n.fa.stop(),n.Ta.length>0&&(_t(Co,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class C_{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new _a,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const l=Date.now()+i,u=new C_(t,e,l,r,o);return u.start(i),u}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(at.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function R_(n,t){if(br("AsyncQueue",`${t}: ${n}`),ec(n))return new yt(at.UNAVAILABLE,`${t}: ${n}`);throw n}class Ol{static emptySet(t){return new Ol(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||wt.comparator(e.key,i.key):(e,i)=>wt.comparator(e.key,i.key),this.keyedMap=fu(),this.sortedSet=new Me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ol)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Ol;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class oS{constructor(){this.ga=new Me(wt.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Mt(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class Fl{constructor(t,e,i,r,o,l,u,d,f){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(t,e,i,r,o){const l=[];return e.forEach((u=>{l.push({type:0,doc:u})})),new Fl(t,e,Ol.emptySet(e),l,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ep(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class GL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class WL{constructor(){this.queries=lS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=Pt(e),o=r.queries;r.queries=lS(),o.forEach(((l,u)=>{for(const d of u.Sa)d.onError(i)}))})(this,new yt(at.ABORTED,"Firestore shutting down"))}}function lS(){return new Oo((n=>Nw(n)),ep)}async function fA(n,t){const e=Pt(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.ba()&&t.Da()&&(i=2):(o=new GL,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(r,!0);break;case 1:o.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(l){const u=R_(l,`Initialization of query '${Cl(t.query)}' failed`);return void t.onError(u)}e.queries.set(r,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&I_(e)}async function pA(n,t){const e=Pt(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const l=o.Sa.indexOf(t);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?r=t.Da()?0:1:!o.ba()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function YL(n,t){const e=Pt(n);let i=!1;for(const r of t){const o=r.query,l=e.queries.get(o);if(l){for(const u of l.Sa)u.Fa(r)&&(i=!0);l.wa=r}}i&&I_(e)}function $L(n,t,e){const i=Pt(n),r=i.queries.get(t);if(r)for(const o of r.Sa)o.onError(e);i.queries.delete(t)}function I_(n){n.Ca.forEach((t=>{t.next()}))}var Ay,cS;(cS=Ay||(Ay={})).Ma="default",cS.Cache="cache";class mA{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Fl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Fl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Ay.Cache}}class gA{constructor(t){this.key=t}}class yA{constructor(t){this.key=t}}class KL{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Yt(),this.mutatedKeys=Yt(),this.eu=Ow(t),this.tu=new Ol(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new oS,r=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,l=r,u=!1;const d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((y,g)=>{const v=r.get(y),E=np(this.query,g)?g:null,w=!!v&&this.mutatedKeys.has(v.key),A=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let R=!1;v&&E?v.data.isEqual(E.data)?w!==A&&(i.track({type:3,doc:E}),R=!0):this.su(v,E)||(i.track({type:2,doc:E}),R=!0,(d&&this.eu(E,d)>0||f&&this.eu(E,f)<0)&&(u=!0)):!v&&E?(i.track({type:0,doc:E}),R=!0):v&&!E&&(i.track({type:1,doc:v}),R=!0,(d||f)&&(u=!0)),R&&(E?(l=l.add(E),o=A?o.add(y):o.delete(y)):(l=l.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{tu:l,iu:i,Cs:u,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const l=t.iu.ya();l.sort(((y,g)=>(function(E,w){const A=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mt(20277,{Rt:R})}};return A(E)-A(w)})(y.type,g.type)||this.eu(y.doc,g.doc))),this.ou(i),r=r??!1;const u=e&&!r?this._u():[],d=this.Xa.size===0&&this.current&&!r?1:0,f=d!==this.Za;return this.Za=d,l.length!==0||f?{snapshot:new Fl(this.query,t.tu,o,l,t.mutatedKeys,d===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new oS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Yt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new yA(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new gA(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=Yt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Fl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const D_="SyncEngine";class XL{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class QL{constructor(t){this.key=t,this.hu=!1}}class JL{constructor(t,e,i,r,o,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Oo((u=>Nw(u)),ep),this.Iu=new Map,this.Eu=new Set,this.du=new Me(wt.comparator),this.Au=new Map,this.Ru=new v_,this.Vu={},this.mu=new Map,this.fu=Bl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZL(n,t,e=!0){const i=SA(n);let r;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await _A(i,t,e,!0),r}async function tV(n,t){const e=SA(n);await _A(e,t,!0,!1)}async function _A(n,t,e,i){const r=await bL(n.localStore,Is(t)),o=r.targetId,l=n.sharedClientState.addLocalQueryTarget(o,e);let u;return i&&(u=await eV(n,t,o,l==="current",r.resumeToken)),n.isPrimaryClient&&e&&oA(n.remoteStore,r),u}async function eV(n,t,e,i,r){n.pu=(g,v,E)=>(async function(A,R,N,j){let z=R.view.ru(N);z.Cs&&(z=await eS(A.localStore,R.query,!1).then((({documents:D})=>R.view.ru(D,z))));const X=j&&j.targetChanges.get(R.targetId),B=j&&j.targetMismatches.get(R.targetId)!=null,G=R.view.applyChanges(z,A.isPrimaryClient,X,B);return hS(A,R.targetId,G.au),G.snapshot})(n,g,v,E);const o=await eS(n.localStore,t,!0),l=new KL(t,o.Qs),u=l.ru(o.documents),d=oh.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),f=l.applyChanges(u,n.isPrimaryClient,d);hS(n,e,f.au);const y=new XL(t,e,l);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),f.snapshot}async function nV(n,t,e){const i=Pt(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter((l=>!ep(l,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Ty(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),e&&S_(i.remoteStore,r.targetId),Cy(i,r.targetId)})).catch(tc)):(Cy(i,r.targetId),await Ty(i.localStore,r.targetId,!0))}async function iV(n,t){const e=Pt(n),i=e.Tu.get(t),r=e.Iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),S_(e.remoteStore,i.targetId))}async function sV(n,t,e){const i=hV(n);try{const r=await(function(l,u){const d=Pt(l),f=be.now(),y=u.reduce(((E,w)=>E.add(w.key)),Yt());let g,v;return d.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let w=xr(),A=Yt();return d.Ns.getEntries(E,y).next((R=>{w=R,w.forEach(((N,j)=>{j.isValidDocument()||(A=A.add(N))}))})).next((()=>d.localDocuments.getOverlayedDocuments(E,w))).next((R=>{g=R;const N=[];for(const j of u){const z=vP(j,g.get(j.key).overlayedDocument);z!=null&&N.push(new Na(j.key,z,ww(z.value.mapValue),ii.exists(!0)))}return d.mutationQueue.addMutationBatch(E,f,N,u)})).next((R=>{v=R;const N=R.applyToLocalDocumentSet(g,A);return d.documentOverlayCache.saveOverlays(E,R.batchId,N)}))})).then((()=>({batchId:v.batchId,changes:Lw(g)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),(function(l,u,d){let f=l.Vu[l.currentUser.toKey()];f||(f=new Me(Wt)),f=f.insert(u,d),l.Vu[l.currentUser.toKey()]=f})(i,r.batchId,e),await ch(i,r.changes),await cp(i.remoteStore)}catch(r){const o=R_(r,"Failed to persist write");e.reject(o)}}async function vA(n,t){const e=Pt(n);try{const i=await yL(e.localStore,t);t.targetChanges.forEach(((r,o)=>{const l=e.Au.get(o);l&&(se(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?l.hu=!0:r.modifiedDocuments.size>0?se(l.hu,14607):r.removedDocuments.size>0&&(se(l.hu,42227),l.hu=!1))})),await ch(e,i,t)}catch(i){await tc(i)}}function uS(n,t,e){const i=Pt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Tu.forEach(((o,l)=>{const u=l.view.va(t);u.snapshot&&r.push(u.snapshot)})),(function(l,u){const d=Pt(l);d.onlineState=u;let f=!1;d.queries.forEach(((y,g)=>{for(const v of g.Sa)v.va(u)&&(f=!0)})),f&&I_(d)})(i.eventManager,t),r.length&&i.Pu.H_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function rV(n,t,e){const i=Pt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Au.get(t),o=r&&r.key;if(o){let l=new Me(wt.comparator);l=l.insert(o,Pn.newNoDocument(o,kt.min()));const u=Yt().add(o),d=new ap(kt.min(),new Map,new Me(Wt),l,u);await vA(i,d),i.du=i.du.remove(o),i.Au.delete(t),M_(i)}else await Ty(i.localStore,t,!1).then((()=>Cy(i,t,e))).catch(tc)}async function aV(n,t){const e=Pt(n),i=t.batch.batchId;try{const r=await gL(e.localStore,t);xA(e,i,null),bA(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await ch(e,r)}catch(r){await tc(r)}}async function oV(n,t,e){const i=Pt(n);try{const r=await(function(l,u){const d=Pt(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let y;return d.mutationQueue.lookupMutationBatch(f,u).next((g=>(se(g!==null,37113),y=g.keys(),d.mutationQueue.removeMutationBatch(f,g)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,y,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,y))).next((()=>d.localDocuments.getDocuments(f,y)))}))})(i.localStore,t);xA(i,t,e),bA(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await ch(i,r)}catch(r){await tc(r)}}function bA(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function xA(n,t,e){const i=Pt(n);let r=i.Vu[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function Cy(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||EA(n,i)}))}function EA(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(S_(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),M_(n))}function hS(n,t,e){for(const i of e)i instanceof gA?(n.Ru.addReference(i.key,t),lV(n,i)):i instanceof yA?(_t(D_,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||EA(n,i.key)):Mt(19791,{wu:i})}function lV(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(_t(D_,"New document in limbo: "+e),n.Eu.add(i),M_(n))}function M_(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new wt(ge.fromString(t)),i=n.fu.next();n.Au.set(i,new QL(e)),n.du=n.du.insert(e,i),oA(n.remoteStore,new ca(Is(p_(e.path)),i,"TargetPurposeLimboResolution",Jf.ce))}}async function ch(n,t,e){const i=Pt(n),r=[],o=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach(((u,d)=>{l.push(i.pu(d,t,e).then((f=>{if((f||e)&&i.isPrimaryClient){const y=f?!f.fromCache:e?.targetChanges.get(d.targetId)?.current;i.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(f){r.push(f);const y=x_.As(d.targetId,f);o.push(y)}})))})),await Promise.all(l),i.Pu.H_(r),await(async function(d,f){const y=Pt(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>ht.forEach(f,(v=>ht.forEach(v.Es,(E=>y.persistence.referenceDelegate.addReference(g,v.targetId,E))).next((()=>ht.forEach(v.ds,(E=>y.persistence.referenceDelegate.removeReference(g,v.targetId,E)))))))))}catch(g){if(!ec(g))throw g;_t(E_,"Failed to update sequence numbers: "+g)}for(const g of f){const v=g.targetId;if(!g.fromCache){const E=y.Ms.get(v),w=E.snapshotVersion,A=E.withLastLimboFreeSnapshotVersion(w);y.Ms=y.Ms.insert(v,A)}}})(i.localStore,o))}async function cV(n,t){const e=Pt(n);if(!e.currentUser.isEqual(t)){_t(D_,"User change. New user:",t.toKey());const i=await iA(e.localStore,t);e.currentUser=t,(function(o,l){o.mu.forEach((u=>{u.forEach((d=>{d.reject(new yt(at.CANCELLED,l))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await ch(e,i.Ls)}}function uV(n,t){const e=Pt(n),i=e.Au.get(t);if(i&&i.hu)return Yt().add(i.key);{let r=Yt();const o=e.Iu.get(t);if(!o)return r;for(const l of o){const u=e.Tu.get(l);r=r.unionWith(u.view.nu)}return r}}function SA(n){const t=Pt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=vA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rV.bind(null,t),t.Pu.H_=YL.bind(null,t.eventManager),t.Pu.yu=$L.bind(null,t.eventManager),t}function hV(n){const t=Pt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=aV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=oV.bind(null,t),t}class Pf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=op(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return mL(this.persistence,new dL,t.initialUser,this.serializer)}Cu(t){return new nA(b_.mi,this.serializer)}Du(t){return new EL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pf.provider={build:()=>new Pf};class dV extends Pf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){se(this.persistence.referenceDelegate instanceof Nf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new QP(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?ti.withCacheSize(this.cacheSizeBytes):ti.DEFAULT;return new nA((i=>Nf.mi(i,e)),this.serializer)}}class Ry{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>uS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=cV.bind(null,this.syncEngine),await qL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new WL})()}createDatastore(t){const e=op(t.databaseInfo.databaseId),i=(function(o){return new CL(o)})(t.databaseInfo);return(function(o,l,u,d){return new ML(o,l,u,d)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,r,o,l,u){return new NL(i,r,o,l,u)})(this.localStore,this.datastore,t.asyncQueue,(e=>uS(this.syncEngine,e,0)),(function(){return sS.v()?new sS:new SL})())}createSyncEngine(t,e){return(function(r,o,l,u,d,f,y){const g=new JL(r,o,l,u,d,f);return y&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=Pt(e);_t(Co,"RemoteStore shutting down."),i.Ea.add(5),await lh(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ry.provider={build:()=>new Ry};class TA{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):br("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Aa="FirestoreClient";class fV{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Nn.UNAUTHENTICATED,this.clientId=l_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async l=>{_t(Aa,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(i,(l=>(_t(Aa,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new _a;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=R_(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function zg(n,t){n.asyncQueue.verifyOperationInProgress(),_t(Aa,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await iA(t.localStore,r),i=r)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function dS(n,t){n.asyncQueue.verifyOperationInProgress();const e=await pV(n);_t(Aa,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>aS(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>aS(t.remoteStore,r))),n._onlineComponents=t}async function pV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){_t(Aa,"Using user provided OfflineComponentProvider");try{await zg(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===at.FAILED_PRECONDITION||r.code===at.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;Vl("Error using user provided cache. Falling back to memory cache: "+e),await zg(n,new Pf)}}else _t(Aa,"Using default OfflineComponentProvider"),await zg(n,new dV(void 0));return n._offlineComponents}async function wA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(_t(Aa,"Using user provided OnlineComponentProvider"),await dS(n,n._uninitializedComponentsProvider._online)):(_t(Aa,"Using default OnlineComponentProvider"),await dS(n,new Ry))),n._onlineComponents}function mV(n){return wA(n).then((t=>t.syncEngine))}async function Iy(n){const t=await wA(n),e=t.eventManager;return e.onListen=ZL.bind(null,t.syncEngine),e.onUnlisten=nV.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=tV.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=iV.bind(null,t.syncEngine),e}function gV(n,t,e={}){const i=new _a;return n.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,d,f){const y=new TA({next:v=>{y.Nu(),l.enqueueAndForget((()=>pA(o,g))),v.fromCache&&d.source==="server"?f.reject(new yt(at.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),g=new mA(u,y,{includeMetadataChanges:!0,qa:!0});return fA(o,g)})(await Iy(n),n.asyncQueue,t,e,i))),i.promise}function AA(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const fS=new Map;const CA="firestore.googleapis.com",pS=!0;class mS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new yt(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CA,this.ssl=pS}else this.host=t.host,this.ssl=t.ssl??pS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=eA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<KP)throw new yt(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}kO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AA(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new yt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new yt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new yt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class up{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new yt(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new EO;switch(i.type){case"firstParty":return new AO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new yt(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=fS.get(e);i&&(_t("ComponentProvider","Removing Datastore"),fS.delete(e),i.terminate())})(this),Promise.resolve()}}function yV(n,t,e,i={}){n=Zi(n,up);const r=Xl(t),o=n._getSettings(),l={...o,emulatorOptions:n._getEmulatorOptions()},u=`${t}:${e}`;r&&(_1(`https://${u}`),v1("Firestore",!0)),o.host!==CA&&o.host!==u&&Vl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:u,ssl:r,emulatorOptions:i};if(!Eo(d,l)&&(n._setSettings(d),i.mockUserToken)){let f,y;if(typeof i.mockUserToken=="string")f=i.mockUserToken,y=Nn.MOCK_USER;else{f=PD(i.mockUserToken,n._app?.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new yt(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Nn(g)}n._authCredentials=new SO(new fw(f,y))}}class Sr{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Sr(this.firestore,t,this._query)}}class Je{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new va(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Je(this.firestore,t,this._key)}toJSON(){return{type:Je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(rh(e,Je._jsonSchema))return new Je(t,i||null,new wt(ge.fromString(e.referencePath)))}}Je._jsonSchemaVersion="firestore/documentReference/1.0",Je._jsonSchema={type:Qe("string",Je._jsonSchemaVersion),referencePath:Qe("string")};class va extends Sr{constructor(t,e,i){super(t,e,p_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Je(this.firestore,null,new wt(t))}withConverter(t){return new va(this.firestore,t,this._path)}}function fn(n,t,...e){if(n=rn(n),pw("collection","path",t),n instanceof up){const i=ge.fromString(t,...e);return RE(i),new va(n,null,i)}{if(!(n instanceof Je||n instanceof va))throw new yt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ge.fromString(t,...e));return RE(i),new va(n.firestore,null,i)}}function Hl(n,t,...e){if(n=rn(n),arguments.length===1&&(t=l_.newId()),pw("doc","path",t),n instanceof up){const i=ge.fromString(t,...e);return CE(i),new Je(n,null,new wt(i))}{if(!(n instanceof Je||n instanceof va))throw new yt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ge.fromString(t,...e));return CE(i),new Je(n.firestore,n instanceof va?n.converter:null,new wt(i))}}const gS="AsyncQueue";class yS{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rA(this,"async_queue_retry"),this._c=()=>{const i=jg();i&&_t(gS,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=jg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=jg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new _a;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ec(t))throw t;_t(gS,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,br("INTERNAL UNHANDLED ERROR: ",_S(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=C_.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&Mt(47125,{Pc:_S(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function _S(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}function vS(n){return(function(e,i){if(typeof e!="object"||e===null)return!1;const r=e;for(const o of i)if(o in r&&typeof r[o]=="function")return!0;return!1})(n,["next","error","complete"])}class Ca extends up{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new yS,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new yS(t),this._firestoreClient=void 0,await t}}}function _V(n,t){const e=typeof n=="object"?n:S1(),i=typeof n=="string"?n:Cf,r=Jy(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=ND("firestore");o&&yV(r,...o)}return r}function hp(n){if(n._terminated)throw new yt(at.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||vV(n),n._firestoreClient}function vV(n){const t=n._freezeSettings(),e=(function(r,o,l,u){return new HO(r,o,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,AA(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new fV(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}})(n._componentsProvider))}class Li{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Li(Cn.fromBase64String(t))}catch(e){throw new yt(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Li(Cn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Li._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(rh(t,Li._jsonSchema))return Li.fromBase64String(t.bytes)}}Li._jsonSchemaVersion="firestore/bytes/1.0",Li._jsonSchema={type:Qe("string",Li._jsonSchemaVersion),bytes:Qe("string")};class uh{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new yt(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new An(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class dp{constructor(t){this._methodName=t}}class Ms{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new yt(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new yt(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Wt(this._lat,t._lat)||Wt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ms._jsonSchemaVersion}}static fromJSON(t){if(rh(t,Ms._jsonSchema))return new Ms(t.latitude,t.longitude)}}Ms._jsonSchemaVersion="firestore/geoPoint/1.0",Ms._jsonSchema={type:Qe("string",Ms._jsonSchemaVersion),latitude:Qe("number"),longitude:Qe("number")};class ks{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ks._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(rh(t,ks._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new ks(t.vectorValues);throw new yt(at.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ks._jsonSchemaVersion="firestore/vectorValue/1.0",ks._jsonSchema={type:Qe("string",ks._jsonSchemaVersion),vectorValues:Qe("object")};const bV=/^__.*__$/;class xV{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Na(t,this.data,this.fieldMask,e,this.fieldTransforms):new ah(t,this.data,e,this.fieldTransforms)}}class RA{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Na(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function IA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mt(40011,{Ac:n})}}class k_{constructor(t,e,i,r,o,l){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new k_({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Lf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(IA(this.Ac)&&bV.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class EV{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||op(t)}Cc(t,e,i,r=!1){return new k_({Ac:t,methodName:e,Dc:i,path:An.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fp(n){const t=n._freezeSettings(),e=op(n._databaseId);return new EV(n._databaseId,!!t.ignoreUndefinedProperties,e)}function DA(n,t,e,i,r,o={}){const l=n.Cc(o.merge||o.mergeFields?2:0,t,e,r);O_("Data must be an object, but it was:",l,i);const u=NA(i,l);let d,f;if(o.merge)d=new vi(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const y=[];for(const g of o.mergeFields){const v=Dy(t,g,e);if(!l.contains(v))throw new yt(at.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);PA(y,v)||y.push(v)}d=new vi(y),f=l.fieldTransforms.filter((g=>d.covers(g.field)))}else d=null,f=l.fieldTransforms;return new xV(new ei(u),d,f)}class pp extends dp{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof pp}}class N_ extends dp{_toFieldTransform(t){return new mP(t.path,new zu)}isEqual(t){return t instanceof N_}}function MA(n,t,e,i){const r=n.Cc(1,t,e);O_("Data must be an object, but it was:",r,i);const o=[],l=ei.empty();ka(i,((d,f)=>{const y=P_(t,d,e);f=rn(f);const g=r.yc(y);if(f instanceof pp)o.push(y);else{const v=hh(f,g);v!=null&&(o.push(y),l.set(y,v))}}));const u=new vi(o);return new RA(l,u,r.fieldTransforms)}function kA(n,t,e,i,r,o){const l=n.Cc(1,t,e),u=[Dy(t,i,e)],d=[r];if(o.length%2!=0)throw new yt(at.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)u.push(Dy(t,o[v])),d.push(o[v+1]);const f=[],y=ei.empty();for(let v=u.length-1;v>=0;--v)if(!PA(f,u[v])){const E=u[v];let w=d[v];w=rn(w);const A=l.yc(E);if(w instanceof pp)f.push(E);else{const R=hh(w,A);R!=null&&(f.push(E),y.set(E,R))}}const g=new vi(f);return new RA(y,g,l.fieldTransforms)}function SV(n,t,e,i=!1){return hh(e,n.Cc(i?4:3,t))}function hh(n,t){if(OA(n=rn(n)))return O_("Unsupported field value:",t,n),NA(n,t);if(n instanceof dp)return(function(i,r){if(!IA(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,r){const o=[];let l=0;for(const u of i){let d=hh(u,r.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}})(n,t)}return(function(i,r){if((i=rn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return dP(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=be.fromDate(i);return{timestampValue:kf(r.serializer,o)}}if(i instanceof be){const o=new be(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:kf(r.serializer,o)}}if(i instanceof Ms)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Li)return{bytesValue:$w(r.serializer,i._byteString)};if(i instanceof Je){const o=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw r.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:__(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof ks)return(function(l,u){return{mapValue:{fields:{[Sw]:{stringValue:Tw},[Rf]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw u.Sc("VectorValues must only contain numeric values.");return m_(u.serializer,f)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${Qf(i)}`)})(n,t)}function NA(n,t){const e={};return yw(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ka(n,((i,r)=>{const o=hh(r,t.mc(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function OA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof be||n instanceof Ms||n instanceof Li||n instanceof Je||n instanceof dp||n instanceof ks)}function O_(n,t,e){if(!OA(e)||!mw(e)){const i=Qf(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function Dy(n,t,e){if((t=rn(t))instanceof uh)return t._internalPath;if(typeof t=="string")return P_(n,t);throw Lf("Field path arguments must be of type string or ",n,!1,void 0,e)}const TV=new RegExp("[~\\*/\\[\\]]");function P_(n,t,e){if(t.search(TV)>=0)throw Lf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new uh(...t.split("."))._internalPath}catch{throw Lf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Lf(n,t,e,i,r){const o=i&&!i.isEmpty(),l=r!==void 0;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${i}`),l&&(d+=` in document ${r}`),d+=")"),new yt(at.INVALID_ARGUMENT,u+n+d)}function PA(n,t){return n.some((e=>e.isEqual(t)))}class LA{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new wV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(mp("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class wV extends LA{data(){return super.data()}}function mp(n,t){return typeof t=="string"?P_(n,t):t instanceof uh?t._internalPath:t._delegate._internalPath}function VA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new yt(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class L_{}class V_ extends L_{}function Ns(n,t,...e){let i=[];t instanceof L_&&i.push(t),i=i.concat(e),(function(o){const l=o.filter((d=>d instanceof j_)).length,u=o.filter((d=>d instanceof gp)).length;if(l>1||l>0&&u>0)throw new yt(at.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class gp extends V_{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new gp(t,e,i)}_apply(t){const e=this._parse(t);return jA(t._query,e),new Sr(t.firestore,t.converter,vy(t._query,e))}_parse(t){const e=fp(t.firestore);return(function(o,l,u,d,f,y,g){let v;if(f.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new yt(at.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){xS(g,y);const w=[];for(const A of g)w.push(bS(d,o,A));v={arrayValue:{values:w}}}else v=bS(d,o,g)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||xS(g,y),v=SV(u,l,g,y==="in"||y==="not-in");return Xe.create(f,y,v)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function la(n,t,e){const i=t,r=mp("where",n);return gp._create(r,i,e)}class j_ extends L_{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new j_(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:es.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(r,o){let l=r;const u=o.getFlattenedFilters();for(const d of u)jA(l,d),l=vy(l,d)})(t._query,e),new Sr(t.firestore,t.converter,vy(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class z_ extends V_{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new z_(t,e)}_apply(t){const e=(function(r,o,l){if(r.startAt!==null)throw new yt(at.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new yt(at.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ju(o,l)})(t._query,this._field,this._direction);return new Sr(t.firestore,t.converter,(function(r,o){const l=r.explicitOrderBy.concat([o]);return new nc(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(t._query,e))}}function ql(n,t="asc"){const e=t,i=mp("orderBy",n);return z_._create(i,e)}class U_ extends V_{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new U_(t,e,i)}_apply(t){return new Sr(t.firestore,t.converter,Df(t._query,this._limit,this._limitType))}}function AV(n){return U_._create("limit",n,"F")}function bS(n,t,e){if(typeof(e=rn(e))=="string"){if(e==="")throw new yt(at.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kw(t)&&e.indexOf("/")!==-1)throw new yt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(ge.fromString(e));if(!wt.isDocumentKey(i))throw new yt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return LE(n,new wt(i))}if(e instanceof Je)return LE(n,e._key);throw new yt(at.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qf(e)}.`)}function xS(n,t){if(!Array.isArray(n)||n.length===0)throw new yt(at.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function jA(n,t){const e=(function(r,o){for(const l of r)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new yt(at.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new yt(at.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class CV{convertValue(t,e="none"){switch(Ta(t)){case 0:return null;case 1:return t.booleanValue;case 2:return je(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Sa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Mt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return ka(t,((r,o)=>{i[r]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[Rf].arrayValue?.values?.map((i=>je(i.doubleValue)));return new ks(e)}convertGeoPoint(t){return new Ms(je(t.latitude),je(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=tp(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Pu(t));default:return null}}convertTimestamp(t){const e=Ea(t);return new be(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ge.fromString(t);se(tA(i),9688,{name:t});const r=new Lu(i.get(1),i.get(3)),o=new wt(i.popFirst(5));return r.isEqual(e)||br(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function zA(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class mu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class _o extends LA{constructor(t,e,i,r,o,l){super(t,e,i,r,l),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new pf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(mp("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(at.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=_o._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}_o._jsonSchemaVersion="firestore/documentSnapshot/1.0",_o._jsonSchema={type:Qe("string",_o._jsonSchemaVersion),bundleSource:Qe("string","DocumentSnapshot"),bundleName:Qe("string"),bundle:Qe("string")};class pf extends _o{data(t={}){return super.data(t)}}class vo{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new mu(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new pf(this._firestore,this._userDataWriter,i.key,i,new mu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yt(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map((u=>{const d=new pf(r._firestore,r._userDataWriter,u.doc.key,u.doc,new mu(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const d=new pf(r._firestore,r._userDataWriter,u.doc.key,u.doc,new mu(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,y=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),y=l.indexOf(u.doc.key)),{type:RV(u.type),doc:d,oldIndex:f,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(at.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=vo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=l_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function RV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mt(61501,{type:n})}}vo._jsonSchemaVersion="firestore/querySnapshot/1.0",vo._jsonSchema={type:Qe("string",vo._jsonSchemaVersion),bundleSource:Qe("string","QuerySnapshot"),bundleName:Qe("string"),bundle:Qe("string")};class B_ extends CV{constructor(t){super(),this.firestore=t}convertBytes(t){return new Li(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Je(this.firestore,null,e)}}function Os(n){n=Zi(n,Sr);const t=Zi(n.firestore,Ca),e=hp(t),i=new B_(t);return VA(n._query),gV(e,n._query).then((r=>new vo(t,i,n,r)))}function UA(n,t,e,...i){n=Zi(n,Je);const r=Zi(n.firestore,Ca),o=fp(r);let l;return l=typeof(t=rn(t))=="string"||t instanceof uh?kA(o,"updateDoc",n._key,t,e,i):MA(o,"updateDoc",n._key,t),yp(r,[l.toMutation(n._key,ii.exists(!0))])}function BA(n){return yp(Zi(n.firestore,Ca),[new rp(n._key,ii.none())])}function F_(n,t){const e=Zi(n.firestore,Ca),i=Hl(n),r=zA(n.converter,t);return yp(e,[DA(fp(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,ii.exists(!1))]).then((()=>i))}function Fu(n,...t){n=rn(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||vS(t[i])||(e=t[i++]);const r={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(vS(t[i])){const d=t[i];t[i]=d.next?.bind(d),t[i+1]=d.error?.bind(d),t[i+2]=d.complete?.bind(d)}let o,l,u;if(n instanceof Je)l=Zi(n.firestore,Ca),u=p_(n._key.path),o={next:d=>{t[i]&&t[i](IV(l,n,d))},error:t[i+1],complete:t[i+2]};else{const d=Zi(n,Sr);l=Zi(d.firestore,Ca),u=d._query;const f=new B_(l);o={next:y=>{t[i]&&t[i](new vo(l,f,d,y))},error:t[i+1],complete:t[i+2]},VA(n._query)}return(function(f,y,g,v){const E=new TA(v),w=new mA(y,E,g);return f.asyncQueue.enqueueAndForget((async()=>fA(await Iy(f),w))),()=>{E.Nu(),f.asyncQueue.enqueueAndForget((async()=>pA(await Iy(f),w)))}})(hp(l),u,r,o)}function yp(n,t){return(function(i,r){const o=new _a;return i.asyncQueue.enqueueAndForget((async()=>sV(await mV(i),r,o))),o.promise})(hp(n),t)}function IV(n,t,e){const i=e.docs.get(t._key),r=new B_(n);return new _o(n,r,t._key,i,new mu(e.hasPendingWrites,e.fromCache),t.converter)}class DV{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=fp(t)}set(t,e,i){this._verifyNotCommitted();const r=Ug(t,this._firestore),o=zA(r.converter,e,i),l=DA(this._dataReader,"WriteBatch.set",r._key,o,r.converter!==null,i);return this._mutations.push(l.toMutation(r._key,ii.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Ug(t,this._firestore);let l;return l=typeof(e=rn(e))=="string"||e instanceof uh?kA(this._dataReader,"WriteBatch.update",o._key,e,i,r):MA(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(l.toMutation(o._key,ii.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Ug(t,this._firestore);return this._mutations=this._mutations.concat(new rp(e._key,ii.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new yt(at.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ug(n,t){if((n=rn(n)).firestore!==t)throw new yt(at.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Gl(){return new N_("serverTimestamp")}function MV(n){return hp(n=Zi(n,Ca)),new DV(n,(t=>yp(n,t)))}(function(t,e=!0){(function(r){Zl=r})(Ql),Ll(new So("firestore",((i,{instanceIdentifier:r,options:o})=>{const l=i.getProvider("app").getImmediate(),u=new Ca(new TO(i.getProvider("auth-internal")),new CO(l,i.getProvider("app-check-internal")),(function(f,y){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new yt(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lu(f.options.projectId,y)})(l,r),l);return o={useFetchStreams:e,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),ga(SE,TE,t),ga(SE,TE,"esm2020")})();const kV={apiKey:"AIzaSyAGAvr1QAO5ZPPCtbYQLK_0694DEjoy5Bw",authDomain:"paud-rohani.firebaseapp.com",projectId:"paud-rohani",storageBucket:"paud-rohani.firebaseapp.com",messagingSenderId:"1051220684882",appId:"1:1051220684882:web:7d77a8367fa92b57c96f8b",measurementId:"G-SQHBZ6ST71"},FA=E1(kV),ES=_O(FA),Ae=_V(FA);function NV(){const n=Gy(),[t,e]=q.useState(!0),[i,r]=q.useState(""),[o,l]=q.useState(""),[u,d]=q.useState(!1),f=async g=>{if(g.preventDefault(),d(!0),console.log("=== MULAI PROSES AUTH ==="),console.log("Mode:",t?"LOGIN":"REGISTER"),console.log("Tipe Fungsi Login:",typeof dE),console.log("Email yang dikirim:",i),console.log("Password yang dikirim:",o),!i||!o){ce.error("Email atau Password kosong/tidak terbaca!"),d(!1);return}try{if(t){console.log(">> Mengeksekusi signInWithEmailAndPassword...");const v=await dE(ES,i,o);console.log(">> HASIL LOGIN:",v),ce.success("Login Berhasil! Mengalihkan..."),setTimeout(()=>{n("/dashboard")},1e3)}else console.log(">> Mengeksekusi Register..."),await rN(ES,i,o),ce.success("Registrasi Berhasil! Silahkan login."),e(!0)}catch(v){console.error("!!! TERJADI ERROR !!!"),console.error("Code:",v.code),console.error("Message:",v.message),ce.error(`Gagal: ${v.code}`)}finally{d(!1),console.log("=== SELESAI ===")}},y=()=>{e(!t)};return S.jsxs("div",{className:"login-page-wrapper",children:[S.jsx(h1,{position:"top-center",richColors:!0}),S.jsxs("div",{className:"login-container",children:[S.jsx("div",{className:"logo-container",children:S.jsx("i",{className:"fa-solid fa-school"})}),S.jsx("h1",{children:"PAUD Finance System"}),S.jsx("p",{className:"subtitle",children:"School Administration Portal"}),S.jsxs("form",{onSubmit:f,children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{className:"form-label",children:"Email Address"}),S.jsxs("div",{className:"input-wrapper",children:[S.jsx("i",{className:"fa-regular fa-envelope"}),S.jsx("input",{type:"email",placeholder:"admin@paud.com",required:!0,value:i,onChange:g=>r(g.target.value)})]})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{className:"form-label",children:"Password"}),S.jsxs("div",{className:"input-wrapper",children:[S.jsx("i",{className:"fa-solid fa-lock"}),S.jsx("input",{type:"password",placeholder:"Enter password",required:!0,value:o,onChange:g=>l(g.target.value)})]})]}),S.jsx("button",{type:"submit",className:"btn-primary",disabled:u,children:u?"Loading...":t?"Login":"Register"})]}),S.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{ce.success("This is a success toast")},children:"Render toast"}),S.jsxs("div",{className:"info-box",children:["For ",S.jsx("b",{children:"private"})," access"]}),S.jsx("div",{className:"toggle-link",children:S.jsxs("p",{children:[t?"Belum punya akun? ":"Sudah punya akun? ",S.jsx("span",{onClick:y,children:t?"Daftar disini":"Login disini"})]})})]})]})}const OV=({isOpen:n,toggleSidebar:t})=>{const e=Gy(),i=()=>{e("/")},r=()=>{n&&t()};return S.jsxs(S.Fragment,{children:[S.jsx("div",{className:`sidebar-overlay ${n?"active":""}`,onClick:t}),S.jsxs("nav",{className:`sidebar ${n?"open":""}`,children:[S.jsx("button",{className:"sidebar-close-btn",onClick:t,children:S.jsx("i",{className:"fa-solid fa-xmark"})}),S.jsxs("div",{className:"brand",children:[S.jsx("h2",{children:"PAUD Finance"}),S.jsx("p",{children:"Admin Portal"})]}),S.jsxs("ul",{className:"menu-list",children:[S.jsx("li",{children:S.jsxs(ia,{to:"/dashboard",className:({isActive:o})=>`menu-item ${o?"active":""}`,onClick:r,children:[S.jsx("i",{className:"fa-solid fa-border-all"})," Dashboard"]})}),S.jsx("li",{children:S.jsxs(ia,{to:"/income",className:({isActive:o})=>`menu-item ${o?"active":""}`,onClick:r,children:[S.jsx("i",{className:"fa-solid fa-dollar-sign"})," Income Management"]})}),S.jsx("li",{children:S.jsxs(ia,{to:"/daily-income",className:({isActive:o})=>`menu-item ${o?"active":""}`,onClick:r,children:[S.jsx("i",{className:"fa-solid fa-calendar-days"})," Daily Income"]})}),S.jsx("li",{children:S.jsxs(ia,{to:"/savings",className:({isActive:o})=>`menu-item ${o?"active":""}`,onClick:r,children:[S.jsx("i",{className:"fa-solid fa-piggy-bank"})," Student Savings"]})}),S.jsx("li",{children:S.jsxs(ia,{to:"/absensi",className:({isActive:o})=>`menu-item ${o?"active":""}`,onClick:r,children:[S.jsx("i",{class:"fa-solid fa-user-check"})," Absensi"]})}),S.jsx("li",{children:S.jsxs(ia,{to:"/users",className:({isActive:o})=>`menu-item ${o?"active":""}`,onClick:r,children:[S.jsx("i",{class:"fa-solid fa-users"})," User Management"]})}),S.jsx("li",{children:S.jsxs(ia,{to:"/other-transaction",className:({isActive:o})=>`menu-item ${o?"active":""}`,onClick:r,children:[S.jsx("i",{className:"fa-solid fa-cash-register"})," Other Transaction"]})})]}),S.jsxs("button",{onClick:i,className:"menu-item logout",style:{background:"none",border:"none",width:"100%",textAlign:"left"},children:[S.jsx("i",{className:"fa-solid fa-arrow-right-from-bracket"})," Logout"]})]})]})},PV=()=>{const[n,t]=q.useState(!1),e=()=>{t(!n)};return S.jsxs("div",{style:{display:"flex",height:"100vh",width:"100vw",overflow:"hidden"},children:[S.jsx(h1,{position:"top-center",richColors:!0}),S.jsx(OV,{isOpen:n,toggleSidebar:e}),S.jsxs("main",{className:"main-content",children:[S.jsx("div",{className:"mobile-header-control"}),S.jsx(y2,{context:{toggleSidebar:e}})]})]})};function dh(n){return n+.5|0}const ua=(n,t,e)=>Math.max(Math.min(n,e),t);function gu(n){return ua(dh(n*2.55),0,255)}function ba(n){return ua(dh(n*255),0,255)}function cr(n){return ua(dh(n/2.55)/100,0,1)}function SS(n){return ua(dh(n*100),0,100)}const Oi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},My=[..."0123456789ABCDEF"],LV=n=>My[n&15],VV=n=>My[(n&240)>>4]+My[n&15],Hd=n=>(n&240)>>4===(n&15),jV=n=>Hd(n.r)&&Hd(n.g)&&Hd(n.b)&&Hd(n.a);function zV(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Oi[n[1]]*17,g:255&Oi[n[2]]*17,b:255&Oi[n[3]]*17,a:t===5?Oi[n[4]]*17:255}:(t===7||t===9)&&(e={r:Oi[n[1]]<<4|Oi[n[2]],g:Oi[n[3]]<<4|Oi[n[4]],b:Oi[n[5]]<<4|Oi[n[6]],a:t===9?Oi[n[7]]<<4|Oi[n[8]]:255})),e}const UV=(n,t)=>n<255?t(n):"";function BV(n){var t=jV(n)?LV:VV;return n?"#"+t(n.r)+t(n.g)+t(n.b)+UV(n.a,t):void 0}const FV=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function HA(n,t,e){const i=t*Math.min(e,1-e),r=(o,l=(o+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function HV(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function qV(n,t,e){const i=HA(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function GV(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function H_(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),l=Math.min(e,i,r),u=(o+l)/2;let d,f,y;return o!==l&&(y=o-l,f=u>.5?y/(2-o-l):y/(o+l),d=GV(e,i,r,y,o),d=d*60+.5),[d|0,f||0,u]}function q_(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(ba)}function G_(n,t,e){return q_(HA,n,t,e)}function WV(n,t,e){return q_(qV,n,t,e)}function YV(n,t,e){return q_(HV,n,t,e)}function qA(n){return(n%360+360)%360}function $V(n){const t=FV.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?gu(+t[5]):ba(+t[5]));const r=qA(+t[2]),o=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=WV(r,o,l):t[1]==="hsv"?i=YV(r,o,l):i=G_(r,o,l),{r:i[0],g:i[1],b:i[2],a:e}}function KV(n,t){var e=H_(n);e[0]=qA(e[0]+t),e=G_(e),n.r=e[0],n.g=e[1],n.b=e[2]}function XV(n){if(!n)return;const t=H_(n),e=t[0],i=SS(t[1]),r=SS(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${cr(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const TS={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},wS={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function QV(){const n={},t=Object.keys(wS),e=Object.keys(TS);let i,r,o,l,u;for(i=0;i<t.length;i++){for(l=u=t[i],r=0;r<e.length;r++)o=e[r],u=u.replace(o,TS[o]);o=parseInt(wS[l],16),n[u]=[o>>16&255,o>>8&255,o&255]}return n}let qd;function JV(n){qd||(qd=QV(),qd.transparent=[0,0,0,0]);const t=qd[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const ZV=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function t4(n){const t=ZV.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const l=+t[7];e=t[8]?gu(l):ua(l*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?gu(i):ua(i,0,255)),r=255&(t[4]?gu(r):ua(r,0,255)),o=255&(t[6]?gu(o):ua(o,0,255)),{r:i,g:r,b:o,a:e}}}function e4(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${cr(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Bg=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Tl=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function n4(n,t,e){const i=Tl(cr(n.r)),r=Tl(cr(n.g)),o=Tl(cr(n.b));return{r:ba(Bg(i+e*(Tl(cr(t.r))-i))),g:ba(Bg(r+e*(Tl(cr(t.g))-r))),b:ba(Bg(o+e*(Tl(cr(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Gd(n,t,e){if(n){let i=H_(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=G_(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function GA(n,t){return n&&Object.assign(t||{},n)}function AS(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=ba(n[3]))):(t=GA(n,{r:0,g:0,b:0,a:1}),t.a=ba(t.a)),t}function i4(n){return n.charAt(0)==="r"?t4(n):$V(n)}class Hu{constructor(t){if(t instanceof Hu)return t;const e=typeof t;let i;e==="object"?i=AS(t):e==="string"&&(i=zV(t)||JV(t)||i4(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=GA(this._rgb);return t&&(t.a=cr(t.a)),t}set rgb(t){this._rgb=AS(t)}rgbString(){return this._valid?e4(this._rgb):void 0}hexString(){return this._valid?BV(this._rgb):void 0}hslString(){return this._valid?XV(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const l=e===o?.5:e,u=2*l-1,d=i.a-r.a,f=((u*d===-1?u:(u+d)/(1+u*d))+1)/2;o=1-f,i.r=255&f*i.r+o*r.r+.5,i.g=255&f*i.g+o*r.g+.5,i.b=255&f*i.b+o*r.b+.5,i.a=l*i.a+(1-l)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=n4(this._rgb,t._rgb,e)),this}clone(){return new Hu(this.rgb)}alpha(t){return this._rgb.a=ba(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=dh(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Gd(this._rgb,2,t),this}darken(t){return Gd(this._rgb,2,-t),this}saturate(t){return Gd(this._rgb,1,t),this}desaturate(t){return Gd(this._rgb,1,-t),this}rotate(t){return KV(this._rgb,t),this}}function ar(){}const s4=(()=>{let n=0;return()=>n++})();function Ft(n){return n==null}function Ce(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function $t(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Oe(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function _i(n,t){return Oe(n)?n:t}function Ot(n,t){return typeof n>"u"?t:n}const r4=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,WA=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function me(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function le(n,t,e,i){let r,o,l;if(Ce(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if($t(n))for(l=Object.keys(n),o=l.length,r=0;r<o;r++)t.call(e,n[l[r]],l[r])}function Vf(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function jf(n){if(Ce(n))return n.map(jf);if($t(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=jf(n[e[r]]);return t}return n}function YA(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function a4(n,t,e,i){if(!YA(n))return;const r=t[n],o=e[n];$t(r)&&$t(o)?qu(r,o,i):t[n]=jf(o)}function qu(n,t,e){const i=Ce(t)?t:[t],r=i.length;if(!$t(n))return n;e=e||{};const o=e.merger||a4;let l;for(let u=0;u<r;++u){if(l=i[u],!$t(l))continue;const d=Object.keys(l);for(let f=0,y=d.length;f<y;++f)o(d[f],n,l,e)}return n}function Au(n,t){return qu(n,t,{merger:o4})}function o4(n,t,e){if(!YA(n))return;const i=t[n],r=e[n];$t(i)&&$t(r)?Au(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=jf(r))}const CS={"":n=>n,x:n=>n.x,y:n=>n.y};function l4(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function c4(n){const t=l4(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Ra(n,t){return(CS[t]||(CS[t]=c4(t)))(n)}function W_(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Gu=n=>typeof n<"u",Ia=n=>typeof n=="function",RS=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function u4(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Zt=Math.PI,xe=2*Zt,h4=xe+Zt,zf=Number.POSITIVE_INFINITY,d4=Zt/180,ze=Zt/2,co=Zt/4,IS=Zt*2/3,ha=Math.log10,Ps=Math.sign;function Cu(n,t,e){return Math.abs(n-t)<e}function DS(n){const t=Math.round(n);n=Cu(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(ha(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function f4(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function p4(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Wl(n){return!p4(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function m4(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function $A(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Ji(n){return n*(Zt/180)}function Y_(n){return n*(180/Zt)}function MS(n){if(!Oe(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function KA(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*Zt&&(o+=xe),{angle:o,distance:r}}function ky(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function g4(n,t){return(n-t+h4)%xe-Zt}function On(n){return(n%xe+xe)%xe}function Wu(n,t,e,i){const r=On(n),o=On(t),l=On(e),u=On(o-r),d=On(l-r),f=On(r-o),y=On(r-l);return r===o||r===l||i&&o===l||u>d&&f<y}function pn(n,t,e){return Math.max(t,Math.min(e,n))}function y4(n){return pn(n,-32768,32767)}function dr(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function $_(n,t,e){e=e||(l=>n[l]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const fr=(n,t,e,i)=>$_(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),_4=(n,t,e)=>$_(n,e,i=>n[i][t]>=e);function v4(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const XA=["push","pop","shift","splice","unshift"];function b4(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),XA.forEach(e=>{const i="_onData"+W_(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const l=r.apply(this,o);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...o)}),l}})})}function kS(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(XA.forEach(o=>{delete n[o]}),delete n._chartjs)}function QA(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const JA=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function ZA(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,JA.call(window,()=>{i=!1,n.apply(t,e)}))}}function x4(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const K_=n=>n==="start"?"left":n==="end"?"right":"center",kn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,E4=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function tC(n,t,e){const i=t.length;let r=0,o=i;if(n._sorted){const{iScale:l,vScale:u,_parsed:d}=n,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,y=l.axis,{min:g,max:v,minDefined:E,maxDefined:w}=l.getUserBounds();if(E){if(r=Math.min(fr(d,y,g).lo,e?i:fr(t,y,l.getPixelForValue(g)).lo),f){const A=d.slice(0,r+1).reverse().findIndex(R=>!Ft(R[u.axis]));r-=Math.max(0,A)}r=pn(r,0,i-1)}if(w){let A=Math.max(fr(d,l.axis,v,!0).hi+1,e?0:fr(t,y,l.getPixelForValue(v),!0).hi+1);if(f){const R=d.slice(A-1).findIndex(N=>!Ft(N[u.axis]));A+=Math.max(0,R)}o=pn(A,r,i)-r}else o=i-r}return{start:r,count:o}}function eC(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}const Wd=n=>n===0||n===1,NS=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*xe/e)),OS=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*xe/e)+1,Ru={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*ze)+1,easeOutSine:n=>Math.sin(n*ze),easeInOutSine:n=>-.5*(Math.cos(Zt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Wd(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Wd(n)?n:NS(n,.075,.3),easeOutElastic:n=>Wd(n)?n:OS(n,.075,.3),easeInOutElastic(n){return Wd(n)?n:n<.5?.5*NS(n*2,.1125,.45):.5+.5*OS(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Ru.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Ru.easeInBounce(n*2)*.5:Ru.easeOutBounce(n*2-1)*.5+.5};function X_(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function PS(n){return X_(n)?n:new Hu(n)}function Fg(n){return X_(n)?n:new Hu(n).saturate(.5).darken(.1).hexString()}const S4=["x","y","borderWidth","radius","tension"],T4=["color","borderColor","backgroundColor"];function w4(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:T4},numbers:{type:"number",properties:S4}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function A4(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const LS=new Map;function C4(n,t){t=t||{};const e=n+JSON.stringify(t);let i=LS.get(e);return i||(i=new Intl.NumberFormat(n,t),LS.set(e,i)),i}function fh(n,t,e){return C4(t,e).format(n)}const nC={values(n){return Ce(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const f=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),o=R4(n,e)}const l=ha(Math.abs(o)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),d={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(d,this.options.ticks.format),fh(n,i,d)},logarithmic(n,t,e){if(n===0)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(ha(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?nC.numeric.call(this,n,t,e):""}};function R4(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var _p={formatters:nC};function I4(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:_p.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ro=Object.create(null),Ny=Object.create(null);function Iu(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Hg(n,t,e){return typeof t=="string"?qu(Iu(n,t),e):qu(Iu(n,""),t)}class D4{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Fg(r.backgroundColor),this.hoverBorderColor=(i,r)=>Fg(r.borderColor),this.hoverColor=(i,r)=>Fg(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Hg(this,t,e)}get(t){return Iu(this,t)}describe(t,e){return Hg(Ny,t,e)}override(t,e){return Hg(Ro,t,e)}route(t,e,i,r){const o=Iu(this,t),l=Iu(this,i),u="_"+e;Object.defineProperties(o,{[u]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const d=this[u],f=l[r];return $t(d)?Object.assign({},f,d):Ot(d,f)},set(d){this[u]=d}}})}apply(t){t.forEach(e=>e(this))}}var Re=new D4({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[w4,A4,I4]);function M4(n){return!n||Ft(n.size)||Ft(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Uf(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function k4(n,t,e,i){i=i||{};let r=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},o=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let l=0;const u=e.length;let d,f,y,g,v;for(d=0;d<u;d++)if(g=e[d],g!=null&&!Ce(g))l=Uf(n,r,o,l,g);else if(Ce(g))for(f=0,y=g.length;f<y;f++)v=g[f],v!=null&&!Ce(v)&&(l=Uf(n,r,o,l,v));n.restore();const E=o.length/2;if(E>e.length){for(d=0;d<E;d++)delete r[o[d]];o.splice(0,E)}return l}function uo(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function VS(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Oy(n,t,e,i){iC(n,t,e,i,null)}function iC(n,t,e,i,r){let o,l,u,d,f,y,g,v;const E=t.pointStyle,w=t.rotation,A=t.radius;let R=(w||0)*d4;if(E&&typeof E=="object"&&(o=E.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(R),n.drawImage(E,-E.width/2,-E.height/2,E.width,E.height),n.restore();return}if(!(isNaN(A)||A<=0)){switch(n.beginPath(),E){default:r?n.ellipse(e,i,r/2,A,0,0,xe):n.arc(e,i,A,0,xe),n.closePath();break;case"triangle":y=r?r/2:A,n.moveTo(e+Math.sin(R)*y,i-Math.cos(R)*A),R+=IS,n.lineTo(e+Math.sin(R)*y,i-Math.cos(R)*A),R+=IS,n.lineTo(e+Math.sin(R)*y,i-Math.cos(R)*A),n.closePath();break;case"rectRounded":f=A*.516,d=A-f,l=Math.cos(R+co)*d,g=Math.cos(R+co)*(r?r/2-f:d),u=Math.sin(R+co)*d,v=Math.sin(R+co)*(r?r/2-f:d),n.arc(e-g,i-u,f,R-Zt,R-ze),n.arc(e+v,i-l,f,R-ze,R),n.arc(e+g,i+u,f,R,R+ze),n.arc(e-v,i+l,f,R+ze,R+Zt),n.closePath();break;case"rect":if(!w){d=Math.SQRT1_2*A,y=r?r/2:d,n.rect(e-y,i-d,2*y,2*d);break}R+=co;case"rectRot":g=Math.cos(R)*(r?r/2:A),l=Math.cos(R)*A,u=Math.sin(R)*A,v=Math.sin(R)*(r?r/2:A),n.moveTo(e-g,i-u),n.lineTo(e+v,i-l),n.lineTo(e+g,i+u),n.lineTo(e-v,i+l),n.closePath();break;case"crossRot":R+=co;case"cross":g=Math.cos(R)*(r?r/2:A),l=Math.cos(R)*A,u=Math.sin(R)*A,v=Math.sin(R)*(r?r/2:A),n.moveTo(e-g,i-u),n.lineTo(e+g,i+u),n.moveTo(e+v,i-l),n.lineTo(e-v,i+l);break;case"star":g=Math.cos(R)*(r?r/2:A),l=Math.cos(R)*A,u=Math.sin(R)*A,v=Math.sin(R)*(r?r/2:A),n.moveTo(e-g,i-u),n.lineTo(e+g,i+u),n.moveTo(e+v,i-l),n.lineTo(e-v,i+l),R+=co,g=Math.cos(R)*(r?r/2:A),l=Math.cos(R)*A,u=Math.sin(R)*A,v=Math.sin(R)*(r?r/2:A),n.moveTo(e-g,i-u),n.lineTo(e+g,i+u),n.moveTo(e+v,i-l),n.lineTo(e-v,i+l);break;case"line":l=r?r/2:Math.cos(R)*A,u=Math.sin(R)*A,n.moveTo(e-l,i-u),n.lineTo(e+l,i+u);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(R)*(r?r/2:A),i+Math.sin(R)*A);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function pr(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function vp(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function bp(n){n.restore()}function N4(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function O4(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function P4(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Ft(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function L4(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),l=t-o.actualBoundingBoxLeft,u=t+o.actualBoundingBoxRight,d=e-o.actualBoundingBoxAscent,f=e+o.actualBoundingBoxDescent,y=r.strikethrough?(d+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(l,y),n.lineTo(u,y),n.stroke()}}function V4(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Io(n,t,e,i,r,o={}){const l=Ce(t)?t:[t],u=o.strokeWidth>0&&o.strokeColor!=="";let d,f;for(n.save(),n.font=r.string,P4(n,o),d=0;d<l.length;++d)f=l[d],o.backdrop&&V4(n,o.backdrop),u&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Ft(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(f,e,i,o.maxWidth)),n.fillText(f,e,i,o.maxWidth),L4(n,e,i,f,o),i+=Number(r.lineHeight);n.restore()}function Yu(n,t){const{x:e,y:i,w:r,h:o,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,1.5*Zt,Zt,!0),n.lineTo(e,i+o-l.bottomLeft),n.arc(e+l.bottomLeft,i+o-l.bottomLeft,l.bottomLeft,Zt,ze,!0),n.lineTo(e+r-l.bottomRight,i+o),n.arc(e+r-l.bottomRight,i+o-l.bottomRight,l.bottomRight,ze,0,!0),n.lineTo(e+r,i+l.topRight),n.arc(e+r-l.topRight,i+l.topRight,l.topRight,0,-ze,!0),n.lineTo(e+l.topLeft,i)}const j4=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,z4=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function U4(n,t){const e=(""+n).match(j4);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const B4=n=>+n||0;function Q_(n,t){const e={},i=$t(t),r=i?Object.keys(t):t,o=$t(n)?i?l=>Ot(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of r)e[l]=B4(o(l));return e}function sC(n){return Q_(n,{top:"y",right:"x",bottom:"y",left:"x"})}function bo(n){return Q_(n,["topLeft","topRight","bottomLeft","bottomRight"])}function jn(n){const t=sC(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function nn(n,t){n=n||{},t=t||Re.font;let e=Ot(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Ot(n.style,t.style);i&&!(""+i).match(z4)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Ot(n.family,t.family),lineHeight:U4(Ot(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Ot(n.weight,t.weight),string:""};return r.string=M4(r),r}function yu(n,t,e,i){let r,o,l;for(r=0,o=n.length;r<o;++r)if(l=n[r],l!==void 0&&l!==void 0)return l}function F4(n,t,e){const{min:i,max:r}=n,o=WA(t,(r-i)/2),l=(u,d)=>e&&u===0?0:u+d;return{min:l(i,-Math.abs(o)),max:l(r,o)}}function Oa(n,t){return Object.assign(Object.create(n),t)}function J_(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=lC("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:u=>J_([u,...n],t,o,i)};return new Proxy(l,{deleteProperty(u,d){return delete u[d],delete u._keys,delete n[0][d],!0},get(u,d){return aC(u,d,()=>X4(d,t,n,u))},getOwnPropertyDescriptor(u,d){return Reflect.getOwnPropertyDescriptor(u._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,d){return zS(u).includes(d)},ownKeys(u){return zS(u)},set(u,d,f){const y=u._storage||(u._storage=r());return u[d]=y[d]=f,delete u._keys,!0}})}function Yl(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:rC(n,i),setContext:o=>Yl(n,o,e,i),override:o=>Yl(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,l){return delete o[l],delete n[l],!0},get(o,l,u){return aC(o,l,()=>q4(o,l,u))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(o,l,u){return n[l]=u,delete o[l],!0}})}function rC(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Ia(e)?e:()=>e,isIndexable:Ia(i)?i:()=>i}}const H4=(n,t)=>n?n+W_(t):t,Z_=(n,t)=>$t(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function aC(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function q4(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:l}=n;let u=i[t];return Ia(u)&&l.isScriptable(t)&&(u=G4(t,u,n,e)),Ce(u)&&u.length&&(u=W4(t,u,n,l.isIndexable)),Z_(t,u)&&(u=Yl(u,r,o&&o[t],l)),u}function G4(n,t,e,i){const{_proxy:r,_context:o,_subProxy:l,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let d=t(o,l||i);return u.delete(n),Z_(n,d)&&(d=tv(r._scopes,r,n,d)),d}function W4(n,t,e,i){const{_proxy:r,_context:o,_subProxy:l,_descriptors:u}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if($t(t[0])){const d=t,f=r._scopes.filter(y=>y!==d);t=[];for(const y of d){const g=tv(f,r,n,y);t.push(Yl(g,o,l&&l[n],u))}}return t}function oC(n,t,e){return Ia(n)?n(t,e):n}const Y4=(n,t)=>n===!0?t:typeof n=="string"?Ra(t,n):void 0;function $4(n,t,e,i,r){for(const o of t){const l=Y4(e,o);if(l){n.add(l);const u=oC(l._fallback,e,r);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(l===!1&&typeof i<"u"&&e!==i)return null}return!1}function tv(n,t,e,i){const r=t._rootScopes,o=oC(t._fallback,e,i),l=[...n,...r],u=new Set;u.add(i);let d=jS(u,l,e,o||e,i);return d===null||typeof o<"u"&&o!==e&&(d=jS(u,l,o,d,i),d===null)?!1:J_(Array.from(u),[""],r,o,()=>K4(t,e,i))}function jS(n,t,e,i,r){for(;e;)e=$4(n,t,e,i,r);return e}function K4(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Ce(r)&&$t(e)?e:r||{}}function X4(n,t,e,i){let r;for(const o of t)if(r=lC(H4(o,n),e),typeof r<"u")return Z_(n,r)?tv(e,i,n,r):r}function lC(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function zS(n){let t=n._keys;return t||(t=n._keys=Q4(n._scopes)),t}function Q4(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function cC(n,t,e,i){const{iScale:r}=n,{key:o="r"}=this._parsing,l=new Array(i);let u,d,f,y;for(u=0,d=i;u<d;++u)f=u+e,y=t[f],l[u]={r:r.parse(Ra(y,o),f)};return l}const J4=Number.EPSILON||1e-14,$l=(n,t)=>t<n.length&&!n[t].skip&&n[t],uC=n=>n==="x"?"y":"x";function Z4(n,t,e,i){const r=n.skip?t:n,o=t,l=e.skip?t:e,u=ky(o,r),d=ky(l,o);let f=u/(u+d),y=d/(u+d);f=isNaN(f)?0:f,y=isNaN(y)?0:y;const g=i*f,v=i*y;return{previous:{x:o.x-g*(l.x-r.x),y:o.y-g*(l.y-r.y)},next:{x:o.x+v*(l.x-r.x),y:o.y+v*(l.y-r.y)}}}function t5(n,t,e){const i=n.length;let r,o,l,u,d,f=$l(n,0);for(let y=0;y<i-1;++y)if(d=f,f=$l(n,y+1),!(!d||!f)){if(Cu(t[y],0,J4)){e[y]=e[y+1]=0;continue}r=e[y]/t[y],o=e[y+1]/t[y],u=Math.pow(r,2)+Math.pow(o,2),!(u<=9)&&(l=3/Math.sqrt(u),e[y]=r*l*t[y],e[y+1]=o*l*t[y])}}function e5(n,t,e="x"){const i=uC(e),r=n.length;let o,l,u,d=$l(n,0);for(let f=0;f<r;++f){if(l=u,u=d,d=$l(n,f+1),!u)continue;const y=u[e],g=u[i];l&&(o=(y-l[e])/3,u[`cp1${e}`]=y-o,u[`cp1${i}`]=g-o*t[f]),d&&(o=(d[e]-y)/3,u[`cp2${e}`]=y+o,u[`cp2${i}`]=g+o*t[f])}}function n5(n,t="x"){const e=uC(t),i=n.length,r=Array(i).fill(0),o=Array(i);let l,u,d,f=$l(n,0);for(l=0;l<i;++l)if(u=d,d=f,f=$l(n,l+1),!!d){if(f){const y=f[t]-d[t];r[l]=y!==0?(f[e]-d[e])/y:0}o[l]=u?f?Ps(r[l-1])!==Ps(r[l])?0:(r[l-1]+r[l])/2:r[l-1]:r[l]}t5(n,r,o),e5(n,o,t)}function Yd(n,t,e){return Math.max(Math.min(n,e),t)}function i5(n,t){let e,i,r,o,l,u=pr(n[0],t);for(e=0,i=n.length;e<i;++e)l=o,o=u,u=e<i-1&&pr(n[e+1],t),o&&(r=n[e],l&&(r.cp1x=Yd(r.cp1x,t.left,t.right),r.cp1y=Yd(r.cp1y,t.top,t.bottom)),u&&(r.cp2x=Yd(r.cp2x,t.left,t.right),r.cp2y=Yd(r.cp2y,t.top,t.bottom)))}function s5(n,t,e,i,r){let o,l,u,d;if(t.spanGaps&&(n=n.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")n5(n,r);else{let f=i?n[n.length-1]:n[0];for(o=0,l=n.length;o<l;++o)u=n[o],d=Z4(f,u,n[Math.min(o+1,l-(i?0:1))%l],t.tension),u.cp1x=d.previous.x,u.cp1y=d.previous.y,u.cp2x=d.next.x,u.cp2y=d.next.y,f=u}t.capBezierPoints&&i5(n,e)}function ev(){return typeof window<"u"&&typeof document<"u"}function nv(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Bf(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const xp=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function r5(n,t){return xp(n).getPropertyValue(t)}const a5=["top","right","bottom","left"];function xo(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=a5[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const o5=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function l5(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let l=!1,u,d;if(o5(r,o,n.target))u=r,d=o;else{const f=t.getBoundingClientRect();u=i.clientX-f.left,d=i.clientY-f.top,l=!0}return{x:u,y:d,box:l}}function mo(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=xp(e),o=r.boxSizing==="border-box",l=xo(r,"padding"),u=xo(r,"border","width"),{x:d,y:f,box:y}=l5(n,e),g=l.left+(y&&u.left),v=l.top+(y&&u.top);let{width:E,height:w}=t;return o&&(E-=l.width+u.width,w-=l.height+u.height),{x:Math.round((d-g)/E*e.width/i),y:Math.round((f-v)/w*e.height/i)}}function c5(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&nv(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const l=o.getBoundingClientRect(),u=xp(o),d=xo(u,"border","width"),f=xo(u,"padding");t=l.width-f.width-d.width,e=l.height-f.height-d.height,i=Bf(u.maxWidth,o,"clientWidth"),r=Bf(u.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||zf,maxHeight:r||zf}}const da=n=>Math.round(n*10)/10;function u5(n,t,e,i){const r=xp(n),o=xo(r,"margin"),l=Bf(r.maxWidth,n,"clientWidth")||zf,u=Bf(r.maxHeight,n,"clientHeight")||zf,d=c5(n,t,e);let{width:f,height:y}=d;if(r.boxSizing==="content-box"){const v=xo(r,"border","width"),E=xo(r,"padding");f-=E.width+v.width,y-=E.height+v.height}return f=Math.max(0,f-o.width),y=Math.max(0,i?f/i:y-o.height),f=da(Math.min(f,l,d.maxWidth)),y=da(Math.min(y,u,d.maxHeight)),f&&!y&&(y=da(f/2)),(t!==void 0||e!==void 0)&&i&&d.height&&y>d.height&&(y=d.height,f=da(Math.floor(y*i))),{width:f,height:y}}function US(n,t,e){const i=t||1,r=da(n.height*i),o=da(n.width*i);n.height=da(n.height),n.width=da(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==r||l.width!==o?(n.currentDevicePixelRatio=i,l.height=r,l.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const h5=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};ev()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function BS(n,t){const e=r5(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function go(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function d5(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function f5(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},l=go(n,r,e),u=go(r,o,e),d=go(o,t,e),f=go(l,u,e),y=go(u,d,e);return go(f,y,e)}const p5=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},m5=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Pl(n,t,e){return n?p5(t,e):m5()}function hC(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function dC(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function fC(n){return n==="angle"?{between:Wu,compare:g4,normalize:On}:{between:dr,compare:(t,e)=>t-e,normalize:t=>t}}function FS({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function g5(n,t,e){const{property:i,start:r,end:o}=e,{between:l,normalize:u}=fC(i),d=t.length;let{start:f,end:y,loop:g}=n,v,E;if(g){for(f+=d,y+=d,v=0,E=d;v<E&&l(u(t[f%d][i]),r,o);++v)f--,y--;f%=d,y%=d}return y<f&&(y+=d),{start:f,end:y,loop:g,style:n.style}}function pC(n,t,e){if(!e)return[n];const{property:i,start:r,end:o}=e,l=t.length,{compare:u,between:d,normalize:f}=fC(i),{start:y,end:g,loop:v,style:E}=g5(n,t,e),w=[];let A=!1,R=null,N,j,z;const X=()=>d(r,z,N)&&u(r,z)!==0,B=()=>u(o,N)===0||d(o,z,N),G=()=>A||X(),D=()=>!A||B();for(let C=y,M=y;C<=g;++C)j=t[C%l],!j.skip&&(N=f(j[i]),N!==z&&(A=d(N,r,o),R===null&&G()&&(R=u(N,r)===0?C:M),R!==null&&D()&&(w.push(FS({start:R,end:C,loop:v,count:l,style:E})),R=null),M=C,z=N));return R!==null&&w.push(FS({start:R,end:g,loop:v,count:l,style:E})),w}function mC(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const o=pC(i[r],n.points,t);o.length&&e.push(...o)}return e}function y5(n,t,e,i){let r=0,o=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}function _5(n,t,e,i){const r=n.length,o=[];let l=t,u=n[t],d;for(d=t+1;d<=e;++d){const f=n[d%r];f.skip||f.stop?u.skip||(i=!1,o.push({start:t%r,end:(d-1)%r,loop:i}),t=l=f.stop?d:null):(l=d,u.skip&&(t=d)),u=f}return l!==null&&o.push({start:t%r,end:l%r,loop:i}),o}function v5(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const o=!!n._loop,{start:l,end:u}=y5(e,r,o,i);if(i===!0)return HS(n,[{start:l,end:u,loop:o}],e,t);const d=u<l?u+r:u,f=!!n._fullLoop&&l===0&&u===r-1;return HS(n,_5(e,l,d,f),e,t)}function HS(n,t,e,i){return!i||!i.setContext||!e?t:b5(n,t,e,i)}function b5(n,t,e,i){const r=n._chart.getContext(),o=qS(n.options),{_datasetIndex:l,options:{spanGaps:u}}=n,d=e.length,f=[];let y=o,g=t[0].start,v=g;function E(w,A,R,N){const j=u?-1:1;if(w!==A){for(w+=d;e[w%d].skip;)w-=j;for(;e[A%d].skip;)A+=j;w%d!==A%d&&(f.push({start:w%d,end:A%d,loop:R,style:N}),y=N,g=A%d)}}for(const w of t){g=u?g:w.start;let A=e[g%d],R;for(v=g+1;v<=w.end;v++){const N=e[v%d];R=qS(i.setContext(Oa(r,{type:"segment",p0:A,p1:N,p0DataIndex:(v-1)%d,p1DataIndex:v%d,datasetIndex:l}))),x5(R,y)&&E(g,v-1,w.loop,y),A=N,y=R}g<v-1&&E(g,v-1,w.loop,y)}return f}function qS(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function x5(n,t){if(!t)return!1;const e=[],i=function(r,o){return X_(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function $d(n,t,e){return n.options.clip?n[e]:t[e]}function E5(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:$d(e,t,"left"),right:$d(e,t,"right"),top:$d(i,t,"top"),bottom:$d(i,t,"bottom")}:t}function gC(n,t){const e=t._clip;if(e.disabled)return!1;const i=E5(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}class S5{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],l=e.duration;o.forEach(u=>u({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=JA.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let l=o.length-1,u=!1,d;for(;l>=0;--l)d=o[l],d._active?(d._total>i.duration&&(i.duration=d._total),d.tick(t),u=!0):(o[l]=o[o.length-1],o.pop());u&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var or=new S5;const GS="transparent",T5={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=PS(n||GS),r=i.valid&&PS(t||GS);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class w5{constructor(t,e,i,r){const o=e[i];r=yu([t.to,r,o,t.from]);const l=yu([t.from,o,r]);this._active=!0,this._fn=t.fn||T5[t.type||typeof l],this._easing=Ru[t.easing]||Ru.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,l=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=yu([t.to,e,r,t.from]),this._from=yu([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,l=this._loop,u=this._to;let d;if(this._active=o!==u&&(l||e<i),!this._active){this._target[r]=u,this._notify(!0);return}if(e<0){this._target[r]=o;return}d=e/i%2,d=l&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[r]=this._fn(o,u,d)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class yC{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!$t(t))return;const e=Object.keys(Re.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!$t(o))return;const l={};for(const u of e)l[u]=o[u];(Ce(o.properties)&&o.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,l)})})}_animateOptions(t,e){const i=e.options,r=C5(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&A5(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),l=Object.keys(e),u=Date.now();let d;for(d=l.length-1;d>=0;--d){const f=l[d];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(t,e));continue}const y=e[f];let g=o[f];const v=i.get(f);if(g)if(v&&g.active()){g.update(v,y,u);continue}else g.cancel();if(!v||!v.duration){t[f]=y;continue}o[f]=g=new w5(v,t,f,y),r.push(g)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return or.add(this._chart,i),!0}}function A5(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function C5(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function WS(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function R5(n,t,e){if(e===!1)return!1;const i=WS(n,e),r=WS(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function I5(n){let t,e,i,r;return $t(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function _C(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function YS(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let l,u,d,f;if(t===null)return;let y=!1;for(l=0,u=r.length;l<u;++l){if(d=+r[l],d===e){if(y=!0,i.all)continue;break}f=n.values[d],Oe(f)&&(o||t===0||Ps(t)===Ps(f))&&(t+=f)}return!y&&!i.all?0:t}function D5(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let d,f,y;for(d=0,f=l.length;d<f;++d)y=l[d],u[d]={[r]:y,[o]:n[y]};return u}function qg(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function M5(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function k5(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function N5(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function $S(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function KS(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:l,index:u}=i,d=o.axis,f=l.axis,y=M5(o,l,i),g=t.length;let v;for(let E=0;E<g;++E){const w=t[E],{[d]:A,[f]:R}=w,N=w._stacks||(w._stacks={});v=N[f]=N5(r,y,A),v[u]=R,v._top=$S(v,l,!0,i.type),v._bottom=$S(v,l,!1,i.type);const j=v._visualValues||(v._visualValues={});j[u]=R}}function Gg(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function O5(n,t){return Oa(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function P5(n,t,e){return Oa(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function ru(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const Wg=n=>n==="reset"||n==="none",XS=(n,t)=>t?n:Object.assign({},n),L5=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:_C(e,!0),values:null};class Pa{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=qg(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&ru(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(g,v,E,w)=>g==="x"?v:g==="r"?w:E,o=e.xAxisID=Ot(i.xAxisID,Gg(t,"x")),l=e.yAxisID=Ot(i.yAxisID,Gg(t,"y")),u=e.rAxisID=Ot(i.rAxisID,Gg(t,"r")),d=e.indexAxis,f=e.iAxisID=r(d,o,l,u),y=e.vAxisID=r(d,l,o,u);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(f),e.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&kS(this._data,this),t._stacked&&ru(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if($t(e)){const r=this._cachedMeta;this._data=D5(e,r)}else if(i!==e){if(i){kS(i,this);const r=this._cachedMeta;ru(r),r._parsed=[]}e&&Object.isExtensible(e)&&b4(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=qg(e.vScale,e),e.stack!==i.stack&&(r=!0,ru(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(KS(this,e._parsed),e._stacked=qg(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:l}=i,u=o.axis;let d=t===0&&e===r.length?!0:i._sorted,f=t>0&&i._parsed[t-1],y,g,v;if(this._parsing===!1)i._parsed=r,i._sorted=!0,v=r;else{Ce(r[t])?v=this.parseArrayData(i,r,t,e):$t(r[t])?v=this.parseObjectData(i,r,t,e):v=this.parsePrimitiveData(i,r,t,e);const E=()=>g[u]===null||f&&g[u]<f[u];for(y=0;y<e;++y)i._parsed[y+t]=g=v[y],d&&(E()&&(d=!1),f=g);i._sorted=d}l&&KS(this,v)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:l}=t,u=o.axis,d=l.axis,f=o.getLabels(),y=o===l,g=new Array(r);let v,E,w;for(v=0,E=r;v<E;++v)w=v+i,g[v]={[u]:y||o.parse(f[w],w),[d]:l.parse(e[w],w)};return g}parseArrayData(t,e,i,r){const{xScale:o,yScale:l}=t,u=new Array(r);let d,f,y,g;for(d=0,f=r;d<f;++d)y=d+i,g=e[y],u[d]={x:o.parse(g[0],y),y:l.parse(g[1],y)};return u}parseObjectData(t,e,i,r){const{xScale:o,yScale:l}=t,{xAxisKey:u="x",yAxisKey:d="y"}=this._parsing,f=new Array(r);let y,g,v,E;for(y=0,g=r;y<g;++y)v=y+i,E=e[v],f[y]={x:o.parse(Ra(E,u),v),y:l.parse(Ra(E,d),v)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,l=e[t.axis],u={keys:_C(r,!0),values:e._stacks[t.axis]._visualValues};return YS(u,l,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let l=o===null?NaN:o;const u=r&&i._stacks[e.axis];r&&u&&(r.values=u,l=YS(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,l=r.length,u=this._getOtherScale(t),d=L5(e,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:g}=k5(u);let v,E;function w(){E=r[v];const A=E[u.axis];return!Oe(E[t.axis])||y>A||g<A}for(v=0;v<l&&!(!w()&&(this.updateRangeFromParsed(f,t,E,d),o));++v);if(o){for(v=l-1;v>=0;--v)if(!w()){this.updateRangeFromParsed(f,t,E,d);break}}return f}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,l;for(r=0,o=e.length;r<o;++r)l=e[r][t.axis],Oe(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=I5(Ot(this.options.clip,R5(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,l=[],u=this._drawStart||0,d=this._drawCount||r.length-u,f=this.options.drawActiveElementsOnTop;let y;for(i.dataset&&i.dataset.draw(t,o,u,d),y=u;y<u+d;++y){const g=r[y];g.hidden||(g.active&&f?l.push(g):g.draw(t,o))}for(y=0;y<l.length;++y)l[y].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];o=l.$context||(l.$context=P5(this.getContext(),t,l)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=O5(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,l=t+"-"+e,u=o[l],d=this.enableOptionSharing&&Gu(i);if(u)return XS(u,d);const f=this.chart.config,y=f.datasetElementScopeKeys(this._type,t),g=r?[`${t}Hover`,"hover",t,""]:[t,""],v=f.getOptionScopes(this.getDataset(),y),E=Object.keys(Re.elements[t]),w=()=>this.getContext(i,r,e),A=f.resolveNamedOptions(v,E,w,g);return A.$shared&&(A.$shared=d,o[l]=Object.freeze(XS(A,d))),A}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,l=`animation-${e}`,u=o[l];if(u)return u;let d;if(r.options.animation!==!1){const y=this.chart.config,g=y.datasetAnimationScopeKeys(this._type,e),v=y.getOptionScopes(this.getDataset(),g);d=y.createResolver(v,this.getContext(t,i,e))}const f=new yC(r,d&&d.animations);return d&&d._cacheable&&(o[l]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Wg(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),l=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:l}}updateElement(t,e,i,r){Wg(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!Wg(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[u,d,f]of this._syncList)this[u](d,f);this._syncList=[];const r=i.length,o=e.length,l=Math.min(o,r);l&&this.parse(0,l),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,l=t+e;let u;const d=f=>{for(f.length+=e,u=f.length-1;u>=l;u--)f[u]=f[u-e]};for(d(o),u=t;u<l;++u)o[u]=new this.dataElementType;this._parsing&&d(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&ru(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function V5(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=QA(i.sort((r,o)=>r-o))}return n._cache.$bar}function j5(n){const t=n.iScale,e=V5(t,n.type);let i=t._length,r,o,l,u;const d=()=>{l===32767||l===-32768||(Gu(u)&&(i=Math.min(i,Math.abs(l-u)||i)),u=l)};for(r=0,o=e.length;r<o;++r)l=t.getPixelForValue(e[r]),d();for(u=void 0,r=0,o=t.ticks.length;r<o;++r)l=t.getPixelForTick(r),d();return i}function z5(n,t,e,i){const r=e.barThickness;let o,l;return Ft(r)?(o=t.min*e.categoryPercentage,l=e.barPercentage):(o=r*i,l=1),{chunk:o/i,ratio:l,start:t.pixels[n]-o/2}}function U5(n,t,e,i){const r=t.pixels,o=r[n];let l=n>0?r[n-1]:null,u=n<r.length-1?r[n+1]:null;const d=e.categoryPercentage;l===null&&(l=o-(u===null?t.end-t.start:u-o)),u===null&&(u=o+o-l);const f=o-(o-Math.min(l,u))/2*d;return{chunk:Math.abs(u-l)/2*d/i,ratio:e.barPercentage,start:f}}function B5(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),l=Math.min(r,o),u=Math.max(r,o);let d=l,f=u;Math.abs(l)>Math.abs(u)&&(d=u,f=l),t[e.axis]=f,t._custom={barStart:d,barEnd:f,start:r,end:o,min:l,max:u}}function vC(n,t,e,i){return Ce(n)?B5(n,t,e,i):t[e.axis]=e.parse(n,i),t}function QS(n,t,e,i){const r=n.iScale,o=n.vScale,l=r.getLabels(),u=r===o,d=[];let f,y,g,v;for(f=e,y=e+i;f<y;++f)v=t[f],g={},g[r.axis]=u||r.parse(l[f],f),d.push(vC(v,g,o,f));return d}function Yg(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function F5(n,t,e){return n!==0?Ps(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function H5(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function q5(n,t,e,i){let r=t.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:d,top:f,bottom:y}=H5(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=f:(e._bottom||0)===i?r=y:(o[JS(y,l,u,d)]=!0,r=f)),o[JS(r,l,u,d)]=!0,n.borderSkipped=o}function JS(n,t,e,i){return i?(n=G5(n,t,e),n=ZS(n,e,t)):n=ZS(n,t,e),n}function G5(n,t,e){return n===t?e:n===e?t:n}function ZS(n,t,e){return n==="start"?t:n==="end"?e:n}function W5(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class Y5 extends Pa{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return QS(t,e,i,r)}parseArrayData(t,e,i,r){return QS(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:o,vScale:l}=t,{xAxisKey:u="x",yAxisKey:d="y"}=this._parsing,f=o.axis==="x"?u:d,y=l.axis==="x"?u:d,g=[];let v,E,w,A;for(v=i,E=i+r;v<E;++v)A=e[v],w={},w[o.axis]=o.parse(Ra(A,f),v),g.push(vC(Ra(A,y),w,l,v));return g}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,o=this.getParsed(t),l=o._custom,u=Yg(l)?"["+l.start+", "+l.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const o=r==="reset",{index:l,_cachedMeta:{vScale:u}}=this,d=u.getBasePixel(),f=u.isHorizontal(),y=this._getRuler(),{sharedOptions:g,includeOptions:v}=this._getSharedOptions(e,r);for(let E=e;E<e+i;E++){const w=this.getParsed(E),A=o||Ft(w[u.axis])?{base:d,head:d}:this._calculateBarValuePixels(E),R=this._calculateBarIndexPixels(E,y),N=(w._stacks||{})[u.axis],j={horizontal:f,base:A.base,enableBorderRadius:!N||Yg(w._custom)||l===N._top||l===N._bottom,x:f?A.head:R.center,y:f?R.center:A.head,height:f?R.size:Math.abs(A.size),width:f?Math.abs(A.size):R.size};v&&(j.options=g||this.resolveDataElementOptions(E,t[E].active?"active":r));const z=j.options||t[E].options;q5(j,z,N,l),W5(j,z,y.ratio),this.updateElement(t[E],E,j,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(y=>y.controller.options.grouped),o=i.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(e),d=u&&u[i.axis],f=y=>{const g=y._parsed.find(E=>E[i.axis]===d),v=g&&g[y.vScale.axis];if(Ft(v)||isNaN(v))return!0};for(const y of r)if(!(e!==void 0&&f(y))&&((o===!1||l.indexOf(y.stack)===-1||o===void 0&&y.stack===void 0)&&l.push(y.stack),y.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Ot(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let o,l;for(o=0,l=e.data.length;o<l;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const u=t.barThickness;return{min:u||j5(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:o,minBarLength:l}}=this,u=o||0,d=this.getParsed(t),f=d._custom,y=Yg(f);let g=d[e.axis],v=0,E=i?this.applyStack(e,d,i):g,w,A;E!==g&&(v=E-g,E=g),y&&(g=f.barStart,E=f.barEnd-f.barStart,g!==0&&Ps(g)!==Ps(f.barEnd)&&(v=0),v+=g);const R=!Ft(o)&&!y?o:v;let N=e.getPixelForValue(R);if(this.chart.getDataVisibility(t)?w=e.getPixelForValue(v+E):w=N,A=w-N,Math.abs(A)<l){A=F5(A,e,u)*l,g===u&&(N-=A/2);const j=e.getPixelForDecimal(0),z=e.getPixelForDecimal(1),X=Math.min(j,z),B=Math.max(j,z);N=Math.max(Math.min(N,B),X),w=N+A,i&&!y&&(d._stacks[e.axis]._visualValues[r]=e.getValueForPixel(w)-e.getValueForPixel(N))}if(N===e.getPixelForValue(u)){const j=Ps(A)*e.getLineWidthForValue(u)/2;N+=j,A-=j}return{size:A,base:N,head:w,center:w+A/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,o=r.skipNull,l=Ot(r.maxBarThickness,1/0);let u,d;const f=this._getAxisCount();if(e.grouped){const y=o?this._getStackCount(t):e.stackCount,g=r.barThickness==="flex"?U5(t,e,r,y*f):z5(t,e,r,y*f),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,E=this._getAxis().indexOf(Ot(v,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+E;u=g.start+g.chunk*w+g.chunk/2,d=Math.min(l,g.chunk*g.ratio)}else u=i.getPixelForValue(this.getParsed(t)[i.axis],t),d=Math.min(l,e.min*e.ratio);return{base:u-d/2,head:u+d/2,center:u,size:d}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}class $5 extends Pa{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,r){const o=super.parsePrimitiveData(t,e,i,r);for(let l=0;l<o.length;l++)o[l]._custom=this.resolveDataElementOptions(l+i).radius;return o}parseArrayData(t,e,i,r){const o=super.parseArrayData(t,e,i,r);for(let l=0;l<o.length;l++){const u=e[i+l];o[l]._custom=Ot(u[2],this.resolveDataElementOptions(l+i).radius)}return o}parseObjectData(t,e,i,r){const o=super.parseObjectData(t,e,i,r);for(let l=0;l<o.length;l++){const u=e[i+l];o[l]._custom=Ot(u&&u.r&&+u.r,this.resolveDataElementOptions(l+i).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:o}=e,l=this.getParsed(t),u=r.getLabelForValue(l.x),d=o.getLabelForValue(l.y),f=l._custom;return{label:i[t]||"",value:"("+u+", "+d+(f?", "+f:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,r){const o=r==="reset",{iScale:l,vScale:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(e,r),y=l.axis,g=u.axis;for(let v=e;v<e+i;v++){const E=t[v],w=!o&&this.getParsed(v),A={},R=A[y]=o?l.getPixelForDecimal(.5):l.getPixelForValue(w[y]),N=A[g]=o?u.getBasePixel():u.getPixelForValue(w[g]);A.skip=isNaN(R)||isNaN(N),f&&(A.options=d||this.resolveDataElementOptions(v,E.active?"active":r),o&&(A.options.radius=0)),this.updateElement(E,v,A,r)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let r=super.resolveDataElementOptions(t,e);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const o=r.radius;return e!=="active"&&(r.radius=0),r.radius+=Ot(i&&i._custom,o),r}}function K5(n,t,e){let i=1,r=1,o=0,l=0;if(t<xe){const u=n,d=u+t,f=Math.cos(u),y=Math.sin(u),g=Math.cos(d),v=Math.sin(d),E=(z,X,B)=>Wu(z,u,d,!0)?1:Math.max(X,X*e,B,B*e),w=(z,X,B)=>Wu(z,u,d,!0)?-1:Math.min(X,X*e,B,B*e),A=E(0,f,g),R=E(ze,y,v),N=w(Zt,f,g),j=w(Zt+ze,y,v);i=(A-N)/2,r=(R-j)/2,o=-(A+N)/2,l=-(R+j)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:l}}class iv extends Pa{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data,{labels:{pointStyle:i,textAlign:r,color:o,useBorderRadius:l,borderRadius:u}}=t.legend.options;return e.labels.length&&e.datasets.length?e.labels.map((d,f)=>{const g=t.getDatasetMeta(0).controller.getStyle(f);return{text:d,fillStyle:g.backgroundColor,fontColor:o,hidden:!t.getDataVisibility(f),lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:g.borderWidth,strokeStyle:g.borderColor,textAlign:r,pointStyle:i,borderRadius:l&&(u||g.borderRadius),index:f}}):[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=d=>+i[d];if($t(i[t])){const{key:d="value"}=this._parsing;o=f=>+Ra(i[f],d)}let l,u;for(l=t,u=t+e;l<u;++l)r._parsed[l]=o(l)}}_getRotation(){return Ji(this.options.rotation-90)}_getCircumference(){return Ji(this.options.circumference)}_getRotationExtents(){let t=xe,e=-xe;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),l=r._getCircumference();t=Math.min(t,o),e=Math.max(e,o+l)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,o=r.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-l)/2,0),d=Math.min(r4(this.options.cutout,u),1),f=this._getRingWeight(this.index),{circumference:y,rotation:g}=this._getRotationExtents(),{ratioX:v,ratioY:E,offsetX:w,offsetY:A}=K5(g,y,d),R=(i.width-l)/v,N=(i.height-l)/E,j=Math.max(Math.min(R,N)/2,0),z=WA(this.options.radius,j),X=Math.max(z*d,0),B=(z-X)/this._getVisibleDatasetWeightTotal();this.offsetX=w*z,this.offsetY=A*z,r.total=this.calculateTotal(),this.outerRadius=z-B*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-B*f,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*o/xe)}updateElements(t,e,i,r){const o=r==="reset",l=this.chart,u=l.chartArea,f=l.options.animation,y=(u.left+u.right)/2,g=(u.top+u.bottom)/2,v=o&&f.animateScale,E=v?0:this.innerRadius,w=v?0:this.outerRadius,{sharedOptions:A,includeOptions:R}=this._getSharedOptions(e,r);let N=this._getRotation(),j;for(j=0;j<e;++j)N+=this._circumference(j,o);for(j=e;j<e+i;++j){const z=this._circumference(j,o),X=t[j],B={x:y+this.offsetX,y:g+this.offsetY,startAngle:N,endAngle:N+z,circumference:z,outerRadius:w,innerRadius:E};R&&(B.options=A||this.resolveDataElementOptions(j,X.active?"active":r)),N+=z,this.updateElement(X,j,B,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const o=t._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?xe*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=fh(e._parsed[t],i.options.locale);return{label:r[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,o,l,u,d;if(!t){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){l=i.getDatasetMeta(r),t=l.data,u=l.controller;break}}if(!t)return 0;for(r=0,o=t.length;r<o;++r)d=u.resolveDataElementOptions(r),d.borderAlign!=="inner"&&(e=Math.max(e,d.borderWidth||0,d.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Ot(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class X5 extends Pa{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=e,l=this.chart._animationsDisabled;let{start:u,count:d}=tC(e,r,l);this._drawStart=u,this._drawCount=d,eC(e)&&(u=0,d=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:f},t),this.updateElements(r,u,d,t)}updateElements(t,e,i,r){const o=r==="reset",{iScale:l,vScale:u,_stacked:d,_dataset:f}=this._cachedMeta,{sharedOptions:y,includeOptions:g}=this._getSharedOptions(e,r),v=l.axis,E=u.axis,{spanGaps:w,segment:A}=this.options,R=Wl(w)?w:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||o||r==="none",j=e+i,z=t.length;let X=e>0&&this.getParsed(e-1);for(let B=0;B<z;++B){const G=t[B],D=N?G:{};if(B<e||B>=j){D.skip=!0;continue}const C=this.getParsed(B),M=Ft(C[E]),L=D[v]=l.getPixelForValue(C[v],B),P=D[E]=o||M?u.getBasePixel():u.getPixelForValue(d?this.applyStack(u,C,d):C[E],B);D.skip=isNaN(L)||isNaN(P)||M,D.stop=B>0&&Math.abs(C[v]-X[v])>R,A&&(D.parsed=C,D.raw=f.data[B]),g&&(D.options=y||this.resolveDataElementOptions(B,G.active?"active":r)),N||this.updateElement(G,B,D,r),X=C}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),l=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class bC extends Pa{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((o,l)=>{const d=t.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:r,lineWidth:d.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=fh(e._parsed[t].r,i.options.locale);return{label:r[t]||"",value:o}}parseObjectData(t,e,i,r){return cC.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,r)=>{const o=this.getParsed(r).r;!isNaN(o)&&this.chart.getDataVisibility(r)&&(o<e.min&&(e.min=o),o>e.max&&(e.max=o))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,r=Math.min(e.right-e.left,e.bottom-e.top),o=Math.max(r/2,0),l=Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0),u=(o-l)/t.getVisibleDatasetCount();this.outerRadius=o-u*this.index,this.innerRadius=this.outerRadius-u}updateElements(t,e,i,r){const o=r==="reset",l=this.chart,d=l.options.animation,f=this._cachedMeta.rScale,y=f.xCenter,g=f.yCenter,v=f.getIndexAngle(0)-.5*Zt;let E=v,w;const A=360/this.countVisibleElements();for(w=0;w<e;++w)E+=this._computeAngle(w,r,A);for(w=e;w<e+i;w++){const R=t[w];let N=E,j=E+this._computeAngle(w,r,A),z=l.getDataVisibility(w)?f.getDistanceFromCenterForValue(this.getParsed(w).r):0;E=j,o&&(d.animateScale&&(z=0),d.animateRotate&&(N=j=v));const X={x:y,y:g,innerRadius:0,outerRadius:z,startAngle:N,endAngle:j,options:this.resolveDataElementOptions(w,R.active?"active":r)};this.updateElement(R,w,X,r)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?Ji(this.resolveDataElementOptions(t,e).angle||i):0}}class Q5 extends iv{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class J5 extends Pa{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,r){return cC.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta,i=e.dataset,r=e.data||[],o=e.iScale.getLabels();if(i.points=r,t!=="resize"){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0);const u={_loop:!0,_fullLoop:o.length===r.length,options:l};this.updateElement(i,void 0,u,t)}this.updateElements(r,0,r.length,t)}updateElements(t,e,i,r){const o=this._cachedMeta.rScale,l=r==="reset";for(let u=e;u<e+i;u++){const d=t[u],f=this.resolveDataElementOptions(u,d.active?"active":r),y=o.getPointPositionForValue(u,this.getParsed(u).r),g=l?o.xCenter:y.x,v=l?o.yCenter:y.y,E={x:g,y:v,angle:y.angle,skip:isNaN(g)||isNaN(v),options:f};this.updateElement(d,u,E,r)}}}class Z5 extends Pa{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:o}=e,l=this.getParsed(t),u=r.getLabelForValue(l.x),d=o.getLabelForValue(l.y);return{label:i[t]||"",value:"("+u+", "+d+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,r=this.chart._animationsDisabled;let{start:o,count:l}=tC(e,i,r);if(this._drawStart=o,this._drawCount=l,eC(e)&&(o=0,l=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:u,_dataset:d}=e;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!d._decimated,u.points=i;const f=this.resolveDatasetElementOptions(t);f.segment=this.options.segment,this.updateElement(u,void 0,{animated:!r,options:f},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,o,l,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,r){const o=r==="reset",{iScale:l,vScale:u,_stacked:d,_dataset:f}=this._cachedMeta,y=this.resolveDataElementOptions(e,r),g=this.getSharedOptions(y),v=this.includeOptions(r,g),E=l.axis,w=u.axis,{spanGaps:A,segment:R}=this.options,N=Wl(A)?A:Number.POSITIVE_INFINITY,j=this.chart._animationsDisabled||o||r==="none";let z=e>0&&this.getParsed(e-1);for(let X=e;X<e+i;++X){const B=t[X],G=this.getParsed(X),D=j?B:{},C=Ft(G[w]),M=D[E]=l.getPixelForValue(G[E],X),L=D[w]=o||C?u.getBasePixel():u.getPixelForValue(d?this.applyStack(u,G,d):G[w],X);D.skip=isNaN(M)||isNaN(L)||C,D.stop=X>0&&Math.abs(G[E]-z[E])>N,R&&(D.parsed=G,D.raw=f.data[X]),v&&(D.options=g||this.resolveDataElementOptions(X,B.active?"active":r)),j||this.updateElement(B,X,D,r),z=G}this.updateSharedOptions(g,r,y)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let u=0;for(let d=e.length-1;d>=0;--d)u=Math.max(u,e[d].size(this.resolveDataElementOptions(d))/2);return u>0&&u}const i=t.dataset,r=i.options&&i.options.borderWidth||0;if(!e.length)return r;const o=e[0].size(this.resolveDataElementOptions(0)),l=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(r,o,l)/2}}var t3=Object.freeze({__proto__:null,BarController:Y5,BubbleController:$5,DoughnutController:iv,LineController:X5,PieController:Q5,PolarAreaController:bC,RadarController:J5,ScatterController:Z5});function ho(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class sv{static override(t){Object.assign(sv.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return ho()}parse(){return ho()}format(){return ho()}add(){return ho()}diff(){return ho()}startOf(){return ho()}endOf(){return ho()}}var e3={_date:sv};function n3(n,t,e,i){const{controller:r,data:o,_sorted:l}=n,u=r._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&l&&o.length){const f=u._reversePixels?_4:fr;if(i){if(r._sharedOptions){const y=o[0],g=typeof y.getRange=="function"&&y.getRange(t);if(g){const v=f(o,t,e-g),E=f(o,t,e+g);return{lo:v.lo,hi:E.hi}}}}else{const y=f(o,t,e);if(d){const{vScale:g}=r._cachedMeta,{_parsed:v}=n,E=v.slice(0,y.lo+1).reverse().findIndex(A=>!Ft(A[g.axis]));y.lo-=Math.max(0,E);const w=v.slice(y.hi).findIndex(A=>!Ft(A[g.axis]));y.hi+=Math.max(0,w)}return y}}return{lo:0,hi:o.length-1}}function Ep(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),l=e[t];for(let u=0,d=o.length;u<d;++u){const{index:f,data:y}=o[u],{lo:g,hi:v}=n3(o[u],t,l,r);for(let E=g;E<=v;++E){const w=y[E];w.skip||i(w,f,E)}}}function i3(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,l=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function $g(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||Ep(n,e,t,function(u,d,f){!r&&!pr(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&o.push({element:u,datasetIndex:d,index:f})},!0),o}function s3(n,t,e,i){let r=[];function o(l,u,d){const{startAngle:f,endAngle:y}=l.getProps(["startAngle","endAngle"],i),{angle:g}=KA(l,{x:t.x,y:t.y});Wu(g,f,y)&&r.push({element:l,datasetIndex:u,index:d})}return Ep(n,e,t,o),r}function r3(n,t,e,i,r,o){let l=[];const u=i3(e);let d=Number.POSITIVE_INFINITY;function f(y,g,v){const E=y.inRange(t.x,t.y,r);if(i&&!E)return;const w=y.getCenterPoint(r);if(!(!!o||n.isPointInArea(w))&&!E)return;const R=u(t,w);R<d?(l=[{element:y,datasetIndex:g,index:v}],d=R):R===d&&l.push({element:y,datasetIndex:g,index:v})}return Ep(n,e,t,f),l}function Kg(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?s3(n,t,e,r):r3(n,t,e,i,r,o)}function tT(n,t,e,i,r){const o=[],l=e==="x"?"inXRange":"inYRange";let u=!1;return Ep(n,e,t,(d,f,y)=>{d[l]&&d[l](t[e],r)&&(o.push({element:d,datasetIndex:f,index:y}),u=u||d.inRange(t.x,t.y,r))}),i&&!u?[]:o}var a3={modes:{index(n,t,e,i){const r=mo(t,n),o=e.axis||"x",l=e.includeInvisible||!1,u=e.intersect?$g(n,r,o,i,l):Kg(n,r,o,!1,i,l),d=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const y=u[0].index,g=f.data[y];g&&!g.skip&&d.push({element:g,datasetIndex:f.index,index:y})}),d):[]},dataset(n,t,e,i){const r=mo(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;let u=e.intersect?$g(n,r,o,i,l):Kg(n,r,o,!1,i,l);if(u.length>0){const d=u[0].datasetIndex,f=n.getDatasetMeta(d).data;u=[];for(let y=0;y<f.length;++y)u.push({element:f[y],datasetIndex:d,index:y})}return u},point(n,t,e,i){const r=mo(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return $g(n,r,o,i,l)},nearest(n,t,e,i){const r=mo(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return Kg(n,r,o,e.intersect,i,l)},x(n,t,e,i){const r=mo(t,n);return tT(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=mo(t,n);return tT(n,r,"y",e.intersect,i)}}};const xC=["left","top","right","bottom"];function au(n,t){return n.filter(e=>e.pos===t)}function eT(n,t){return n.filter(e=>xC.indexOf(e.pos)===-1&&e.box.axis===t)}function ou(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function o3(n){const t=[];let e,i,r,o,l,u;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:l,stackWeight:u=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&o+l,stackWeight:u});return t}function l3(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!xC.includes(r))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return t}function c3(n,t){const e=l3(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,l,u;for(o=0,l=n.length;o<l;++o){u=n[o];const{fullSize:d}=u.box,f=e[u.stack],y=f&&u.stackWeight/f.weight;u.horizontal?(u.width=y?y*i:d&&t.availableWidth,u.height=r):(u.width=i,u.height=y?y*r:d&&t.availableHeight)}return e}function u3(n){const t=o3(n),e=ou(t.filter(f=>f.box.fullSize),!0),i=ou(au(t,"left"),!0),r=ou(au(t,"right")),o=ou(au(t,"top"),!0),l=ou(au(t,"bottom")),u=eT(t,"x"),d=eT(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(d).concat(l).concat(u),chartArea:au(t,"chartArea"),vertical:i.concat(r).concat(d),horizontal:o.concat(l).concat(u)}}function nT(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function EC(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function h3(n,t,e,i){const{pos:r,box:o}=e,l=n.maxPadding;if(!$t(r)){e.size&&(n[r]-=e.size);const g=i[e.stack]||{size:0,count:1};g.size=Math.max(g.size,e.horizontal?o.height:o.width),e.size=g.size/g.count,n[r]+=e.size}o.getPadding&&EC(l,o.getPadding());const u=Math.max(0,t.outerWidth-nT(l,n,"left","right")),d=Math.max(0,t.outerHeight-nT(l,n,"top","bottom")),f=u!==n.w,y=d!==n.h;return n.w=u,n.h=d,e.horizontal?{same:f,other:y}:{same:y,other:f}}function d3(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function f3(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{o[l]=Math.max(t[l],e[l])}),o}return i(n?["left","right"]:["top","bottom"])}function _u(n,t,e,i){const r=[];let o,l,u,d,f,y;for(o=0,l=n.length,f=0;o<l;++o){u=n[o],d=u.box,d.update(u.width||t.w,u.height||t.h,f3(u.horizontal,t));const{same:g,other:v}=h3(t,e,u,i);f|=g&&r.length,y=y||v,d.fullSize||r.push(u)}return f&&_u(r,t,e,i)||y}function Kd(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function iT(n,t,e,i){const r=e.padding;let{x:o,y:l}=t;for(const u of n){const d=u.box,f=i[u.stack]||{placed:0,weight:1},y=u.stackWeight/f.weight||1;if(u.horizontal){const g=t.w*y,v=f.size||d.height;Gu(f.start)&&(l=f.start),d.fullSize?Kd(d,r.left,l,e.outerWidth-r.right-r.left,v):Kd(d,t.left+f.placed,l,g,v),f.start=l,f.placed+=g,l=d.bottom}else{const g=t.h*y,v=f.size||d.width;Gu(f.start)&&(o=f.start),d.fullSize?Kd(d,o,r.top,v,e.outerHeight-r.bottom-r.top):Kd(d,o,t.top+f.placed,v,g),f.start=o,f.placed+=g,o=d.right}}t.x=o,t.y=l}var Ln={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=jn(n.options.layout.padding),o=Math.max(t-r.width,0),l=Math.max(e-r.height,0),u=u3(n.boxes),d=u.vertical,f=u.horizontal;le(n.boxes,A=>{typeof A.beforeLayout=="function"&&A.beforeLayout()});const y=d.reduce((A,R)=>R.box.options&&R.box.options.display===!1?A:A+1,0)||1,g=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/y,hBoxMaxHeight:l/2}),v=Object.assign({},r);EC(v,jn(i));const E=Object.assign({maxPadding:v,w:o,h:l,x:r.left,y:r.top},r),w=c3(d.concat(f),g);_u(u.fullSize,E,g,w),_u(d,E,g,w),_u(f,E,g,w)&&_u(d,E,g,w),d3(E),iT(u.leftAndTop,E,g,w),E.x+=E.w,E.y+=E.h,iT(u.rightAndBottom,E,g,w),n.chartArea={left:E.left,top:E.top,right:E.left+E.w,bottom:E.top+E.h,height:E.h,width:E.w},le(u.chartArea,A=>{const R=A.box;Object.assign(R,n.chartArea),R.update(E.w,E.h,{left:0,top:0,right:0,bottom:0})})}};class SC{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class p3 extends SC{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const mf="$chartjs",m3={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},sT=n=>n===null||n==="";function g3(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[mf]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",sT(r)){const o=BS(n,"width");o!==void 0&&(n.width=o)}if(sT(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=BS(n,"height");o!==void 0&&(n.height=o)}return n}const TC=h5?{passive:!0}:!1;function y3(n,t,e){n&&n.addEventListener(t,e,TC)}function _3(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,TC)}function v3(n,t){const e=m3[n.type]||n.type,{x:i,y:r}=mo(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Ff(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function b3(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||Ff(u.addedNodes,i),l=l&&!Ff(u.removedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function x3(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||Ff(u.removedNodes,i),l=l&&!Ff(u.addedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const $u=new Map;let rT=0;function wC(){const n=window.devicePixelRatio;n!==rT&&(rT=n,$u.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function E3(n,t){$u.size||window.addEventListener("resize",wC),$u.set(n,t)}function S3(n){$u.delete(n),$u.size||window.removeEventListener("resize",wC)}function T3(n,t,e){const i=n.canvas,r=i&&nv(i);if(!r)return;const o=ZA((u,d)=>{const f=r.clientWidth;e(u,d),f<r.clientWidth&&e()},window),l=new ResizeObserver(u=>{const d=u[0],f=d.contentRect.width,y=d.contentRect.height;f===0&&y===0||o(f,y)});return l.observe(r),E3(n,o),l}function Xg(n,t,e){e&&e.disconnect(),t==="resize"&&S3(n)}function w3(n,t,e){const i=n.canvas,r=ZA(o=>{n.ctx!==null&&e(v3(o,n))},n);return y3(i,t,r),r}class A3 extends SC{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(g3(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[mf])return!1;const i=e[mf].initial;["height","width"].forEach(o=>{const l=i[o];Ft(l)?e.removeAttribute(o):e.setAttribute(o,l)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[mf],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),l={attach:b3,detach:x3,resize:T3}[e]||w3;r[e]=l(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:Xg,detach:Xg,resize:Xg}[e]||_3)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return u5(t,e,i,r)}isAttached(t){const e=t&&nv(t);return!!(e&&e.isConnected)}}function C3(n){return!ev()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?p3:A3}class Tr{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Wl(this.x)&&Wl(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function R3(n,t){const e=n.options.ticks,i=I3(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?M3(t):[],l=o.length,u=o[0],d=o[l-1],f=[];if(l>r)return k3(t,f,o,l/r),f;const y=D3(o,t,r);if(l>0){let g,v;const E=l>1?Math.round((d-u)/(l-1)):null;for(Xd(t,f,y,Ft(E)?0:u-E,u),g=0,v=l-1;g<v;g++)Xd(t,f,y,o[g],o[g+1]);return Xd(t,f,y,d,Ft(E)?t.length:d+E),f}return Xd(t,f,y),f}function I3(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function D3(n,t,e){const i=N3(n),r=t.length/e;if(!i)return Math.max(r,1);const o=f4(i);for(let l=0,u=o.length-1;l<u;l++){const d=o[l];if(d>r)return d}return Math.max(r,1)}function M3(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function k3(n,t,e,i){let r=0,o=e[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===o&&(t.push(n[l]),r++,o=e[r*i])}function Xd(n,t,e,i,r){const o=Ot(i,0),l=Math.min(Ot(r,n.length),n.length);let u=0,d,f,y;for(e=Math.ceil(e),r&&(d=r-i,e=d/Math.floor(d/e)),y=o;y<0;)u++,y=Math.round(o+u*e);for(f=Math.max(o,0);f<l;f++)f===y&&(t.push(n[f]),u++,y=Math.round(o+u*e))}function N3(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const O3=n=>n==="left"?"right":n==="right"?"left":n,aT=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,oT=(n,t)=>Math.min(t||n,n);function lT(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function P3(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,l=n._endPixel,u=1e-6;let d=n.getPixelForTick(r),f;if(!(e&&(i===1?f=Math.max(d-o,l-d):t===0?f=(n.getPixelForTick(1)-d)/2:f=(d-n.getPixelForTick(r-1))/2,d+=r<t?f:-f,d<o-u||d>l+u)))return d}function L3(n,t){le(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function lu(n){return n.drawTicks?n.tickLength:0}function cT(n,t){if(!n.display)return 0;const e=nn(n.font,t),i=jn(n.padding);return(Ce(n.text)?n.text.length:1)*e.lineHeight+i.height}function V3(n,t){return Oa(n,{scale:t,type:"scale"})}function j3(n,t,e){return Oa(n,{tick:e,index:t,type:"tick"})}function z3(n,t,e){let i=K_(n);return(e&&t!=="right"||!e&&t==="right")&&(i=O3(i)),i}function U3(n,t,e,i){const{top:r,left:o,bottom:l,right:u,chart:d}=n,{chartArea:f,scales:y}=d;let g=0,v,E,w;const A=l-r,R=u-o;if(n.isHorizontal()){if(E=kn(i,o,u),$t(e)){const N=Object.keys(e)[0],j=e[N];w=y[N].getPixelForValue(j)+A-t}else e==="center"?w=(f.bottom+f.top)/2+A-t:w=aT(n,e,t);v=u-o}else{if($t(e)){const N=Object.keys(e)[0],j=e[N];E=y[N].getPixelForValue(j)-R+t}else e==="center"?E=(f.left+f.right)/2-R+t:E=aT(n,e,t);w=kn(i,l,r),g=e==="left"?-ze:ze}return{titleX:E,titleY:w,maxWidth:v,rotation:g}}class Lo extends Tr{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=_i(t,Number.POSITIVE_INFINITY),e=_i(e,Number.NEGATIVE_INFINITY),i=_i(i,Number.POSITIVE_INFINITY),r=_i(r,Number.NEGATIVE_INFINITY),{min:_i(t,i),max:_i(e,r),minDefined:Oe(t),maxDefined:Oe(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),l;if(r&&o)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let d=0,f=u.length;d<f;++d)l=u[d].controller.getMinMax(this,t),r||(e=Math.min(e,l.min)),o||(i=Math.max(i,l.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:_i(e,_i(i,e)),max:_i(i,_i(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){me(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=F4(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=u<this.ticks.length;this._convertTicksToLabels(d?lT(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=R3(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){me(this.options.afterUpdate,[this])}beforeSetDimensions(){me(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){me(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),me(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){me(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=me(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){me(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){me(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=oT(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let l=r,u,d,f;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const y=this._getLabelSizes(),g=y.widest.width,v=y.highest.height,E=pn(this.chart.width-g,0,this.maxWidth);u=t.offset?this.maxWidth/i:E/(i-1),g+6>u&&(u=E/(i-(t.offset?.5:1)),d=this.maxHeight-lu(t.grid)-e.padding-cT(t.title,this.chart.options.font),f=Math.sqrt(g*g+v*v),l=Y_(Math.min(Math.asin(pn((y.highest.height+6)/u,-1,1)),Math.asin(pn(d/f,-1,1))-Math.asin(pn(v/f,-1,1)))),l=Math.max(r,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){me(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){me(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const d=cT(r,e.options.font);if(u?(t.width=this.maxWidth,t.height=lu(o)+d):(t.height=this.maxHeight,t.width=lu(o)+d),i.display&&this.ticks.length){const{first:f,last:y,widest:g,highest:v}=this._getLabelSizes(),E=i.padding*2,w=Ji(this.labelRotation),A=Math.cos(w),R=Math.sin(w);if(u){const N=i.mirror?0:R*g.width+A*v.height;t.height=Math.min(this.maxHeight,t.height+N+E)}else{const N=i.mirror?0:A*g.width+R*v.height;t.width=Math.min(this.maxWidth,t.width+N+E)}this._calculatePadding(f,y,R,A)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:l},position:u}=this.options,d=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,E=0;d?f?(v=r*t.width,E=i*e.height):(v=i*t.height,E=r*e.width):o==="start"?E=e.width:o==="end"?v=t.width:o!=="inner"&&(v=t.width/2,E=e.width/2),this.paddingLeft=Math.max((v-y+l)*this.width/(this.width-y),0),this.paddingRight=Math.max((E-g+l)*this.width/(this.width-g),0)}else{let y=e.height/2,g=t.height/2;o==="start"?(y=0,g=t.height):o==="end"&&(y=e.height,g=0),this.paddingTop=y+l,this.paddingBottom=g+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){me(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Ft(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=lT(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,l=[],u=[],d=Math.floor(e/oT(e,i));let f=0,y=0,g,v,E,w,A,R,N,j,z,X,B;for(g=0;g<e;g+=d){if(w=t[g].label,A=this._resolveTickFontOptions(g),r.font=R=A.string,N=o[R]=o[R]||{data:{},gc:[]},j=A.lineHeight,z=X=0,!Ft(w)&&!Ce(w))z=Uf(r,N.data,N.gc,z,w),X=j;else if(Ce(w))for(v=0,E=w.length;v<E;++v)B=w[v],!Ft(B)&&!Ce(B)&&(z=Uf(r,N.data,N.gc,z,B),X+=j);l.push(z),u.push(X),f=Math.max(z,f),y=Math.max(X,y)}L3(o,e);const G=l.indexOf(f),D=u.indexOf(y),C=M=>({width:l[M]||0,height:u[M]||0});return{first:C(0),last:C(e-1),widest:C(G),highest:C(D),widths:l,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return y4(this._alignToPixels?uo(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=j3(this.getContext(),t,i))}return this.$context||(this.$context=V3(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Ji(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),l=t.autoSkipPadding||0,u=o?o.widest.width+l:0,d=o?o.highest.height+l:0;return this.isHorizontal()?d*i>u*r?u/i:d/r:d*r<u*i?d/i:u/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:l,border:u}=r,d=o.offset,f=this.isHorizontal(),g=this.ticks.length+(d?1:0),v=lu(o),E=[],w=u.setContext(this.getContext()),A=w.display?w.width:0,R=A/2,N=function(W){return uo(i,W,A)};let j,z,X,B,G,D,C,M,L,P,V,O;if(l==="top")j=N(this.bottom),D=this.bottom-v,M=j-R,P=N(t.top)+R,O=t.bottom;else if(l==="bottom")j=N(this.top),P=t.top,O=N(t.bottom)-R,D=j+R,M=this.top+v;else if(l==="left")j=N(this.right),G=this.right-v,C=j-R,L=N(t.left)+R,V=t.right;else if(l==="right")j=N(this.left),L=t.left,V=N(t.right)-R,G=j+R,C=this.left+v;else if(e==="x"){if(l==="center")j=N((t.top+t.bottom)/2+.5);else if($t(l)){const W=Object.keys(l)[0],K=l[W];j=N(this.chart.scales[W].getPixelForValue(K))}P=t.top,O=t.bottom,D=j+R,M=D+v}else if(e==="y"){if(l==="center")j=N((t.left+t.right)/2);else if($t(l)){const W=Object.keys(l)[0],K=l[W];j=N(this.chart.scales[W].getPixelForValue(K))}G=j-R,C=G-v,L=t.left,V=t.right}const xt=Ot(r.ticks.maxTicksLimit,g),bt=Math.max(1,Math.ceil(g/xt));for(z=0;z<g;z+=bt){const W=this.getContext(z),K=o.setContext(W),ut=u.setContext(W),mt=K.lineWidth,ct=K.color,U=ut.dash||[],$=ut.dashOffset,et=K.tickWidth,lt=K.tickColor,dt=K.tickBorderDash||[],gt=K.tickBorderDashOffset;X=P3(this,z,d),X!==void 0&&(B=uo(i,X,mt),f?G=C=L=V=B:D=M=P=O=B,E.push({tx1:G,ty1:D,tx2:C,ty2:M,x1:L,y1:P,x2:V,y2:O,width:mt,color:ct,borderDash:U,borderDashOffset:$,tickWidth:et,tickColor:lt,tickBorderDash:dt,tickBorderDashOffset:gt}))}return this._ticksLength=g,this._borderValue=j,E}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,l=this.isHorizontal(),u=this.ticks,{align:d,crossAlign:f,padding:y,mirror:g}=o,v=lu(i.grid),E=v+y,w=g?-y:E,A=-Ji(this.labelRotation),R=[];let N,j,z,X,B,G,D,C,M,L,P,V,O="middle";if(r==="top")G=this.bottom-w,D=this._getXAxisLabelAlignment();else if(r==="bottom")G=this.top+w,D=this._getXAxisLabelAlignment();else if(r==="left"){const bt=this._getYAxisLabelAlignment(v);D=bt.textAlign,B=bt.x}else if(r==="right"){const bt=this._getYAxisLabelAlignment(v);D=bt.textAlign,B=bt.x}else if(e==="x"){if(r==="center")G=(t.top+t.bottom)/2+E;else if($t(r)){const bt=Object.keys(r)[0],W=r[bt];G=this.chart.scales[bt].getPixelForValue(W)+E}D=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")B=(t.left+t.right)/2-E;else if($t(r)){const bt=Object.keys(r)[0],W=r[bt];B=this.chart.scales[bt].getPixelForValue(W)}D=this._getYAxisLabelAlignment(v).textAlign}e==="y"&&(d==="start"?O="top":d==="end"&&(O="bottom"));const xt=this._getLabelSizes();for(N=0,j=u.length;N<j;++N){z=u[N],X=z.label;const bt=o.setContext(this.getContext(N));C=this.getPixelForTick(N)+o.labelOffset,M=this._resolveTickFontOptions(N),L=M.lineHeight,P=Ce(X)?X.length:1;const W=P/2,K=bt.color,ut=bt.textStrokeColor,mt=bt.textStrokeWidth;let ct=D;l?(B=C,D==="inner"&&(N===j-1?ct=this.options.reverse?"left":"right":N===0?ct=this.options.reverse?"right":"left":ct="center"),r==="top"?f==="near"||A!==0?V=-P*L+L/2:f==="center"?V=-xt.highest.height/2-W*L+L:V=-xt.highest.height+L/2:f==="near"||A!==0?V=L/2:f==="center"?V=xt.highest.height/2-W*L:V=xt.highest.height-P*L,g&&(V*=-1),A!==0&&!bt.showLabelBackdrop&&(B+=L/2*Math.sin(A))):(G=C,V=(1-P)*L/2);let U;if(bt.showLabelBackdrop){const $=jn(bt.backdropPadding),et=xt.heights[N],lt=xt.widths[N];let dt=V-$.top,gt=0-$.left;switch(O){case"middle":dt-=et/2;break;case"bottom":dt-=et;break}switch(D){case"center":gt-=lt/2;break;case"right":gt-=lt;break;case"inner":N===j-1?gt-=lt:N>0&&(gt-=lt/2);break}U={left:gt,top:dt,width:lt+$.width,height:et+$.height,color:bt.backdropColor}}R.push({label:X,font:M,textOffset:V,options:{rotation:A,color:K,strokeColor:ut,strokeWidth:mt,textAlign:ct,textBaseline:O,translation:[B,G],backdrop:U}})}return R}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Ji(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,l=this._getLabelSizes(),u=t+o,d=l.widest.width;let f,y;return e==="left"?r?(y=this.right+o,i==="near"?f="left":i==="center"?(f="center",y+=d/2):(f="right",y+=d)):(y=this.right-u,i==="near"?f="right":i==="center"?(f="center",y-=d/2):(f="left",y=this.left)):e==="right"?r?(y=this.left+o,i==="near"?f="right":i==="center"?(f="center",y-=d/2):(f="left",y-=d)):(y=this.left+u,i==="near"?f="left":i==="center"?(f="center",y+=d/2):(f="right",y=this.right)):f="right",{textAlign:f,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,l;const u=(d,f,y)=>{!y.width||!y.color||(i.save(),i.lineWidth=y.width,i.strokeStyle=y.color,i.setLineDash(y.borderDash||[]),i.lineDashOffset=y.borderDashOffset,i.beginPath(),i.moveTo(d.x,d.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(e.display)for(o=0,l=r.length;o<l;++o){const d=r[o];e.drawOnChartArea&&u({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),e.drawTicks&&u({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),l=i.display?o.width:0;if(!l)return;const u=r.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let f,y,g,v;this.isHorizontal()?(f=uo(t,this.left,l)-l/2,y=uo(t,this.right,u)+u/2,g=v=d):(g=uo(t,this.top,l)-l/2,v=uo(t,this.bottom,u)+u/2,f=y=d),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(f,g),e.lineTo(y,v),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&vp(i,r);const o=this.getLabelItems(t);for(const l of o){const u=l.options,d=l.font,f=l.label,y=l.textOffset;Io(i,f,0,y,d,u)}r&&bp(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=nn(i.font),l=jn(i.padding),u=i.align;let d=o.lineHeight/2;e==="bottom"||e==="center"||$t(e)?(d+=l.bottom,Ce(i.text)&&(d+=o.lineHeight*(i.text.length-1))):d+=l.top;const{titleX:f,titleY:y,maxWidth:g,rotation:v}=U3(this,d,e,u);Io(t,i.text,0,0,o,{color:i.color,maxWidth:g,rotation:v,textAlign:z3(u,e,r),textBaseline:"middle",translation:[f,y]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Ot(t.grid&&t.grid.z,-1),r=Ot(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Lo.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,l;for(o=0,l=e.length;o<l;++o){const u=e[o];u[i]===this.id&&(!t||u.type===t)&&r.push(u)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return nn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Qd{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;H3(e)&&(i=this.register(e));const r=this.items,o=t.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,B3(t,l,i),this.override&&Re.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Re[r]&&(delete Re[r][i],this.override&&delete Ro[i])}}function B3(n,t,e){const i=qu(Object.create(null),[e?Re.get(e):{},Re.get(t),n.defaults]);Re.set(t,i),n.defaultRoutes&&F3(t,n.defaultRoutes),n.descriptors&&Re.describe(t,n.descriptors)}function F3(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),l=t[e].split("."),u=l.pop(),d=l.join(".");Re.route(o,r,d,u)})}function H3(n){return"id"in n&&"defaults"in n}class q3{constructor(){this.controllers=new Qd(Pa,"datasets",!0),this.elements=new Qd(Tr,"elements"),this.plugins=new Qd(Object,"plugins"),this.scales=new Qd(Lo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):le(r,l=>{const u=i||this._getRegistryForType(l);this._exec(t,u,l)})})}_exec(t,e,i){const r=W_(t);me(i["before"+r],[],i),e[t](i),me(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var ws=new q3;class G3{constructor(){this._init=void 0}notify(t,e,i,r){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=r?this._descriptors(t).filter(r):this._descriptors(t),l=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),l}_notify(t,e,i,r){r=r||{};for(const o of t){const l=o.plugin,u=l[i],d=[e,r,o.options];if(me(u,d,l)===!1&&r.cancelable)return!1}return!0}invalidate(){Ft(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Ot(i.options&&i.options.plugins,{}),o=W3(i);return r===!1&&!e?[]:$3(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,l)=>o.filter(u=>!l.some(d=>u.plugin.id===d.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function W3(n){const t={},e=[],i=Object.keys(ws.plugins.items);for(let o=0;o<i.length;o++)e.push(ws.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const l=r[o];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function Y3(n,t){return!t&&n===!1?null:n===!0?{}:n}function $3(n,{plugins:t,localIds:e},i,r){const o=[],l=n.getContext();for(const u of t){const d=u.id,f=Y3(i[d],r);f!==null&&o.push({plugin:u,options:K3(n.config,{plugin:u,local:e[d]},f,l)})}return o}function K3(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),l=n.getOptionScopes(i,o);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Py(n,t){const e=Re.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function X3(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function Q3(n,t){return n===t?"_index_":"_value_"}function uT(n){if(n==="x"||n==="y"||n==="r")return n}function J3(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Ly(n,...t){if(uT(n))return n;for(const e of t){const i=e.axis||J3(e.position)||n.length>1&&uT(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function hT(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function Z3(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return hT(n,"x",e[0])||hT(n,"y",e[0])}return{}}function t6(n,t){const e=Ro[n.type]||{scales:{}},i=t.scales||{},r=Py(n.type,t),o=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!$t(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const d=Ly(l,u,Z3(l,n),Re.scales[u.type]),f=Q3(d,r),y=e.scales||{};o[l]=Au(Object.create(null),[{axis:d},u,y[d],y[f]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,d=l.indexAxis||Py(u,t),y=(Ro[u]||{}).scales||{};Object.keys(y).forEach(g=>{const v=X3(g,d),E=l[v+"AxisID"]||v;o[E]=o[E]||Object.create(null),Au(o[E],[{axis:v},i[E],y[g]])})}),Object.keys(o).forEach(l=>{const u=o[l];Au(u,[Re.scales[u.type],Re.scale])}),o}function AC(n){const t=n.options||(n.options={});t.plugins=Ot(t.plugins,{}),t.scales=t6(n,t)}function CC(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function e6(n){return n=n||{},n.data=CC(n.data),AC(n),n}const dT=new Map,RC=new Set;function Jd(n,t){let e=dT.get(n);return e||(e=t(),dT.set(n,e),RC.add(e)),e}const cu=(n,t,e)=>{const i=Ra(t,e);i!==void 0&&n.add(i)};class n6{constructor(t){this._config=e6(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=CC(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),AC(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Jd(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Jd(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Jd(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Jd(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,l=this._cachedScopes(t,i),u=l.get(e);if(u)return u;const d=new Set;e.forEach(y=>{t&&(d.add(t),y.forEach(g=>cu(d,t,g))),y.forEach(g=>cu(d,r,g)),y.forEach(g=>cu(d,Ro[o]||{},g)),y.forEach(g=>cu(d,Re,g)),y.forEach(g=>cu(d,Ny,g))});const f=Array.from(d);return f.length===0&&f.push(Object.create(null)),RC.has(e)&&l.set(e,f),f}chartOptionScopes(){const{options:t,type:e}=this;return[t,Ro[e]||{},Re.datasets[e]||{},{type:e},Re,Ny]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:l,subPrefixes:u}=fT(this._resolverCache,t,r);let d=l;if(s6(l,e)){o.$shared=!1,i=Ia(i)?i():i;const f=this.createResolver(t,i,u);d=Yl(l,i,f)}for(const f of e)o[f]=d[f];return o}createResolver(t,e,i=[""],r){const{resolver:o}=fT(this._resolverCache,t,i);return $t(e)?Yl(o,e,void 0,r):o}}function fT(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:J_(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,o)),o}const i6=n=>$t(n)&&Object.getOwnPropertyNames(n).some(t=>Ia(n[t]));function s6(n,t){const{isScriptable:e,isIndexable:i}=rC(n);for(const r of t){const o=e(r),l=i(r),u=(l||o)&&n[r];if(o&&(Ia(u)||i6(u))||l&&Ce(u))return!0}return!1}var r6="4.5.1";const a6=["top","bottom","left","right","chartArea"];function pT(n,t){return n==="top"||n==="bottom"||a6.indexOf(n)===-1&&t==="x"}function mT(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function gT(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),me(e&&e.onComplete,[n],t)}function o6(n){const t=n.chart,e=t.options.animation;me(e&&e.onProgress,[n],t)}function IC(n){return ev()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const gf={},yT=n=>{const t=IC(n);return Object.values(gf).filter(e=>e.canvas===t).pop()};function l6(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const l=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=l)}}}function c6(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}class rv{static defaults=Re;static instances=gf;static overrides=Ro;static registry=ws;static version=r6;static getChart=yT;static register(...t){ws.add(...t),_T()}static unregister(...t){ws.remove(...t),_T()}constructor(t,e){const i=this.config=new n6(e),r=IC(t),o=yT(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||C3(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,l.aspectRatio),d=u&&u.canvas,f=d&&d.height,y=d&&d.width;if(this.id=s4(),this.ctx=u,this.canvas=d,this.width=y,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new G3,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=x4(g=>this.update(g),l.resizeDelay||0),this._dataChanges=[],gf[this.id]=this,!u||!d){console.error("Failed to create chart: can't acquire context from the given item");return}or.listen(this,"complete",gT),or.listen(this,"progress",o6),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return Ft(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ws}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():US(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return VS(this.canvas,this.ctx),this}stop(){return or.stop(this),this}resize(t,e){or.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,t,e,o),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,US(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),me(i.onResize,[this,l],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};le(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let o=[];e&&(o=o.concat(Object.keys(e).map(l=>{const u=e[l],d=Ly(l,u),f=d==="r",y=d==="x";return{options:u,dposition:f?"chartArea":y?"bottom":"left",dtype:f?"radialLinear":y?"category":"linear"}}))),le(o,l=>{const u=l.options,d=u.id,f=Ly(d,u),y=Ot(u.type,l.dtype);(u.position===void 0||pT(u.position,f)!==pT(l.dposition))&&(u.position=l.dposition),r[d]=!0;let g=null;if(d in i&&i[d].type===y)g=i[d];else{const v=ws.getScale(y);g=new v({id:d,type:y,ctx:this.ctx,chart:this}),i[g.id]=g}g.init(u,t)}),le(r,(l,u)=>{l||delete i[u]}),le(i,l=>{Ln.configure(this,l,l.options),Ln.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(mT("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let l=this.getDatasetMeta(i);const u=o.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=o.indexAxis||Py(u,this.options),l.order=o.order||0,l.index=i,l.label=""+o.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const d=ws.getController(u),{datasetElementType:f,dataElementType:y}=Re.datasets[u];Object.assign(d,{dataElementType:ws.getElement(y),datasetElementType:f&&ws.getElement(f)}),l.controller=new d(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){le(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,y=this.data.datasets.length;f<y;f++){const{controller:g}=this.getDatasetMeta(f),v=!r&&o.indexOf(g)===-1;g.buildOrUpdateElements(v),l=Math.max(+g.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),r||le(o,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(mT("z","_idx"));const{_active:u,_lastEvent:d}=this;d?this._eventHandler(d,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){le(this.scales,t=>{Ln.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!RS(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const l=i==="_removeElements"?-o:o;l6(t,r,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(l=>l[0]===o).map((l,u)=>u+","+l.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!RS(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ln.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],le(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Ia(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(or.has(this)?this.attached&&!or.running(this)&&or.start(this):(this.draw(),gT({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const l=e[r];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=gC(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&vp(e,r),t.controller.draw(),r&&bp(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return pr(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=a3.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Oa(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),l=o.controller._resolveAnimations(void 0,r);Gu(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(o,{visible:i}),this.update(u=>u.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),or.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),VS(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete gf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,l)=>{e.addEventListener(this,o,l),t[o]=l},r=(o,l,u)=>{o.offsetX=l,o.offsetY=u,this._eventHandler(o)};le(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(d,f)=>{e.addEventListener(this,d,f),t[d]=f},r=(d,f)=>{t[d]&&(e.removeEventListener(this,d,f),delete t[d])},o=(d,f)=>{this.canvas&&this.resize(d,f)};let l;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",l)};l=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",u)},e.isAttached(this.canvas)?u():l()}unbindEvents(){le(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},le(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,l,u,d;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),u=0,d=t.length;u<d;++u){l=t[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:l})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[l],index:l}});!Vf(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(d,f)=>d.filter(y=>!f.some(g=>y.datasetIndex===g.datasetIndex&&y.index===g.index)),l=o(e,t),u=i?t:o(t,e);l.length&&this.updateHoverStyle(l,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,l=e,u=this._getActiveElements(t,r,i,l),d=u4(t),f=c6(t,this._lastEvent,i,d);i&&(this._lastEvent=null,me(o.onHover,[t,u,this],this),d&&me(o.onClick,[t,u,this],this));const y=!Vf(u,r);return(y||e)&&(this._active=u,this._updateHoverStyles(u,r,e)),this._lastEvent=f,y}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}}function _T(){return le(rv.instances,n=>n._plugins.invalidate())}function u6(n,t,e){const{startAngle:i,x:r,y:o,outerRadius:l,innerRadius:u,options:d}=t,{borderWidth:f,borderJoinStyle:y}=d,g=Math.min(f/l,On(i-e));if(n.beginPath(),n.arc(r,o,l-f/2,i+g/2,e-g/2),u>0){const v=Math.min(f/u,On(i-e));n.arc(r,o,u+f/2,e-v/2,i+v/2,!0)}else{const v=Math.min(f/2,l*On(i-e));if(y==="round")n.arc(r,o,v,e-Zt/2,i+Zt/2,!0);else if(y==="bevel"){const E=2*v*v,w=-E*Math.cos(e+Zt/2)+r,A=-E*Math.sin(e+Zt/2)+o,R=E*Math.cos(i+Zt/2)+r,N=E*Math.sin(i+Zt/2)+o;n.lineTo(w,A),n.lineTo(R,N)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function h6(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:l,outerRadius:u,innerRadius:d}=t;let f=r/u;n.beginPath(),n.arc(o,l,u,i-f,e+f),d>r?(f=r/d,n.arc(o,l,d,e+f,i-f,!0)):n.arc(o,l,r,e+ze,i-ze),n.closePath(),n.clip()}function d6(n){return Q_(n,["outerStart","outerEnd","innerStart","innerEnd"])}function f6(n,t,e,i){const r=d6(n.options.borderRadius),o=(e-t)/2,l=Math.min(o,i*t/2),u=d=>{const f=(e-Math.min(o,d))*i/2;return pn(d,0,Math.min(o,f))};return{outerStart:u(r.outerStart),outerEnd:u(r.outerEnd),innerStart:pn(r.innerStart,0,l),innerEnd:pn(r.innerEnd,0,l)}}function wl(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Hf(n,t,e,i,r,o){const{x:l,y:u,startAngle:d,pixelMargin:f,innerRadius:y}=t,g=Math.max(t.outerRadius+i+e-f,0),v=y>0?y+i+e+f:0;let E=0;const w=r-d;if(i){const bt=y>0?y-i:0,W=g>0?g-i:0,K=(bt+W)/2,ut=K!==0?w*K/(K+i):w;E=(w-ut)/2}const A=Math.max(.001,w*g-e/Zt)/g,R=(w-A)/2,N=d+R+E,j=r-R-E,{outerStart:z,outerEnd:X,innerStart:B,innerEnd:G}=f6(t,v,g,j-N),D=g-z,C=g-X,M=N+z/D,L=j-X/C,P=v+B,V=v+G,O=N+B/P,xt=j-G/V;if(n.beginPath(),o){const bt=(M+L)/2;if(n.arc(l,u,g,M,bt),n.arc(l,u,g,bt,L),X>0){const mt=wl(C,L,l,u);n.arc(mt.x,mt.y,X,L,j+ze)}const W=wl(V,j,l,u);if(n.lineTo(W.x,W.y),G>0){const mt=wl(V,xt,l,u);n.arc(mt.x,mt.y,G,j+ze,xt+Math.PI)}const K=(j-G/v+(N+B/v))/2;if(n.arc(l,u,v,j-G/v,K,!0),n.arc(l,u,v,K,N+B/v,!0),B>0){const mt=wl(P,O,l,u);n.arc(mt.x,mt.y,B,O+Math.PI,N-ze)}const ut=wl(D,N,l,u);if(n.lineTo(ut.x,ut.y),z>0){const mt=wl(D,M,l,u);n.arc(mt.x,mt.y,z,N-ze,M)}}else{n.moveTo(l,u);const bt=Math.cos(M)*g+l,W=Math.sin(M)*g+u;n.lineTo(bt,W);const K=Math.cos(L)*g+l,ut=Math.sin(L)*g+u;n.lineTo(K,ut)}n.closePath()}function p6(n,t,e,i,r){const{fullCircles:o,startAngle:l,circumference:u}=t;let d=t.endAngle;if(o){Hf(n,t,e,i,d,r);for(let f=0;f<o;++f)n.fill();isNaN(u)||(d=l+(u%xe||xe))}return Hf(n,t,e,i,d,r),n.fill(),d}function m6(n,t,e,i,r){const{fullCircles:o,startAngle:l,circumference:u,options:d}=t,{borderWidth:f,borderJoinStyle:y,borderDash:g,borderDashOffset:v,borderRadius:E}=d,w=d.borderAlign==="inner";if(!f)return;n.setLineDash(g||[]),n.lineDashOffset=v,w?(n.lineWidth=f*2,n.lineJoin=y||"round"):(n.lineWidth=f,n.lineJoin=y||"bevel");let A=t.endAngle;if(o){Hf(n,t,e,i,A,r);for(let R=0;R<o;++R)n.stroke();isNaN(u)||(A=l+(u%xe||xe))}w&&h6(n,t,A),d.selfJoin&&A-l>=Zt&&E===0&&y!=="miter"&&u6(n,t,A),o||(Hf(n,t,e,i,A,r),n.stroke())}class g6 extends Tr{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:l}=KA(r,{x:t,y:e}),{startAngle:u,endAngle:d,innerRadius:f,outerRadius:y,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),v=(this.options.spacing+this.options.borderWidth)/2,E=Ot(g,d-u),w=Wu(o,u,d)&&u!==d,A=E>=xe||w,R=dr(l,f+v,y+v);return A&&R}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:l,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:d,spacing:f}=this.options,y=(r+o)/2,g=(l+u+f+d)/2;return{x:e+Math.cos(y)*g,y:i+Math.sin(y)*g}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,l=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>xe?Math.floor(i/xe):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const u=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(u)*r,Math.sin(u)*r);const d=1-Math.sin(Math.min(Zt,i||0)),f=r*d;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,p6(t,this,f,o,l),m6(t,this,f,o,l),t.restore()}}function DC(n,t,e=t){n.lineCap=Ot(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Ot(e.borderDash,t.borderDash)),n.lineDashOffset=Ot(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Ot(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Ot(e.borderWidth,t.borderWidth),n.strokeStyle=Ot(e.borderColor,t.borderColor)}function y6(n,t,e){n.lineTo(e.x,e.y)}function _6(n){return n.stepped?N4:n.tension||n.cubicInterpolationMode==="monotone"?O4:y6}function MC(n,t,e={}){const i=n.length,{start:r=0,end:o=i-1}=e,{start:l,end:u}=t,d=Math.max(r,l),f=Math.min(o,u),y=r<l&&o<l||r>u&&o>u;return{count:i,start:d,loop:t.loop,ilen:f<d&&!y?i+f-d:f-d}}function v6(n,t,e,i){const{points:r,options:o}=t,{count:l,start:u,loop:d,ilen:f}=MC(r,e,i),y=_6(o);let{move:g=!0,reverse:v}=i||{},E,w,A;for(E=0;E<=f;++E)w=r[(u+(v?f-E:E))%l],!w.skip&&(g?(n.moveTo(w.x,w.y),g=!1):y(n,A,w,v,o.stepped),A=w);return d&&(w=r[(u+(v?f:0))%l],y(n,A,w,v,o.stepped)),!!d}function b6(n,t,e,i){const r=t.points,{count:o,start:l,ilen:u}=MC(r,e,i),{move:d=!0,reverse:f}=i||{};let y=0,g=0,v,E,w,A,R,N;const j=X=>(l+(f?u-X:X))%o,z=()=>{A!==R&&(n.lineTo(y,R),n.lineTo(y,A),n.lineTo(y,N))};for(d&&(E=r[j(0)],n.moveTo(E.x,E.y)),v=0;v<=u;++v){if(E=r[j(v)],E.skip)continue;const X=E.x,B=E.y,G=X|0;G===w?(B<A?A=B:B>R&&(R=B),y=(g*y+X)/++g):(z(),n.lineTo(X,B),w=G,g=0,A=R=B),N=B}z()}function Vy(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?b6:v6}function x6(n){return n.stepped?d5:n.tension||n.cubicInterpolationMode==="monotone"?f5:go}function E6(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),DC(n,t.options),n.stroke(r)}function S6(n,t,e,i){const{segments:r,options:o}=t,l=Vy(t);for(const u of r)DC(n,o,u.style),n.beginPath(),l(n,t,u,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const T6=typeof Path2D=="function";function w6(n,t,e,i){T6&&!t.options.segment?E6(n,t,e,i):S6(n,t,e,i)}class Sp extends Tr{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;s5(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=v5(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],o=this.points,l=mC(this,{property:e,start:r,end:r});if(!l.length)return;const u=[],d=x6(i);let f,y;for(f=0,y=l.length;f<y;++f){const{start:g,end:v}=l[f],E=o[g],w=o[v];if(E===w){u.push(E);continue}const A=Math.abs((r-E[e])/(w[e]-E[e])),R=d(E,w,A,i.stepped);R[e]=t[e],u.push(R)}return u.length===1?u[0]:u}pathSegment(t,e,i){return Vy(this)(t,this,e,i)}path(t,e,i){const r=this.segments,o=Vy(this);let l=this._loop;e=e||0,i=i||this.points.length-e;for(const u of r)l&=o(t,this,u,{start:e,end:e+i-1});return!!l}draw(t,e,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),w6(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function vT(n,t,e,i){const r=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<r.radius+r.hitRadius}class A6 extends Tr{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.options,{x:o,y:l}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(e-l,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return vT(this,t,"x",e)}inYRange(t,e){return vT(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!pr(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Oy(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function kC(n,t){const{x:e,y:i,base:r,width:o,height:l}=n.getProps(["x","y","base","width","height"],t);let u,d,f,y,g;return n.horizontal?(g=l/2,u=Math.min(e,r),d=Math.max(e,r),f=i-g,y=i+g):(g=o/2,u=e-g,d=e+g,f=Math.min(i,r),y=Math.max(i,r)),{left:u,top:f,right:d,bottom:y}}function fa(n,t,e,i){return n?0:pn(t,e,i)}function C6(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=sC(i);return{t:fa(r.top,o.top,0,e),r:fa(r.right,o.right,0,t),b:fa(r.bottom,o.bottom,0,e),l:fa(r.left,o.left,0,t)}}function R6(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=bo(r),l=Math.min(t,e),u=n.borderSkipped,d=i||$t(r);return{topLeft:fa(!d||u.top||u.left,o.topLeft,0,l),topRight:fa(!d||u.top||u.right,o.topRight,0,l),bottomLeft:fa(!d||u.bottom||u.left,o.bottomLeft,0,l),bottomRight:fa(!d||u.bottom||u.right,o.bottomRight,0,l)}}function I6(n){const t=kC(n),e=t.right-t.left,i=t.bottom-t.top,r=C6(n,e/2,i/2),o=R6(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Qg(n,t,e,i){const r=t===null,o=e===null,u=n&&!(r&&o)&&kC(n,i);return u&&(r||dr(t,u.left,u.right))&&(o||dr(e,u.top,u.bottom))}function D6(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function M6(n,t){n.rect(t.x,t.y,t.w,t.h)}function Jg(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,l=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+l,radius:n.radius}}class k6 extends Tr{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:l}=I6(this),u=D6(l.radius)?Yu:M6;t.save(),(l.w!==o.w||l.h!==o.h)&&(t.beginPath(),u(t,Jg(l,e,o)),t.clip(),u(t,Jg(o,-e,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),u(t,Jg(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return Qg(this,t,e,i)}inXRange(t,e){return Qg(this,t,null,e)}inYRange(t,e){return Qg(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var N6=Object.freeze({__proto__:null,ArcElement:g6,BarElement:k6,LineElement:Sp,PointElement:A6});const jy=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],bT=jy.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function NC(n){return jy[n%jy.length]}function OC(n){return bT[n%bT.length]}function O6(n,t){return n.borderColor=NC(t),n.backgroundColor=OC(t),++t}function P6(n,t){return n.backgroundColor=n.data.map(()=>NC(t++)),t}function L6(n,t){return n.backgroundColor=n.data.map(()=>OC(t++)),t}function V6(n){let t=0;return(e,i)=>{const r=n.getDatasetMeta(i).controller;r instanceof iv?t=P6(e,t):r instanceof bC?t=L6(e,t):r&&(t=O6(e,t))}}function xT(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function j6(n){return n&&(n.borderColor||n.backgroundColor)}function z6(){return Re.borderColor!=="rgba(0,0,0,0.1)"||Re.backgroundColor!=="rgba(0,0,0,0.1)"}var U6={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:r}=n.config,{elements:o}=r,l=xT(i)||j6(r)||o&&xT(o)||z6();if(!e.forceOverride&&l)return;const u=V6(n);i.forEach(u)}};function B6(n,t,e,i,r){const o=r.samples||i;if(o>=e)return n.slice(t,t+e);const l=[],u=(e-2)/(o-2);let d=0;const f=t+e-1;let y=t,g,v,E,w,A;for(l[d++]=n[y],g=0;g<o-2;g++){let R=0,N=0,j;const z=Math.floor((g+1)*u)+1+t,X=Math.min(Math.floor((g+2)*u)+1,e)+t,B=X-z;for(j=z;j<X;j++)R+=n[j].x,N+=n[j].y;R/=B,N/=B;const G=Math.floor(g*u)+1+t,D=Math.min(Math.floor((g+1)*u)+1,e)+t,{x:C,y:M}=n[y];for(E=w=-1,j=G;j<D;j++)w=.5*Math.abs((C-R)*(n[j].y-M)-(C-n[j].x)*(N-M)),w>E&&(E=w,v=n[j],A=j);l[d++]=v,y=A}return l[d++]=n[f],l}function F6(n,t,e,i){let r=0,o=0,l,u,d,f,y,g,v,E,w,A;const R=[],N=t+e-1,j=n[t].x,X=n[N].x-j;for(l=t;l<t+e;++l){u=n[l],d=(u.x-j)/X*i,f=u.y;const B=d|0;if(B===y)f<w?(w=f,g=l):f>A&&(A=f,v=l),r=(o*r+u.x)/++o;else{const G=l-1;if(!Ft(g)&&!Ft(v)){const D=Math.min(g,v),C=Math.max(g,v);D!==E&&D!==G&&R.push({...n[D],x:r}),C!==E&&C!==G&&R.push({...n[C],x:r})}l>0&&G!==E&&R.push(n[G]),R.push(u),y=B,o=0,w=A=f,g=v=E=l}}return R}function PC(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function ET(n){n.data.datasets.forEach(t=>{PC(t)})}function H6(n,t){const e=t.length;let i=0,r;const{iScale:o}=n,{min:l,max:u,minDefined:d,maxDefined:f}=o.getUserBounds();return d&&(i=pn(fr(t,o.axis,l).lo,0,e-1)),f?r=pn(fr(t,o.axis,u).hi+1,i,e)-i:r=e-i,{start:i,count:r}}var q6={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){ET(n);return}const i=n.width;n.data.datasets.forEach((r,o)=>{const{_data:l,indexAxis:u}=r,d=n.getDatasetMeta(o),f=l||r.data;if(yu([u,n.options.indexAxis])==="y"||!d.controller.supportsDecimation)return;const y=n.scales[d.xAxisID];if(y.type!=="linear"&&y.type!=="time"||n.options.parsing)return;let{start:g,count:v}=H6(d,f);const E=e.threshold||4*i;if(v<=E){PC(r);return}Ft(l)&&(r._data=f,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(A){this._data=A}}));let w;switch(e.algorithm){case"lttb":w=B6(f,g,v,i,e);break;case"min-max":w=F6(f,g,v,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=w})},destroy(n){ET(n)}};function G6(n,t,e){const i=n.segments,r=n.points,o=t.points,l=[];for(const u of i){let{start:d,end:f}=u;f=Tp(d,f,r);const y=zy(e,r[d],r[f],u.loop);if(!t.segments){l.push({source:u,target:y,start:r[d],end:r[f]});continue}const g=mC(t,y);for(const v of g){const E=zy(e,o[v.start],o[v.end],v.loop),w=pC(u,r,E);for(const A of w)l.push({source:A,target:v,start:{[e]:ST(y,E,"start",Math.max)},end:{[e]:ST(y,E,"end",Math.min)}})}}return l}function zy(n,t,e,i){if(i)return;let r=t[n],o=e[n];return n==="angle"&&(r=On(r),o=On(o)),{property:n,start:r,end:o}}function W6(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,o=[];return t.segments.forEach(({start:l,end:u})=>{u=Tp(l,u,r);const d=r[l],f=r[u];i!==null?(o.push({x:d.x,y:i}),o.push({x:f.x,y:i})):e!==null&&(o.push({x:e,y:d.y}),o.push({x:e,y:f.y}))}),o}function Tp(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function ST(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function LC(n,t){let e=[],i=!1;return Ce(n)?(i=!0,e=n):e=W6(n,t),e.length?new Sp({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function TT(n){return n&&n.fill!==!1}function Y6(n,t,e){let r=n[t].fill;const o=[t];let l;if(!e)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!Oe(r))return r;if(l=n[r],!l)return!1;if(l.visible)return r;o.push(r),r=l.fill}return!1}function $6(n,t,e){const i=J6(n);if($t(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return Oe(r)&&Math.floor(r)===r?K6(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function K6(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function X6(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:$t(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function Q6(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:$t(n)?i=n.value:i=t.getBaseValue(),i}function J6(n){const t=n.options,e=t.fill;let i=Ot(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function Z6(n){const{scale:t,index:e,line:i}=n,r=[],o=i.segments,l=i.points,u=tj(t,e);u.push(LC({x:null,y:t.bottom},i));for(let d=0;d<o.length;d++){const f=o[d];for(let y=f.start;y<=f.end;y++)ej(r,l[y],u)}return new Sp({points:r,options:{}})}function tj(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const o=i[r];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function ej(n,t,e){const i=[];for(let r=0;r<e.length;r++){const o=e[r],{first:l,last:u,point:d}=nj(o,t,"x");if(!(!d||l&&u)){if(l)i.unshift(d);else if(n.push(d),!u)break}}n.push(...i)}function nj(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],o=n.segments,l=n.points;let u=!1,d=!1;for(let f=0;f<o.length;f++){const y=o[f],g=l[y.start][e],v=l[y.end][e];if(dr(r,g,v)){u=r===g,d=r===v;break}}return{first:u,last:d,point:i}}class VC{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:o,radius:l}=this;return e=e||{start:0,end:xe},t.arc(r,o,l,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,o=t.angle;return{x:e+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}}function ij(n){const{chart:t,fill:e,line:i}=n;if(Oe(e))return sj(t,e);if(e==="stack")return Z6(n);if(e==="shape")return!0;const r=rj(n);return r instanceof VC?r:LC(r,i)}function sj(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function rj(n){return(n.scale||{}).getPointPositionForValue?oj(n):aj(n)}function aj(n){const{scale:t={},fill:e}=n,i=X6(e,t);if(Oe(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function oj(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,o=i.reverse?t.max:t.min,l=Q6(e,t,o),u=[];if(i.grid.circular){const d=t.getPointPositionForValue(0,o);return new VC({x:d.x,y:d.y,radius:t.getDistanceFromCenterForValue(l)})}for(let d=0;d<r;++d)u.push(t.getPointPositionForValue(d,l));return u}function Zg(n,t,e){const i=ij(t),{chart:r,index:o,line:l,scale:u,axis:d}=t,f=l.options,y=f.fill,g=f.backgroundColor,{above:v=g,below:E=g}=y||{},w=r.getDatasetMeta(o),A=gC(r,w);i&&l.points.length&&(vp(n,e),lj(n,{line:l,target:i,above:v,below:E,area:e,scale:u,axis:d,clip:A}),bp(n))}function lj(n,t){const{line:e,target:i,above:r,below:o,area:l,scale:u,clip:d}=t,f=e._loop?"angle":t.axis;n.save();let y=o;o!==r&&(f==="x"?(wT(n,i,l.top),ty(n,{line:e,target:i,color:r,scale:u,property:f,clip:d}),n.restore(),n.save(),wT(n,i,l.bottom)):f==="y"&&(AT(n,i,l.left),ty(n,{line:e,target:i,color:o,scale:u,property:f,clip:d}),n.restore(),n.save(),AT(n,i,l.right),y=r)),ty(n,{line:e,target:i,color:y,scale:u,property:f,clip:d}),n.restore()}function wT(n,t,e){const{segments:i,points:r}=t;let o=!0,l=!1;n.beginPath();for(const u of i){const{start:d,end:f}=u,y=r[d],g=r[Tp(d,f,r)];o?(n.moveTo(y.x,y.y),o=!1):(n.lineTo(y.x,e),n.lineTo(y.x,y.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(g.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function AT(n,t,e){const{segments:i,points:r}=t;let o=!0,l=!1;n.beginPath();for(const u of i){const{start:d,end:f}=u,y=r[d],g=r[Tp(d,f,r)];o?(n.moveTo(y.x,y.y),o=!1):(n.lineTo(e,y.y),n.lineTo(y.x,y.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(e,g.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function ty(n,t){const{line:e,target:i,property:r,color:o,scale:l,clip:u}=t,d=G6(e,i,r);for(const{source:f,target:y,start:g,end:v}of d){const{style:{backgroundColor:E=o}={}}=f,w=i!==!0;n.save(),n.fillStyle=E,cj(n,l,u,w&&zy(r,g,v)),n.beginPath();const A=!!e.pathSegment(n,f);let R;if(w){A?n.closePath():CT(n,i,v,r);const N=!!i.pathSegment(n,y,{move:A,reverse:!0});R=A&&N,R||CT(n,i,g,r)}n.closePath(),n.fill(R?"evenodd":"nonzero"),n.restore()}}function cj(n,t,e,i){const r=t.chart.chartArea,{property:o,start:l,end:u}=i||{};if(o==="x"||o==="y"){let d,f,y,g;o==="x"?(d=l,f=r.top,y=u,g=r.bottom):(d=r.left,f=l,y=r.right,g=u),n.beginPath(),e&&(d=Math.max(d,e.left),y=Math.min(y,e.right),f=Math.max(f,e.top),g=Math.min(g,e.bottom)),n.rect(d,f,y-d,g-f),n.clip()}}function CT(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var uj={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let o,l,u,d;for(l=0;l<i;++l)o=n.getDatasetMeta(l),u=o.dataset,d=null,u&&u.options&&u instanceof Sp&&(d={visible:n.isDatasetVisible(l),index:l,fill:$6(u,l,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:u}),o.$filler=d,r.push(d);for(l=0;l<i;++l)d=r[l],!(!d||d.fill===!1)&&(d.fill=Y6(r,l,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let l=r.length-1;l>=0;--l){const u=r[l].$filler;u&&(u.line.updateControlPoints(o,u.axis),i&&u.fill&&Zg(n.ctx,u,o))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const o=i[r].$filler;TT(o)&&Zg(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!TT(i)||e.drawTime!=="beforeDatasetDraw"||Zg(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const RT=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},hj=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class IT extends Tr{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=me(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=nn(i.font),o=r.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:d}=RT(i,o);let f,y;e.font=r.string,this.isHorizontal()?(f=this.maxWidth,y=this._fitRows(l,o,u,d)+10):(y=this.maxHeight,f=this._fitCols(l,r,u,d)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],f=this.lineWidths=[0],y=r+u;let g=t;o.textAlign="left",o.textBaseline="middle";let v=-1,E=-y;return this.legendItems.forEach((w,A)=>{const R=i+e/2+o.measureText(w.text).width;(A===0||f[f.length-1]+R+2*u>l)&&(g+=y,f[f.length-(A>0?0:1)]=0,E+=y,v++),d[A]={left:0,top:E,row:v,width:R,height:r},f[f.length-1]+=R+u}),g}_fitCols(t,e,i,r){const{ctx:o,maxHeight:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],f=this.columnSizes=[],y=l-t;let g=u,v=0,E=0,w=0,A=0;return this.legendItems.forEach((R,N)=>{const{itemWidth:j,itemHeight:z}=dj(i,e,o,R,r);N>0&&E+z+2*u>y&&(g+=v+u,f.push({width:v,height:E}),w+=v+u,A++,v=E=0),d[N]={left:w,top:E,col:A,width:j,height:z},v=Math.max(v,j),E+=z+u}),g+=v,f.push({width:v,height:E}),g}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,l=Pl(o,this.left,this.width);if(this.isHorizontal()){let u=0,d=kn(i,this.left+r,this.right-this.lineWidths[u]);for(const f of e)u!==f.row&&(u=f.row,d=kn(i,this.left+r,this.right-this.lineWidths[u])),f.top+=this.top+t+r,f.left=l.leftForLtr(l.x(d),f.width),d+=f.width+r}else{let u=0,d=kn(i,this.top+t+r,this.bottom-this.columnSizes[u].height);for(const f of e)f.col!==u&&(u=f.col,d=kn(i,this.top+t+r,this.bottom-this.columnSizes[u].height)),f.top=d,f.left+=this.left+r,f.left=l.leftForLtr(l.x(f.left),f.width),d+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;vp(t,this),this._draw(),bp(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:l}=t,u=Re.color,d=Pl(t.rtl,this.left,this.width),f=nn(l.font),{padding:y}=l,g=f.size,v=g/2;let E;this.drawTitle(),r.textAlign=d.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:w,boxHeight:A,itemHeight:R}=RT(l,g),N=function(G,D,C){if(isNaN(w)||w<=0||isNaN(A)||A<0)return;r.save();const M=Ot(C.lineWidth,1);if(r.fillStyle=Ot(C.fillStyle,u),r.lineCap=Ot(C.lineCap,"butt"),r.lineDashOffset=Ot(C.lineDashOffset,0),r.lineJoin=Ot(C.lineJoin,"miter"),r.lineWidth=M,r.strokeStyle=Ot(C.strokeStyle,u),r.setLineDash(Ot(C.lineDash,[])),l.usePointStyle){const L={radius:A*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:M},P=d.xPlus(G,w/2),V=D+v;iC(r,L,P,V,l.pointStyleWidth&&w)}else{const L=D+Math.max((g-A)/2,0),P=d.leftForLtr(G,w),V=bo(C.borderRadius);r.beginPath(),Object.values(V).some(O=>O!==0)?Yu(r,{x:P,y:L,w,h:A,radius:V}):r.rect(P,L,w,A),r.fill(),M!==0&&r.stroke()}r.restore()},j=function(G,D,C){Io(r,C.text,G,D+R/2,f,{strikethrough:C.hidden,textAlign:d.textAlign(C.textAlign)})},z=this.isHorizontal(),X=this._computeTitleHeight();z?E={x:kn(o,this.left+y,this.right-i[0]),y:this.top+y+X,line:0}:E={x:this.left+y,y:kn(o,this.top+X+y,this.bottom-e[0].height),line:0},hC(this.ctx,t.textDirection);const B=R+y;this.legendItems.forEach((G,D)=>{r.strokeStyle=G.fontColor,r.fillStyle=G.fontColor;const C=r.measureText(G.text).width,M=d.textAlign(G.textAlign||(G.textAlign=l.textAlign)),L=w+v+C;let P=E.x,V=E.y;d.setWidth(this.width),z?D>0&&P+L+y>this.right&&(V=E.y+=B,E.line++,P=E.x=kn(o,this.left+y,this.right-i[E.line])):D>0&&V+B>this.bottom&&(P=E.x=P+e[E.line].width+y,E.line++,V=E.y=kn(o,this.top+X+y,this.bottom-e[E.line].height));const O=d.x(P);if(N(O,V,G),P=E4(M,P+w+v,z?P+L:this.right,t.rtl),j(d.x(P),V,G),z)E.x+=L+y;else if(typeof G.text!="string"){const xt=f.lineHeight;E.y+=jC(G,xt)+y}else E.y+=B}),dC(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=nn(e.font),r=jn(e.padding);if(!e.display)return;const o=Pl(t.rtl,this.left,this.width),l=this.ctx,u=e.position,d=i.size/2,f=r.top+d;let y,g=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),y=this.top+f,g=kn(t.align,g,this.right-v);else{const w=this.columnSizes.reduce((A,R)=>Math.max(A,R.height),0);y=f+kn(t.align,this.top,this.bottom-w-t.labels.padding-this._computeTitleHeight())}const E=kn(u,g,g+v);l.textAlign=o.textAlign(K_(u)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=i.string,Io(l,e.text,E,y,i)}_computeTitleHeight(){const t=this.options.title,e=nn(t.font),i=jn(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(dr(t,this.left,this.right)&&dr(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],dr(t,r.left,r.left+r.width)&&dr(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!mj(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=hj(r,i);r&&!o&&me(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&me(e.onHover,[t,i,this],this)}else i&&me(e.onClick,[t,i,this],this)}}function dj(n,t,e,i,r){const o=fj(i,n,t,e),l=pj(r,i,t.lineHeight);return{itemWidth:o,itemHeight:l}}function fj(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,l)=>o.length>l.length?o:l)),t+e.size/2+i.measureText(r).width}function pj(n,t,e){let i=n;return typeof t.text!="string"&&(i=jC(t,e)),i}function jC(n,t){const e=n.text?n.text.length:0;return t*e}function mj(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var gj={id:"legend",_element:IT,start(n,t,e){const i=n.legend=new IT({ctx:n.ctx,options:e,chart:n});Ln.configure(n,i,e),Ln.addBox(n,i)},stop(n){Ln.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Ln.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const f=d.controller.getStyle(e?0:void 0),y=jn(f.borderWidth);return{text:t[d.index].label,fillStyle:f.backgroundColor,fontColor:o,hidden:!d.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class av extends Tr{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=Ce(i.text)?i.text.length:1;this._padding=jn(i.padding);const o=r*nn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:l}=this,u=l.align;let d=0,f,y,g;return this.isHorizontal()?(y=kn(u,i,o),g=e+t,f=o-i):(l.position==="left"?(y=i+t,g=kn(u,r,e),d=Zt*-.5):(y=o-t,g=kn(u,e,r),d=Zt*.5),f=r-e),{titleX:y,titleY:g,maxWidth:f,rotation:d}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=nn(e.font),o=i.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:d,rotation:f}=this._drawArgs(o);Io(t,e.text,0,0,i,{color:e.color,maxWidth:d,rotation:f,textAlign:K_(e.align),textBaseline:"middle",translation:[l,u]})}}function yj(n,t){const e=new av({ctx:n.ctx,options:t,chart:n});Ln.configure(n,e,t),Ln.addBox(n,e),n.titleBlock=e}var _j={id:"title",_element:av,start(n,t,e){yj(n,e)},stop(n){const t=n.titleBlock;Ln.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Ln.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Zd=new WeakMap;var vj={id:"subtitle",start(n,t,e){const i=new av({ctx:n.ctx,options:e,chart:n});Ln.configure(n,i,e),Ln.addBox(n,i),Zd.set(n,i)},stop(n){Ln.removeBox(n,Zd.get(n)),Zd.delete(n)},beforeUpdate(n,t,e){const i=Zd.get(n);Ln.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const vu={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const u=n[t].element;if(u&&u.hasValue()){const d=u.tooltipPosition();i.add(d.x),r+=d.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((u,d)=>u+d)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,l,u;for(o=0,l=n.length;o<l;++o){const d=n[o].element;if(d&&d.hasValue()){const f=d.getCenterPoint(),y=ky(t,f);y<r&&(r=y,u=d)}}if(u){const d=u.tooltipPosition();e=d.x,i=d.y}return{x:e,y:i}}};function Ts(n,t){return t&&(Ce(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function lr(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function bj(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:l,value:u}=o.getLabelAndValue(r);return{chart:n,label:l,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function DT(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:l,boxHeight:u}=t,d=nn(t.bodyFont),f=nn(t.titleFont),y=nn(t.footerFont),g=o.length,v=r.length,E=i.length,w=jn(t.padding);let A=w.height,R=0,N=i.reduce((X,B)=>X+B.before.length+B.lines.length+B.after.length,0);if(N+=n.beforeBody.length+n.afterBody.length,g&&(A+=g*f.lineHeight+(g-1)*t.titleSpacing+t.titleMarginBottom),N){const X=t.displayColors?Math.max(u,d.lineHeight):d.lineHeight;A+=E*X+(N-E)*d.lineHeight+(N-1)*t.bodySpacing}v&&(A+=t.footerMarginTop+v*y.lineHeight+(v-1)*t.footerSpacing);let j=0;const z=function(X){R=Math.max(R,e.measureText(X).width+j)};return e.save(),e.font=f.string,le(n.title,z),e.font=d.string,le(n.beforeBody.concat(n.afterBody),z),j=t.displayColors?l+2+t.boxPadding:0,le(i,X=>{le(X.before,z),le(X.lines,z),le(X.after,z)}),j=0,e.font=y.string,le(n.footer,z),e.restore(),R+=w.width,{width:R,height:A}}function xj(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function Ej(n,t,e,i){const{x:r,width:o}=i,l=e.caretSize+e.caretPadding;if(n==="left"&&r+o+l>t.width||n==="right"&&r-o-l<0)return!0}function Sj(n,t,e,i){const{x:r,width:o}=e,{width:l,chartArea:{left:u,right:d}}=n;let f="center";return i==="center"?f=r<=(u+d)/2?"left":"right":r<=o/2?f="left":r>=l-o/2&&(f="right"),Ej(f,n,t,e)&&(f="center"),f}function MT(n,t,e){const i=e.yAlign||t.yAlign||xj(n,e);return{xAlign:e.xAlign||t.xAlign||Sj(n,t,e,i),yAlign:i}}function Tj(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function wj(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function kT(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:l}=n,{xAlign:u,yAlign:d}=e,f=r+o,{topLeft:y,topRight:g,bottomLeft:v,bottomRight:E}=bo(l);let w=Tj(t,u);const A=wj(t,d,f);return d==="center"?u==="left"?w+=f:u==="right"&&(w-=f):u==="left"?w-=Math.max(y,v)+r:u==="right"&&(w+=Math.max(g,E)+r),{x:pn(w,0,i.width-t.width),y:pn(A,0,i.height-t.height)}}function tf(n,t,e){const i=jn(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function NT(n){return Ts([],lr(n))}function Aj(n,t,e){return Oa(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function OT(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const zC={beforeTitle:ar,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:ar,beforeBody:ar,beforeLabel:ar,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Ft(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ar,afterBody:ar,beforeFooter:ar,footer:ar,afterFooter:ar};function Jn(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?zC[t].call(e,i):r}class PT extends Tr{static positioners=vu;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new yC(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=Aj(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=Jn(i,"beforeTitle",this,t),o=Jn(i,"title",this,t),l=Jn(i,"afterTitle",this,t);let u=[];return u=Ts(u,lr(r)),u=Ts(u,lr(o)),u=Ts(u,lr(l)),u}getBeforeBody(t,e){return NT(Jn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return le(t,o=>{const l={before:[],lines:[],after:[]},u=OT(i,o);Ts(l.before,lr(Jn(u,"beforeLabel",this,o))),Ts(l.lines,Jn(u,"label",this,o)),Ts(l.after,lr(Jn(u,"afterLabel",this,o))),r.push(l)}),r}getAfterBody(t,e){return NT(Jn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=Jn(i,"beforeFooter",this,t),o=Jn(i,"footer",this,t),l=Jn(i,"afterFooter",this,t);let u=[];return u=Ts(u,lr(r)),u=Ts(u,lr(o)),u=Ts(u,lr(l)),u}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],l=[];let u=[],d,f;for(d=0,f=e.length;d<f;++d)u.push(bj(this.chart,e[d]));return t.filter&&(u=u.filter((y,g,v)=>t.filter(y,g,v,i))),t.itemSort&&(u=u.sort((y,g)=>t.itemSort(y,g,i))),le(u,y=>{const g=OT(t.callbacks,y);r.push(Jn(g,"labelColor",this,y)),o.push(Jn(g,"labelPointStyle",this,y)),l.push(Jn(g,"labelTextColor",this,y))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=u,u}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,l=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const u=vu[i.position].call(this,r,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const d=this._size=DT(this,i),f=Object.assign({},u,d),y=MT(this.chart,i,f),g=kT(i,f,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,o={opacity:1,x:g.x,y:g.y,width:d.width,height:d.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:d,topRight:f,bottomLeft:y,bottomRight:g}=bo(u),{x:v,y:E}=t,{width:w,height:A}=e;let R,N,j,z,X,B;return o==="center"?(X=E+A/2,r==="left"?(R=v,N=R-l,z=X+l,B=X-l):(R=v+w,N=R+l,z=X-l,B=X+l),j=R):(r==="left"?N=v+Math.max(d,y)+l:r==="right"?N=v+w-Math.max(f,g)-l:N=this.caretX,o==="top"?(z=E,X=z-l,R=N-l,j=N+l):(z=E+A,X=z+l,R=N+l,j=N-l),B=z),{x1:R,x2:N,x3:j,y1:z,y2:X,y3:B}}drawTitle(t,e,i){const r=this.title,o=r.length;let l,u,d;if(o){const f=Pl(i.rtl,this.x,this.width);for(t.x=tf(this,i.titleAlign,i),e.textAlign=f.textAlign(i.titleAlign),e.textBaseline="middle",l=nn(i.titleFont),u=i.titleSpacing,e.fillStyle=i.titleColor,e.font=l.string,d=0;d<o;++d)e.fillText(r[d],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+u,d+1===o&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,e,i,r,o){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:d,boxWidth:f}=o,y=nn(o.bodyFont),g=tf(this,"left",o),v=r.x(g),E=d<y.lineHeight?(y.lineHeight-d)/2:0,w=e.y+E;if(o.usePointStyle){const A={radius:Math.min(f,d)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},R=r.leftForLtr(v,f)+f/2,N=w+d/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Oy(t,A,R,N),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,Oy(t,A,R,N)}else{t.lineWidth=$t(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const A=r.leftForLtr(v,f),R=r.leftForLtr(r.xPlus(v,1),f-2),N=bo(l.borderRadius);Object.values(N).some(j=>j!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Yu(t,{x:A,y:w,w:f,h:d,radius:N}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Yu(t,{x:R,y:w+1,w:f-2,h:d-2,radius:N}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(A,w,f,d),t.strokeRect(A,w,f,d),t.fillStyle=l.backgroundColor,t.fillRect(R,w+1,f-2,d-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:l,displayColors:u,boxHeight:d,boxWidth:f,boxPadding:y}=i,g=nn(i.bodyFont);let v=g.lineHeight,E=0;const w=Pl(i.rtl,this.x,this.width),A=function(C){e.fillText(C,w.x(t.x+E),t.y+v/2),t.y+=v+o},R=w.textAlign(l);let N,j,z,X,B,G,D;for(e.textAlign=l,e.textBaseline="middle",e.font=g.string,t.x=tf(this,R,i),e.fillStyle=i.bodyColor,le(this.beforeBody,A),E=u&&R!=="right"?l==="center"?f/2+y:f+2+y:0,X=0,G=r.length;X<G;++X){for(N=r[X],j=this.labelTextColors[X],e.fillStyle=j,le(N.before,A),z=N.lines,u&&z.length&&(this._drawColorBox(e,t,X,w,i),v=Math.max(g.lineHeight,d)),B=0,D=z.length;B<D;++B)A(z[B]),v=g.lineHeight;le(N.after,A)}E=0,v=g.lineHeight,le(this.afterBody,A),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let l,u;if(o){const d=Pl(i.rtl,this.x,this.width);for(t.x=tf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=d.textAlign(i.footerAlign),e.textBaseline="middle",l=nn(i.footerFont),e.fillStyle=i.footerColor,e.font=l.string,u=0;u<o;++u)e.fillText(r[u],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:l}=this,{x:u,y:d}=t,{width:f,height:y}=i,{topLeft:g,topRight:v,bottomLeft:E,bottomRight:w}=bo(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(u+g,d),l==="top"&&this.drawCaret(t,e,i,r),e.lineTo(u+f-v,d),e.quadraticCurveTo(u+f,d,u+f,d+v),l==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(u+f,d+y-w),e.quadraticCurveTo(u+f,d+y,u+f-w,d+y),l==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(u+E,d+y),e.quadraticCurveTo(u,d+y,u,d+y-E),l==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(u,d+g),e.quadraticCurveTo(u,d,u+g,d),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const l=vu[t.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=DT(this,t),d=Object.assign({},l,this._size),f=MT(e,t,d),y=kT(t,d,f,e);(r._to!==y.x||o._to!==y.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=jn(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),hC(t,e.textDirection),o.y+=l.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),dC(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:u,index:d})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[d],index:d}}),o=!Vf(i,r),l=this._positionChanged(r,e);(o||l)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],l=this._getActiveElements(t,o,e,i),u=this._positionChanged(l,t),d=e||!Vf(l,o)||u;return d&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),d}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,l=vu[o.position].call(this,t,e);return l!==!1&&(i!==l.x||r!==l.y)}}var Cj={id:"tooltip",_element:PT,positioners:vu,afterInit(n,t,e){e&&(n.tooltip=new PT({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:zC},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Rj=Object.freeze({__proto__:null,Colors:U6,Decimation:q6,Filler:uj,Legend:gj,SubTitle:vj,Title:_j,Tooltip:Cj});const Ij=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function Dj(n,t,e,i){const r=n.indexOf(t);if(r===-1)return Ij(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const Mj=(n,t)=>n===null?null:pn(Math.round(n),0,t);function LT(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class kj extends Lo{static id="category";static defaults={ticks:{callback:LT}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Ft(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:Dj(i,t,Ot(e,t),this._addedLabels),Mj(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=e;l++)r.push({value:l});return r}getLabelForValue(t){return LT.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function Nj(n,t){const e=[],{bounds:r,step:o,min:l,max:u,precision:d,count:f,maxTicks:y,maxDigits:g,includeBounds:v}=n,E=o||1,w=y-1,{min:A,max:R}=t,N=!Ft(l),j=!Ft(u),z=!Ft(f),X=(R-A)/(g+1);let B=DS((R-A)/w/E)*E,G,D,C,M;if(B<1e-14&&!N&&!j)return[{value:A},{value:R}];M=Math.ceil(R/B)-Math.floor(A/B),M>w&&(B=DS(M*B/w/E)*E),Ft(d)||(G=Math.pow(10,d),B=Math.ceil(B*G)/G),r==="ticks"?(D=Math.floor(A/B)*B,C=Math.ceil(R/B)*B):(D=A,C=R),N&&j&&o&&m4((u-l)/o,B/1e3)?(M=Math.round(Math.min((u-l)/B,y)),B=(u-l)/M,D=l,C=u):z?(D=N?l:D,C=j?u:C,M=f-1,B=(C-D)/M):(M=(C-D)/B,Cu(M,Math.round(M),B/1e3)?M=Math.round(M):M=Math.ceil(M));const L=Math.max(MS(B),MS(D));G=Math.pow(10,Ft(d)?L:d),D=Math.round(D*G)/G,C=Math.round(C*G)/G;let P=0;for(N&&(v&&D!==l?(e.push({value:l}),D<l&&P++,Cu(Math.round((D+P*B)*G)/G,l,VT(l,X,n))&&P++):D<l&&P++);P<M;++P){const V=Math.round((D+P*B)*G)/G;if(j&&V>u)break;e.push({value:V})}return j&&v&&C!==u?e.length&&Cu(e[e.length-1].value,u,VT(u,X,n))?e[e.length-1].value=u:e.push({value:u}):(!j||C===u)&&e.push({value:C}),e}function VT(n,t,{horizontal:e,minRotation:i}){const r=Ji(i),o=(e?Math.sin(r):Math.cos(r))||.001,l=.75*t*(""+n).length;return Math.min(t/o,l)}class qf extends Lo{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Ft(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const l=d=>r=e?r:d,u=d=>o=i?o:d;if(t){const d=Ps(r),f=Ps(o);d<0&&f<0?u(0):d>0&&f>0&&l(0)}if(r===o){let d=o===0?1:Math.abs(o*.05);u(o+d),t||l(r-d)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,l=Nj(r,o);return t.bounds==="ticks"&&$A(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return fh(t,this.chart.options.locale,this.options.ticks.format)}}class Oj extends qf{static id="linear";static defaults={ticks:{callback:_p.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Oe(t)?t:0,this.max=Oe(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Ji(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Ku=n=>Math.floor(ha(n)),fo=(n,t)=>Math.pow(10,Ku(n)+t);function jT(n){return n/Math.pow(10,Ku(n))===1}function zT(n,t,e){const i=Math.pow(10,e),r=Math.floor(n/i);return Math.ceil(t/i)-r}function Pj(n,t){const e=t-n;let i=Ku(e);for(;zT(n,t,i)>10;)i++;for(;zT(n,t,i)<10;)i--;return Math.min(i,Ku(n))}function Lj(n,{min:t,max:e}){t=_i(n.min,t);const i=[],r=Ku(t);let o=Pj(t,e),l=o<0?Math.pow(10,Math.abs(o)):1;const u=Math.pow(10,o),d=r>o?Math.pow(10,r):0,f=Math.round((t-d)*l)/l,y=Math.floor((t-d)/u/10)*u*10;let g=Math.floor((f-y)/Math.pow(10,o)),v=_i(n.min,Math.round((d+y+g*Math.pow(10,o))*l)/l);for(;v<e;)i.push({value:v,major:jT(v),significand:g}),g>=10?g=g<15?15:20:g++,g>=20&&(o++,g=2,l=o>=0?1:l),v=Math.round((d+y+g*Math.pow(10,o))*l)/l;const E=_i(n.max,v);return i.push({value:E,major:jT(E),significand:g}),i}class Vj extends Lo{static id="logarithmic";static defaults={ticks:{callback:_p.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=qf.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return Oe(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Oe(t)?Math.max(0,t):null,this.max=Oe(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Oe(this._userMin)&&(this.min=t===fo(this.min,0)?fo(this.min,-1):fo(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,r=this.max;const o=u=>i=t?i:u,l=u=>r=e?r:u;i===r&&(i<=0?(o(1),l(10)):(o(fo(i,-1)),l(fo(r,1)))),i<=0&&o(fo(r,-1)),r<=0&&l(fo(i,1)),this.min=i,this.max=r}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},i=Lj(e,this);return t.bounds==="ticks"&&$A(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":fh(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=ha(t),this._valueRange=ha(this.max)-ha(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(ha(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function Uy(n){const t=n.ticks;if(t.display&&n.display){const e=jn(t.backdropPadding);return Ot(t.font&&t.font.size,Re.font.size)+e.height}return 0}function jj(n,t,e){return e=Ce(e)?e:[e],{w:k4(n,t.string,e),h:e.length*t.lineHeight}}function UT(n,t,e,i,r){return n===i||n===r?{start:t-e/2,end:t+e/2}:n<i||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function zj(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],r=[],o=n._pointLabels.length,l=n.options.pointLabels,u=l.centerPointLabels?Zt/o:0;for(let d=0;d<o;d++){const f=l.setContext(n.getPointLabelContext(d));r[d]=f.padding;const y=n.getPointPosition(d,n.drawingArea+r[d],u),g=nn(f.font),v=jj(n.ctx,g,n._pointLabels[d]);i[d]=v;const E=On(n.getIndexAngle(d)+u),w=Math.round(Y_(E)),A=UT(w,y.x,v.w,0,180),R=UT(w,y.y,v.h,90,270);Uj(e,t,E,A,R)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=Hj(n,i,r)}function Uj(n,t,e,i,r){const o=Math.abs(Math.sin(e)),l=Math.abs(Math.cos(e));let u=0,d=0;i.start<t.l?(u=(t.l-i.start)/o,n.l=Math.min(n.l,t.l-u)):i.end>t.r&&(u=(i.end-t.r)/o,n.r=Math.max(n.r,t.r+u)),r.start<t.t?(d=(t.t-r.start)/l,n.t=Math.min(n.t,t.t-d)):r.end>t.b&&(d=(r.end-t.b)/l,n.b=Math.max(n.b,t.b+d))}function Bj(n,t,e){const i=n.drawingArea,{extra:r,additionalAngle:o,padding:l,size:u}=e,d=n.getPointPosition(t,i+r+l,o),f=Math.round(Y_(On(d.angle+ze))),y=Wj(d.y,u.h,f),g=qj(f),v=Gj(d.x,u.w,g);return{visible:!0,x:d.x,y,textAlign:g,left:v,top:y,right:v+u.w,bottom:y+u.h}}function Fj(n,t){if(!t)return!0;const{left:e,top:i,right:r,bottom:o}=n;return!(pr({x:e,y:i},t)||pr({x:e,y:o},t)||pr({x:r,y:i},t)||pr({x:r,y:o},t))}function Hj(n,t,e){const i=[],r=n._pointLabels.length,o=n.options,{centerPointLabels:l,display:u}=o.pointLabels,d={extra:Uy(o)/2,additionalAngle:l?Zt/r:0};let f;for(let y=0;y<r;y++){d.padding=e[y],d.size=t[y];const g=Bj(n,y,d);i.push(g),u==="auto"&&(g.visible=Fj(g,f),g.visible&&(f=g))}return i}function qj(n){return n===0||n===180?"center":n<180?"left":"right"}function Gj(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function Wj(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function Yj(n,t,e){const{left:i,top:r,right:o,bottom:l}=e,{backdropColor:u}=t;if(!Ft(u)){const d=bo(t.borderRadius),f=jn(t.backdropPadding);n.fillStyle=u;const y=i-f.left,g=r-f.top,v=o-i+f.width,E=l-r+f.height;Object.values(d).some(w=>w!==0)?(n.beginPath(),Yu(n,{x:y,y:g,w:v,h:E,radius:d}),n.fill()):n.fillRect(y,g,v,E)}}function $j(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let r=t-1;r>=0;r--){const o=n._pointLabelItems[r];if(!o.visible)continue;const l=i.setContext(n.getPointLabelContext(r));Yj(e,l,o);const u=nn(l.font),{x:d,y:f,textAlign:y}=o;Io(e,n._pointLabels[r],d,f+u.lineHeight/2,u,{color:l.color,textAlign:y,textBaseline:"middle"})}}function UC(n,t,e,i){const{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,xe);else{let o=n.getPointPosition(0,t);r.moveTo(o.x,o.y);for(let l=1;l<i;l++)o=n.getPointPosition(l,t),r.lineTo(o.x,o.y)}}function Kj(n,t,e,i,r){const o=n.ctx,l=t.circular,{color:u,lineWidth:d}=t;!l&&!i||!u||!d||e<0||(o.save(),o.strokeStyle=u,o.lineWidth=d,o.setLineDash(r.dash||[]),o.lineDashOffset=r.dashOffset,o.beginPath(),UC(n,e,l,i),o.closePath(),o.stroke(),o.restore())}function Xj(n,t,e){return Oa(n,{label:e,index:t,type:"pointLabel"})}class Qj extends qf{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:_p.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=jn(Uy(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Oe(t)&&!isNaN(t)?t:0,this.max=Oe(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Uy(this.options))}generateTickLabels(t){qf.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const r=me(this.options.pointLabels.callback,[e,i],this);return r||r===0?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?zj(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){const e=xe/(this._pointLabels.length||1),i=this.options.startAngle||0;return On(t*e+Ji(i))}getDistanceFromCenterForValue(t){if(Ft(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Ft(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return Xj(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const r=this.getIndexAngle(t)-ze+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:r,bottom:o}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),UC(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:r,border:o}=e,l=this._pointLabels.length;let u,d,f;if(e.pointLabels.display&&$j(this,l),r.display&&this.ticks.forEach((y,g)=>{if(g!==0||g===0&&this.min<0){d=this.getDistanceFromCenterForValue(y.value);const v=this.getContext(g),E=r.setContext(v),w=o.setContext(v);Kj(this,E,d,l,w)}}),i.display){for(t.save(),u=l-1;u>=0;u--){const y=i.setContext(this.getPointLabelContext(u)),{color:g,lineWidth:v}=y;!v||!g||(t.lineWidth=v,t.strokeStyle=g,t.setLineDash(y.borderDash),t.lineDashOffset=y.borderDashOffset,d=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),f=this.getPointPosition(u,d),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(f.x,f.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let o,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((u,d)=>{if(d===0&&this.min>=0&&!e.reverse)return;const f=i.setContext(this.getContext(d)),y=nn(f.font);if(o=this.getDistanceFromCenterForValue(this.ticks[d].value),f.showLabelBackdrop){t.font=y.string,l=t.measureText(u.label).width,t.fillStyle=f.backdropColor;const g=jn(f.backdropPadding);t.fillRect(-l/2-g.left,-o-y.size/2-g.top,l+g.width,y.size+g.height)}Io(t,u.label,0,-o,y,{color:f.color,strokeColor:f.textStrokeColor,strokeWidth:f.textStrokeWidth})}),t.restore()}drawTitle(){}}const wp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ni=Object.keys(wp);function BT(n,t){return n-t}function FT(n,t){if(Ft(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),Oe(l)||(l=typeof i=="string"?e.parse(l,i):e.parse(l)),l===null?null:(r&&(l=r==="week"&&(Wl(o)||o===!0)?e.startOf(l,"isoWeek",o):e.startOf(l,r)),+l)}function HT(n,t,e,i){const r=ni.length;for(let o=ni.indexOf(n);o<r-1;++o){const l=wp[ni[o]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(u*l.size))<=i)return ni[o]}return ni[r-1]}function Jj(n,t,e,i,r){for(let o=ni.length-1;o>=ni.indexOf(e);o--){const l=ni[o];if(wp[l].common&&n._adapter.diff(r,i,l)>=t-1)return l}return ni[e?ni.indexOf(e):0]}function Zj(n){for(let t=ni.indexOf(n)+1,e=ni.length;t<e;++t)if(wp[ni[t]].common)return ni[t]}function qT(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=$_(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function tz(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),l=t[t.length-1].value;let u,d;for(u=o;u<=l;u=+r.add(u,1,i))d=e[u],d>=0&&(t[d].major=!0);return t}function GT(n,t,e){const i=[],r={},o=t.length;let l,u;for(l=0;l<o;++l)u=t[l],r[u]=l,i.push({value:u,major:!1});return o===0||!e?i:tz(n,i,r,e)}class By extends Lo{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new e3._date(t.adapters.date);r.init(e),Au(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:FT(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:l,maxDefined:u}=this.getUserBounds();function d(f){!l&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!u&&!isNaN(f.max)&&(o=Math.max(o,f.max))}(!l||!u)&&(d(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&d(this.getMinMax(!1))),r=Oe(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=Oe(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,l=this.max,u=v4(r,o,l);return this._unit=e.unit||(i.autoSkip?HT(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):Jj(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Zj(this._unit),this.initOffsets(r),t.reverse&&u.reverse(),GT(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=pn(e,0,l),i=pn(i,0,l),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,l=o.unit||HT(o.minUnit,e,i,this._getLabelCapacity(e)),u=Ot(r.ticks.stepSize,1),d=l==="week"?o.isoWeekday:!1,f=Wl(d)||d===!0,y={};let g=e,v,E;if(f&&(g=+t.startOf(g,"isoWeek",d)),g=+t.startOf(g,f?"day":l),t.diff(i,e,l)>1e5*u)throw new Error(e+" and "+i+" are too far apart with stepSize of "+u+" "+l);const w=r.ticks.source==="data"&&this.getDataTimestamps();for(v=g,E=0;v<i;v=+t.add(v,u,l),E++)qT(y,v,w);return(v===i||r.bounds==="ticks"||E===1)&&qT(y,v,w),Object.keys(y).sort(BT).map(A=>+A)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,l=e||r[o];return this._adapter.format(t,l)}_tickFormatFunction(t,e,i,r){const o=this.options,l=o.ticks.callback;if(l)return me(l,[t,e,i],this);const u=o.time.displayFormats,d=this._unit,f=this._majorUnit,y=d&&u[d],g=f&&u[f],v=i[e],E=f&&g&&v&&v.major;return this._adapter.format(t,r||(E?g:y))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Ji(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),l=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*l,h:i*l+u*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,GT(this,[t],this._majorUnit),r),l=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(FT(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return QA(t.sort(BT))}}function ef(n,t,e){let i=0,r=n.length-1,o,l,u,d;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=fr(n,"pos",t)),{pos:o,time:u}=n[i],{pos:l,time:d}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=fr(n,"time",t)),{time:o,pos:u}=n[i],{time:l,pos:d}=n[r]);const f=l-o;return f?u+(d-u)*(t-o)/f:u}class ez extends By{static id="timeseries";static defaults=By.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=ef(e,this.min),this._tableRange=ef(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let l,u,d,f,y;for(l=0,u=t.length;l<u;++l)f=t[l],f>=e&&f<=i&&r.push(f);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,u=r.length;l<u;++l)y=r[l+1],d=r[l-1],f=r[l],Math.round((y+d)/2)!==f&&o.push({time:f,pos:l/(u-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(ef(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return ef(this._table,i*this._tableRange+this._minPos,!0)}}var nz=Object.freeze({__proto__:null,CategoryScale:kj,LinearScale:Oj,LogarithmicScale:Vj,RadialLinearScale:Qj,TimeScale:By,TimeSeriesScale:ez});const iz=[t3,N6,Rj,nz];rv.register(...iz);const sz=()=>{const{toggleSidebar:n}=ko(),t=q.useRef(null),e=q.useRef(null),[i,r]=q.useState(0),[o,l]=q.useState([]),[u,d]=q.useState([]),[f,y]=q.useState([]),[g,v]=q.useState(!0),[E,w]=q.useState({}),[A,R]=q.useState("1week"),[N,j]=q.useState(3),[z,X]=q.useState(3),[B,G]=q.useState(3),[D,C]=q.useState({}),[M,L]=q.useState({}),[P,V]=q.useState({}),O=()=>{const ct=new Date().getDay();return ct===0||ct===6},xt=ct=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(ct),bt=()=>{const ct=new Date,U=String(ct.getMonth()+1).padStart(2,"0"),$=String(ct.getDate()).padStart(2,"0");return`${ct.getFullYear()}-${U}-${$}`},W=()=>new Date().toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),K=ct=>ct?new Date(ct).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",ut=ct=>ct?ct.substring(0,2).toUpperCase():"US";q.useEffect(()=>{(async()=>{try{const U=await Os(fn(Ae,"users"));let $=[],et={};U.forEach(Ze=>{const At=Ze.data(),te={id:Ze.id,name:At.name,nickname:At.nickname,photo:At.photo};$.push(te),et[Ze.id]=te}),w(et);const lt=fn(Ae,"transactions"),dt=Ns(lt,ql("date","asc")),gt=await Os(dt);let St=0,It=[],Lt=new Set,Ue={},an={};const on=bt();gt.forEach(Ze=>{const At=Ze.data(),te=parseInt(At.amount)||0,mn=At.userId==="other";if(mn||(At.type==="income"?St+=te:At.type==="expense"&&(St-=te)),At.date===on&&At.type==="income"&&(It.push(At),mn||Lt.add(At.userId)),!At.isCheckpoint){const Ee=At.type==="income"?te:-te;mn?an[At.date]=(an[At.date]||0)+Ee:Ue[At.date]=(Ue[At.date]||0)+Ee}});const si=fn(Ae,"attendance"),Rn=Ns(si,ql("date","desc"),AV(40)),zs=await Os(Rn);let ri=[],Hn={};zs.forEach(Ze=>{const At=Ze.id,te=Ze.data().records||{};let mn=0;Object.entries(te).forEach(([Ee,qn])=>{qn==="?"&&ri.push({userId:Ee,date:At,name:et[Ee]?.nickname||et[Ee]?.name||"Unknown"}),qn==="H"&&mn++}),Hn[At]=mn*6e3}),r(St),l(It.reverse()),d($.filter(Ze=>!Lt.has(Ze.id))),y(ri),C(Ue),L(an),V(Hn),v(!1)}catch(U){console.error(U)}})()},[]),q.useEffect(()=>{g||mt()},[g,A,D,M,P]);const mt=()=>{e.current&&e.current.destroy();const ct=t.current.getContext("2d"),U=[],$=[],et=[],lt=[],dt=[];let gt=0;A==="1week"?gt=5:A==="2week"?gt=10:A==="3week"?gt=15:A==="1month"&&(gt=20);let St=new Date,It=0;for(;It<gt;){const Lt=St.getDay();if(Lt!==0&&Lt!==6){const Ue=St.toISOString().split("T")[0];U.unshift(St.toLocaleDateString("en-US",{day:"numeric",month:"short"}));const an=D[Ue]||0,on=P[Ue]||0,si=M[Ue]||0;$.unshift(an),et.unshift(on),lt.unshift(si),dt.unshift(an+on+si),It++}St.setDate(St.getDate()-1)}e.current=new rv(ct,{type:"line",data:{labels:U,datasets:[{label:"Savings",data:$,borderColor:"#3b82f6",backgroundColor:"#3b82f6",borderWidth:2,tension:.3,pointRadius:2,order:3},{label:"School Fee",data:et,borderColor:"#f59e0b",backgroundColor:"#f59e0b",borderWidth:2,tension:.3,pointRadius:2,order:4},{label:"Other",data:lt,borderColor:"#8b5cf6",backgroundColor:"#8b5cf6",borderWidth:2,tension:.3,pointRadius:2,order:2},{label:"Total Revenue",data:dt,borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",borderWidth:2,borderDash:[5,5],tension:.4,fill:!0,pointRadius:0,pointHoverRadius:5,order:1}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!0,position:"top",labels:{boxWidth:10,usePointStyle:!0,font:{size:10}}},tooltip:{callbacks:{label:Lt=>Lt.dataset.label+": Rp "+Lt.parsed.y.toLocaleString("id-ID")}}},scales:{y:{beginAtZero:!0,grid:{color:"#f1f5f9"},ticks:{font:{size:10},callback:function(Lt){return Lt/1e3+"k"}}},x:{grid:{display:!1},ticks:{font:{size:10},maxTicksLimit:10}}}}})};return S.jsxs("div",{style:{width:"100%"},children:[S.jsx("div",{className:"header-section",children:S.jsxs("div",{className:"page-title-wrapper",style:{display:"flex",alignItems:"center"},children:[S.jsx("button",{className:"mobile-toggle-btn",onClick:n,children:S.jsx("i",{className:"fa-solid fa-bars"})}),S.jsxs("div",{className:"page-title",children:[S.jsx("h1",{children:"Dashboard"}),S.jsx("p",{children:"Overview of school finance"})]})]})}),S.jsx("div",{className:"stat-card",children:S.jsxs("div",{className:"stat-header",children:[S.jsxs("div",{children:[S.jsxs("div",{className:"stat-title",children:[S.jsx("i",{className:"fa-solid fa-piggy-bank"})," Total Students Savings"]}),S.jsx("div",{className:"stat-value",children:xt(i)}),S.jsxs("div",{className:"stat-desc",children:[S.jsx("i",{className:"fa-solid fa-check-circle"})," Current balance of all students"]})]}),S.jsx("div",{className:"stat-icon",children:S.jsx("i",{className:"fa-solid fa-wallet"})})]})}),S.jsxs("div",{className:"chart-section",style:{width:"100%",minWidth:0},children:[" ",S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",flexWrap:"wrap",gap:"10px"},children:[S.jsx("h3",{className:"section-title",style:{margin:0},children:"Daily Revenue"}),S.jsx("div",{style:{display:"flex",gap:"5px",background:"#f1f5f9",padding:"4px",borderRadius:"8px"},children:["1week","2week","3week","1month"].map(ct=>S.jsx("button",{onClick:()=>R(ct),style:{border:"none",background:A===ct?"white":"transparent",color:A===ct?"var(--primary-blue)":"#64748b",padding:"6px 12px",borderRadius:"6px",fontSize:"12px",fontWeight:"600",cursor:"pointer",boxShadow:A===ct?"0 1px 3px rgba(0,0,0,0.1)":"none",transition:"all 0.2s"},children:ct==="1month"?"1 Month":ct.replace("week"," Week")},ct))})]}),S.jsxs("div",{style:{height:"320px",width:"100%",position:"relative"},children:[" ",S.jsx("canvas",{ref:t})]})]}),S.jsxs("div",{className:"dashboard-grid",style:{gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))"},children:[S.jsxs("div",{className:"list-box",children:[S.jsx("h3",{className:"section-title",children:"Recent Income (Today)"}),g?S.jsx("p",{style:{color:"#9ca3af",fontSize:"13px"},children:"Loading..."}):O()?S.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"var(--success-green)"},children:[S.jsx("i",{className:"fa-solid fa-mug-hot",style:{fontSize:"32px",marginBottom:"10px"}}),S.jsx("p",{style:{fontWeight:"bold"},children:"Happy Weekend!"}),S.jsx("p",{style:{fontSize:"12px",color:"#64748b"},children:"Enjoy your holiday."})]}):o.length===0?S.jsx("p",{style:{color:"#9ca3af",fontSize:"13px"},children:"No income recorded today."}):S.jsxs(S.Fragment,{children:[o.slice(0,N).map((ct,U)=>{const $=ct.userId==="other",et=$?null:E[ct.userId]?.photo,lt=$?ct.note||"Other":E[ct.userId]?.nickname||ct.userName;return S.jsxs("div",{className:"list-item",children:[S.jsxs("div",{className:"user-meta",children:[S.jsx("div",{className:"avatar-sm",style:{backgroundColor:et?"transparent":$?"#f59e0b":"var(--primary-blue)",backgroundImage:et?`url(${et})`:"none",backgroundSize:"cover",backgroundPosition:"center",color:et?"transparent":"white",border:"1px solid #e2e8f0"},children:!et&&($?S.jsx("i",{className:"fa-solid fa-school"}):ut(lt))}),S.jsxs("div",{className:"meta-text",children:[S.jsx("h4",{style:{maxWidth:"140px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:lt}),S.jsx("p",{children:K(ct.date)})]})]}),S.jsxs("div",{className:"amount-plus",children:["+",xt(ct.amount)]})]},U)}),o.length>N&&S.jsxs("button",{onClick:()=>j(o.length),style:{width:"100%",padding:"8px",marginTop:"10px",background:"#f1f5f9",border:"none",borderRadius:"6px",color:"#64748b",cursor:"pointer",fontSize:"12px"},children:["Show More (",o.length-N,")"]})]})]}),S.jsxs("div",{className:"list-box",children:[S.jsxs("h3",{className:"section-title",children:[S.jsx("i",{className:"fa-regular fa-user"})," No Income (Today)"]}),g?S.jsx("p",{style:{color:"#9ca3af",fontSize:"13px"},children:"Checking..."}):O()?S.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"var(--success-green)"},children:[S.jsx("i",{className:"fa-solid fa-couch",style:{fontSize:"32px",marginBottom:"10px"}}),S.jsx("p",{style:{fontWeight:"bold"},children:"Happy Weekend!"}),S.jsx("p",{style:{fontSize:"12px",color:"#64748b"},children:"See you on Monday."})]}):u.length===0?S.jsxs("p",{style:{color:"#16a34a",fontSize:"13px"},children:[S.jsx("i",{className:"fa-solid fa-check"})," All contributed."]}):S.jsxs(S.Fragment,{children:[u.slice(0,z).map(ct=>S.jsxs("div",{className:"list-item",children:[S.jsxs("div",{className:"user-meta",children:[S.jsx("div",{className:"avatar-sm",style:{backgroundColor:ct.photo?"transparent":"#9ca3af",backgroundImage:ct.photo?`url(${ct.photo})`:"none",backgroundSize:"cover",backgroundPosition:"center",color:ct.photo?"transparent":"white",border:"1px solid #e2e8f0"},children:!ct.photo&&ut(ct.nickname||ct.name)}),S.jsxs("div",{className:"meta-text",children:[S.jsx("h4",{children:ct.nickname||ct.name}),S.jsxs("p",{style:{fontSize:"11px",color:"#ef4444"},children:[S.jsx("i",{className:"fa-regular fa-clock",style:{marginRight:"4px"}}),W()]})]})]}),S.jsx("div",{className:"status-pending",children:"Waiting"})]},ct.id)),u.length>z&&S.jsxs("button",{onClick:()=>X(u.length),style:{width:"100%",padding:"8px",marginTop:"10px",background:"#f1f5f9",border:"none",borderRadius:"6px",color:"#64748b",cursor:"pointer",fontSize:"12px"},children:["Show More (",u.length-z,")"]})]})]}),S.jsxs("div",{className:"list-box",children:[S.jsxs("h3",{className:"section-title",style:{color:"#d97706"},children:[S.jsx("i",{className:"fa-solid fa-triangle-exclamation",style:{marginRight:"8px"}})," Unpaid Attendance"]}),g?S.jsx("p",{style:{color:"#9ca3af",fontSize:"13px"},children:"Checking..."}):f.length===0?S.jsx("p",{style:{color:"#16a34a",fontSize:"13px"},children:"No pending payments."}):S.jsxs(S.Fragment,{children:[f.slice(0,B).map((ct,U)=>{const $=E[ct.userId]||{};return S.jsxs("div",{className:"list-item",children:[S.jsxs("div",{className:"user-meta",children:[S.jsx("div",{className:"avatar-sm",style:{backgroundColor:$.photo?"transparent":"#f59e0b",backgroundImage:$.photo?`url(${$.photo})`:"none",backgroundSize:"cover",backgroundPosition:"center",color:$.photo?"transparent":"white",border:"1px solid #e2e8f0"},children:!$.photo&&ut(ct.name)}),S.jsxs("div",{className:"meta-text",children:[S.jsx("h4",{children:ct.name}),S.jsxs("p",{style:{fontSize:"11px",color:"#d97706",fontWeight:"600"},children:[S.jsx("i",{className:"fa-regular fa-calendar",style:{marginRight:"4px"}}),K(ct.date)]})]})]}),S.jsx("div",{style:{background:"#fef3c7",color:"#d97706",padding:"4px 8px",borderRadius:"6px",fontSize:"12px",fontWeight:"bold"},children:"? No Pay"})]},U)}),f.length>B&&S.jsxs("button",{onClick:()=>G(f.length),style:{width:"100%",padding:"8px",marginTop:"10px",background:"#f1f5f9",border:"none",borderRadius:"6px",color:"#64748b",cursor:"pointer",fontSize:"12px"},children:["Show More (",f.length-B,")"]})]})]})]})]})},rz=()=>{const{toggleSidebar:n}=ko(),[t,e]=q.useState([]),[i,r]=q.useState("income"),[o,l]=q.useState(!1),[u,d]=q.useState(!1),[f,y]=q.useState(new Set),[g,v]=q.useState(!1),[E,w]=q.useState({currentBalance:0,inputAmount:0,fee:0,total:0,newBalance:0}),[A,R]=q.useState({userId:"",amount:"",date:new Date().toISOString().split("T")[0],note:""});q.useEffect(()=>{(async()=>{try{const P=(await Os(fn(Ae,"users"))).docs.map(V=>({id:V.id,name:V.data().name}));e(P)}catch{ce.error("Gagal memuat data user")}})()},[]),q.useEffect(()=>{if(!A.date)return;const M=Ns(fn(Ae,"transactions"),la("date","==",A.date),la("type","==",i)),L=Fu(M,P=>{const V=new Set;P.docs.forEach(O=>V.add(O.data().userId)),y(V)});return()=>L()},[A.date,i]);const N=M=>{const{name:L,value:P}=M.target;R(V=>({...V,[L]:P}))},j=M=>{r(M),g||R(L=>({...L,userId:""}))},z=async M=>{const L=Ns(fn(Ae,"transactions"),la("userId","==",M)),P=await Os(L);let V=0;return P.forEach(O=>{const xt=O.data();xt.type==="income"?V+=xt.amount:xt.type==="expense"&&(V-=xt.amount)}),V},X=async M=>{if(M.preventDefault(),!A.userId||!A.amount||!A.date){ce.error("Mohon lengkapi data wajib (*)");return}const L=await z(A.userId),P=parseInt(A.amount)*1e3;let V=0,O=P,xt=0;i==="expense"?(V=P*.1,O=P+V,xt=L-O):xt=L+P,w({currentBalance:L,inputAmount:P,fee:V,total:O,newBalance:xt}),d(!0)},B=async()=>{l(!0);try{const M=t.find(V=>V.id===A.userId),L=M?M.name:"Unknown";let P=A.note;if(i==="expense"&&E.fee>0){const V=E.fee.toLocaleString("id-ID");P=`[Withdraw: Rp ${E.inputAmount.toLocaleString("id-ID")} + Adm: Rp ${V}] ${A.note}`}await F_(fn(Ae,"transactions"),{userId:A.userId,userName:L,amount:i==="expense"?E.total:E.inputAmount,date:A.date,note:P,type:i,createdAt:Gl()}),ce.success("Transaksi berhasil disimpan!"),d(!1),R(V=>({userId:g?V.userId:"",amount:"",date:V.date,note:""}))}catch(M){ce.error("Gagal: "+M.message)}finally{l(!1)}},G=()=>{const M=t.find(L=>L.id===A.userId);return M?M.name:"-"},D=t.filter(M=>!f.has(M.id)||M.id===A.userId),C=M=>M.toLocaleString("id-ID");return S.jsxs("div",{style:{width:"100%"},children:[S.jsx("div",{className:"centered-header",children:S.jsxs("div",{className:"page-title-wrapper",style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[S.jsx("button",{className:"mobile-toggle-btn",onClick:n,children:S.jsx("i",{className:"fa-solid fa-bars"})}),S.jsxs("div",{children:[S.jsx("h1",{children:"Income Management"}),S.jsx("p",{children:"Add or subtract income for users"})]})]})}),S.jsxs("div",{className:"form-card",children:[S.jsxs("div",{className:"toggle-container",children:[S.jsxs("button",{type:"button",className:`toggle-btn ${i==="income"?"active-income":""}`,onClick:()=>j("income"),children:[S.jsx("i",{className:"fa-solid fa-plus"})," Add Income"]}),S.jsxs("button",{type:"button",className:`toggle-btn ${i==="expense"?"active-expense":""}`,onClick:()=>j("expense"),children:[S.jsx("i",{className:"fa-solid fa-minus"})," Subtract Income"]})]}),S.jsxs("form",{onSubmit:X,children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{className:"form-label",children:"Select User *"}),S.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[S.jsxs("select",{name:"userId",className:"form-control",required:!0,value:A.userId,onChange:N,style:{flex:1},children:[S.jsx("option",{value:"",disabled:!0,children:D.length===0?"Semua user sudah lunas hari ini":"Choose a user"}),D.map(M=>S.jsx("option",{value:M.id,children:M.name},M.id))]}),S.jsx("button",{type:"button",onClick:()=>v(!g),style:{background:g?"var(--primary-blue)":"#f1f5f9",color:g?"white":"#94a3b8",border:"1px solid var(--border-color)",borderRadius:"8px",width:"46px",height:"46px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",cursor:"pointer"},children:S.jsx("i",{className:"fa-solid fa-thumbtack",style:{transform:g?"rotate(-45deg)":"none"}})})]})]}),S.jsxs("div",{className:"form-group",children:[S.jsxs("label",{className:"form-label",children:["Amount (Dalam Ribuan) * ",S.jsxs("span",{style:{fontSize:"11px",color:"#64748b",fontWeight:"normal"},children:["Contoh: ",S.jsx("b",{children:"20"})," = Rp 20.000"]})]}),S.jsxs("div",{style:{position:"relative"},children:[S.jsx("input",{type:"number",name:"amount",className:"form-control",placeholder:"0",required:!0,min:"1",value:A.amount,onChange:N}),A.amount&&S.jsxs("div",{style:{position:"absolute",right:"10px",top:"12px",fontSize:"12px",color:"green",fontWeight:"bold"},children:["= Rp ",(parseInt(A.amount)*1e3).toLocaleString("id-ID")]})]})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{className:"form-label",children:"Date *"}),S.jsx("input",{type:"date",name:"date",className:"form-control",required:!0,value:A.date,onChange:N})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{className:"form-label",children:"Notes (Optional)"}),S.jsx("textarea",{name:"note",className:"form-control",placeholder:"Add notes",value:A.note,onChange:N})]}),S.jsx("button",{type:"submit",className:"btn-submit",style:{backgroundColor:i==="income"?"var(--success-green)":"var(--danger-red)"},children:i==="income"?"Add Income":"Subtract Income"})]})]}),u&&S.jsx("div",{className:"popup-overlay",style:{display:"flex"},children:S.jsxs("div",{className:"popup-box",children:[S.jsx("h3",{children:"Confirm Transaction"}),S.jsx("p",{style:{marginBottom:"15px",color:"#64748b"},children:"Please review the financial details:"}),S.jsxs("div",{className:"popup-details",style:{background:"#f8fafc",padding:"15px",borderRadius:"8px",fontSize:"13px"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px",borderBottom:"1px solid #e2e8f0",paddingBottom:"10px"},children:[S.jsxs("span",{children:["User: ",S.jsx("b",{children:G()})]}),S.jsx("span",{children:A.date})]}),S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",color:"#64748b"},children:[S.jsx("span",{children:"Current Savings:"}),S.jsxs("span",{children:["Rp ",C(E.currentBalance)]})]}),S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",color:i==="income"?"green":"#b91c1c",fontWeight:"bold"},children:[S.jsxs("span",{children:[i==="income"?"Deposit":"Withdrawal",":"]}),S.jsxs("span",{children:[i==="income"?"+":"-"," Rp ",C(E.inputAmount)]})]}),i==="expense"&&S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",color:"#b91c1c",fontSize:"12px"},children:[S.jsx("span",{children:"@ : (Admin 10%)"}),S.jsxs("span",{children:["- Rp ",C(E.fee)]})]}),S.jsx("div",{style:{borderTop:"1px dashed #cbd5e1",margin:"10px 0"}}),S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"15px",fontWeight:"bold",color:"var(--text-dark)"},children:[S.jsx("span",{children:"New Balance:"}),S.jsxs("span",{style:{color:E.newBalance<0?"red":"blue"},children:["Rp ",C(E.newBalance)]})]})]}),S.jsxs("div",{className:"popup-actions",children:[S.jsx("button",{className:"cancel-btn",onClick:()=>d(!1),disabled:o,children:"Cancel"}),S.jsx("button",{className:"confirm-btn",onClick:B,disabled:o,children:o?"Processing...":"Confirm"})]})]})})]})},az=()=>{const{toggleSidebar:n}=ko(),[t,e]=q.useState([]),[i,r]=q.useState(!0),[o,l]=q.useState(!1),[u,d]=q.useState(!1),[f,y]=q.useState(!1),[g,v]=q.useState({id:"",fullName:"",nickname:"",className:"A",photo:""});q.useEffect(()=>{const z=Ns(fn(Ae,"users"),ql("createdAt","desc")),X=Fu(z,B=>{const G=B.docs.map(D=>({id:D.id,...D.data()}));e(G),r(!1)},B=>{ce.error("Gagal memuat users"),r(!1)});return()=>X()},[]);const E=z=>{const X=z.target.files[0];if(!X)return;if(X.size>2*1024*1024){ce.error("Ukuran file terlalu besar (Max 2MB)");return}const B=new FileReader;B.readAsDataURL(X),B.onload=G=>{const D=new Image;D.src=G.target.result,D.onload=()=>{const C=document.createElement("canvas"),M=300,L=M/D.width;C.width=M,C.height=D.height*L,C.getContext("2d").drawImage(D,0,0,C.width,C.height);const V=C.toDataURL("image/jpeg",.7);v(O=>({...O,photo:V}))}}},w=()=>{d(!1),v({id:"",fullName:"",nickname:"",className:"A",photo:""}),l(!0)},A=z=>{d(!0),v({id:z.id,fullName:z.fullName||z.name,nickname:z.nickname||z.name,className:z.className||"A",photo:z.photo||""}),l(!0)},R=async z=>{if(z.preventDefault(),!g.fullName.trim()||!g.nickname.trim()){ce.error("Nama Lengkap & Panggilan wajib diisi");return}y(!0);try{const X={name:g.nickname,fullName:g.fullName,nickname:g.nickname,className:g.className,photo:g.photo,updatedAt:Gl()};if(u){const B=Hl(Ae,"users",g.id);await UA(B,X),ce.success("Data siswa diperbarui!")}else await F_(fn(Ae,"users"),{...X,createdAt:Gl()}),ce.success("Siswa baru ditambahkan!");l(!1)}catch(X){ce.error("Gagal menyimpan: "+X.message)}finally{y(!1)}},N=async(z,X)=>{if(window.confirm(`Yakin ingin menghapus data "${X}"? Data absensi & tabungan mungkin akan kehilangan referensi nama.`))try{await BA(Hl(Ae,"users",z)),ce.success("User dihapus.")}catch(B){ce.error("Gagal menghapus: "+B.message)}},j=z=>z?z.substring(0,2).toUpperCase():"U";return S.jsxs("div",{style:{width:"100%"},children:[S.jsxs("div",{className:"header-section",children:[S.jsxs("div",{className:"page-title-wrapper",style:{display:"flex",alignItems:"center"},children:[S.jsx("button",{className:"mobile-toggle-btn",onClick:n,children:S.jsx("i",{className:"fa-solid fa-bars"})}),S.jsxs("div",{className:"page-title",children:[S.jsx("h1",{children:"User Management"}),S.jsx("p",{children:"Kelola data siswa, kelas, dan foto"})]})]}),S.jsxs("button",{className:"btn-add",onClick:w,children:[S.jsx("i",{className:"fa-solid fa-user-plus"})," Add User"]})]}),S.jsx("div",{className:"user-grid",children:i?S.jsx("p",{style:{color:"var(--text-gray)"},children:"Loading users..."}):t.length===0?S.jsx("p",{style:{color:"var(--text-gray)"},children:"Belum ada siswa."}):t.map(z=>S.jsxs("div",{className:"user-card",style:{position:"relative",paddingRight:"10px"},children:[S.jsxs("div",{className:"user-info-wrapper",children:[S.jsx("div",{className:"avatar",style:{backgroundColor:z.photo?"transparent":"var(--primary-blue)",backgroundImage:z.photo?`url(${z.photo})`:"none",backgroundSize:"cover",backgroundPosition:"center",border:"1px solid #e2e8f0"},children:!z.photo&&j(z.nickname||z.name)}),S.jsxs("div",{className:"info",children:[S.jsx("h3",{style:{fontSize:"16px"},children:z.nickname||z.name}),S.jsxs("p",{style:{fontSize:"12px",color:"#64748b"},children:["Kelas ",z.className||"A","  ",z.fullName||z.name]})]})]}),S.jsxs("div",{style:{display:"flex",gap:"8px"},children:[S.jsx("button",{className:"btn-delete",onClick:()=>A(z),style:{color:"var(--primary-blue)"},title:"Edit User",children:S.jsx("i",{className:"fa-regular fa-pen-to-square"})}),S.jsx("button",{className:"btn-delete",onClick:()=>N(z.id,z.nickname||z.name),title:"Hapus User",children:S.jsx("i",{className:"fa-regular fa-trash-can"})})]})]},z.id))}),o&&S.jsx("div",{className:"modal-overlay active",style:{display:"flex"},children:S.jsxs("div",{className:"modal-box",children:[S.jsxs("div",{className:"modal-header",children:[S.jsxs("div",{children:[S.jsx("h3",{children:u?"Edit Siswa":"Tambah Siswa Baru"}),S.jsx("p",{children:"Lengkapi data profil siswa di bawah ini."})]}),S.jsx("button",{className:"close-modal",onClick:()=>l(!1),children:""})]}),S.jsxs("form",{onSubmit:R,children:[S.jsxs("div",{className:"modal-body",children:[S.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"20px"},children:S.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:g.photo?`url(${g.photo}) center/cover`:"#f1f5f9",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid #e2e8f0"},children:!g.photo&&S.jsx("i",{className:"fa-solid fa-camera",style:{color:"#94a3b8",fontSize:"24px"}})})}),S.jsx("label",{style:{fontSize:"13px",fontWeight:"600"},children:"Foto Profil"}),S.jsx("input",{type:"file",accept:"image/*",className:"form-control",onChange:E,style:{padding:"8px",fontSize:"12px",marginBottom:"15px"}}),S.jsx("label",{style:{fontSize:"13px",fontWeight:"600"},children:"Nama Lengkap *"}),S.jsx("input",{type:"text",className:"form-control",placeholder:"Contoh: Muhammad Budi Santoso",required:!0,value:g.fullName,onChange:z=>v({...g,fullName:z.target.value}),style:{marginBottom:"15px"}}),S.jsxs("div",{style:{display:"flex",gap:"15px"},children:[S.jsxs("div",{style:{flex:1},children:[S.jsx("label",{style:{fontSize:"13px",fontWeight:"600"},children:"Nama Panggilan *"}),S.jsx("input",{type:"text",className:"form-control",placeholder:"Contoh: Budi",required:!0,value:g.nickname,onChange:z=>v({...g,nickname:z.target.value})})]}),S.jsxs("div",{style:{width:"100px"},children:[S.jsx("label",{style:{fontSize:"13px",fontWeight:"600"},children:"Kelas"}),S.jsxs("select",{className:"form-control",value:g.className,onChange:z=>v({...g,className:z.target.value}),children:[S.jsx("option",{value:"A",children:"Kelas A"}),S.jsx("option",{value:"B",children:"Kelas B"})]})]})]})]}),S.jsxs("div",{className:"modal-footer",style:{marginTop:"25px"},children:[S.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>l(!1),disabled:f,children:"Batal"}),S.jsx("button",{type:"submit",className:"btn-save",disabled:f,children:f?"Menyimpan...":"Simpan Data"})]})]})]})})]})},oz=()=>{const{toggleSidebar:n}=ko(),[t,e]=q.useState([]),[i,r]=q.useState(new Date().toISOString().split("T")[0]),[o,l]=q.useState([]),[u,d]=q.useState({}),[f,y]=q.useState({}),[g,v]=q.useState(!0),[E,w]=q.useState(!1),A={"-":{label:"-",color:"#94a3b8",bg:"#f1f5f9",title:"Tanpa Keterangan"},"?":{label:"?",color:"#7c3aed",bg:"#ede9fe",title:"Hadir (No Income)"},H:{label:"H",color:"#15803d",bg:"#dcfce7",title:"Hadir (Income)"},S:{label:"S",color:"#854d0e",bg:"#fef9c3",title:"Sakit"},I:{label:"I",color:"#1e40af",bg:"#dbeafe",title:"Izin"},A:{label:"A",color:"#991b1b",bg:"#fee2e2",title:"Alpha"}};q.useEffect(()=>{const B=[];let G=new Date(i),D=0;for(;D<7;){const C=G.getDay();C!==0&&C!==6&&(B.unshift(G.toISOString().split("T")[0]),D++),G.setDate(G.getDate()-1)}l(B)},[i]),q.useEffect(()=>{const B=Ns(fn(Ae,"users"),ql("name","asc")),G=Fu(B,D=>{e(D.docs.map(C=>({id:C.id,name:C.data().name})))});return()=>G()},[]),q.useEffect(()=>{if(o.length===0)return;(async()=>{v(!0);const G=o[0],D=o[o.length-1];try{const C=Ns(fn(Ae,"attendance"),la("date",">=",G),la("date","<=",D)),M=await Os(C),L={};M.forEach(xt=>{L[xt.id]=xt.data().records||{}}),d(L);const P=Ns(fn(Ae,"transactions"),la("type","==","income"),la("date",">=",G),la("date","<=",D)),V=await Os(P),O={};V.forEach(xt=>{const bt=xt.data();O[bt.date]||(O[bt.date]=new Set),O[bt.date].add(bt.userId)}),y(O)}catch(C){console.error(C),ce.error("Gagal memuat data matriks")}finally{v(!1)}})()},[o]);const R=(B,G)=>{const D=u[B]&&u[B][G],C=f[B]&&f[B].has(G);return D&&D!=="-"?D:C?"H":D||"-"},N=(B,G,D)=>{d(C=>({...C,[B]:{...C[B]||{},[G]:D}}))},j=async()=>{w(!0);try{const B=MV(Ae);o.forEach(G=>{const D=Hl(Ae,"attendance",G),C={};t.forEach(M=>{const L=R(G,M.id);L!=="-"&&(C[M.id]=L)}),B.set(D,{date:G,records:C,updatedAt:Gl()})}),await B.commit(),ce.success("Data absensi berhasil disimpan!")}catch(B){ce.error("Gagal: "+B.message)}finally{w(!1)}},z=B=>{const G=new Date(B),D=String(G.getDate()).padStart(2,"0"),C=String(G.getMonth()+1).padStart(2,"0");return`${D}/${C}`},X=B=>{if(!B)return"";const[G,D,C]=B.split("-");return`${C}/${D}/${G}`};return S.jsxs("div",{style:{width:"100%"},children:[S.jsxs("div",{className:"header-section",children:[S.jsxs("div",{className:"page-title-wrapper",style:{display:"flex",alignItems:"center"},children:[S.jsx("button",{className:"mobile-toggle-btn",onClick:n,children:S.jsx("i",{className:"fa-solid fa-bars"})}),S.jsxs("div",{className:"page-title",children:[S.jsx("h1",{children:"Absensi Matriks"}),S.jsx("p",{children:"Rekap kehadiran 7 hari terakhir"})]})]}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[S.jsx("label",{style:{fontSize:"11px",color:"var(--text-gray)",marginBottom:"4px"},children:"Pilih Hari Terakhir:"}),S.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[S.jsxs("div",{className:"form-control",style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"10px",cursor:"pointer",background:"white",width:"160px",padding:"8px 12px",border:"1px solid var(--border-color)",borderRadius:"8px"},children:[S.jsx("span",{style:{fontWeight:"600",color:"#334155",fontSize:"14px"},children:X(i)}),S.jsx("i",{className:"fa-regular fa-calendar",style:{color:"#64748b"}})]}),S.jsx("input",{type:"date",value:i,onChange:B=>r(B.target.value),style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:0,cursor:"pointer",zIndex:10},onClick:B=>B.target.showPicker&&B.target.showPicker()})]})]})]}),S.jsx("div",{className:"form-card",style:{padding:"0",overflow:"hidden"},children:g?S.jsx("p",{style:{padding:"40px",textAlign:"center",color:"#9ca3af"},children:"Loading data..."}):S.jsx("div",{style:{overflowX:"auto"},children:S.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"800px"},children:[S.jsx("thead",{children:S.jsxs("tr",{style:{background:"#f8fafc",borderBottom:"2px solid #e2e8f0"},children:[S.jsx("th",{style:{padding:"12px",textAlign:"left",width:"200px",position:"sticky",left:0,background:"#f8fafc",zIndex:10},children:"Nama Siswa"}),o.map(B=>{const G=B===i;return S.jsxs("th",{style:{padding:"12px",textAlign:"center",fontSize:"13px",background:G?"#eff6ff":"transparent",borderLeft:"1px solid #f1f5f9",color:G?"var(--primary-blue)":"var(--text-dark)",fontWeight:G?"700":"500"},children:[S.jsx("div",{style:{fontSize:"10px",color:G?"var(--primary-blue)":"#94a3b8",marginBottom:"2px"},children:new Date(B).toLocaleDateString("id-ID",{weekday:"short"})}),z(B)]},B)})]})}),S.jsx("tbody",{children:t.map(B=>S.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[S.jsx("td",{style:{padding:"12px",fontSize:"14px",fontWeight:"500",color:"#0f172a",position:"sticky",left:0,background:"white",zIndex:5,boxShadow:"2px 0 5px rgba(0,0,0,0.02)"},children:B.name}),o.map(G=>{const D=R(G,B.id),C=A[D]||A["-"],M=G===i;return S.jsx("td",{style:{padding:"8px",textAlign:"center",background:M?"#fbfdff":"transparent",borderLeft:"1px solid #f1f5f9"},children:S.jsxs("select",{value:D,onChange:L=>N(G,B.id,L.target.value),style:{appearance:"none",backgroundColor:C.bg,color:C.color,border:`1px solid ${C.bg}`,borderRadius:"6px",padding:"6px 2px",width:"100%",minWidth:"40px",textAlign:"center",fontWeight:"bold",fontSize:"13px",cursor:"pointer",outline:"none"},children:[S.jsx("option",{value:"-",children:"-"}),S.jsx("option",{value:"?",children:"?"}),S.jsx("option",{value:"H",children:"H"}),S.jsx("option",{value:"S",children:"S"}),S.jsx("option",{value:"I",children:"I"}),S.jsx("option",{value:"A",children:"A"})]})},`${B.id}-${G}`)})]},B.id))})]})})}),S.jsxs("div",{style:{marginTop:"20px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"15px"},children:[S.jsx("div",{style:{display:"flex",gap:"15px",fontSize:"12px",flexWrap:"wrap"},children:Object.keys(A).map(B=>{const G=A[B];return S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[S.jsx("span",{style:{width:"12px",height:"12px",borderRadius:"3px",background:G.bg,border:`1px solid ${G.color}`}}),S.jsx("span",{style:{color:G.color,fontWeight:"600"},children:G.title})]},B)})}),S.jsx("button",{className:"btn-submit",onClick:j,disabled:E||g,style:{width:"auto",padding:"12px 30px",margin:0},children:E?"Menyimpan...":"Simpan Perubahan"})]})]})},lz=()=>{const{toggleSidebar:n}=ko(),[t,e]=q.useState([]),[i,r]=q.useState({}),[o,l]=q.useState(!0),[u,d]=q.useState({}),[f,y]=q.useState({}),[g,v]=q.useState(""),[E,w]=q.useState(null),[A,R]=q.useState(!1),[N,j]=q.useState("edit"),[z,X]=q.useState(!1),[B,G]=q.useState({id:"",userId:"",userName:"",amount:"",date:"",note:"",type:"income",isCheckpoint:!1});q.useEffect(()=>{(async()=>{try{const ut=await Os(fn(Ae,"users"));let mt={};ut.forEach(ct=>{mt[ct.id]=ct.data()}),d(mt)}catch(ut){console.error(ut)}})()},[]),q.useEffect(()=>{const K=Ns(fn(Ae,"transactions"),ql("date","desc"),ql("createdAt","desc")),ut=Fu(K,mt=>{const ct=mt.docs.map(U=>({id:U.id,...U.data()}));e(ct),l(!1)},mt=>{ce.error("Gagal memuat data."),l(!1)});return()=>ut()},[]),q.useEffect(()=>{const K=Ns(fn(Ae,"attendance")),ut=Fu(K,mt=>{let ct={};mt.docs.forEach(U=>{const $=U.id,et=U.data().records||{},lt=Object.values(et).filter(dt=>dt==="H").length;ct[$]=lt}),y(ct)});return()=>ut()},[]),q.useEffect(()=>{if(t.length===0){r({});return}let K=t;g&&(K=t.filter(mt=>mt.date===g));const ut=K.reduce((mt,ct)=>{const U=ct.date;return mt[U]||(mt[U]=[]),mt[U].push(ct),mt},{});r(ut)},[t,g]);const D=K=>{E!==K&&w(K)},C=K=>{K.stopPropagation(),w(null)},M=(K,ut)=>{K.stopPropagation(),j("edit"),G({id:ut.id,userId:ut.userId,userName:ut.userName,amount:ut.amount/1e3,date:ut.date,note:ut.note||"",type:ut.type,isCheckpoint:ut.isCheckpoint||!1}),R(!0),w(null)},L=(K,ut)=>{K.stopPropagation(),j("delete"),G(ut),R(!0),w(null)},P=async K=>{K.preventDefault(),X(!0);try{const ut=Hl(Ae,"transactions",B.id);await UA(ut,{amount:parseInt(B.amount)*1e3,date:B.date,note:B.note,isCheckpoint:B.isCheckpoint,updatedAt:Gl()}),ce.success("Data diperbarui!"),R(!1)}catch(ut){ce.error(ut.message)}finally{X(!1)}},V=async()=>{X(!0);try{await BA(Hl(Ae,"transactions",B.id)),ce.success("Data dihapus."),R(!1)}catch(K){ce.error(K.message)}finally{X(!1)}},O=K=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(K),xt=K=>K?K.substring(0,2).toUpperCase():"?",bt=K=>{if(!K)return"";const ut=new Date(K);return`${String(ut.getDate()).padStart(2,"0")}/${String(ut.getMonth()+1).padStart(2,"0")}/${ut.getFullYear()}`},W=K=>{if(!K)return"Semua Tanggal";const[ut,mt,ct]=K.split("-");return`${ct}/${mt}/${ut}`};return S.jsxs("div",{style:{width:"100%"},children:[S.jsxs("div",{className:"header-section",children:[S.jsxs("div",{className:"page-title-wrapper",style:{display:"flex",alignItems:"center"},children:[S.jsx("button",{className:"mobile-toggle-btn",onClick:n,children:S.jsx("i",{className:"fa-solid fa-bars"})}),S.jsxs("div",{className:"page-title",children:[S.jsx("h1",{children:"Daily Flow"}),S.jsx("p",{children:"Monitor Pemasukan & Pengeluaran"})]})]}),S.jsxs("div",{className:"date-filter-wrapper",style:{display:"flex",alignItems:"center"},children:[S.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[S.jsxs("div",{className:"form-control",style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"10px",cursor:"pointer",background:"white",width:"160px",padding:"8px 12px",border:"1px solid var(--border-color)",borderRadius:"8px"},children:[S.jsx("span",{style:{fontWeight:"600",color:g?"#334155":"#94a3b8",fontSize:"13px"},children:W(g)}),S.jsx("i",{className:"fa-regular fa-calendar",style:{color:"#64748b"}})]}),S.jsx("input",{type:"date",value:g,onChange:K=>v(K.target.value),style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:0,cursor:"pointer",zIndex:10},onClick:K=>K.target.showPicker&&K.target.showPicker()})]}),g&&S.jsx("button",{onClick:()=>v(""),style:{marginLeft:"8px",background:"none",border:"none",color:"var(--danger-red)",cursor:"pointer",fontSize:"12px"},children:"Clear"})]})]}),S.jsx("div",{className:"daily-content",children:o?S.jsx("p",{style:{color:"var(--text-gray)"},children:"Loading data..."}):Object.keys(i).length===0?S.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"var(--text-gray)"},children:[S.jsx("i",{className:"fa-regular fa-calendar-xmark",style:{fontSize:"32px",marginBottom:"10px"}}),S.jsx("p",{children:"No records found."})]}):Object.keys(i).map(K=>{const ut=i[K].filter($=>!$.isCheckpoint&&$.userId!=="other").reduce(($,et)=>et.type==="income"?$+et.amount:$-et.amount,0),mt=i[K].filter($=>$.userId==="other").reduce(($,et)=>et.type==="income"?$+et.amount:$-et.amount,0),U=(f[K]||0)*6e3;return S.jsxs("div",{style:{marginBottom:"40px"},children:[S.jsxs("div",{style:{marginBottom:"16px"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"10px"},children:[S.jsx("h3",{style:{fontSize:"16px",fontWeight:"700",color:"var(--text-dark)",margin:0},children:bt(K)}),S.jsxs("div",{style:{display:"flex",gap:"10px",fontSize:"12px",flexWrap:"wrap"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",background:"#eff6ff",padding:"4px 10px",borderRadius:"20px",color:"var(--primary-blue)",border:"1px solid #dbeafe"},children:[S.jsx("i",{className:"fa-solid fa-piggy-bank"}),S.jsxs("span",{style:{fontWeight:"600"},children:["Sav: ",O(ut)]})]}),S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",background:"#f0fdf4",padding:"4px 10px",borderRadius:"20px",color:"#166534",border:"1px solid #bbf7d0"},children:[S.jsx("i",{className:"fa-solid fa-school"}),S.jsxs("span",{style:{fontWeight:"600"},children:["Fee: ",O(U)]})]}),S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",background:"#fffbeb",padding:"4px 10px",borderRadius:"20px",color:"#b45309",border:"1px solid #fcd34d"},children:[S.jsx("i",{className:"fa-solid fa-cash-register"}),S.jsxs("span",{style:{fontWeight:"600"},children:["Oth: ",O(mt)]})]})]})]}),S.jsx("div",{style:{height:"1px",background:"var(--border-color)",marginTop:"8px",width:"100%"}})]}),S.jsx("div",{className:"user-grid",children:i[K].map($=>{const et=$.type==="expense",lt=$.userId==="other",dt=lt?null:u[$.userId]?.photo,gt=lt?$.note||"Other":u[$.userId]?.nickname||$.userName;return S.jsxs("div",{className:"user-card",style:{minHeight:"auto",cursor:"pointer",position:"relative",overflow:"hidden",transition:"all 0.3s",borderLeft:`4px solid ${et?"var(--danger-red)":"var(--success-green)"}`,opacity:$.isCheckpoint?.7:1,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px"},onClick:()=>D($.id),children:[$.isCheckpoint&&S.jsx("div",{style:{position:"absolute",top:0,right:0,fontSize:"9px",background:"#e2e8f0",padding:"2px 6px",borderBottomLeftRadius:"4px",color:"#64748b"},children:"Checkpoint"}),E===$.id?S.jsxs("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center",width:"100%",height:"100%",animation:"fadeIn 0.2s"},children:[S.jsx("button",{onClick:St=>M(St,$),style:{background:"#3b82f6",color:"white",border:"none",padding:"10px",borderRadius:"50%",width:"40px",height:"40px",cursor:"pointer"},children:S.jsx("i",{className:"fa-solid fa-pen-to-square"})}),S.jsx("button",{onClick:St=>L(St,$),style:{background:"#ef4444",color:"white",border:"none",padding:"10px",borderRadius:"50%",width:"40px",height:"40px",cursor:"pointer"},children:S.jsx("i",{className:"fa-solid fa-trash-can"})}),S.jsx("button",{onClick:C,style:{background:"#9ca3af",color:"white",border:"none",padding:"10px",borderRadius:"50%",width:"40px",height:"40px",cursor:"pointer"},children:S.jsx("i",{className:"fa-solid fa-rotate-left"})})]}):S.jsxs(S.Fragment,{children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",flex:1,minWidth:0},children:[S.jsx("div",{className:"avatar",style:{backgroundColor:dt?"transparent":lt?"#f59e0b":et?"#ef4444":"#2563eb",backgroundImage:dt?`url(${dt})`:"none",backgroundSize:"cover",backgroundPosition:"center",border:"1px solid #e2e8f0",color:dt?"transparent":"white",width:"48px",height:"48px",minWidth:"48px",flexShrink:0,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",fontWeight:"bold"},children:!dt&&(lt?S.jsx("i",{className:"fa-solid fa-school"}):xt(gt))}),S.jsxs("div",{className:"info",style:{minWidth:0},children:[" ",S.jsx("h3",{style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",fontSize:"14px",fontWeight:"600",lineHeight:"1.3",margin:0,wordBreak:"break-word"},children:gt}),S.jsx("div",{style:{fontSize:"11px",color:et?"var(--danger-red)":"var(--success-green)",fontWeight:"700",textTransform:"uppercase",marginTop:"2px"},children:lt?"Operational":et?"Expense":"Income"}),!lt&&$.note&&S.jsxs("p",{style:{fontSize:"11px",fontStyle:"italic",color:"#64748b",margin:"2px 0 0 0",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:['"',$.note,'"']})]})]}),S.jsxs("div",{style:{fontWeight:"700",color:et?"var(--danger-red)":"var(--success-green)",fontSize:"15px",whiteSpace:"nowrap",marginLeft:"10px",flexShrink:0},children:[et?"-":"+",O($.amount)]})]})]},$.id)})})]},K)})}),A&&S.jsx("div",{className:"modal-overlay active",style:{display:"flex"},children:S.jsxs("div",{className:"modal-box",children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("h3",{children:N==="edit"?"Edit Transaction":"Delete Transaction"}),S.jsx("button",{className:"close-modal",onClick:()=>R(!1),children:""})]}),N==="edit"?S.jsxs("form",{onSubmit:P,children:[S.jsxs("div",{className:"modal-body",children:[S.jsxs("p",{style:{marginBottom:"15px",fontWeight:"600"},children:["User: ",B.userName]}),S.jsx("div",{style:{display:"inline-block",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"bold",marginBottom:"15px",backgroundColor:B.type==="expense"?"#fee2e2":"#dcfce7",color:B.type==="expense"?"#991b1b":"#166534"},children:B.type==="expense"?"Substract Income (Expense)":"Add Income"}),S.jsx("label",{style:{display:"block",marginBottom:"5px",fontSize:"13px"},children:"Amount (Dalam Ribuan)"}),S.jsx("input",{type:"number",className:"form-control",style:{marginBottom:"15px"},value:B.amount,onChange:K=>G({...B,amount:K.target.value}),required:!0}),S.jsx("label",{style:{display:"block",marginBottom:"5px",fontSize:"13px"},children:"Date"}),S.jsx("input",{type:"date",className:"form-control",style:{marginBottom:"15px"},value:B.date,onChange:K=>G({...B,date:K.target.value}),required:!0}),S.jsx("label",{style:{display:"block",marginBottom:"5px",fontSize:"13px"},children:"Note"}),S.jsx("textarea",{className:"form-control",value:B.note,onChange:K=>G({...B,note:K.target.value}),style:{marginBottom:"15px"}}),S.jsxs("div",{style:{background:"#f8fafc",padding:"10px",borderRadius:"8px",border:"1px solid #e2e8f0",display:"flex",alignItems:"start",gap:"10px"},children:[S.jsx("input",{type:"checkbox",id:"checkpointCheck",checked:B.isCheckpoint,onChange:K=>G({...B,isCheckpoint:K.target.checked}),style:{marginTop:"3px",cursor:"pointer"}}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"checkpointCheck",style:{fontSize:"13px",fontWeight:"600",cursor:"pointer"},children:"Jadikan Checkpoint (Saldo Awal)"}),S.jsxs("p",{style:{fontSize:"11px",color:"#64748b",marginTop:"2px"},children:["Nilai ini dihitung sebagai saldo tapi ",S.jsx("b",{children:"TIDAK AKAN"})," muncul di grafik harian."]})]})]})]}),S.jsxs("div",{className:"modal-footer",children:[S.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>R(!1),children:"Cancel"}),S.jsx("button",{type:"submit",className:"btn-save",disabled:z,children:z?"Saving...":"Save Changes"})]})]}):S.jsxs("div",{children:[S.jsxs("div",{className:"modal-body",children:[S.jsxs("p",{children:["Yakin ingin menghapus data ",S.jsx("b",{children:B.type==="expense"?"pengeluaran":"pemasukan"})," dari ",S.jsx("b",{children:B.userName})," sebesar ",S.jsx("b",{children:O(B.amount)}),"?"]}),S.jsx("p",{style:{fontSize:"12px",color:"red",marginTop:"10px"},children:"Tindakan ini tidak dapat dibatalkan."})]}),S.jsxs("div",{className:"modal-footer",children:[S.jsx("button",{className:"btn-cancel",onClick:()=>R(!1),children:"Cancel"}),S.jsx("button",{className:"btn-save",style:{backgroundColor:"var(--danger-red)"},onClick:V,disabled:z,children:z?"Deleting...":"Delete Permanently"})]})]})]})})]})},cz=()=>{const{toggleSidebar:n}=ko(),[t,e]=q.useState([]),[i,r]=q.useState({}),[o,l]=q.useState(!0);q.useEffect(()=>{(async()=>{try{const g=(await Os(fn(Ae,"users"))).docs.map(w=>({id:w.id,name:w.data().name,nickname:w.data().nickname,photo:w.data().photo})),v=await Os(fn(Ae,"transactions")),E={};v.forEach(w=>{const A=w.data(),R=A.userId,N=parseInt(A.amount)||0;E[R]||(E[R]=0),A.type==="income"?E[R]+=N:A.type==="expense"&&(E[R]-=N)}),e(g),r(E),l(!1)}catch(y){console.error(y),ce.error("Gagal memuat data tabungan."),l(!1)}})()},[]);const u=f=>"Rp "+new Intl.NumberFormat("id-ID").format(f),d=f=>f?f.substring(0,2).toUpperCase():"S";return S.jsxs("div",{style:{width:"100%"},children:[S.jsx("div",{className:"header-section",children:S.jsxs("div",{className:"page-title-wrapper",style:{display:"flex",alignItems:"center"},children:[S.jsx("button",{className:"mobile-toggle-btn",onClick:n,children:S.jsx("i",{className:"fa-solid fa-bars"})}),S.jsxs("div",{className:"page-title",children:[S.jsx("h1",{children:"Student Savings"}),S.jsx("p",{children:"Total saldo tabungan setiap siswa"})]})]})}),S.jsx("div",{className:"user-grid",children:o?S.jsx("p",{style:{color:"var(--text-gray)"},children:"Menghitung saldo..."}):t.length===0?S.jsx("p",{style:{color:"var(--text-gray)"},children:"Belum ada siswa."}):t.map(f=>{const y=i[f.id]||0;return S.jsxs("div",{className:"user-card",style:{alignItems:"center"},children:[S.jsxs("div",{className:"user-info-wrapper",children:[S.jsx("div",{className:"avatar",style:{backgroundColor:f.photo?"transparent":"var(--primary-blue)",backgroundImage:f.photo?`url(${f.photo})`:"none",backgroundSize:"cover",backgroundPosition:"center",border:"1px solid #e2e8f0",color:f.photo?"transparent":"white"},children:!f.photo&&d(f.nickname||f.name)}),S.jsxs("div",{className:"info",children:[S.jsx("h3",{style:{fontSize:"15px"},children:f.name}),S.jsx("p",{style:{fontSize:"12px"},children:"Total Saldo"})]})]}),S.jsx("div",{style:{textAlign:"right"},children:S.jsx("div",{style:{fontSize:"16px",fontWeight:"700",color:y>=0?"var(--primary-blue)":"var(--danger-red)"},children:u(y)})})]},f.id)})})]})},uz=()=>{const{toggleSidebar:n}=ko(),[t,e]=q.useState("income"),[i,r]=q.useState(!1),[o,l]=q.useState(!1),[u,d]=q.useState({amount:"",date:new Date().toISOString().split("T")[0],note:""}),f=E=>{const{name:w,value:A}=E.target;d(R=>({...R,[w]:A}))},y=E=>{if(E.preventDefault(),!u.amount||!u.date||!u.note){ce.error("Mohon lengkapi jumlah, tanggal, dan keterangan.");return}l(!0)},g=async()=>{r(!0);try{await F_(fn(Ae,"transactions"),{userId:"other",userName:"Other Transaction",amount:parseInt(u.amount)*1e3,date:u.date,note:u.note,type:t,isCheckpoint:!1,createdAt:Gl()}),ce.success("Transaksi umum berhasil disimpan!"),l(!1),d({amount:"",date:new Date().toISOString().split("T")[0],note:""})}catch(E){ce.error("Gagal menyimpan: "+E.message)}finally{r(!1)}},v=E=>E.toLocaleString("id-ID");return S.jsxs("div",{style:{width:"100%"},children:[S.jsx("div",{className:"centered-header",children:S.jsxs("div",{className:"page-title-wrapper",style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[S.jsx("button",{className:"mobile-toggle-btn",onClick:n,children:S.jsx("i",{className:"fa-solid fa-bars"})}),S.jsxs("div",{children:[S.jsx("h1",{children:"Other Transaction"}),S.jsx("p",{children:"Catat pemasukan/pengeluaran operasional sekolah"})]})]})}),S.jsxs("div",{className:"form-card",children:[S.jsxs("div",{className:"toggle-container",children:[S.jsxs("button",{type:"button",className:`toggle-btn ${t==="income"?"active-income":""}`,onClick:()=>e("income"),children:[S.jsx("i",{className:"fa-solid fa-plus"})," Add Income"]}),S.jsxs("button",{type:"button",className:`toggle-btn ${t==="expense"?"active-expense":""}`,onClick:()=>e("expense"),children:[S.jsx("i",{className:"fa-solid fa-minus"})," Add Expense"]})]}),S.jsxs("form",{onSubmit:y,children:[S.jsxs("div",{className:"form-group",children:[S.jsxs("label",{className:"form-label",children:["Amount (Dalam Ribuan) * ",S.jsxs("span",{style:{fontSize:"11px",color:"#64748b",fontWeight:"normal"},children:["Contoh: ",S.jsx("b",{children:"50"})," = Rp 50.000"]})]}),S.jsxs("div",{style:{position:"relative"},children:[S.jsx("input",{type:"number",name:"amount",className:"form-control",placeholder:"0",required:!0,min:"1",value:u.amount,onChange:f}),u.amount&&S.jsxs("div",{style:{position:"absolute",right:"10px",top:"12px",fontSize:"12px",color:"green",fontWeight:"bold"},children:["= Rp ",(parseInt(u.amount)*1e3).toLocaleString("id-ID")]})]})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{className:"form-label",children:"Date *"}),S.jsx("input",{type:"date",name:"date",className:"form-control",required:!0,value:u.date,onChange:f})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{className:"form-label",children:"Description (Wajib) *"}),S.jsx("textarea",{name:"note",className:"form-control",placeholder:"Contoh: Dana BOS, Beli Kapur, Bayar Listrik...",required:!0,value:u.note,onChange:f})]}),S.jsx("button",{type:"submit",className:"btn-submit",style:{backgroundColor:t==="income"?"var(--success-green)":"var(--danger-red)"},children:t==="income"?"Save Income":"Save Expense"})]})]}),o&&S.jsx("div",{className:"popup-overlay",style:{display:"flex"},children:S.jsxs("div",{className:"popup-box",children:[S.jsxs("h3",{children:["Confirm ",t==="income"?"Income":"Expense"]}),S.jsx("p",{style:{marginBottom:"15px",color:"#64748b"},children:"Please review details:"}),S.jsxs("div",{className:"popup-details",style:{background:"#f8fafc",padding:"15px",borderRadius:"8px",fontSize:"13px"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px",borderBottom:"1px solid #e2e8f0",paddingBottom:"10px"},children:[S.jsx("span",{children:"Category:"}),S.jsx("b",{children:"Other / Operasional"})]}),S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[S.jsx("span",{children:"Date:"}),S.jsx("span",{children:u.date})]}),S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[S.jsx("span",{children:"Description:"}),S.jsx("span",{style:{maxWidth:"150px",textAlign:"right",fontStyle:"italic"},children:u.note})]}),S.jsx("div",{style:{borderTop:"1px dashed #cbd5e1",margin:"10px 0"}}),S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"15px",fontWeight:"bold",color:t==="income"?"green":"red"},children:[S.jsx("span",{children:"Total:"}),S.jsxs("span",{children:[t==="income"?"+":"-"," Rp ",v(parseInt(u.amount)*1e3)]})]})]}),S.jsxs("div",{className:"popup-actions",children:[S.jsx("button",{className:"cancel-btn",onClick:()=>l(!1),disabled:i,children:"Cancel"}),S.jsx("button",{className:"confirm-btn",onClick:g,disabled:i,children:i?"Processing...":"Confirm"})]})]})})]})};function hz(){return S.jsx(F2,{children:S.jsxs(v2,{children:[S.jsx(Ss,{path:"/",element:S.jsx(NV,{})}),S.jsxs(Ss,{element:S.jsx(PV,{}),children:[S.jsx(Ss,{path:"/dashboard",element:S.jsx(sz,{})}),S.jsx(Ss,{path:"/income",element:S.jsx(rz,{})}),S.jsx(Ss,{path:"/daily-income",element:S.jsx(lz,{})}),S.jsx(Ss,{path:"/savings",element:S.jsx(cz,{})}),S.jsx(Ss,{path:"/users",element:S.jsx(az,{})}),S.jsx(Ss,{path:"/absensi",element:S.jsx(oz,{})}),S.jsx(Ss,{path:"/other-transaction",element:S.jsx(uz,{})})]})]})})}AI.createRoot(document.getElementById("root")).render(S.jsx(pt.StrictMode,{children:S.jsx(hz,{})}));
