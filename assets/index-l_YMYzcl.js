(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function Fy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var vg={exports:{}},tu={};var xE;function gI(){if(xE)return tu;xE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var l=null;if(o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),"key"in r){o={};for(var u in r)u!=="key"&&(o[u]=r[u])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:o}}return tu.Fragment=t,tu.jsx=e,tu.jsxs=e,tu}var wE;function yI(){return wE||(wE=1,vg.exports=gI()),vg.exports}var C=yI(),bg={exports:{}},Mt={};var AE;function _I(){if(AE)return Mt;AE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),v=Symbol.iterator;function T(F){return F===null||typeof F!="object"?null:(F=v&&F[v]||F["@@iterator"],typeof F=="function"?F:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,w={};function O(F,nt,at){this.props=F,this.context=nt,this.refs=w,this.updater=at||x}O.prototype.isReactComponent={},O.prototype.setState=function(F,nt){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,nt,"setState")},O.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function V(){}V.prototype=O.prototype;function j(F,nt,at){this.props=F,this.context=nt,this.refs=w,this.updater=at||x}var $=j.prototype=new V;$.constructor=j,A($,O.prototype),$.isPureReactComponent=!0;var B=Array.isArray;function Y(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function M(F,nt,at){var ht=at.ref;return{$$typeof:n,type:F,key:nt,ref:ht!==void 0?ht:null,props:at}}function L(F,nt){return M(F.type,nt,F.props)}function P(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function z(F){var nt={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(at){return nt[at]})}var k=/\/+/g;function lt(F,nt){return typeof F=="object"&&F!==null&&F.key!=null?z(""+F.key):nt.toString(36)}function ut(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(Y,Y):(F.status="pending",F.then(function(nt){F.status==="pending"&&(F.status="fulfilled",F.value=nt)},function(nt){F.status==="pending"&&(F.status="rejected",F.reason=nt)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function q(F,nt,at,ht,pt){var bt=typeof F;(bt==="undefined"||bt==="boolean")&&(F=null);var Lt=!1;if(F===null)Lt=!0;else switch(bt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(F.$$typeof){case n:case t:Lt=!0;break;case g:return Lt=F._init,q(Lt(F._payload),nt,at,ht,pt)}}if(Lt)return pt=pt(F),Lt=ht===""?"."+lt(F,0):ht,B(pt)?(at="",Lt!=null&&(at=Lt.replace(k,"$&/")+"/"),q(pt,nt,at,"",function(fi){return fi})):pt!=null&&(P(pt)&&(pt=L(pt,at+(pt.key==null||F&&F.key===pt.key?"":(""+pt.key).replace(k,"$&/")+"/")+Lt)),nt.push(pt)),1;Lt=0;var Dt=ht===""?".":ht+":";if(B(F))for(var Jt=0;Jt<F.length;Jt++)ht=F[Jt],bt=Dt+lt(ht,Jt),Lt+=q(ht,nt,at,bt,pt);else if(Jt=T(F),typeof Jt=="function")for(F=Jt.call(F),Jt=0;!(ht=F.next()).done;)ht=ht.value,bt=Dt+lt(ht,Jt++),Lt+=q(ht,nt,at,bt,pt);else if(bt==="object"){if(typeof F.then=="function")return q(ut(F),nt,at,ht,pt);throw nt=String(F),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function et(F,nt,at){if(F==null)return F;var ht=[],pt=0;return q(F,ht,"","",function(bt){return nt.call(at,bt,pt++)}),ht}function ft(F){if(F._status===-1){var nt=F._result;nt=nt(),nt.then(function(at){(F._status===0||F._status===-1)&&(F._status=1,F._result=at)},function(at){(F._status===0||F._status===-1)&&(F._status=2,F._result=at)}),F._status===-1&&(F._status=0,F._result=nt)}if(F._status===1)return F._result.default;throw F._result}var vt=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},Ct={map:et,forEach:function(F,nt,at){et(F,function(){nt.apply(this,arguments)},at)},count:function(F){var nt=0;return et(F,function(){nt++}),nt},toArray:function(F){return et(F,function(nt){return nt})||[]},only:function(F){if(!P(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return Mt.Activity=y,Mt.Children=Ct,Mt.Component=O,Mt.Fragment=e,Mt.Profiler=r,Mt.PureComponent=j,Mt.StrictMode=i,Mt.Suspense=f,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Mt.__COMPILER_RUNTIME={__proto__:null,c:function(F){return I.H.useMemoCache(F)}},Mt.cache=function(F){return function(){return F.apply(null,arguments)}},Mt.cacheSignal=function(){return null},Mt.cloneElement=function(F,nt,at){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var ht=A({},F.props),pt=F.key;if(nt!=null)for(bt in nt.key!==void 0&&(pt=""+nt.key),nt)!R.call(nt,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&nt.ref===void 0||(ht[bt]=nt[bt]);var bt=arguments.length-2;if(bt===1)ht.children=at;else if(1<bt){for(var Lt=Array(bt),Dt=0;Dt<bt;Dt++)Lt[Dt]=arguments[Dt+2];ht.children=Lt}return M(F.type,pt,ht)},Mt.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:o,_context:F},F},Mt.createElement=function(F,nt,at){var ht,pt={},bt=null;if(nt!=null)for(ht in nt.key!==void 0&&(bt=""+nt.key),nt)R.call(nt,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(pt[ht]=nt[ht]);var Lt=arguments.length-2;if(Lt===1)pt.children=at;else if(1<Lt){for(var Dt=Array(Lt),Jt=0;Jt<Lt;Jt++)Dt[Jt]=arguments[Jt+2];pt.children=Dt}if(F&&F.defaultProps)for(ht in Lt=F.defaultProps,Lt)pt[ht]===void 0&&(pt[ht]=Lt[ht]);return M(F,bt,pt)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(F){return{$$typeof:u,render:F}},Mt.isValidElement=P,Mt.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:ft}},Mt.memo=function(F,nt){return{$$typeof:d,type:F,compare:nt===void 0?null:nt}},Mt.startTransition=function(F){var nt=I.T,at={};I.T=at;try{var ht=F(),pt=I.S;pt!==null&&pt(at,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(Y,vt)}catch(bt){vt(bt)}finally{nt!==null&&at.types!==null&&(nt.types=at.types),I.T=nt}},Mt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Mt.use=function(F){return I.H.use(F)},Mt.useActionState=function(F,nt,at){return I.H.useActionState(F,nt,at)},Mt.useCallback=function(F,nt){return I.H.useCallback(F,nt)},Mt.useContext=function(F){return I.H.useContext(F)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(F,nt){return I.H.useDeferredValue(F,nt)},Mt.useEffect=function(F,nt){return I.H.useEffect(F,nt)},Mt.useEffectEvent=function(F){return I.H.useEffectEvent(F)},Mt.useId=function(){return I.H.useId()},Mt.useImperativeHandle=function(F,nt,at){return I.H.useImperativeHandle(F,nt,at)},Mt.useInsertionEffect=function(F,nt){return I.H.useInsertionEffect(F,nt)},Mt.useLayoutEffect=function(F,nt){return I.H.useLayoutEffect(F,nt)},Mt.useMemo=function(F,nt){return I.H.useMemo(F,nt)},Mt.useOptimistic=function(F,nt){return I.H.useOptimistic(F,nt)},Mt.useReducer=function(F,nt,at){return I.H.useReducer(F,nt,at)},Mt.useRef=function(F){return I.H.useRef(F)},Mt.useState=function(F){return I.H.useState(F)},Mt.useSyncExternalStore=function(F,nt,at){return I.H.useSyncExternalStore(F,nt,at)},Mt.useTransition=function(){return I.H.useTransition()},Mt.version="19.2.0",Mt}var RE;function Hy(){return RE||(RE=1,bg.exports=_I()),bg.exports}var W=Hy();const mt=Fy(W);var Eg={exports:{}},eu={},Tg={exports:{}},Sg={};var CE;function vI(){return CE||(CE=1,(function(n){function t(q,et){var ft=q.length;q.push(et);t:for(;0<ft;){var vt=ft-1>>>1,Ct=q[vt];if(0<r(Ct,et))q[vt]=et,q[ft]=Ct,ft=vt;else break t}}function e(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var et=q[0],ft=q.pop();if(ft!==et){q[0]=ft;t:for(var vt=0,Ct=q.length,F=Ct>>>1;vt<F;){var nt=2*(vt+1)-1,at=q[nt],ht=nt+1,pt=q[ht];if(0>r(at,ft))ht<Ct&&0>r(pt,at)?(q[vt]=pt,q[ht]=ft,vt=ht):(q[vt]=at,q[nt]=ft,vt=nt);else if(ht<Ct&&0>r(pt,ft))q[vt]=pt,q[ht]=ft,vt=ht;else break t}}return et}function r(q,et){var ft=q.sortIndex-et.sortIndex;return ft!==0?ft:q.id-et.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var f=[],d=[],g=1,y=null,v=3,T=!1,x=!1,A=!1,w=!1,O=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function $(q){for(var et=e(d);et!==null;){if(et.callback===null)i(d);else if(et.startTime<=q)i(d),et.sortIndex=et.expirationTime,t(f,et);else break;et=e(d)}}function B(q){if(A=!1,$(q),!x)if(e(f)!==null)x=!0,Y||(Y=!0,z());else{var et=e(d);et!==null&&ut(B,et.startTime-q)}}var Y=!1,I=-1,R=5,M=-1;function L(){return w?!0:!(n.unstable_now()-M<R)}function P(){if(w=!1,Y){var q=n.unstable_now();M=q;var et=!0;try{t:{x=!1,A&&(A=!1,V(I),I=-1),T=!0;var ft=v;try{e:{for($(q),y=e(f);y!==null&&!(y.expirationTime>q&&L());){var vt=y.callback;if(typeof vt=="function"){y.callback=null,v=y.priorityLevel;var Ct=vt(y.expirationTime<=q);if(q=n.unstable_now(),typeof Ct=="function"){y.callback=Ct,$(q),et=!0;break e}y===e(f)&&i(f),$(q)}else i(f);y=e(f)}if(y!==null)et=!0;else{var F=e(d);F!==null&&ut(B,F.startTime-q),et=!1}}break t}finally{y=null,v=ft,T=!1}et=void 0}}finally{et?z():Y=!1}}}var z;if(typeof j=="function")z=function(){j(P)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,lt=k.port2;k.port1.onmessage=P,z=function(){lt.postMessage(null)}}else z=function(){O(P,0)};function ut(q,et){I=O(function(){q(n.unstable_now())},et)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(q){switch(v){case 1:case 2:case 3:var et=3;break;default:et=v}var ft=v;v=et;try{return q()}finally{v=ft}},n.unstable_requestPaint=function(){w=!0},n.unstable_runWithPriority=function(q,et){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ft=v;v=q;try{return et()}finally{v=ft}},n.unstable_scheduleCallback=function(q,et,ft){var vt=n.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?vt+ft:vt):ft=vt,q){case 1:var Ct=-1;break;case 2:Ct=250;break;case 5:Ct=1073741823;break;case 4:Ct=1e4;break;default:Ct=5e3}return Ct=ft+Ct,q={id:g++,callback:et,priorityLevel:q,startTime:ft,expirationTime:Ct,sortIndex:-1},ft>vt?(q.sortIndex=ft,t(d,q),e(f)===null&&q===e(d)&&(A?(V(I),I=-1):A=!0,ut(B,ft-vt))):(q.sortIndex=Ct,t(f,q),x||T||(x=!0,Y||(Y=!0,z()))),q},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(q){var et=v;return function(){var ft=v;v=et;try{return q.apply(this,arguments)}finally{v=ft}}}})(Sg)),Sg}var IE;function bI(){return IE||(IE=1,Tg.exports=vI()),Tg.exports}var xg={exports:{}},Sn={};var DE;function EI(){if(DE)return Sn;DE=1;var n=Hy();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,d,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:f,containerInfo:d,implementation:g}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Sn.createPortal=function(f,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,g)},Sn.flushSync=function(f){var d=l.T,g=i.p;try{if(l.T=null,i.p=2,f)return f()}finally{l.T=d,i.p=g,i.d.f()}},Sn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},Sn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Sn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var g=d.as,y=u(g,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,T=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:T}):g==="script"&&i.d.X(f,{crossOrigin:y,integrity:v,fetchPriority:T,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Sn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=u(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},Sn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,y=u(g,d.crossOrigin);i.d.L(f,g,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Sn.preloadModule=function(f,d){if(typeof f=="string")if(d){var g=u(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},Sn.requestFormReset=function(f){i.d.r(f)},Sn.unstable_batchedUpdates=function(f,d){return f(d)},Sn.useFormState=function(f,d,g){return l.H.useFormState(f,d,g)},Sn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Sn.version="19.2.0",Sn}var ME;function Hx(){if(ME)return xg.exports;ME=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),xg.exports=EI(),xg.exports}var OE;function TI(){if(OE)return eu;OE=1;var n=bI(),t=Hy(),e=Hx();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function l(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function u(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function f(s){if(o(s)!==s)throw Error(i(188))}function d(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var c=s,h=a;;){var p=c.return;if(p===null)break;var _=p.alternate;if(_===null){if(h=p.return,h!==null){c=h;continue}break}if(p.child===_.child){for(_=p.child;_;){if(_===c)return f(p),s;if(_===h)return f(p),a;_=_.sibling}throw Error(i(188))}if(c.return!==h.return)c=p,h=_;else{for(var E=!1,D=p.child;D;){if(D===c){E=!0,c=p,h=_;break}if(D===h){E=!0,h=p,c=_;break}D=D.sibling}if(!E){for(D=_.child;D;){if(D===c){E=!0,c=_,h=p;break}if(D===h){E=!0,h=_,c=p;break}D=D.sibling}if(!E)throw Error(i(189))}}if(c.alternate!==h)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?s:a}function g(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=g(s),a!==null)return a;s=s.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),j=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=P&&s[P]||s["@@iterator"],typeof s=="function"?s:null)}var k=Symbol.for("react.client.reference");function lt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===k?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case O:return"Profiler";case w:return"StrictMode";case B:return"Suspense";case Y:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case x:return"Portal";case j:return s.displayName||"Context";case V:return(s._context.displayName||"Context")+".Consumer";case $:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case I:return a=s.displayName||null,a!==null?a:lt(s.type)||"Memo";case R:a=s._payload,s=s._init;try{return lt(s(a))}catch{}}return null}var ut=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},vt=[],Ct=-1;function F(s){return{current:s}}function nt(s){0>Ct||(s.current=vt[Ct],vt[Ct]=null,Ct--)}function at(s,a){Ct++,vt[Ct]=s.current,s.current=a}var ht=F(null),pt=F(null),bt=F(null),Lt=F(null);function Dt(s,a){switch(at(bt,a),at(pt,s),at(ht,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?W0(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=W0(a),s=$0(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}nt(ht),at(ht,s)}function Jt(){nt(ht),nt(pt),nt(bt)}function fi(s){s.memoizedState!==null&&at(Lt,s);var a=ht.current,c=$0(a,s.type);a!==c&&(at(pt,s),at(ht,c))}function Di(s){pt.current===s&&(nt(ht),nt(pt)),Lt.current===s&&(nt(Lt),Xc._currentValue=ft)}var Qn,br;function Vn(s){if(Qn===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Qn=a&&a[1]||"",br=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qn+s+br}var ka=!1;function Ji(s,a){if(!s||ka)return"";ka=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var ot=function(){throw Error()};if(Object.defineProperty(ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ot,[])}catch(tt){var J=tt}Reflect.construct(s,[],ot)}else{try{ot.call()}catch(tt){J=tt}s.call(ot.prototype)}}else{try{throw Error()}catch(tt){J=tt}(ot=s())&&typeof ot.catch=="function"&&ot.catch(function(){})}}catch(tt){if(tt&&J&&typeof tt.stack=="string")return[tt.stack,J.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),E=_[0],D=_[1];if(E&&D){var U=E.split(`
`),Q=D.split(`
`);for(p=h=0;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;for(;p<Q.length&&!Q[p].includes("DetermineComponentFrameRoot");)p++;if(h===U.length||p===Q.length)for(h=U.length-1,p=Q.length-1;1<=h&&0<=p&&U[h]!==Q[p];)p--;for(;1<=h&&0<=p;h--,p--)if(U[h]!==Q[p]){if(h!==1||p!==1)do if(h--,p--,0>p||U[h]!==Q[p]){var it=`
`+U[h].replace(" at new "," at ");return s.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",s.displayName)),it}while(1<=h&&0<=p);break}}}finally{ka=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?Vn(c):""}function Mi(s,a){switch(s.tag){case 26:case 27:case 5:return Vn(s.type);case 16:return Vn("Lazy");case 13:return s.child!==a&&a!==null?Vn("Suspense Fallback"):Vn("Suspense");case 19:return Vn("SuspenseList");case 0:case 15:return Ji(s.type,!1);case 11:return Ji(s.type.render,!1);case 1:return Ji(s.type,!0);case 31:return Vn("Activity");default:return""}}function Er(s){try{var a="",c=null;do a+=Mi(s,c),c=s,s=s.return;while(s);return a}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var ee=Object.prototype.hasOwnProperty,Oe=n.unstable_scheduleCallback,Zi=n.unstable_cancelCallback,cn=n.unstable_shouldYield,Oi=n.unstable_requestPaint,un=n.unstable_now,ks=n.unstable_getCurrentPriorityLevel,ts=n.unstable_ImmediatePriority,Pa=n.unstable_UserBlockingPriority,Ni=n.unstable_NormalPriority,La=n.unstable_LowPriority,ki=n.unstable_IdlePriority,Va=n.log,Pi=n.unstable_setDisableYieldValue,Jn=null,Qe=null;function On(s){if(typeof Va=="function"&&Pi(s),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(Jn,s)}catch{}}var Ee=Math.clz32?Math.clz32:Zn,Po=Math.log,es=Math.LN2;function Zn(s){return s>>>=0,s===0?32:31-(Po(s)/es|0)|0}var di=256,Ps=262144,Ae=4194304;function ti(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function xt(s,a,c){var h=s.pendingLanes;if(h===0)return 0;var p=0,_=s.suspendedLanes,E=s.pingedLanes;s=s.warmLanes;var D=h&134217727;return D!==0?(h=D&~_,h!==0?p=ti(h):(E&=D,E!==0?p=ti(E):c||(c=D&~s,c!==0&&(p=ti(c))))):(D=h&~_,D!==0?p=ti(D):E!==0?p=ti(E):c||(c=h&~s,c!==0&&(p=ti(c)))),p===0?0:a!==0&&a!==p&&(a&_)===0&&(_=p&-p,c=a&-a,_>=c||_===32&&(c&4194048)!==0)?a:p}function ne(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function je(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nn(){var s=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),s}function Nn(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function ge(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Tn(s,a,c,h,p,_){var E=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var D=s.entanglements,U=s.expirationTimes,Q=s.hiddenUpdates;for(c=E&~c;0<c;){var it=31-Ee(c),ot=1<<it;D[it]=0,U[it]=-1;var J=Q[it];if(J!==null)for(Q[it]=null,it=0;it<J.length;it++){var tt=J[it];tt!==null&&(tt.lane&=-536870913)}c&=~ot}h!==0&&mi(s,h,0),_!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=_&~(E&~a))}function mi(s,a,c){s.pendingLanes|=a,s.suspendedLanes&=~a;var h=31-Ee(a);s.entangledLanes|=a,s.entanglements[h]=s.entanglements[h]|1073741824|c&261930}function hn(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var h=31-Ee(c),p=1<<h;p&a|s[h]&a&&(s[h]|=a),c&=~p}}function fn(s,a){var c=a&-a;return c=(c&42)!==0?1:ns(c),(c&(s.suspendedLanes|a))!==0?0:c}function ns(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function dn(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function nc(){var s=et.p;return s!==0?s:(s=window.event,s===void 0?32:yE(s.type))}function Li(s,a){var c=et.p;try{return et.p=s,a()}finally{et.p=c}}var Vi=Math.random().toString(36).slice(2),Ue="__reactFiber$"+Vi,sn="__reactProps$"+Vi,is="__reactContainer$"+Vi,Lo="__reactEvents$"+Vi,wm="__reactListeners$"+Vi,dh="__reactHandles$"+Vi,mh="__reactResources$"+Vi,ss="__reactMarker$"+Vi;function Vo(s){delete s[Ue],delete s[sn],delete s[Lo],delete s[wm],delete s[dh]}function rs(s){var a=s[Ue];if(a)return a;for(var c=s.parentNode;c;){if(a=c[is]||c[Ue]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=eE(s);s!==null;){if(c=s[Ue])return c;s=eE(s)}return a}s=c,c=s.parentNode}return null}function pi(s){if(s=s[Ue]||s[is]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function ei(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function as(s){var a=s[mh];return a||(a=s[mh]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Be(s){s[ss]=!0}var ic=new Set,sc={};function os(s,a){ls(s,a),ls(s+"Capture",a)}function ls(s,a){for(sc[s]=a,s=0;s<a.length;s++)ic.add(a[s])}var rc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ac={},oc={};function ph(s){return ee.call(oc,s)?!0:ee.call(ac,s)?!1:rc.test(s)?oc[s]=!0:(ac[s]=!0,!1)}function zo(s,a,c){if(ph(a))if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+c)}}function ni(s,a,c){if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+c)}}function Fe(s,a,c,h){if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(a,c,""+h)}}function rn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Tr(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function lc(s,a,c){var h=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var p=h.get,_=h.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return p.call(this)},set:function(E){c=""+E,_.call(this,E)}}),Object.defineProperty(s,a,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function se(s){if(!s._valueTracker){var a=Tr(s)?"checked":"value";s._valueTracker=lc(s,a,""+s[a])}}function za(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return s&&(h=Tr(s)?s.checked?"true":"false":s.value),s=h,s!==c?(a.setValue(s),!0):!1}function cs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ja=/[\n"\\]/g;function zn(s){return s.replace(ja,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function jo(s,a,c,h,p,_,E,D){s.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?s.type=E:s.removeAttribute("type"),a!=null?E==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+rn(a)):s.value!==""+rn(a)&&(s.value=""+rn(a)):E!=="submit"&&E!=="reset"||s.removeAttribute("value"),a!=null?cc(s,E,rn(a)):c!=null?cc(s,E,rn(c)):h!=null&&s.removeAttribute("value"),p==null&&_!=null&&(s.defaultChecked=!!_),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?s.name=""+rn(D):s.removeAttribute("name")}function gh(s,a,c,h,p,_,E,D){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.type=_),a!=null||c!=null){if(!(_!=="submit"&&_!=="reset"||a!=null)){se(s);return}c=c!=null?""+rn(c):"",a=a!=null?""+rn(a):c,D||a===s.value||(s.value=a),s.defaultValue=a}h=h??p,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=D?s.checked:!!h,s.defaultChecked=!!h,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.name=E),se(s)}function cc(s,a,c){a==="number"&&cs(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Sr(s,a,c,h){if(s=s.options,a){a={};for(var p=0;p<c.length;p++)a["$"+c[p]]=!0;for(c=0;c<s.length;c++)p=a.hasOwnProperty("$"+s[c].value),s[c].selected!==p&&(s[c].selected=p),p&&h&&(s[c].defaultSelected=!0)}else{for(c=""+rn(c),a=null,p=0;p<s.length;p++){if(s[p].value===c){s[p].selected=!0,h&&(s[p].defaultSelected=!0);return}a!==null||s[p].disabled||(a=s[p])}a!==null&&(a.selected=!0)}}function yh(s,a,c){if(a!=null&&(a=""+rn(a),a!==s.value&&(s.value=a),c==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=c!=null?""+rn(c):""}function xr(s,a,c,h){if(a==null){if(h!=null){if(c!=null)throw Error(i(92));if(ut(h)){if(1<h.length)throw Error(i(93));h=h[0]}c=h}c==null&&(c=""),a=c}c=rn(a),s.defaultValue=c,h=s.textContent,h===c&&h!==""&&h!==null&&(s.value=h),se(s)}function jn(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var _h=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uc(s,a,c){var h=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":h?s.setProperty(a,c):typeof c!="number"||c===0||_h.has(a)?a==="float"?s.cssFloat=c:s[a]=(""+c).trim():s[a]=c+"px"}function hc(s,a,c){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var p in a)h=a[p],a.hasOwnProperty(p)&&c[p]!==h&&uc(s,p,h)}else for(var _ in a)a.hasOwnProperty(_)&&uc(s,_,a[_])}function Uo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bo(s){return wr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function zi(){}var fc=null;function gi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ar=null,us=null;function Ua(s){var a=pi(s);if(a&&(s=a.stateNode)){var c=s[sn]||null;t:switch(s=a.stateNode,a.type){case"input":if(jo(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+zn(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==s&&h.form===s.form){var p=h[sn]||null;if(!p)throw Error(i(90));jo(h,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<c.length;a++)h=c[a],h.form===s.form&&za(h)}break t;case"textarea":yh(s,c.value,c.defaultValue);break t;case"select":a=c.value,a!=null&&Sr(s,!!c.multiple,a,!1)}}}var Fo=!1;function Rr(s,a,c){if(Fo)return s(a,c);Fo=!0;try{var h=s(a);return h}finally{if(Fo=!1,(Ar!==null||us!==null)&&(df(),Ar&&(a=Ar,s=us,us=Ar=null,Ua(a),s)))for(a=0;a<s.length;a++)Ua(s[a])}}function ji(s,a){var c=s.stateNode;if(c===null)return null;var h=c[sn]||null;if(h===null)return null;c=h[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break t;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(i(231,a,typeof c));return c}var yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ba=!1;if(yi)try{var le={};Object.defineProperty(le,"passive",{get:function(){Ba=!0}}),window.addEventListener("test",le,le),window.removeEventListener("test",le,le)}catch{Ba=!1}var hs=null,dc=null,Fa=null;function mc(){if(Fa)return Fa;var s,a=dc,c=a.length,h,p="value"in hs?hs.value:hs.textContent,_=p.length;for(s=0;s<c&&a[s]===p[s];s++);var E=c-s;for(h=1;h<=E&&a[c-h]===p[_-h];h++);return Fa=p.slice(s,1<h?1-h:void 0)}function Ha(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Ls(){return!0}function Ui(){return!1}function mn(s){function a(c,h,p,_,E){this._reactName=c,this._targetInst=p,this.type=h,this.nativeEvent=_,this.target=E,this.currentTarget=null;for(var D in s)s.hasOwnProperty(D)&&(c=s[D],this[D]=c?c(_):_[D]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ls:Ui,this.isPropagationStopped=Ui,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ls)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ls)},persist:function(){},isPersistent:Ls}),a}var Vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fs=mn(Vs),Cr=y({},Vs,{view:0,detail:0}),pc=mn(Cr),Ir,Ho,ds,qo=y({},Cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ds&&(ds&&s.type==="mousemove"?(Ir=s.screenX-ds.screenX,Ho=s.screenY-ds.screenY):Ho=Ir=0,ds=s),Ir)},movementY:function(s){return"movementY"in s?s.movementY:Ho}}),gc=mn(qo),qa=y({},qo,{dataTransfer:0}),bh=mn(qa),Eh=y({},Cr,{relatedTarget:0}),Ga=mn(Eh),yc=y({},Vs,{animationName:0,elapsedTime:0,pseudoElement:0}),Th=mn(yc),Go=y({},Vs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Sh=mn(Go),xh=y({},Vs,{data:0}),ms=mn(xh),wh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ah={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ch(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Rh[s])?!!a[s]:!1}function Dr(){return Ch}var kn=y({},Cr,{key:function(s){if(s.key){var a=wh[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Ha(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ah[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dr,charCode:function(s){return s.type==="keypress"?Ha(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ha(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ih=mn(kn),Dh=y({},qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zs=mn(Dh),m=y({},Cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dr}),b=mn(m),S=y({},Vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=mn(S),K=y({},qo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Z=mn(K),dt=y({},Vs,{newState:0,oldState:0}),kt=mn(dt),Ne=[9,13,27,32],Zt=yi&&"CompositionEvent"in window,Te=null;yi&&"documentMode"in document&&(Te=document.documentMode);var _i=yi&&"TextEvent"in window&&!Te,ps=yi&&(!Zt||Te&&8<Te&&11>=Te),Bi=" ",Fi=!1;function Ya(s,a){switch(s){case"keyup":return Ne.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Wo=!1;function UR(s,a){switch(s){case"compositionend":return Yo(a);case"keypress":return a.which!==32?null:(Fi=!0,Bi);case"textInput":return s=a.data,s===Bi&&Fi?null:s;default:return null}}function BR(s,a){if(Wo)return s==="compositionend"||!Zt&&Ya(s,a)?(s=mc(),Fa=dc=hs=null,Wo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ps&&a.locale!=="ko"?null:a.data;default:return null}}var FR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sv(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!FR[s.type]:a==="textarea"}function rv(s,a,c,h){Ar?us?us.push(h):us=[h]:Ar=h,a=bf(a,"onChange"),0<a.length&&(c=new fs("onChange","change",null,c,h),s.push({event:c,listeners:a}))}var _c=null,vc=null;function HR(s){B0(s,0)}function Mh(s){var a=ei(s);if(za(a))return s}function av(s,a){if(s==="change")return a}var ov=!1;if(yi){var Am;if(yi){var Rm="oninput"in document;if(!Rm){var lv=document.createElement("div");lv.setAttribute("oninput","return;"),Rm=typeof lv.oninput=="function"}Am=Rm}else Am=!1;ov=Am&&(!document.documentMode||9<document.documentMode)}function cv(){_c&&(_c.detachEvent("onpropertychange",uv),vc=_c=null)}function uv(s){if(s.propertyName==="value"&&Mh(vc)){var a=[];rv(a,vc,s,gi(s)),Rr(HR,a)}}function qR(s,a,c){s==="focusin"?(cv(),_c=a,vc=c,_c.attachEvent("onpropertychange",uv)):s==="focusout"&&cv()}function GR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Mh(vc)}function YR(s,a){if(s==="click")return Mh(a)}function WR(s,a){if(s==="input"||s==="change")return Mh(a)}function $R(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var ii=typeof Object.is=="function"?Object.is:$R;function bc(s,a){if(ii(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var p=c[h];if(!ee.call(a,p)||!ii(s[p],a[p]))return!1}return!0}function hv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function fv(s,a){var c=hv(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=a&&h>=a)return{node:c,offset:a-s};s=h}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=hv(c)}}function dv(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?dv(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function mv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=cs(s.document);a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=cs(s.document)}return a}function Cm(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var KR=yi&&"documentMode"in document&&11>=document.documentMode,$o=null,Im=null,Ec=null,Dm=!1;function pv(s,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Dm||$o==null||$o!==cs(h)||(h=$o,"selectionStart"in h&&Cm(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ec&&bc(Ec,h)||(Ec=h,h=bf(Im,"onSelect"),0<h.length&&(a=new fs("onSelect","select",null,a,c),s.push({event:a,listeners:h}),a.target=$o)))}function Wa(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Ko={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionrun:Wa("Transition","TransitionRun"),transitionstart:Wa("Transition","TransitionStart"),transitioncancel:Wa("Transition","TransitionCancel"),transitionend:Wa("Transition","TransitionEnd")},Mm={},gv={};yi&&(gv=document.createElement("div").style,"AnimationEvent"in window||(delete Ko.animationend.animation,delete Ko.animationiteration.animation,delete Ko.animationstart.animation),"TransitionEvent"in window||delete Ko.transitionend.transition);function $a(s){if(Mm[s])return Mm[s];if(!Ko[s])return s;var a=Ko[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in gv)return Mm[s]=a[c];return s}var yv=$a("animationend"),_v=$a("animationiteration"),vv=$a("animationstart"),XR=$a("transitionrun"),QR=$a("transitionstart"),JR=$a("transitioncancel"),bv=$a("transitionend"),Ev=new Map,Om="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Om.push("scrollEnd");function Hi(s,a){Ev.set(s,a),os(a,[s])}var Oh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},vi=[],Xo=0,Nm=0;function Nh(){for(var s=Xo,a=Nm=Xo=0;a<s;){var c=vi[a];vi[a++]=null;var h=vi[a];vi[a++]=null;var p=vi[a];vi[a++]=null;var _=vi[a];if(vi[a++]=null,h!==null&&p!==null){var E=h.pending;E===null?p.next=p:(p.next=E.next,E.next=p),h.pending=p}_!==0&&Tv(c,p,_)}}function kh(s,a,c,h){vi[Xo++]=s,vi[Xo++]=a,vi[Xo++]=c,vi[Xo++]=h,Nm|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function km(s,a,c,h){return kh(s,a,c,h),Ph(s)}function Ka(s,a){return kh(s,null,null,a),Ph(s)}function Tv(s,a,c){s.lanes|=c;var h=s.alternate;h!==null&&(h.lanes|=c);for(var p=!1,_=s.return;_!==null;)_.childLanes|=c,h=_.alternate,h!==null&&(h.childLanes|=c),_.tag===22&&(s=_.stateNode,s===null||s._visibility&1||(p=!0)),s=_,_=_.return;return s.tag===3?(_=s.stateNode,p&&a!==null&&(p=31-Ee(c),s=_.hiddenUpdates,h=s[p],h===null?s[p]=[a]:h.push(a),a.lane=c|536870912),_):null}function Ph(s){if(50<Hc)throw Hc=0,Hp=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Qo={};function ZR(s,a,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(s,a,c,h){return new ZR(s,a,c,h)}function Pm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function js(s,a){var c=s.alternate;return c===null?(c=si(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function Sv(s,a){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,a=c.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Lh(s,a,c,h,p,_){var E=0;if(h=s,typeof s=="function")Pm(s)&&(E=1);else if(typeof s=="string")E=sI(s,c,ht.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case M:return s=si(31,c,a,p),s.elementType=M,s.lanes=_,s;case A:return Xa(c.children,p,_,a);case w:E=8,p|=24;break;case O:return s=si(12,c,a,p|2),s.elementType=O,s.lanes=_,s;case B:return s=si(13,c,a,p),s.elementType=B,s.lanes=_,s;case Y:return s=si(19,c,a,p),s.elementType=Y,s.lanes=_,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case j:E=10;break t;case V:E=9;break t;case $:E=11;break t;case I:E=14;break t;case R:E=16,h=null;break t}E=29,c=Error(i(130,s===null?"null":typeof s,"")),h=null}return a=si(E,c,a,p),a.elementType=s,a.type=h,a.lanes=_,a}function Xa(s,a,c,h){return s=si(7,s,h,a),s.lanes=c,s}function Lm(s,a,c){return s=si(6,s,null,a),s.lanes=c,s}function xv(s){var a=si(18,null,null,0);return a.stateNode=s,a}function Vm(s,a,c){return a=si(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var wv=new WeakMap;function bi(s,a){if(typeof s=="object"&&s!==null){var c=wv.get(s);return c!==void 0?c:(a={value:s,source:a,stack:Er(a)},wv.set(s,a),a)}return{value:s,source:a,stack:Er(a)}}var Jo=[],Zo=0,Vh=null,Tc=0,Ei=[],Ti=0,Mr=null,gs=1,ys="";function Us(s,a){Jo[Zo++]=Tc,Jo[Zo++]=Vh,Vh=s,Tc=a}function Av(s,a,c){Ei[Ti++]=gs,Ei[Ti++]=ys,Ei[Ti++]=Mr,Mr=s;var h=gs;s=ys;var p=32-Ee(h)-1;h&=~(1<<p),c+=1;var _=32-Ee(a)+p;if(30<_){var E=p-p%5;_=(h&(1<<E)-1).toString(32),h>>=E,p-=E,gs=1<<32-Ee(a)+p|c<<p|h,ys=_+s}else gs=1<<_|c<<p|h,ys=s}function zm(s){s.return!==null&&(Us(s,1),Av(s,1,0))}function jm(s){for(;s===Vh;)Vh=Jo[--Zo],Jo[Zo]=null,Tc=Jo[--Zo],Jo[Zo]=null;for(;s===Mr;)Mr=Ei[--Ti],Ei[Ti]=null,ys=Ei[--Ti],Ei[Ti]=null,gs=Ei[--Ti],Ei[Ti]=null}function Rv(s,a){Ei[Ti++]=gs,Ei[Ti++]=ys,Ei[Ti++]=Mr,gs=a.id,ys=a.overflow,Mr=s}var pn=null,ye=null,Wt=!1,Or=null,Si=!1,Um=Error(i(519));function Nr(s){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sc(bi(a,s)),Um}function Cv(s){var a=s.stateNode,c=s.type,h=s.memoizedProps;switch(a[Ue]=s,a[sn]=h,c){case"dialog":jt("cancel",a),jt("close",a);break;case"iframe":case"object":case"embed":jt("load",a);break;case"video":case"audio":for(c=0;c<Gc.length;c++)jt(Gc[c],a);break;case"source":jt("error",a);break;case"img":case"image":case"link":jt("error",a),jt("load",a);break;case"details":jt("toggle",a);break;case"input":jt("invalid",a),gh(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":jt("invalid",a);break;case"textarea":jt("invalid",a),xr(a,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||h.suppressHydrationWarning===!0||G0(a.textContent,c)?(h.popover!=null&&(jt("beforetoggle",a),jt("toggle",a)),h.onScroll!=null&&jt("scroll",a),h.onScrollEnd!=null&&jt("scrollend",a),h.onClick!=null&&(a.onclick=zi),a=!0):a=!1,a||Nr(s,!0)}function Iv(s){for(pn=s.return;pn;)switch(pn.tag){case 5:case 31:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:pn=pn.return}}function tl(s){if(s!==pn)return!1;if(!Wt)return Iv(s),Wt=!0,!1;var a=s.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||sg(s.type,s.memoizedProps)),c=!c),c&&ye&&Nr(s),Iv(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ye=tE(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ye=tE(s)}else a===27?(a=ye,Wr(s.type)?(s=cg,cg=null,ye=s):ye=a):ye=pn?wi(s.stateNode.nextSibling):null;return!0}function Qa(){ye=pn=null,Wt=!1}function Bm(){var s=Or;return s!==null&&(Hn===null?Hn=s:Hn.push.apply(Hn,s),Or=null),s}function Sc(s){Or===null?Or=[s]:Or.push(s)}var Fm=F(null),Ja=null,Bs=null;function kr(s,a,c){at(Fm,a._currentValue),a._currentValue=c}function Fs(s){s._currentValue=Fm.current,nt(Fm)}function Hm(s,a,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===c)break;s=s.return}}function qm(s,a,c,h){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var _=p.dependencies;if(_!==null){var E=p.child;_=_.firstContext;t:for(;_!==null;){var D=_;_=p;for(var U=0;U<a.length;U++)if(D.context===a[U]){_.lanes|=c,D=_.alternate,D!==null&&(D.lanes|=c),Hm(_.return,c,s),h||(E=null);break t}_=D.next}}else if(p.tag===18){if(E=p.return,E===null)throw Error(i(341));E.lanes|=c,_=E.alternate,_!==null&&(_.lanes|=c),Hm(E,c,s),E=null}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===s){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}}function el(s,a,c,h){s=null;for(var p=a,_=!1;p!==null;){if(!_){if((p.flags&524288)!==0)_=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var E=p.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var D=p.type;ii(p.pendingProps.value,E.value)||(s!==null?s.push(D):s=[D])}}else if(p===Lt.current){if(E=p.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(Xc):s=[Xc])}p=p.return}s!==null&&qm(a,s,c,h),a.flags|=262144}function zh(s){for(s=s.firstContext;s!==null;){if(!ii(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Za(s){Ja=s,Bs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function gn(s){return Dv(Ja,s)}function jh(s,a){return Ja===null&&Za(s),Dv(s,a)}function Dv(s,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},Bs===null){if(s===null)throw Error(i(308));Bs=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Bs=Bs.next=a;return c}var tC=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(c,h){s.push(h)}};this.abort=function(){a.aborted=!0,s.forEach(function(c){return c()})}},eC=n.unstable_scheduleCallback,nC=n.unstable_NormalPriority,He={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gm(){return{controller:new tC,data:new Map,refCount:0}}function xc(s){s.refCount--,s.refCount===0&&eC(nC,function(){s.controller.abort()})}var wc=null,Ym=0,nl=0,il=null;function iC(s,a){if(wc===null){var c=wc=[];Ym=0,nl=Kp(),il={status:"pending",value:void 0,then:function(h){c.push(h)}}}return Ym++,a.then(Mv,Mv),a}function Mv(){if(--Ym===0&&wc!==null){il!==null&&(il.status="fulfilled");var s=wc;wc=null,nl=0,il=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function sC(s,a){var c=[],h={status:"pending",value:null,reason:null,then:function(p){c.push(p)}};return s.then(function(){h.status="fulfilled",h.value=a;for(var p=0;p<c.length;p++)(0,c[p])(a)},function(p){for(h.status="rejected",h.reason=p,p=0;p<c.length;p++)(0,c[p])(void 0)}),h}var Ov=q.S;q.S=function(s,a){p0=un(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&iC(s,a),Ov!==null&&Ov(s,a)};var to=F(null);function Wm(){var s=to.current;return s!==null?s:fe.pooledCache}function Uh(s,a){a===null?at(to,to.current):at(to,a.pool)}function Nv(){var s=Wm();return s===null?null:{parent:He._currentValue,pool:s}}var sl=Error(i(460)),$m=Error(i(474)),Bh=Error(i(542)),Fh={then:function(){}};function kv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Pv(s,a,c){switch(c=s[c],c===void 0?s.push(a):c!==a&&(a.then(zi,zi),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Vv(s),s;default:if(typeof a.status=="string")a.then(zi,zi);else{if(s=fe,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(h){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=h}},function(h){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Vv(s),s}throw no=a,sl}}function eo(s){try{var a=s._init;return a(s._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(no=c,sl):c}}var no=null;function Lv(){if(no===null)throw Error(i(459));var s=no;return no=null,s}function Vv(s){if(s===sl||s===Bh)throw Error(i(483))}var rl=null,Ac=0;function Hh(s){var a=Ac;return Ac+=1,rl===null&&(rl=[]),Pv(rl,s,a)}function Rc(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function qh(s,a){throw a.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function zv(s){function a(G,H){if(s){var X=G.deletions;X===null?(G.deletions=[H],G.flags|=16):X.push(H)}}function c(G,H){if(!s)return null;for(;H!==null;)a(G,H),H=H.sibling;return null}function h(G){for(var H=new Map;G!==null;)G.key!==null?H.set(G.key,G):H.set(G.index,G),G=G.sibling;return H}function p(G,H){return G=js(G,H),G.index=0,G.sibling=null,G}function _(G,H,X){return G.index=X,s?(X=G.alternate,X!==null?(X=X.index,X<H?(G.flags|=67108866,H):X):(G.flags|=67108866,H)):(G.flags|=1048576,H)}function E(G){return s&&G.alternate===null&&(G.flags|=67108866),G}function D(G,H,X,st){return H===null||H.tag!==6?(H=Lm(X,G.mode,st),H.return=G,H):(H=p(H,X),H.return=G,H)}function U(G,H,X,st){var Tt=X.type;return Tt===A?it(G,H,X.props.children,st,X.key):H!==null&&(H.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===R&&eo(Tt)===H.type)?(H=p(H,X.props),Rc(H,X),H.return=G,H):(H=Lh(X.type,X.key,X.props,null,G.mode,st),Rc(H,X),H.return=G,H)}function Q(G,H,X,st){return H===null||H.tag!==4||H.stateNode.containerInfo!==X.containerInfo||H.stateNode.implementation!==X.implementation?(H=Vm(X,G.mode,st),H.return=G,H):(H=p(H,X.children||[]),H.return=G,H)}function it(G,H,X,st,Tt){return H===null||H.tag!==7?(H=Xa(X,G.mode,st,Tt),H.return=G,H):(H=p(H,X),H.return=G,H)}function ot(G,H,X){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Lm(""+H,G.mode,X),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case T:return X=Lh(H.type,H.key,H.props,null,G.mode,X),Rc(X,H),X.return=G,X;case x:return H=Vm(H,G.mode,X),H.return=G,H;case R:return H=eo(H),ot(G,H,X)}if(ut(H)||z(H))return H=Xa(H,G.mode,X,null),H.return=G,H;if(typeof H.then=="function")return ot(G,Hh(H),X);if(H.$$typeof===j)return ot(G,jh(G,H),X);qh(G,H)}return null}function J(G,H,X,st){var Tt=H!==null?H.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Tt!==null?null:D(G,H,""+X,st);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case T:return X.key===Tt?U(G,H,X,st):null;case x:return X.key===Tt?Q(G,H,X,st):null;case R:return X=eo(X),J(G,H,X,st)}if(ut(X)||z(X))return Tt!==null?null:it(G,H,X,st,null);if(typeof X.then=="function")return J(G,H,Hh(X),st);if(X.$$typeof===j)return J(G,H,jh(G,X),st);qh(G,X)}return null}function tt(G,H,X,st,Tt){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return G=G.get(X)||null,D(H,G,""+st,Tt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case T:return G=G.get(st.key===null?X:st.key)||null,U(H,G,st,Tt);case x:return G=G.get(st.key===null?X:st.key)||null,Q(H,G,st,Tt);case R:return st=eo(st),tt(G,H,X,st,Tt)}if(ut(st)||z(st))return G=G.get(X)||null,it(H,G,st,Tt,null);if(typeof st.then=="function")return tt(G,H,X,Hh(st),Tt);if(st.$$typeof===j)return tt(G,H,X,jh(H,st),Tt);qh(H,st)}return null}function _t(G,H,X,st){for(var Tt=null,Kt=null,Et=H,Vt=H=0,Ft=null;Et!==null&&Vt<X.length;Vt++){Et.index>Vt?(Ft=Et,Et=null):Ft=Et.sibling;var Xt=J(G,Et,X[Vt],st);if(Xt===null){Et===null&&(Et=Ft);break}s&&Et&&Xt.alternate===null&&a(G,Et),H=_(Xt,H,Vt),Kt===null?Tt=Xt:Kt.sibling=Xt,Kt=Xt,Et=Ft}if(Vt===X.length)return c(G,Et),Wt&&Us(G,Vt),Tt;if(Et===null){for(;Vt<X.length;Vt++)Et=ot(G,X[Vt],st),Et!==null&&(H=_(Et,H,Vt),Kt===null?Tt=Et:Kt.sibling=Et,Kt=Et);return Wt&&Us(G,Vt),Tt}for(Et=h(Et);Vt<X.length;Vt++)Ft=tt(Et,G,Vt,X[Vt],st),Ft!==null&&(s&&Ft.alternate!==null&&Et.delete(Ft.key===null?Vt:Ft.key),H=_(Ft,H,Vt),Kt===null?Tt=Ft:Kt.sibling=Ft,Kt=Ft);return s&&Et.forEach(function(Jr){return a(G,Jr)}),Wt&&Us(G,Vt),Tt}function wt(G,H,X,st){if(X==null)throw Error(i(151));for(var Tt=null,Kt=null,Et=H,Vt=H=0,Ft=null,Xt=X.next();Et!==null&&!Xt.done;Vt++,Xt=X.next()){Et.index>Vt?(Ft=Et,Et=null):Ft=Et.sibling;var Jr=J(G,Et,Xt.value,st);if(Jr===null){Et===null&&(Et=Ft);break}s&&Et&&Jr.alternate===null&&a(G,Et),H=_(Jr,H,Vt),Kt===null?Tt=Jr:Kt.sibling=Jr,Kt=Jr,Et=Ft}if(Xt.done)return c(G,Et),Wt&&Us(G,Vt),Tt;if(Et===null){for(;!Xt.done;Vt++,Xt=X.next())Xt=ot(G,Xt.value,st),Xt!==null&&(H=_(Xt,H,Vt),Kt===null?Tt=Xt:Kt.sibling=Xt,Kt=Xt);return Wt&&Us(G,Vt),Tt}for(Et=h(Et);!Xt.done;Vt++,Xt=X.next())Xt=tt(Et,G,Vt,Xt.value,st),Xt!==null&&(s&&Xt.alternate!==null&&Et.delete(Xt.key===null?Vt:Xt.key),H=_(Xt,H,Vt),Kt===null?Tt=Xt:Kt.sibling=Xt,Kt=Xt);return s&&Et.forEach(function(pI){return a(G,pI)}),Wt&&Us(G,Vt),Tt}function he(G,H,X,st){if(typeof X=="object"&&X!==null&&X.type===A&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case T:t:{for(var Tt=X.key;H!==null;){if(H.key===Tt){if(Tt=X.type,Tt===A){if(H.tag===7){c(G,H.sibling),st=p(H,X.props.children),st.return=G,G=st;break t}}else if(H.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===R&&eo(Tt)===H.type){c(G,H.sibling),st=p(H,X.props),Rc(st,X),st.return=G,G=st;break t}c(G,H);break}else a(G,H);H=H.sibling}X.type===A?(st=Xa(X.props.children,G.mode,st,X.key),st.return=G,G=st):(st=Lh(X.type,X.key,X.props,null,G.mode,st),Rc(st,X),st.return=G,G=st)}return E(G);case x:t:{for(Tt=X.key;H!==null;){if(H.key===Tt)if(H.tag===4&&H.stateNode.containerInfo===X.containerInfo&&H.stateNode.implementation===X.implementation){c(G,H.sibling),st=p(H,X.children||[]),st.return=G,G=st;break t}else{c(G,H);break}else a(G,H);H=H.sibling}st=Vm(X,G.mode,st),st.return=G,G=st}return E(G);case R:return X=eo(X),he(G,H,X,st)}if(ut(X))return _t(G,H,X,st);if(z(X)){if(Tt=z(X),typeof Tt!="function")throw Error(i(150));return X=Tt.call(X),wt(G,H,X,st)}if(typeof X.then=="function")return he(G,H,Hh(X),st);if(X.$$typeof===j)return he(G,H,jh(G,X),st);qh(G,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,H!==null&&H.tag===6?(c(G,H.sibling),st=p(H,X),st.return=G,G=st):(c(G,H),st=Lm(X,G.mode,st),st.return=G,G=st),E(G)):c(G,H)}return function(G,H,X,st){try{Ac=0;var Tt=he(G,H,X,st);return rl=null,Tt}catch(Et){if(Et===sl||Et===Bh)throw Et;var Kt=si(29,Et,null,G.mode);return Kt.lanes=st,Kt.return=G,Kt}finally{}}}var io=zv(!0),jv=zv(!1),Pr=!1;function Km(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xm(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Lr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Vr(s,a,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(te&2)!==0){var p=h.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),h.pending=a,a=Ph(s),Tv(s,null,c),a}return kh(s,h,a,c),Ph(s)}function Cc(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,hn(s,c)}}function Qm(s,a){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var p=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var E={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};_===null?p=_=E:_=_.next=E,c=c.next}while(c!==null);_===null?p=_=a:_=_.next=a}else p=_=a;c={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}var Jm=!1;function Ic(){if(Jm){var s=il;if(s!==null)throw s}}function Dc(s,a,c,h){Jm=!1;var p=s.updateQueue;Pr=!1;var _=p.firstBaseUpdate,E=p.lastBaseUpdate,D=p.shared.pending;if(D!==null){p.shared.pending=null;var U=D,Q=U.next;U.next=null,E===null?_=Q:E.next=Q,E=U;var it=s.alternate;it!==null&&(it=it.updateQueue,D=it.lastBaseUpdate,D!==E&&(D===null?it.firstBaseUpdate=Q:D.next=Q,it.lastBaseUpdate=U))}if(_!==null){var ot=p.baseState;E=0,it=Q=U=null,D=_;do{var J=D.lane&-536870913,tt=J!==D.lane;if(tt?(Bt&J)===J:(h&J)===J){J!==0&&J===nl&&(Jm=!0),it!==null&&(it=it.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});t:{var _t=s,wt=D;J=a;var he=c;switch(wt.tag){case 1:if(_t=wt.payload,typeof _t=="function"){ot=_t.call(he,ot,J);break t}ot=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=wt.payload,J=typeof _t=="function"?_t.call(he,ot,J):_t,J==null)break t;ot=y({},ot,J);break t;case 2:Pr=!0}}J=D.callback,J!==null&&(s.flags|=64,tt&&(s.flags|=8192),tt=p.callbacks,tt===null?p.callbacks=[J]:tt.push(J))}else tt={lane:J,tag:D.tag,payload:D.payload,callback:D.callback,next:null},it===null?(Q=it=tt,U=ot):it=it.next=tt,E|=J;if(D=D.next,D===null){if(D=p.shared.pending,D===null)break;tt=D,D=tt.next,tt.next=null,p.lastBaseUpdate=tt,p.shared.pending=null}}while(!0);it===null&&(U=ot),p.baseState=U,p.firstBaseUpdate=Q,p.lastBaseUpdate=it,_===null&&(p.shared.lanes=0),Fr|=E,s.lanes=E,s.memoizedState=ot}}function Uv(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function Bv(s,a){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)Uv(c[s],a)}var al=F(null),Gh=F(0);function Fv(s,a){s=Qs,at(Gh,s),at(al,a),Qs=s|a.baseLanes}function Zm(){at(Gh,Qs),at(al,al.current)}function tp(){Qs=Gh.current,nt(al),nt(Gh)}var ri=F(null),xi=null;function zr(s){var a=s.alternate;at(ke,ke.current&1),at(ri,s),xi===null&&(a===null||al.current!==null||a.memoizedState!==null)&&(xi=s)}function ep(s){at(ke,ke.current),at(ri,s),xi===null&&(xi=s)}function Hv(s){s.tag===22?(at(ke,ke.current),at(ri,s),xi===null&&(xi=s)):jr()}function jr(){at(ke,ke.current),at(ri,ri.current)}function ai(s){nt(ri),xi===s&&(xi=null),nt(ke)}var ke=F(0);function Yh(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||og(c)||lg(c)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Hs=0,Pt=null,ce=null,qe=null,Wh=!1,ol=!1,so=!1,$h=0,Mc=0,ll=null,rC=0;function Ie(){throw Error(i(321))}function np(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!ii(s[c],a[c]))return!1;return!0}function ip(s,a,c,h,p,_){return Hs=_,Pt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,q.H=s===null||s.memoizedState===null?Ab:_p,so=!1,_=c(h,p),so=!1,ol&&(_=Gv(a,c,h,p)),qv(s),_}function qv(s){q.H=kc;var a=ce!==null&&ce.next!==null;if(Hs=0,qe=ce=Pt=null,Wh=!1,Mc=0,ll=null,a)throw Error(i(300));s===null||Ge||(s=s.dependencies,s!==null&&zh(s)&&(Ge=!0))}function Gv(s,a,c,h){Pt=s;var p=0;do{if(ol&&(ll=null),Mc=0,ol=!1,25<=p)throw Error(i(301));if(p+=1,qe=ce=null,s.updateQueue!=null){var _=s.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}q.H=Rb,_=a(c,h)}while(ol);return _}function aC(){var s=q.H,a=s.useState()[0];return a=typeof a.then=="function"?Oc(a):a,s=s.useState()[0],(ce!==null?ce.memoizedState:null)!==s&&(Pt.flags|=1024),a}function sp(){var s=$h!==0;return $h=0,s}function rp(s,a,c){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~c}function ap(s){if(Wh){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Wh=!1}Hs=0,qe=ce=Pt=null,ol=!1,Mc=$h=0,ll=null}function Pn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Pt.memoizedState=qe=s:qe=qe.next=s,qe}function Pe(){if(ce===null){var s=Pt.alternate;s=s!==null?s.memoizedState:null}else s=ce.next;var a=qe===null?Pt.memoizedState:qe.next;if(a!==null)qe=a,ce=s;else{if(s===null)throw Pt.alternate===null?Error(i(467)):Error(i(310));ce=s,s={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},qe===null?Pt.memoizedState=qe=s:qe=qe.next=s}return qe}function Kh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oc(s){var a=Mc;return Mc+=1,ll===null&&(ll=[]),s=Pv(ll,s,a),a=Pt,(qe===null?a.memoizedState:qe.next)===null&&(a=a.alternate,q.H=a===null||a.memoizedState===null?Ab:_p),s}function Xh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Oc(s);if(s.$$typeof===j)return gn(s)}throw Error(i(438,String(s)))}function op(s){var a=null,c=Pt.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var h=Pt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=Kh(),Pt.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(s),h=0;h<s;h++)c[h]=L;return a.index++,c}function qs(s,a){return typeof a=="function"?a(s):a}function Qh(s){var a=Pe();return lp(a,ce,s)}function lp(s,a,c){var h=s.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=c;var p=s.baseQueue,_=h.pending;if(_!==null){if(p!==null){var E=p.next;p.next=_.next,_.next=E}a.baseQueue=p=_,h.pending=null}if(_=s.baseState,p===null)s.memoizedState=_;else{a=p.next;var D=E=null,U=null,Q=a,it=!1;do{var ot=Q.lane&-536870913;if(ot!==Q.lane?(Bt&ot)===ot:(Hs&ot)===ot){var J=Q.revertLane;if(J===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ot===nl&&(it=!0);else if((Hs&J)===J){Q=Q.next,J===nl&&(it=!0);continue}else ot={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(D=U=ot,E=_):U=U.next=ot,Pt.lanes|=J,Fr|=J;ot=Q.action,so&&c(_,ot),_=Q.hasEagerState?Q.eagerState:c(_,ot)}else J={lane:ot,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(D=U=J,E=_):U=U.next=J,Pt.lanes|=ot,Fr|=ot;Q=Q.next}while(Q!==null&&Q!==a);if(U===null?E=_:U.next=D,!ii(_,s.memoizedState)&&(Ge=!0,it&&(c=il,c!==null)))throw c;s.memoizedState=_,s.baseState=E,s.baseQueue=U,h.lastRenderedState=_}return p===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function cp(s){var a=Pe(),c=a.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=s;var h=c.dispatch,p=c.pending,_=a.memoizedState;if(p!==null){c.pending=null;var E=p=p.next;do _=s(_,E.action),E=E.next;while(E!==p);ii(_,a.memoizedState)||(Ge=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),c.lastRenderedState=_}return[_,h]}function Yv(s,a,c){var h=Pt,p=Pe(),_=Wt;if(_){if(c===void 0)throw Error(i(407));c=c()}else c=a();var E=!ii((ce||p).memoizedState,c);if(E&&(p.memoizedState=c,Ge=!0),p=p.queue,fp(Kv.bind(null,h,p,s),[s]),p.getSnapshot!==a||E||qe!==null&&qe.memoizedState.tag&1){if(h.flags|=2048,cl(9,{destroy:void 0},$v.bind(null,h,p,c,a),null),fe===null)throw Error(i(349));_||(Hs&127)!==0||Wv(h,a,c)}return c}function Wv(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=Pt.updateQueue,a===null?(a=Kh(),Pt.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function $v(s,a,c,h){a.value=c,a.getSnapshot=h,Xv(a)&&Qv(s)}function Kv(s,a,c){return c(function(){Xv(a)&&Qv(s)})}function Xv(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!ii(s,c)}catch{return!0}}function Qv(s){var a=Ka(s,2);a!==null&&qn(a,s,2)}function up(s){var a=Pn();if(typeof s=="function"){var c=s;if(s=c(),so){On(!0);try{c()}finally{On(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:s},a}function Jv(s,a,c,h){return s.baseState=c,lp(s,ce,typeof h=="function"?h:qs)}function oC(s,a,c,h,p){if(tf(s))throw Error(i(485));if(s=a.action,s!==null){var _={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){_.listeners.push(E)}};q.T!==null?c(!0):_.isTransition=!1,h(_),c=a.pending,c===null?(_.next=a.pending=_,Zv(a,_)):(_.next=c.next,a.pending=c.next=_)}}function Zv(s,a){var c=a.action,h=a.payload,p=s.state;if(a.isTransition){var _=q.T,E={};q.T=E;try{var D=c(p,h),U=q.S;U!==null&&U(E,D),tb(s,a,D)}catch(Q){hp(s,a,Q)}finally{_!==null&&E.types!==null&&(_.types=E.types),q.T=_}}else try{_=c(p,h),tb(s,a,_)}catch(Q){hp(s,a,Q)}}function tb(s,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){eb(s,a,h)},function(h){return hp(s,a,h)}):eb(s,a,c)}function eb(s,a,c){a.status="fulfilled",a.value=c,nb(a),s.state=c,a=s.pending,a!==null&&(c=a.next,c===a?s.pending=null:(c=c.next,a.next=c,Zv(s,c)))}function hp(s,a,c){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=c,nb(a),a=a.next;while(a!==h)}s.action=null}function nb(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function ib(s,a){return a}function sb(s,a){if(Wt){var c=fe.formState;if(c!==null){t:{var h=Pt;if(Wt){if(ye){e:{for(var p=ye,_=Si;p.nodeType!==8;){if(!_){p=null;break e}if(p=wi(p.nextSibling),p===null){p=null;break e}}_=p.data,p=_==="F!"||_==="F"?p:null}if(p){ye=wi(p.nextSibling),h=p.data==="F!";break t}}Nr(h)}h=!1}h&&(a=c[0])}}return c=Pn(),c.memoizedState=c.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ib,lastRenderedState:a},c.queue=h,c=Sb.bind(null,Pt,h),h.dispatch=c,h=up(!1),_=yp.bind(null,Pt,!1,h.queue),h=Pn(),p={state:a,dispatch:null,action:s,pending:null},h.queue=p,c=oC.bind(null,Pt,p,_,c),p.dispatch=c,h.memoizedState=s,[a,c,!1]}function rb(s){var a=Pe();return ab(a,ce,s)}function ab(s,a,c){if(a=lp(s,a,ib)[0],s=Qh(qs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=Oc(a)}catch(E){throw E===sl?Bh:E}else h=a;a=Pe();var p=a.queue,_=p.dispatch;return c!==a.memoizedState&&(Pt.flags|=2048,cl(9,{destroy:void 0},lC.bind(null,p,c),null)),[h,_,s]}function lC(s,a){s.action=a}function ob(s){var a=Pe(),c=ce;if(c!==null)return ab(a,c,s);Pe(),a=a.memoizedState,c=Pe();var h=c.queue.dispatch;return c.memoizedState=s,[a,h,!1]}function cl(s,a,c,h){return s={tag:s,create:c,deps:h,inst:a,next:null},a=Pt.updateQueue,a===null&&(a=Kh(),Pt.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,a.lastEffect=s),s}function lb(){return Pe().memoizedState}function Jh(s,a,c,h){var p=Pn();Pt.flags|=s,p.memoizedState=cl(1|a,{destroy:void 0},c,h===void 0?null:h)}function Zh(s,a,c,h){var p=Pe();h=h===void 0?null:h;var _=p.memoizedState.inst;ce!==null&&h!==null&&np(h,ce.memoizedState.deps)?p.memoizedState=cl(a,_,c,h):(Pt.flags|=s,p.memoizedState=cl(1|a,_,c,h))}function cb(s,a){Jh(8390656,8,s,a)}function fp(s,a){Zh(2048,8,s,a)}function cC(s){Pt.flags|=4;var a=Pt.updateQueue;if(a===null)a=Kh(),Pt.updateQueue=a,a.events=[s];else{var c=a.events;c===null?a.events=[s]:c.push(s)}}function ub(s){var a=Pe().memoizedState;return cC({ref:a,nextImpl:s}),function(){if((te&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function hb(s,a){return Zh(4,2,s,a)}function fb(s,a){return Zh(4,4,s,a)}function db(s,a){if(typeof a=="function"){s=s();var c=a(s);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function mb(s,a,c){c=c!=null?c.concat([s]):null,Zh(4,4,db.bind(null,a,s),c)}function dp(){}function pb(s,a){var c=Pe();a=a===void 0?null:a;var h=c.memoizedState;return a!==null&&np(a,h[1])?h[0]:(c.memoizedState=[s,a],s)}function gb(s,a){var c=Pe();a=a===void 0?null:a;var h=c.memoizedState;if(a!==null&&np(a,h[1]))return h[0];if(h=s(),so){On(!0);try{s()}finally{On(!1)}}return c.memoizedState=[h,a],h}function mp(s,a,c){return c===void 0||(Hs&1073741824)!==0&&(Bt&261930)===0?s.memoizedState=a:(s.memoizedState=c,s=y0(),Pt.lanes|=s,Fr|=s,c)}function yb(s,a,c,h){return ii(c,a)?c:al.current!==null?(s=mp(s,c,h),ii(s,a)||(Ge=!0),s):(Hs&42)===0||(Hs&1073741824)!==0&&(Bt&261930)===0?(Ge=!0,s.memoizedState=c):(s=y0(),Pt.lanes|=s,Fr|=s,a)}function _b(s,a,c,h,p){var _=et.p;et.p=_!==0&&8>_?_:8;var E=q.T,D={};q.T=D,yp(s,!1,a,c);try{var U=p(),Q=q.S;if(Q!==null&&Q(D,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var it=sC(U,h);Nc(s,a,it,ci(s))}else Nc(s,a,h,ci(s))}catch(ot){Nc(s,a,{then:function(){},status:"rejected",reason:ot},ci())}finally{et.p=_,E!==null&&D.types!==null&&(E.types=D.types),q.T=E}}function uC(){}function pp(s,a,c,h){if(s.tag!==5)throw Error(i(476));var p=vb(s).queue;_b(s,p,a,ft,c===null?uC:function(){return bb(s),c(h)})}function vb(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:ft},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:c},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function bb(s){var a=vb(s);a.next===null&&(a=s.alternate.memoizedState),Nc(s,a.next.queue,{},ci())}function gp(){return gn(Xc)}function Eb(){return Pe().memoizedState}function Tb(){return Pe().memoizedState}function hC(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var c=ci();s=Lr(c);var h=Vr(a,s,c);h!==null&&(qn(h,a,c),Cc(h,a,c)),a={cache:Gm()},s.payload=a;return}a=a.return}}function fC(s,a,c){var h=ci();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},tf(s)?xb(a,c):(c=km(s,a,c,h),c!==null&&(qn(c,s,h),wb(c,a,h)))}function Sb(s,a,c){var h=ci();Nc(s,a,c,h)}function Nc(s,a,c,h){var p={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(tf(s))xb(a,p);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var E=a.lastRenderedState,D=_(E,c);if(p.hasEagerState=!0,p.eagerState=D,ii(D,E))return kh(s,a,p,0),fe===null&&Nh(),!1}catch{}finally{}if(c=km(s,a,p,h),c!==null)return qn(c,s,h),wb(c,a,h),!0}return!1}function yp(s,a,c,h){if(h={lane:2,revertLane:Kp(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},tf(s)){if(a)throw Error(i(479))}else a=km(s,c,h,2),a!==null&&qn(a,s,2)}function tf(s){var a=s.alternate;return s===Pt||a!==null&&a===Pt}function xb(s,a){ol=Wh=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function wb(s,a,c){if((c&4194048)!==0){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,hn(s,c)}}var kc={readContext:gn,use:Xh,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie,useHostTransitionStatus:Ie,useFormState:Ie,useActionState:Ie,useOptimistic:Ie,useMemoCache:Ie,useCacheRefresh:Ie};kc.useEffectEvent=Ie;var Ab={readContext:gn,use:Xh,useCallback:function(s,a){return Pn().memoizedState=[s,a===void 0?null:a],s},useContext:gn,useEffect:cb,useImperativeHandle:function(s,a,c){c=c!=null?c.concat([s]):null,Jh(4194308,4,db.bind(null,a,s),c)},useLayoutEffect:function(s,a){return Jh(4194308,4,s,a)},useInsertionEffect:function(s,a){Jh(4,2,s,a)},useMemo:function(s,a){var c=Pn();a=a===void 0?null:a;var h=s();if(so){On(!0);try{s()}finally{On(!1)}}return c.memoizedState=[h,a],h},useReducer:function(s,a,c){var h=Pn();if(c!==void 0){var p=c(a);if(so){On(!0);try{c(a)}finally{On(!1)}}}else p=a;return h.memoizedState=h.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},h.queue=s,s=s.dispatch=fC.bind(null,Pt,s),[h.memoizedState,s]},useRef:function(s){var a=Pn();return s={current:s},a.memoizedState=s},useState:function(s){s=up(s);var a=s.queue,c=Sb.bind(null,Pt,a);return a.dispatch=c,[s.memoizedState,c]},useDebugValue:dp,useDeferredValue:function(s,a){var c=Pn();return mp(c,s,a)},useTransition:function(){var s=up(!1);return s=_b.bind(null,Pt,s.queue,!0,!1),Pn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,c){var h=Pt,p=Pn();if(Wt){if(c===void 0)throw Error(i(407));c=c()}else{if(c=a(),fe===null)throw Error(i(349));(Bt&127)!==0||Wv(h,a,c)}p.memoizedState=c;var _={value:c,getSnapshot:a};return p.queue=_,cb(Kv.bind(null,h,_,s),[s]),h.flags|=2048,cl(9,{destroy:void 0},$v.bind(null,h,_,c,a),null),c},useId:function(){var s=Pn(),a=fe.identifierPrefix;if(Wt){var c=ys,h=gs;c=(h&~(1<<32-Ee(h)-1)).toString(32)+c,a="_"+a+"R_"+c,c=$h++,0<c&&(a+="H"+c.toString(32)),a+="_"}else c=rC++,a="_"+a+"r_"+c.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:gp,useFormState:sb,useActionState:sb,useOptimistic:function(s){var a=Pn();a.memoizedState=a.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=yp.bind(null,Pt,!0,c),c.dispatch=a,[s,a]},useMemoCache:op,useCacheRefresh:function(){return Pn().memoizedState=hC.bind(null,Pt)},useEffectEvent:function(s){var a=Pn(),c={impl:s};return a.memoizedState=c,function(){if((te&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}},_p={readContext:gn,use:Xh,useCallback:pb,useContext:gn,useEffect:fp,useImperativeHandle:mb,useInsertionEffect:hb,useLayoutEffect:fb,useMemo:gb,useReducer:Qh,useRef:lb,useState:function(){return Qh(qs)},useDebugValue:dp,useDeferredValue:function(s,a){var c=Pe();return yb(c,ce.memoizedState,s,a)},useTransition:function(){var s=Qh(qs)[0],a=Pe().memoizedState;return[typeof s=="boolean"?s:Oc(s),a]},useSyncExternalStore:Yv,useId:Eb,useHostTransitionStatus:gp,useFormState:rb,useActionState:rb,useOptimistic:function(s,a){var c=Pe();return Jv(c,ce,s,a)},useMemoCache:op,useCacheRefresh:Tb};_p.useEffectEvent=ub;var Rb={readContext:gn,use:Xh,useCallback:pb,useContext:gn,useEffect:fp,useImperativeHandle:mb,useInsertionEffect:hb,useLayoutEffect:fb,useMemo:gb,useReducer:cp,useRef:lb,useState:function(){return cp(qs)},useDebugValue:dp,useDeferredValue:function(s,a){var c=Pe();return ce===null?mp(c,s,a):yb(c,ce.memoizedState,s,a)},useTransition:function(){var s=cp(qs)[0],a=Pe().memoizedState;return[typeof s=="boolean"?s:Oc(s),a]},useSyncExternalStore:Yv,useId:Eb,useHostTransitionStatus:gp,useFormState:ob,useActionState:ob,useOptimistic:function(s,a){var c=Pe();return ce!==null?Jv(c,ce,s,a):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:op,useCacheRefresh:Tb};Rb.useEffectEvent=ub;function vp(s,a,c,h){a=s.memoizedState,c=c(h,a),c=c==null?a:y({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var bp={enqueueSetState:function(s,a,c){s=s._reactInternals;var h=ci(),p=Lr(h);p.payload=a,c!=null&&(p.callback=c),a=Vr(s,p,h),a!==null&&(qn(a,s,h),Cc(a,s,h))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var h=ci(),p=Lr(h);p.tag=1,p.payload=a,c!=null&&(p.callback=c),a=Vr(s,p,h),a!==null&&(qn(a,s,h),Cc(a,s,h))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=ci(),h=Lr(c);h.tag=2,a!=null&&(h.callback=a),a=Vr(s,h,c),a!==null&&(qn(a,s,c),Cc(a,s,c))}};function Cb(s,a,c,h,p,_,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,_,E):a.prototype&&a.prototype.isPureReactComponent?!bc(c,h)||!bc(p,_):!0}function Ib(s,a,c,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==s&&bp.enqueueReplaceState(a,a.state,null)}function ro(s,a){var c=a;if("ref"in a){c={};for(var h in a)h!=="ref"&&(c[h]=a[h])}if(s=s.defaultProps){c===a&&(c=y({},c));for(var p in s)c[p]===void 0&&(c[p]=s[p])}return c}function Db(s){Oh(s)}function Mb(s){console.error(s)}function Ob(s){Oh(s)}function ef(s,a){try{var c=s.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function Nb(s,a,c){try{var h=s.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Ep(s,a,c){return c=Lr(c),c.tag=3,c.payload={element:null},c.callback=function(){ef(s,a)},c}function kb(s){return s=Lr(s),s.tag=3,s}function Pb(s,a,c,h){var p=c.type.getDerivedStateFromError;if(typeof p=="function"){var _=h.value;s.payload=function(){return p(_)},s.callback=function(){Nb(a,c,h)}}var E=c.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(s.callback=function(){Nb(a,c,h),typeof p!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var D=h.stack;this.componentDidCatch(h.value,{componentStack:D!==null?D:""})})}function dC(s,a,c,h,p){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=c.alternate,a!==null&&el(a,c,p,!0),c=ri.current,c!==null){switch(c.tag){case 31:case 13:return xi===null?mf():c.alternate===null&&De===0&&(De=3),c.flags&=-257,c.flags|=65536,c.lanes=p,h===Fh?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([h]):a.add(h),Yp(s,h,p)),!1;case 22:return c.flags|=65536,h===Fh?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([h]):c.add(h)),Yp(s,h,p)),!1}throw Error(i(435,c.tag))}return Yp(s,h,p),mf(),!1}if(Wt)return a=ri.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,h!==Um&&(s=Error(i(422),{cause:h}),Sc(bi(s,c)))):(h!==Um&&(a=Error(i(423),{cause:h}),Sc(bi(a,c))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,h=bi(h,c),p=Ep(s.stateNode,h,p),Qm(s,p),De!==4&&(De=2)),!1;var _=Error(i(520),{cause:h});if(_=bi(_,c),Fc===null?Fc=[_]:Fc.push(_),De!==4&&(De=2),a===null)return!0;h=bi(h,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,s=p&-p,c.lanes|=s,s=Ep(c.stateNode,h,s),Qm(c,s),!1;case 1:if(a=c.type,_=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Hr===null||!Hr.has(_))))return c.flags|=65536,p&=-p,c.lanes|=p,p=kb(p),Pb(p,s,c,h),Qm(c,p),!1}c=c.return}while(c!==null);return!1}var Tp=Error(i(461)),Ge=!1;function yn(s,a,c,h){a.child=s===null?jv(a,null,c,h):io(a,s.child,c,h)}function Lb(s,a,c,h,p){c=c.render;var _=a.ref;if("ref"in h){var E={};for(var D in h)D!=="ref"&&(E[D]=h[D])}else E=h;return Za(a),h=ip(s,a,c,E,_,p),D=sp(),s!==null&&!Ge?(rp(s,a,p),Gs(s,a,p)):(Wt&&D&&zm(a),a.flags|=1,yn(s,a,h,p),a.child)}function Vb(s,a,c,h,p){if(s===null){var _=c.type;return typeof _=="function"&&!Pm(_)&&_.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=_,zb(s,a,_,h,p)):(s=Lh(c.type,null,h,a,a.mode,p),s.ref=a.ref,s.return=a,a.child=s)}if(_=s.child,!Dp(s,p)){var E=_.memoizedProps;if(c=c.compare,c=c!==null?c:bc,c(E,h)&&s.ref===a.ref)return Gs(s,a,p)}return a.flags|=1,s=js(_,h),s.ref=a.ref,s.return=a,a.child=s}function zb(s,a,c,h,p){if(s!==null){var _=s.memoizedProps;if(bc(_,h)&&s.ref===a.ref)if(Ge=!1,a.pendingProps=h=_,Dp(s,p))(s.flags&131072)!==0&&(Ge=!0);else return a.lanes=s.lanes,Gs(s,a,p)}return Sp(s,a,c,h,p)}function jb(s,a,c,h){var p=h.children,_=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((a.flags&128)!==0){if(_=_!==null?_.baseLanes|c:c,s!==null){for(h=a.child=s.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;h=p&~_}else h=0,a.child=null;return Ub(s,a,_,c,h)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Uh(a,_!==null?_.cachePool:null),_!==null?Fv(a,_):Zm(),Hv(a);else return h=a.lanes=536870912,Ub(s,a,_!==null?_.baseLanes|c:c,c,h)}else _!==null?(Uh(a,_.cachePool),Fv(a,_),jr(),a.memoizedState=null):(s!==null&&Uh(a,null),Zm(),jr());return yn(s,a,p,c),a.child}function Pc(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Ub(s,a,c,h,p){var _=Wm();return _=_===null?null:{parent:He._currentValue,pool:_},a.memoizedState={baseLanes:c,cachePool:_},s!==null&&Uh(a,null),Zm(),Hv(a),s!==null&&el(s,a,h,!0),a.childLanes=p,null}function nf(s,a){return a=rf({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function Bb(s,a,c){return io(a,s.child,null,c),s=nf(a,a.pendingProps),s.flags|=2,ai(a),a.memoizedState=null,s}function mC(s,a,c){var h=a.pendingProps,p=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(Wt){if(h.mode==="hidden")return s=nf(a,h),a.lanes=536870912,Pc(null,s);if(ep(a),(s=ye)?(s=Z0(s,Si),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Mr!==null?{id:gs,overflow:ys}:null,retryLane:536870912,hydrationErrors:null},c=xv(s),c.return=a,a.child=c,pn=a,ye=null)):s=null,s===null)throw Nr(a);return a.lanes=536870912,null}return nf(a,h)}var _=s.memoizedState;if(_!==null){var E=_.dehydrated;if(ep(a),p)if(a.flags&256)a.flags&=-257,a=Bb(s,a,c);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(i(558));else if(Ge||el(s,a,c,!1),p=(c&s.childLanes)!==0,Ge||p){if(h=fe,h!==null&&(E=fn(h,c),E!==0&&E!==_.retryLane))throw _.retryLane=E,Ka(s,E),qn(h,s,E),Tp;mf(),a=Bb(s,a,c)}else s=_.treeContext,ye=wi(E.nextSibling),pn=a,Wt=!0,Or=null,Si=!1,s!==null&&Rv(a,s),a=nf(a,h),a.flags|=4096;return a}return s=js(s.child,{mode:h.mode,children:h.children}),s.ref=a.ref,a.child=s,s.return=a,s}function sf(s,a){var c=a.ref;if(c===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(s===null||s.ref!==c)&&(a.flags|=4194816)}}function Sp(s,a,c,h,p){return Za(a),c=ip(s,a,c,h,void 0,p),h=sp(),s!==null&&!Ge?(rp(s,a,p),Gs(s,a,p)):(Wt&&h&&zm(a),a.flags|=1,yn(s,a,c,p),a.child)}function Fb(s,a,c,h,p,_){return Za(a),a.updateQueue=null,c=Gv(a,h,c,p),qv(s),h=sp(),s!==null&&!Ge?(rp(s,a,_),Gs(s,a,_)):(Wt&&h&&zm(a),a.flags|=1,yn(s,a,c,_),a.child)}function Hb(s,a,c,h,p){if(Za(a),a.stateNode===null){var _=Qo,E=c.contextType;typeof E=="object"&&E!==null&&(_=gn(E)),_=new c(h,_),a.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=bp,a.stateNode=_,_._reactInternals=a,_=a.stateNode,_.props=h,_.state=a.memoizedState,_.refs={},Km(a),E=c.contextType,_.context=typeof E=="object"&&E!==null?gn(E):Qo,_.state=a.memoizedState,E=c.getDerivedStateFromProps,typeof E=="function"&&(vp(a,c,E,h),_.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(E=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),E!==_.state&&bp.enqueueReplaceState(_,_.state,null),Dc(a,h,_,p),Ic(),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(s===null){_=a.stateNode;var D=a.memoizedProps,U=ro(c,D);_.props=U;var Q=_.context,it=c.contextType;E=Qo,typeof it=="object"&&it!==null&&(E=gn(it));var ot=c.getDerivedStateFromProps;it=typeof ot=="function"||typeof _.getSnapshotBeforeUpdate=="function",D=a.pendingProps!==D,it||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(D||Q!==E)&&Ib(a,_,h,E),Pr=!1;var J=a.memoizedState;_.state=J,Dc(a,h,_,p),Ic(),Q=a.memoizedState,D||J!==Q||Pr?(typeof ot=="function"&&(vp(a,c,ot,h),Q=a.memoizedState),(U=Pr||Cb(a,c,U,h,J,Q,E))?(it||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(a.flags|=4194308)):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=Q),_.props=h,_.state=Q,_.context=E,h=U):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{_=a.stateNode,Xm(s,a),E=a.memoizedProps,it=ro(c,E),_.props=it,ot=a.pendingProps,J=_.context,Q=c.contextType,U=Qo,typeof Q=="object"&&Q!==null&&(U=gn(Q)),D=c.getDerivedStateFromProps,(Q=typeof D=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(E!==ot||J!==U)&&Ib(a,_,h,U),Pr=!1,J=a.memoizedState,_.state=J,Dc(a,h,_,p),Ic();var tt=a.memoizedState;E!==ot||J!==tt||Pr||s!==null&&s.dependencies!==null&&zh(s.dependencies)?(typeof D=="function"&&(vp(a,c,D,h),tt=a.memoizedState),(it=Pr||Cb(a,c,it,h,J,tt,U)||s!==null&&s.dependencies!==null&&zh(s.dependencies))?(Q||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,tt,U),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,tt,U)),typeof _.componentDidUpdate=="function"&&(a.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof _.componentDidUpdate!="function"||E===s.memoizedProps&&J===s.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&J===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=tt),_.props=h,_.state=tt,_.context=U,h=it):(typeof _.componentDidUpdate!="function"||E===s.memoizedProps&&J===s.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&J===s.memoizedState||(a.flags|=1024),h=!1)}return _=h,sf(s,a),h=(a.flags&128)!==0,_||h?(_=a.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:_.render(),a.flags|=1,s!==null&&h?(a.child=io(a,s.child,null,p),a.child=io(a,null,c,p)):yn(s,a,c,p),a.memoizedState=_.state,s=a.child):s=Gs(s,a,p),s}function qb(s,a,c,h){return Qa(),a.flags|=256,yn(s,a,c,h),a.child}var xp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wp(s){return{baseLanes:s,cachePool:Nv()}}function Ap(s,a,c){return s=s!==null?s.childLanes&~c:0,a&&(s|=li),s}function Gb(s,a,c){var h=a.pendingProps,p=!1,_=(a.flags&128)!==0,E;if((E=_)||(E=s!==null&&s.memoizedState===null?!1:(ke.current&2)!==0),E&&(p=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,s===null){if(Wt){if(p?zr(a):jr(),(s=ye)?(s=Z0(s,Si),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Mr!==null?{id:gs,overflow:ys}:null,retryLane:536870912,hydrationErrors:null},c=xv(s),c.return=a,a.child=c,pn=a,ye=null)):s=null,s===null)throw Nr(a);return lg(s)?a.lanes=32:a.lanes=536870912,null}var D=h.children;return h=h.fallback,p?(jr(),p=a.mode,D=rf({mode:"hidden",children:D},p),h=Xa(h,p,c,null),D.return=a,h.return=a,D.sibling=h,a.child=D,h=a.child,h.memoizedState=wp(c),h.childLanes=Ap(s,E,c),a.memoizedState=xp,Pc(null,h)):(zr(a),Rp(a,D))}var U=s.memoizedState;if(U!==null&&(D=U.dehydrated,D!==null)){if(_)a.flags&256?(zr(a),a.flags&=-257,a=Cp(s,a,c)):a.memoizedState!==null?(jr(),a.child=s.child,a.flags|=128,a=null):(jr(),D=h.fallback,p=a.mode,h=rf({mode:"visible",children:h.children},p),D=Xa(D,p,c,null),D.flags|=2,h.return=a,D.return=a,h.sibling=D,a.child=h,io(a,s.child,null,c),h=a.child,h.memoizedState=wp(c),h.childLanes=Ap(s,E,c),a.memoizedState=xp,a=Pc(null,h));else if(zr(a),lg(D)){if(E=D.nextSibling&&D.nextSibling.dataset,E)var Q=E.dgst;E=Q,h=Error(i(419)),h.stack="",h.digest=E,Sc({value:h,source:null,stack:null}),a=Cp(s,a,c)}else if(Ge||el(s,a,c,!1),E=(c&s.childLanes)!==0,Ge||E){if(E=fe,E!==null&&(h=fn(E,c),h!==0&&h!==U.retryLane))throw U.retryLane=h,Ka(s,h),qn(E,s,h),Tp;og(D)||mf(),a=Cp(s,a,c)}else og(D)?(a.flags|=192,a.child=s.child,a=null):(s=U.treeContext,ye=wi(D.nextSibling),pn=a,Wt=!0,Or=null,Si=!1,s!==null&&Rv(a,s),a=Rp(a,h.children),a.flags|=4096);return a}return p?(jr(),D=h.fallback,p=a.mode,U=s.child,Q=U.sibling,h=js(U,{mode:"hidden",children:h.children}),h.subtreeFlags=U.subtreeFlags&65011712,Q!==null?D=js(Q,D):(D=Xa(D,p,c,null),D.flags|=2),D.return=a,h.return=a,h.sibling=D,a.child=h,Pc(null,h),h=a.child,D=s.child.memoizedState,D===null?D=wp(c):(p=D.cachePool,p!==null?(U=He._currentValue,p=p.parent!==U?{parent:U,pool:U}:p):p=Nv(),D={baseLanes:D.baseLanes|c,cachePool:p}),h.memoizedState=D,h.childLanes=Ap(s,E,c),a.memoizedState=xp,Pc(s.child,h)):(zr(a),c=s.child,s=c.sibling,c=js(c,{mode:"visible",children:h.children}),c.return=a,c.sibling=null,s!==null&&(E=a.deletions,E===null?(a.deletions=[s],a.flags|=16):E.push(s)),a.child=c,a.memoizedState=null,c)}function Rp(s,a){return a=rf({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function rf(s,a){return s=si(22,s,null,a),s.lanes=0,s}function Cp(s,a,c){return io(a,s.child,null,c),s=Rp(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Yb(s,a,c){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),Hm(s.return,a,c)}function Ip(s,a,c,h,p,_){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:p,treeForkCount:_}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=h,E.tail=c,E.tailMode=p,E.treeForkCount=_)}function Wb(s,a,c){var h=a.pendingProps,p=h.revealOrder,_=h.tail;h=h.children;var E=ke.current,D=(E&2)!==0;if(D?(E=E&1|2,a.flags|=128):E&=1,at(ke,E),yn(s,a,h,c),h=Wt?Tc:0,!D&&s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Yb(s,c,a);else if(s.tag===19)Yb(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(p){case"forwards":for(c=a.child,p=null;c!==null;)s=c.alternate,s!==null&&Yh(s)===null&&(p=c),c=c.sibling;c=p,c===null?(p=a.child,a.child=null):(p=c.sibling,c.sibling=null),Ip(a,!1,p,c,_,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,p=a.child,a.child=null;p!==null;){if(s=p.alternate,s!==null&&Yh(s)===null){a.child=p;break}s=p.sibling,p.sibling=c,c=p,p=s}Ip(a,!0,c,null,_,h);break;case"together":Ip(a,!1,null,null,void 0,h);break;default:a.memoizedState=null}return a.child}function Gs(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),Fr|=a.lanes,(c&a.childLanes)===0)if(s!==null){if(el(s,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,c=js(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=js(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function Dp(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&zh(s)))}function pC(s,a,c){switch(a.tag){case 3:Dt(a,a.stateNode.containerInfo),kr(a,He,s.memoizedState.cache),Qa();break;case 27:case 5:fi(a);break;case 4:Dt(a,a.stateNode.containerInfo);break;case 10:kr(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,ep(a),null;break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(zr(a),a.flags|=128,null):(c&a.child.childLanes)!==0?Gb(s,a,c):(zr(a),s=Gs(s,a,c),s!==null?s.sibling:null);zr(a);break;case 19:var p=(s.flags&128)!==0;if(h=(c&a.childLanes)!==0,h||(el(s,a,c,!1),h=(c&a.childLanes)!==0),p){if(h)return Wb(s,a,c);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),at(ke,ke.current),h)break;return null;case 22:return a.lanes=0,jb(s,a,c,a.pendingProps);case 24:kr(a,He,s.memoizedState.cache)}return Gs(s,a,c)}function $b(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps)Ge=!0;else{if(!Dp(s,c)&&(a.flags&128)===0)return Ge=!1,pC(s,a,c);Ge=(s.flags&131072)!==0}else Ge=!1,Wt&&(a.flags&1048576)!==0&&Av(a,Tc,a.index);switch(a.lanes=0,a.tag){case 16:t:{var h=a.pendingProps;if(s=eo(a.elementType),a.type=s,typeof s=="function")Pm(s)?(h=ro(s,h),a.tag=1,a=Hb(null,a,s,h,c)):(a.tag=0,a=Sp(null,a,s,h,c));else{if(s!=null){var p=s.$$typeof;if(p===$){a.tag=11,a=Lb(null,a,s,h,c);break t}else if(p===I){a.tag=14,a=Vb(null,a,s,h,c);break t}}throw a=lt(s)||s,Error(i(306,a,""))}}return a;case 0:return Sp(s,a,a.type,a.pendingProps,c);case 1:return h=a.type,p=ro(h,a.pendingProps),Hb(s,a,h,p,c);case 3:t:{if(Dt(a,a.stateNode.containerInfo),s===null)throw Error(i(387));h=a.pendingProps;var _=a.memoizedState;p=_.element,Xm(s,a),Dc(a,h,null,c);var E=a.memoizedState;if(h=E.cache,kr(a,He,h),h!==_.cache&&qm(a,[He],c,!0),Ic(),h=E.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){a=qb(s,a,h,c);break t}else if(h!==p){p=bi(Error(i(424)),a),Sc(p),a=qb(s,a,h,c);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ye=wi(s.firstChild),pn=a,Wt=!0,Or=null,Si=!0,c=jv(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Qa(),h===p){a=Gs(s,a,c);break t}yn(s,a,h,c)}a=a.child}return a;case 26:return sf(s,a),s===null?(c=rE(a.type,null,a.pendingProps,null))?a.memoizedState=c:Wt||(c=a.type,s=a.pendingProps,h=Ef(bt.current).createElement(c),h[Ue]=a,h[sn]=s,_n(h,c,s),Be(h),a.stateNode=h):a.memoizedState=rE(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return fi(a),s===null&&Wt&&(h=a.stateNode=nE(a.type,a.pendingProps,bt.current),pn=a,Si=!0,p=ye,Wr(a.type)?(cg=p,ye=wi(h.firstChild)):ye=p),yn(s,a,a.pendingProps.children,c),sf(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Wt&&((p=h=ye)&&(h=GC(h,a.type,a.pendingProps,Si),h!==null?(a.stateNode=h,pn=a,ye=wi(h.firstChild),Si=!1,p=!0):p=!1),p||Nr(a)),fi(a),p=a.type,_=a.pendingProps,E=s!==null?s.memoizedProps:null,h=_.children,sg(p,_)?h=null:E!==null&&sg(p,E)&&(a.flags|=32),a.memoizedState!==null&&(p=ip(s,a,aC,null,null,c),Xc._currentValue=p),sf(s,a),yn(s,a,h,c),a.child;case 6:return s===null&&Wt&&((s=c=ye)&&(c=YC(c,a.pendingProps,Si),c!==null?(a.stateNode=c,pn=a,ye=null,s=!0):s=!1),s||Nr(a)),null;case 13:return Gb(s,a,c);case 4:return Dt(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=io(a,null,h,c):yn(s,a,h,c),a.child;case 11:return Lb(s,a,a.type,a.pendingProps,c);case 7:return yn(s,a,a.pendingProps,c),a.child;case 8:return yn(s,a,a.pendingProps.children,c),a.child;case 12:return yn(s,a,a.pendingProps.children,c),a.child;case 10:return h=a.pendingProps,kr(a,a.type,h.value),yn(s,a,h.children,c),a.child;case 9:return p=a.type._context,h=a.pendingProps.children,Za(a),p=gn(p),h=h(p),a.flags|=1,yn(s,a,h,c),a.child;case 14:return Vb(s,a,a.type,a.pendingProps,c);case 15:return zb(s,a,a.type,a.pendingProps,c);case 19:return Wb(s,a,c);case 31:return mC(s,a,c);case 22:return jb(s,a,c,a.pendingProps);case 24:return Za(a),h=gn(He),s===null?(p=Wm(),p===null&&(p=fe,_=Gm(),p.pooledCache=_,_.refCount++,_!==null&&(p.pooledCacheLanes|=c),p=_),a.memoizedState={parent:h,cache:p},Km(a),kr(a,He,p)):((s.lanes&c)!==0&&(Xm(s,a),Dc(a,null,null,c),Ic()),p=s.memoizedState,_=a.memoizedState,p.parent!==h?(p={parent:h,cache:h},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),kr(a,He,h)):(h=_.cache,kr(a,He,h),h!==p.cache&&qm(a,[He],c,!0))),yn(s,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Ys(s){s.flags|=4}function Mp(s,a,c,h,p){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(p&335544128)===p)if(s.stateNode.complete)s.flags|=8192;else if(E0())s.flags|=8192;else throw no=Fh,$m}else s.flags&=-16777217}function Kb(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!uE(a))if(E0())s.flags|=8192;else throw no=Fh,$m}function af(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?nn():536870912,s.lanes|=a,dl|=a)}function Lc(s,a){if(!Wt)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function _e(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(a)for(var p=s.child;p!==null;)c|=p.lanes|p.childLanes,h|=p.subtreeFlags&65011712,h|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)c|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=h,s.childLanes=c,a}function gC(s,a,c){var h=a.pendingProps;switch(jm(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(a),null;case 1:return _e(a),null;case 3:return c=a.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),Fs(He),Jt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(tl(a)?Ys(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Bm())),_e(a),null;case 26:var p=a.type,_=a.memoizedState;return s===null?(Ys(a),_!==null?(_e(a),Kb(a,_)):(_e(a),Mp(a,p,null,h,c))):_?_!==s.memoizedState?(Ys(a),_e(a),Kb(a,_)):(_e(a),a.flags&=-16777217):(s=s.memoizedProps,s!==h&&Ys(a),_e(a),Mp(a,p,s,h,c)),null;case 27:if(Di(a),c=bt.current,p=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Ys(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return _e(a),null}s=ht.current,tl(a)?Cv(a):(s=nE(p,h,c),a.stateNode=s,Ys(a))}return _e(a),null;case 5:if(Di(a),p=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Ys(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return _e(a),null}if(_=ht.current,tl(a))Cv(a);else{var E=Ef(bt.current);switch(_){case 1:_=E.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:_=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":_=E.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":_=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":_=E.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof h.is=="string"?E.createElement("select",{is:h.is}):E.createElement("select"),h.multiple?_.multiple=!0:h.size&&(_.size=h.size);break;default:_=typeof h.is=="string"?E.createElement(p,{is:h.is}):E.createElement(p)}}_[Ue]=a,_[sn]=h;t:for(E=a.child;E!==null;){if(E.tag===5||E.tag===6)_.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===a)break t;for(;E.sibling===null;){if(E.return===null||E.return===a)break t;E=E.return}E.sibling.return=E.return,E=E.sibling}a.stateNode=_;t:switch(_n(_,p,h),p){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break t;case"img":h=!0;break t;default:h=!1}h&&Ys(a)}}return _e(a),Mp(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,c),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==h&&Ys(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(i(166));if(s=bt.current,tl(a)){if(s=a.stateNode,c=a.memoizedProps,h=null,p=pn,p!==null)switch(p.tag){case 27:case 5:h=p.memoizedProps}s[Ue]=a,s=!!(s.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||G0(s.nodeValue,c)),s||Nr(a,!0)}else s=Ef(s).createTextNode(h),s[Ue]=a,a.stateNode=s}return _e(a),null;case 31:if(c=a.memoizedState,s===null||s.memoizedState!==null){if(h=tl(a),c!==null){if(s===null){if(!h)throw Error(i(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Ue]=a}else Qa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;_e(a),s=!1}else c=Bm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=c),s=!0;if(!s)return a.flags&256?(ai(a),a):(ai(a),null);if((a.flags&128)!==0)throw Error(i(558))}return _e(a),null;case 13:if(h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=tl(a),h!==null&&h.dehydrated!==null){if(s===null){if(!p)throw Error(i(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Ue]=a}else Qa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;_e(a),p=!1}else p=Bm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(ai(a),a):(ai(a),null)}return ai(a),(a.flags&128)!==0?(a.lanes=c,a):(c=h!==null,s=s!==null&&s.memoizedState!==null,c&&(h=a.child,p=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(p=h.alternate.memoizedState.cachePool.pool),_=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==p&&(h.flags|=2048)),c!==s&&c&&(a.child.flags|=8192),af(a,a.updateQueue),_e(a),null);case 4:return Jt(),s===null&&Zp(a.stateNode.containerInfo),_e(a),null;case 10:return Fs(a.type),_e(a),null;case 19:if(nt(ke),h=a.memoizedState,h===null)return _e(a),null;if(p=(a.flags&128)!==0,_=h.rendering,_===null)if(p)Lc(h,!1);else{if(De!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(_=Yh(s),_!==null){for(a.flags|=128,Lc(h,!1),s=_.updateQueue,a.updateQueue=s,af(a,s),a.subtreeFlags=0,s=c,c=a.child;c!==null;)Sv(c,s),c=c.sibling;return at(ke,ke.current&1|2),Wt&&Us(a,h.treeForkCount),a.child}s=s.sibling}h.tail!==null&&un()>hf&&(a.flags|=128,p=!0,Lc(h,!1),a.lanes=4194304)}else{if(!p)if(s=Yh(_),s!==null){if(a.flags|=128,p=!0,s=s.updateQueue,a.updateQueue=s,af(a,s),Lc(h,!0),h.tail===null&&h.tailMode==="hidden"&&!_.alternate&&!Wt)return _e(a),null}else 2*un()-h.renderingStartTime>hf&&c!==536870912&&(a.flags|=128,p=!0,Lc(h,!1),a.lanes=4194304);h.isBackwards?(_.sibling=a.child,a.child=_):(s=h.last,s!==null?s.sibling=_:a.child=_,h.last=_)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=un(),s.sibling=null,c=ke.current,at(ke,p?c&1|2:c&1),Wt&&Us(a,h.treeForkCount),s):(_e(a),null);case 22:case 23:return ai(a),tp(),h=a.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(c&536870912)!==0&&(a.flags&128)===0&&(_e(a),a.subtreeFlags&6&&(a.flags|=8192)):_e(a),c=a.updateQueue,c!==null&&af(a,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==c&&(a.flags|=2048),s!==null&&nt(to),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Fs(He),_e(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function yC(s,a){switch(jm(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Fs(He),Jt(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Di(a),null;case 31:if(a.memoizedState!==null){if(ai(a),a.alternate===null)throw Error(i(340));Qa()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(ai(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Qa()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return nt(ke),null;case 4:return Jt(),null;case 10:return Fs(a.type),null;case 22:case 23:return ai(a),tp(),s!==null&&nt(to),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Fs(He),null;case 25:return null;default:return null}}function Xb(s,a){switch(jm(a),a.tag){case 3:Fs(He),Jt();break;case 26:case 27:case 5:Di(a);break;case 4:Jt();break;case 31:a.memoizedState!==null&&ai(a);break;case 13:ai(a);break;case 19:nt(ke);break;case 10:Fs(a.type);break;case 22:case 23:ai(a),tp(),s!==null&&nt(to);break;case 24:Fs(He)}}function Vc(s,a){try{var c=a.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var p=h.next;c=p;do{if((c.tag&s)===s){h=void 0;var _=c.create,E=c.inst;h=_(),E.destroy=h}c=c.next}while(c!==p)}}catch(D){ae(a,a.return,D)}}function Ur(s,a,c){try{var h=a.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var _=p.next;h=_;do{if((h.tag&s)===s){var E=h.inst,D=E.destroy;if(D!==void 0){E.destroy=void 0,p=a;var U=c,Q=D;try{Q()}catch(it){ae(p,U,it)}}}h=h.next}while(h!==_)}}catch(it){ae(a,a.return,it)}}function Qb(s){var a=s.updateQueue;if(a!==null){var c=s.stateNode;try{Bv(a,c)}catch(h){ae(s,s.return,h)}}}function Jb(s,a,c){c.props=ro(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(h){ae(s,a,h)}}function zc(s,a){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof c=="function"?s.refCleanup=c(h):c.current=h}}catch(p){ae(s,a,p)}}function _s(s,a){var c=s.ref,h=s.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(p){ae(s,a,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(p){ae(s,a,p)}else c.current=null}function Zb(s){var a=s.type,c=s.memoizedProps,h=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break t;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(p){ae(s,s.return,p)}}function Op(s,a,c){try{var h=s.stateNode;jC(h,s.type,c,a),h[sn]=a}catch(p){ae(s,s.return,p)}}function t0(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Wr(s.type)||s.tag===4}function Np(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||t0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Wr(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function kp(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(s),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=zi));else if(h!==4&&(h===27&&Wr(s.type)&&(c=s.stateNode,a=null),s=s.child,s!==null))for(kp(s,a,c),s=s.sibling;s!==null;)kp(s,a,c),s=s.sibling}function of(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(h!==4&&(h===27&&Wr(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(of(s,a,c),s=s.sibling;s!==null;)of(s,a,c),s=s.sibling}function e0(s){var a=s.stateNode,c=s.memoizedProps;try{for(var h=s.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);_n(a,h,c),a[Ue]=s,a[sn]=c}catch(_){ae(s,s.return,_)}}var Ws=!1,Ye=!1,Pp=!1,n0=typeof WeakSet=="function"?WeakSet:Set,an=null;function _C(s,a){if(s=s.containerInfo,ng=Cf,s=mv(s),Cm(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else t:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var p=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break t}var E=0,D=-1,U=-1,Q=0,it=0,ot=s,J=null;e:for(;;){for(var tt;ot!==c||p!==0&&ot.nodeType!==3||(D=E+p),ot!==_||h!==0&&ot.nodeType!==3||(U=E+h),ot.nodeType===3&&(E+=ot.nodeValue.length),(tt=ot.firstChild)!==null;)J=ot,ot=tt;for(;;){if(ot===s)break e;if(J===c&&++Q===p&&(D=E),J===_&&++it===h&&(U=E),(tt=ot.nextSibling)!==null)break;ot=J,J=ot.parentNode}ot=tt}c=D===-1||U===-1?null:{start:D,end:U}}else c=null}c=c||{start:0,end:0}}else c=null;for(ig={focusedElem:s,selectionRange:c},Cf=!1,an=a;an!==null;)if(a=an,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,an=s;else for(;an!==null;){switch(a=an,_=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(c=0;c<s.length;c++)p=s[c],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&_!==null){s=void 0,c=a,p=_.memoizedProps,_=_.memoizedState,h=c.stateNode;try{var _t=ro(c.type,p);s=h.getSnapshotBeforeUpdate(_t,_),h.__reactInternalSnapshotBeforeUpdate=s}catch(wt){ae(c,c.return,wt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,c=s.nodeType,c===9)ag(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":ag(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,an=s;break}an=a.return}}function i0(s,a,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Ks(s,c),h&4&&Vc(5,c);break;case 1:if(Ks(s,c),h&4)if(s=c.stateNode,a===null)try{s.componentDidMount()}catch(E){ae(c,c.return,E)}else{var p=ro(c.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(p,a,s.__reactInternalSnapshotBeforeUpdate)}catch(E){ae(c,c.return,E)}}h&64&&Qb(c),h&512&&zc(c,c.return);break;case 3:if(Ks(s,c),h&64&&(s=c.updateQueue,s!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{Bv(s,a)}catch(E){ae(c,c.return,E)}}break;case 27:a===null&&h&4&&e0(c);case 26:case 5:Ks(s,c),a===null&&h&4&&Zb(c),h&512&&zc(c,c.return);break;case 12:Ks(s,c);break;case 31:Ks(s,c),h&4&&a0(s,c);break;case 13:Ks(s,c),h&4&&o0(s,c),h&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=RC.bind(null,c),WC(s,c))));break;case 22:if(h=c.memoizedState!==null||Ws,!h){a=a!==null&&a.memoizedState!==null||Ye,p=Ws;var _=Ye;Ws=h,(Ye=a)&&!_?Xs(s,c,(c.subtreeFlags&8772)!==0):Ks(s,c),Ws=p,Ye=_}break;case 30:break;default:Ks(s,c)}}function s0(s){var a=s.alternate;a!==null&&(s.alternate=null,s0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Vo(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Se=null,Un=!1;function $s(s,a,c){for(c=c.child;c!==null;)r0(s,a,c),c=c.sibling}function r0(s,a,c){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(Jn,c)}catch{}switch(c.tag){case 26:Ye||_s(c,a),$s(s,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Ye||_s(c,a);var h=Se,p=Un;Wr(c.type)&&(Se=c.stateNode,Un=!1),$s(s,a,c),Wc(c.stateNode),Se=h,Un=p;break;case 5:Ye||_s(c,a);case 6:if(h=Se,p=Un,Se=null,$s(s,a,c),Se=h,Un=p,Se!==null)if(Un)try{(Se.nodeType===9?Se.body:Se.nodeName==="HTML"?Se.ownerDocument.body:Se).removeChild(c.stateNode)}catch(_){ae(c,a,_)}else try{Se.removeChild(c.stateNode)}catch(_){ae(c,a,_)}break;case 18:Se!==null&&(Un?(s=Se,Q0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),El(s)):Q0(Se,c.stateNode));break;case 4:h=Se,p=Un,Se=c.stateNode.containerInfo,Un=!0,$s(s,a,c),Se=h,Un=p;break;case 0:case 11:case 14:case 15:Ur(2,c,a),Ye||Ur(4,c,a),$s(s,a,c);break;case 1:Ye||(_s(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"&&Jb(c,a,h)),$s(s,a,c);break;case 21:$s(s,a,c);break;case 22:Ye=(h=Ye)||c.memoizedState!==null,$s(s,a,c),Ye=h;break;default:$s(s,a,c)}}function a0(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{El(s)}catch(c){ae(a,a.return,c)}}}function o0(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{El(s)}catch(c){ae(a,a.return,c)}}function vC(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new n0),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new n0),a;default:throw Error(i(435,s.tag))}}function lf(s,a){var c=vC(s);a.forEach(function(h){if(!c.has(h)){c.add(h);var p=CC.bind(null,s,h);h.then(p,p)}})}function Bn(s,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var p=c[h],_=s,E=a,D=E;t:for(;D!==null;){switch(D.tag){case 27:if(Wr(D.type)){Se=D.stateNode,Un=!1;break t}break;case 5:Se=D.stateNode,Un=!1;break t;case 3:case 4:Se=D.stateNode.containerInfo,Un=!0;break t}D=D.return}if(Se===null)throw Error(i(160));r0(_,E,p),Se=null,Un=!1,_=p.alternate,_!==null&&(_.return=null),p.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)l0(a,s),a=a.sibling}var qi=null;function l0(s,a){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Bn(a,s),Fn(s),h&4&&(Ur(3,s,s.return),Vc(3,s),Ur(5,s,s.return));break;case 1:Bn(a,s),Fn(s),h&512&&(Ye||c===null||_s(c,c.return)),h&64&&Ws&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var p=qi;if(Bn(a,s),Fn(s),h&512&&(Ye||c===null||_s(c,c.return)),h&4){var _=c!==null?c.memoizedState:null;if(h=s.memoizedState,c===null)if(h===null)if(s.stateNode===null){t:{h=s.type,c=s.memoizedProps,p=p.ownerDocument||p;e:switch(h){case"title":_=p.getElementsByTagName("title")[0],(!_||_[ss]||_[Ue]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=p.createElement(h),p.head.insertBefore(_,p.querySelector("head > title"))),_n(_,h,c),_[Ue]=s,Be(_),h=_;break t;case"link":var E=lE("link","href",p).get(h+(c.href||""));if(E){for(var D=0;D<E.length;D++)if(_=E[D],_.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&_.getAttribute("rel")===(c.rel==null?null:c.rel)&&_.getAttribute("title")===(c.title==null?null:c.title)&&_.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){E.splice(D,1);break e}}_=p.createElement(h),_n(_,h,c),p.head.appendChild(_);break;case"meta":if(E=lE("meta","content",p).get(h+(c.content||""))){for(D=0;D<E.length;D++)if(_=E[D],_.getAttribute("content")===(c.content==null?null:""+c.content)&&_.getAttribute("name")===(c.name==null?null:c.name)&&_.getAttribute("property")===(c.property==null?null:c.property)&&_.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&_.getAttribute("charset")===(c.charSet==null?null:c.charSet)){E.splice(D,1);break e}}_=p.createElement(h),_n(_,h,c),p.head.appendChild(_);break;default:throw Error(i(468,h))}_[Ue]=s,Be(_),h=_}s.stateNode=h}else cE(p,s.type,s.stateNode);else s.stateNode=oE(p,h,s.memoizedProps);else _!==h?(_===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):_.count--,h===null?cE(p,s.type,s.stateNode):oE(p,h,s.memoizedProps)):h===null&&s.stateNode!==null&&Op(s,s.memoizedProps,c.memoizedProps)}break;case 27:Bn(a,s),Fn(s),h&512&&(Ye||c===null||_s(c,c.return)),c!==null&&h&4&&Op(s,s.memoizedProps,c.memoizedProps);break;case 5:if(Bn(a,s),Fn(s),h&512&&(Ye||c===null||_s(c,c.return)),s.flags&32){p=s.stateNode;try{jn(p,"")}catch(_t){ae(s,s.return,_t)}}h&4&&s.stateNode!=null&&(p=s.memoizedProps,Op(s,p,c!==null?c.memoizedProps:p)),h&1024&&(Pp=!0);break;case 6:if(Bn(a,s),Fn(s),h&4){if(s.stateNode===null)throw Error(i(162));h=s.memoizedProps,c=s.stateNode;try{c.nodeValue=h}catch(_t){ae(s,s.return,_t)}}break;case 3:if(xf=null,p=qi,qi=Tf(a.containerInfo),Bn(a,s),qi=p,Fn(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{El(a.containerInfo)}catch(_t){ae(s,s.return,_t)}Pp&&(Pp=!1,c0(s));break;case 4:h=qi,qi=Tf(s.stateNode.containerInfo),Bn(a,s),Fn(s),qi=h;break;case 12:Bn(a,s),Fn(s);break;case 31:Bn(a,s),Fn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,lf(s,h)));break;case 13:Bn(a,s),Fn(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(uf=un()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,lf(s,h)));break;case 22:p=s.memoizedState!==null;var U=c!==null&&c.memoizedState!==null,Q=Ws,it=Ye;if(Ws=Q||p,Ye=it||U,Bn(a,s),Ye=it,Ws=Q,Fn(s),h&8192)t:for(a=s.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(c===null||U||Ws||Ye||ao(s)),c=null,a=s;;){if(a.tag===5||a.tag===26){if(c===null){U=c=a;try{if(_=U.stateNode,p)E=_.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{D=U.stateNode;var ot=U.memoizedProps.style,J=ot!=null&&ot.hasOwnProperty("display")?ot.display:null;D.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(_t){ae(U,U.return,_t)}}}else if(a.tag===6){if(c===null){U=a;try{U.stateNode.nodeValue=p?"":U.memoizedProps}catch(_t){ae(U,U.return,_t)}}}else if(a.tag===18){if(c===null){U=a;try{var tt=U.stateNode;p?J0(tt,!0):J0(U.stateNode,!1)}catch(_t){ae(U,U.return,_t)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=s.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,lf(s,c))));break;case 19:Bn(a,s),Fn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,lf(s,h)));break;case 30:break;case 21:break;default:Bn(a,s),Fn(s)}}function Fn(s){var a=s.flags;if(a&2){try{for(var c,h=s.return;h!==null;){if(t0(h)){c=h;break}h=h.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var p=c.stateNode,_=Np(s);of(s,_,p);break;case 5:var E=c.stateNode;c.flags&32&&(jn(E,""),c.flags&=-33);var D=Np(s);of(s,D,E);break;case 3:case 4:var U=c.stateNode.containerInfo,Q=Np(s);kp(s,Q,U);break;default:throw Error(i(161))}}catch(it){ae(s,s.return,it)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function c0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;c0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Ks(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)i0(s,a.alternate,a),a=a.sibling}function ao(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Ur(4,a,a.return),ao(a);break;case 1:_s(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&Jb(a,a.return,c),ao(a);break;case 27:Wc(a.stateNode);case 26:case 5:_s(a,a.return),ao(a);break;case 22:a.memoizedState===null&&ao(a);break;case 30:ao(a);break;default:ao(a)}s=s.sibling}}function Xs(s,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,p=s,_=a,E=_.flags;switch(_.tag){case 0:case 11:case 15:Xs(p,_,c),Vc(4,_);break;case 1:if(Xs(p,_,c),h=_,p=h.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Q){ae(h,h.return,Q)}if(h=_,p=h.updateQueue,p!==null){var D=h.stateNode;try{var U=p.shared.hiddenCallbacks;if(U!==null)for(p.shared.hiddenCallbacks=null,p=0;p<U.length;p++)Uv(U[p],D)}catch(Q){ae(h,h.return,Q)}}c&&E&64&&Qb(_),zc(_,_.return);break;case 27:e0(_);case 26:case 5:Xs(p,_,c),c&&h===null&&E&4&&Zb(_),zc(_,_.return);break;case 12:Xs(p,_,c);break;case 31:Xs(p,_,c),c&&E&4&&a0(p,_);break;case 13:Xs(p,_,c),c&&E&4&&o0(p,_);break;case 22:_.memoizedState===null&&Xs(p,_,c),zc(_,_.return);break;case 30:break;default:Xs(p,_,c)}a=a.sibling}}function Lp(s,a){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&xc(c))}function Vp(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&xc(s))}function Gi(s,a,c,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)u0(s,a,c,h),a=a.sibling}function u0(s,a,c,h){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Gi(s,a,c,h),p&2048&&Vc(9,a);break;case 1:Gi(s,a,c,h);break;case 3:Gi(s,a,c,h),p&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&xc(s)));break;case 12:if(p&2048){Gi(s,a,c,h),s=a.stateNode;try{var _=a.memoizedProps,E=_.id,D=_.onPostCommit;typeof D=="function"&&D(E,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(U){ae(a,a.return,U)}}else Gi(s,a,c,h);break;case 31:Gi(s,a,c,h);break;case 13:Gi(s,a,c,h);break;case 23:break;case 22:_=a.stateNode,E=a.alternate,a.memoizedState!==null?_._visibility&2?Gi(s,a,c,h):jc(s,a):_._visibility&2?Gi(s,a,c,h):(_._visibility|=2,ul(s,a,c,h,(a.subtreeFlags&10256)!==0||!1)),p&2048&&Lp(E,a);break;case 24:Gi(s,a,c,h),p&2048&&Vp(a.alternate,a);break;default:Gi(s,a,c,h)}}function ul(s,a,c,h,p){for(p=p&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var _=s,E=a,D=c,U=h,Q=E.flags;switch(E.tag){case 0:case 11:case 15:ul(_,E,D,U,p),Vc(8,E);break;case 23:break;case 22:var it=E.stateNode;E.memoizedState!==null?it._visibility&2?ul(_,E,D,U,p):jc(_,E):(it._visibility|=2,ul(_,E,D,U,p)),p&&Q&2048&&Lp(E.alternate,E);break;case 24:ul(_,E,D,U,p),p&&Q&2048&&Vp(E.alternate,E);break;default:ul(_,E,D,U,p)}a=a.sibling}}function jc(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=s,h=a,p=h.flags;switch(h.tag){case 22:jc(c,h),p&2048&&Lp(h.alternate,h);break;case 24:jc(c,h),p&2048&&Vp(h.alternate,h);break;default:jc(c,h)}a=a.sibling}}var Uc=8192;function hl(s,a,c){if(s.subtreeFlags&Uc)for(s=s.child;s!==null;)h0(s,a,c),s=s.sibling}function h0(s,a,c){switch(s.tag){case 26:hl(s,a,c),s.flags&Uc&&s.memoizedState!==null&&rI(c,qi,s.memoizedState,s.memoizedProps);break;case 5:hl(s,a,c);break;case 3:case 4:var h=qi;qi=Tf(s.stateNode.containerInfo),hl(s,a,c),qi=h;break;case 22:s.memoizedState===null&&(h=s.alternate,h!==null&&h.memoizedState!==null?(h=Uc,Uc=16777216,hl(s,a,c),Uc=h):hl(s,a,c));break;default:hl(s,a,c)}}function f0(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Bc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];an=h,m0(h,s)}f0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)d0(s),s=s.sibling}function d0(s){switch(s.tag){case 0:case 11:case 15:Bc(s),s.flags&2048&&Ur(9,s,s.return);break;case 3:Bc(s);break;case 12:Bc(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,cf(s)):Bc(s);break;default:Bc(s)}}function cf(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];an=h,m0(h,s)}f0(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Ur(8,a,a.return),cf(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,cf(a));break;default:cf(a)}s=s.sibling}}function m0(s,a){for(;an!==null;){var c=an;switch(c.tag){case 0:case 11:case 15:Ur(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:xc(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,an=h;else t:for(c=s;an!==null;){h=an;var p=h.sibling,_=h.return;if(s0(h),h===c){an=null;break t}if(p!==null){p.return=_,an=p;break t}an=_}}}var bC={getCacheForType:function(s){var a=gn(He),c=a.data.get(s);return c===void 0&&(c=s(),a.data.set(s,c)),c},cacheSignal:function(){return gn(He).controller.signal}},EC=typeof WeakMap=="function"?WeakMap:Map,te=0,fe=null,zt=null,Bt=0,re=0,oi=null,Br=!1,fl=!1,zp=!1,Qs=0,De=0,Fr=0,oo=0,jp=0,li=0,dl=0,Fc=null,Hn=null,Up=!1,uf=0,p0=0,hf=1/0,ff=null,Hr=null,Je=0,qr=null,ml=null,Js=0,Bp=0,Fp=null,g0=null,Hc=0,Hp=null;function ci(){return(te&2)!==0&&Bt!==0?Bt&-Bt:q.T!==null?Kp():nc()}function y0(){if(li===0)if((Bt&536870912)===0||Wt){var s=Ps;Ps<<=1,(Ps&3932160)===0&&(Ps=262144),li=s}else li=536870912;return s=ri.current,s!==null&&(s.flags|=32),li}function qn(s,a,c){(s===fe&&(re===2||re===9)||s.cancelPendingCommit!==null)&&(pl(s,0),Gr(s,Bt,li,!1)),ge(s,c),((te&2)===0||s!==fe)&&(s===fe&&((te&2)===0&&(oo|=c),De===4&&Gr(s,Bt,li,!1)),vs(s))}function _0(s,a,c){if((te&6)!==0)throw Error(i(327));var h=!c&&(a&127)===0&&(a&s.expiredLanes)===0||ne(s,a),p=h?xC(s,a):Gp(s,a,!0),_=h;do{if(p===0){fl&&!h&&Gr(s,a,0,!1);break}else{if(c=s.current.alternate,_&&!TC(c)){p=Gp(s,a,!1),_=!1;continue}if(p===2){if(_=a,s.errorRecoveryDisabledLanes&_)var E=0;else E=s.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;t:{var D=s;p=Fc;var U=D.current.memoizedState.isDehydrated;if(U&&(pl(D,E).flags|=256),E=Gp(D,E,!1),E!==2){if(zp&&!U){D.errorRecoveryDisabledLanes|=_,oo|=_,p=4;break t}_=Hn,Hn=p,_!==null&&(Hn===null?Hn=_:Hn.push.apply(Hn,_))}p=E}if(_=!1,p!==2)continue}}if(p===1){pl(s,0),Gr(s,a,0,!0);break}t:{switch(h=s,_=p,_){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Gr(h,a,li,!Br);break t;case 2:Hn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(p=uf+300-un(),10<p)){if(Gr(h,a,li,!Br),xt(h,0,!0)!==0)break t;Js=a,h.timeoutHandle=K0(v0.bind(null,h,c,Hn,ff,Up,a,li,oo,dl,Br,_,"Throttled",-0,0),p);break t}v0(h,c,Hn,ff,Up,a,li,oo,dl,Br,_,null,-0,0)}}break}while(!0);vs(s)}function v0(s,a,c,h,p,_,E,D,U,Q,it,ot,J,tt){if(s.timeoutHandle=-1,ot=a.subtreeFlags,ot&8192||(ot&16785408)===16785408){ot={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zi},h0(a,_,ot);var _t=(_&62914560)===_?uf-un():(_&4194048)===_?p0-un():0;if(_t=aI(ot,_t),_t!==null){Js=_,s.cancelPendingCommit=_t(R0.bind(null,s,a,_,c,h,p,E,D,U,it,ot,null,J,tt)),Gr(s,_,E,!Q);return}}R0(s,a,_,c,h,p,E,D,U)}function TC(s){for(var a=s;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var p=c[h],_=p.getSnapshot;p=p.value;try{if(!ii(_(),p))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Gr(s,a,c,h){a&=~jp,a&=~oo,s.suspendedLanes|=a,s.pingedLanes&=~a,h&&(s.warmLanes|=a),h=s.expirationTimes;for(var p=a;0<p;){var _=31-Ee(p),E=1<<_;h[_]=-1,p&=~E}c!==0&&mi(s,c,a)}function df(){return(te&6)===0?(qc(0),!1):!0}function qp(){if(zt!==null){if(re===0)var s=zt.return;else s=zt,Bs=Ja=null,ap(s),rl=null,Ac=0,s=zt;for(;s!==null;)Xb(s.alternate,s),s=s.return;zt=null}}function pl(s,a){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,FC(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),Js=0,qp(),fe=s,zt=c=js(s.current,null),Bt=a,re=0,oi=null,Br=!1,fl=ne(s,a),zp=!1,dl=li=jp=oo=Fr=De=0,Hn=Fc=null,Up=!1,(a&8)!==0&&(a|=a&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=a;0<h;){var p=31-Ee(h),_=1<<p;a|=s[p],h&=~_}return Qs=a,Nh(),c}function b0(s,a){Pt=null,q.H=kc,a===sl||a===Bh?(a=Lv(),re=3):a===$m?(a=Lv(),re=4):re=a===Tp?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,oi=a,zt===null&&(De=1,ef(s,bi(a,s.current)))}function E0(){var s=ri.current;return s===null?!0:(Bt&4194048)===Bt?xi===null:(Bt&62914560)===Bt||(Bt&536870912)!==0?s===xi:!1}function T0(){var s=q.H;return q.H=kc,s===null?kc:s}function S0(){var s=q.A;return q.A=bC,s}function mf(){De=4,Br||(Bt&4194048)!==Bt&&ri.current!==null||(fl=!0),(Fr&134217727)===0&&(oo&134217727)===0||fe===null||Gr(fe,Bt,li,!1)}function Gp(s,a,c){var h=te;te|=2;var p=T0(),_=S0();(fe!==s||Bt!==a)&&(ff=null,pl(s,a)),a=!1;var E=De;t:do try{if(re!==0&&zt!==null){var D=zt,U=oi;switch(re){case 8:qp(),E=6;break t;case 3:case 2:case 9:case 6:ri.current===null&&(a=!0);var Q=re;if(re=0,oi=null,gl(s,D,U,Q),c&&fl){E=0;break t}break;default:Q=re,re=0,oi=null,gl(s,D,U,Q)}}SC(),E=De;break}catch(it){b0(s,it)}while(!0);return a&&s.shellSuspendCounter++,Bs=Ja=null,te=h,q.H=p,q.A=_,zt===null&&(fe=null,Bt=0,Nh()),E}function SC(){for(;zt!==null;)x0(zt)}function xC(s,a){var c=te;te|=2;var h=T0(),p=S0();fe!==s||Bt!==a?(ff=null,hf=un()+500,pl(s,a)):fl=ne(s,a);t:do try{if(re!==0&&zt!==null){a=zt;var _=oi;e:switch(re){case 1:re=0,oi=null,gl(s,a,_,1);break;case 2:case 9:if(kv(_)){re=0,oi=null,w0(a);break}a=function(){re!==2&&re!==9||fe!==s||(re=7),vs(s)},_.then(a,a);break t;case 3:re=7;break t;case 4:re=5;break t;case 7:kv(_)?(re=0,oi=null,w0(a)):(re=0,oi=null,gl(s,a,_,7));break;case 5:var E=null;switch(zt.tag){case 26:E=zt.memoizedState;case 5:case 27:var D=zt;if(E?uE(E):D.stateNode.complete){re=0,oi=null;var U=D.sibling;if(U!==null)zt=U;else{var Q=D.return;Q!==null?(zt=Q,pf(Q)):zt=null}break e}}re=0,oi=null,gl(s,a,_,5);break;case 6:re=0,oi=null,gl(s,a,_,6);break;case 8:qp(),De=6;break t;default:throw Error(i(462))}}wC();break}catch(it){b0(s,it)}while(!0);return Bs=Ja=null,q.H=h,q.A=p,te=c,zt!==null?0:(fe=null,Bt=0,Nh(),De)}function wC(){for(;zt!==null&&!cn();)x0(zt)}function x0(s){var a=$b(s.alternate,s,Qs);s.memoizedProps=s.pendingProps,a===null?pf(s):zt=a}function w0(s){var a=s,c=a.alternate;switch(a.tag){case 15:case 0:a=Fb(c,a,a.pendingProps,a.type,void 0,Bt);break;case 11:a=Fb(c,a,a.pendingProps,a.type.render,a.ref,Bt);break;case 5:ap(a);default:Xb(c,a),a=zt=Sv(a,Qs),a=$b(c,a,Qs)}s.memoizedProps=s.pendingProps,a===null?pf(s):zt=a}function gl(s,a,c,h){Bs=Ja=null,ap(a),rl=null,Ac=0;var p=a.return;try{if(dC(s,p,a,c,Bt)){De=1,ef(s,bi(c,s.current)),zt=null;return}}catch(_){if(p!==null)throw zt=p,_;De=1,ef(s,bi(c,s.current)),zt=null;return}a.flags&32768?(Wt||h===1?s=!0:fl||(Bt&536870912)!==0?s=!1:(Br=s=!0,(h===2||h===9||h===3||h===6)&&(h=ri.current,h!==null&&h.tag===13&&(h.flags|=16384))),A0(a,s)):pf(a)}function pf(s){var a=s;do{if((a.flags&32768)!==0){A0(a,Br);return}s=a.return;var c=gC(a.alternate,a,Qs);if(c!==null){zt=c;return}if(a=a.sibling,a!==null){zt=a;return}zt=a=s}while(a!==null);De===0&&(De=5)}function A0(s,a){do{var c=yC(s.alternate,s);if(c!==null){c.flags&=32767,zt=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(s=s.sibling,s!==null)){zt=s;return}zt=s=c}while(s!==null);De=6,zt=null}function R0(s,a,c,h,p,_,E,D,U){s.cancelPendingCommit=null;do gf();while(Je!==0);if((te&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(_=a.lanes|a.childLanes,_|=Nm,Tn(s,c,_,E,D,U),s===fe&&(zt=fe=null,Bt=0),ml=a,qr=s,Js=c,Bp=_,Fp=p,g0=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,IC(Ni,function(){return O0(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=q.T,q.T=null,p=et.p,et.p=2,E=te,te|=4;try{_C(s,a,c)}finally{te=E,et.p=p,q.T=h}}Je=1,C0(),I0(),D0()}}function C0(){if(Je===1){Je=0;var s=qr,a=ml,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=q.T,q.T=null;var h=et.p;et.p=2;var p=te;te|=4;try{l0(a,s);var _=ig,E=mv(s.containerInfo),D=_.focusedElem,U=_.selectionRange;if(E!==D&&D&&D.ownerDocument&&dv(D.ownerDocument.documentElement,D)){if(U!==null&&Cm(D)){var Q=U.start,it=U.end;if(it===void 0&&(it=Q),"selectionStart"in D)D.selectionStart=Q,D.selectionEnd=Math.min(it,D.value.length);else{var ot=D.ownerDocument||document,J=ot&&ot.defaultView||window;if(J.getSelection){var tt=J.getSelection(),_t=D.textContent.length,wt=Math.min(U.start,_t),he=U.end===void 0?wt:Math.min(U.end,_t);!tt.extend&&wt>he&&(E=he,he=wt,wt=E);var G=fv(D,wt),H=fv(D,he);if(G&&H&&(tt.rangeCount!==1||tt.anchorNode!==G.node||tt.anchorOffset!==G.offset||tt.focusNode!==H.node||tt.focusOffset!==H.offset)){var X=ot.createRange();X.setStart(G.node,G.offset),tt.removeAllRanges(),wt>he?(tt.addRange(X),tt.extend(H.node,H.offset)):(X.setEnd(H.node,H.offset),tt.addRange(X))}}}}for(ot=[],tt=D;tt=tt.parentNode;)tt.nodeType===1&&ot.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<ot.length;D++){var st=ot[D];st.element.scrollLeft=st.left,st.element.scrollTop=st.top}}Cf=!!ng,ig=ng=null}finally{te=p,et.p=h,q.T=c}}s.current=a,Je=2}}function I0(){if(Je===2){Je=0;var s=qr,a=ml,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=q.T,q.T=null;var h=et.p;et.p=2;var p=te;te|=4;try{i0(s,a.alternate,a)}finally{te=p,et.p=h,q.T=c}}Je=3}}function D0(){if(Je===4||Je===3){Je=0,Oi();var s=qr,a=ml,c=Js,h=g0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Je=5:(Je=0,ml=qr=null,M0(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(Hr=null),dn(c),a=a.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(Jn,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=q.T,p=et.p,et.p=2,q.T=null;try{for(var _=s.onRecoverableError,E=0;E<h.length;E++){var D=h[E];_(D.value,{componentStack:D.stack})}}finally{q.T=a,et.p=p}}(Js&3)!==0&&gf(),vs(s),p=s.pendingLanes,(c&261930)!==0&&(p&42)!==0?s===Hp?Hc++:(Hc=0,Hp=s):Hc=0,qc(0)}}function M0(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,xc(a)))}function gf(){return C0(),I0(),D0(),O0()}function O0(){if(Je!==5)return!1;var s=qr,a=Bp;Bp=0;var c=dn(Js),h=q.T,p=et.p;try{et.p=32>c?32:c,q.T=null,c=Fp,Fp=null;var _=qr,E=Js;if(Je=0,ml=qr=null,Js=0,(te&6)!==0)throw Error(i(331));var D=te;if(te|=4,d0(_.current),u0(_,_.current,E,c),te=D,qc(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(Jn,_)}catch{}return!0}finally{et.p=p,q.T=h,M0(s,a)}}function N0(s,a,c){a=bi(c,a),a=Ep(s.stateNode,a,2),s=Vr(s,a,2),s!==null&&(ge(s,2),vs(s))}function ae(s,a,c){if(s.tag===3)N0(s,s,c);else for(;a!==null;){if(a.tag===3){N0(a,s,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Hr===null||!Hr.has(h))){s=bi(c,s),c=kb(2),h=Vr(a,c,2),h!==null&&(Pb(c,h,a,s),ge(h,2),vs(h));break}}a=a.return}}function Yp(s,a,c){var h=s.pingCache;if(h===null){h=s.pingCache=new EC;var p=new Set;h.set(a,p)}else p=h.get(a),p===void 0&&(p=new Set,h.set(a,p));p.has(c)||(zp=!0,p.add(c),s=AC.bind(null,s,a,c),a.then(s,s))}function AC(s,a,c){var h=s.pingCache;h!==null&&h.delete(a),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,fe===s&&(Bt&c)===c&&(De===4||De===3&&(Bt&62914560)===Bt&&300>un()-uf?(te&2)===0&&pl(s,0):jp|=c,dl===Bt&&(dl=0)),vs(s)}function k0(s,a){a===0&&(a=nn()),s=Ka(s,a),s!==null&&(ge(s,a),vs(s))}function RC(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),k0(s,c)}function CC(s,a){var c=0;switch(s.tag){case 31:case 13:var h=s.stateNode,p=s.memoizedState;p!==null&&(c=p.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(a),k0(s,c)}function IC(s,a){return Oe(s,a)}var yf=null,yl=null,Wp=!1,_f=!1,$p=!1,Yr=0;function vs(s){s!==yl&&s.next===null&&(yl===null?yf=yl=s:yl=yl.next=s),_f=!0,Wp||(Wp=!0,MC())}function qc(s,a){if(!$p&&_f){$p=!0;do for(var c=!1,h=yf;h!==null;){if(s!==0){var p=h.pendingLanes;if(p===0)var _=0;else{var E=h.suspendedLanes,D=h.pingedLanes;_=(1<<31-Ee(42|s)+1)-1,_&=p&~(E&~D),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(c=!0,z0(h,_))}else _=Bt,_=xt(h,h===fe?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||ne(h,_)||(c=!0,z0(h,_));h=h.next}while(c);$p=!1}}function DC(){P0()}function P0(){_f=Wp=!1;var s=0;Yr!==0&&BC()&&(s=Yr);for(var a=un(),c=null,h=yf;h!==null;){var p=h.next,_=L0(h,a);_===0?(h.next=null,c===null?yf=p:c.next=p,p===null&&(yl=c)):(c=h,(s!==0||(_&3)!==0)&&(_f=!0)),h=p}Je!==0&&Je!==5||qc(s),Yr!==0&&(Yr=0)}function L0(s,a){for(var c=s.suspendedLanes,h=s.pingedLanes,p=s.expirationTimes,_=s.pendingLanes&-62914561;0<_;){var E=31-Ee(_),D=1<<E,U=p[E];U===-1?((D&c)===0||(D&h)!==0)&&(p[E]=je(D,a)):U<=a&&(s.expiredLanes|=D),_&=~D}if(a=fe,c=Bt,c=xt(s,s===a?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,c===0||s===a&&(re===2||re===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&Zi(h),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||ne(s,c)){if(a=c&-c,a===s.callbackPriority)return a;switch(h!==null&&Zi(h),dn(c)){case 2:case 8:c=Pa;break;case 32:c=Ni;break;case 268435456:c=ki;break;default:c=Ni}return h=V0.bind(null,s),c=Oe(c,h),s.callbackPriority=a,s.callbackNode=c,a}return h!==null&&h!==null&&Zi(h),s.callbackPriority=2,s.callbackNode=null,2}function V0(s,a){if(Je!==0&&Je!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(gf()&&s.callbackNode!==c)return null;var h=Bt;return h=xt(s,s===fe?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(_0(s,h,a),L0(s,un()),s.callbackNode!=null&&s.callbackNode===c?V0.bind(null,s):null)}function z0(s,a){if(gf())return null;_0(s,a,!0)}function MC(){HC(function(){(te&6)!==0?Oe(ts,DC):P0()})}function Kp(){if(Yr===0){var s=nl;s===0&&(s=di,di<<=1,(di&261888)===0&&(di=256)),Yr=s}return Yr}function j0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Bo(""+s)}function U0(s,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,s.id&&c.setAttribute("form",s.id),a.parentNode.insertBefore(c,a),s=new FormData(s),c.parentNode.removeChild(c),s}function OC(s,a,c,h,p){if(a==="submit"&&c&&c.stateNode===p){var _=j0((p[sn]||null).action),E=h.submitter;E&&(a=(a=E[sn]||null)?j0(a.formAction):E.getAttribute("formAction"),a!==null&&(_=a,E=null));var D=new fs("action","action",null,h,p);s.push({event:D,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Yr!==0){var U=E?U0(p,E):new FormData(p);pp(c,{pending:!0,data:U,method:p.method,action:_},null,U)}}else typeof _=="function"&&(D.preventDefault(),U=E?U0(p,E):new FormData(p),pp(c,{pending:!0,data:U,method:p.method,action:_},_,U))},currentTarget:p}]})}}for(var Xp=0;Xp<Om.length;Xp++){var Qp=Om[Xp],NC=Qp.toLowerCase(),kC=Qp[0].toUpperCase()+Qp.slice(1);Hi(NC,"on"+kC)}Hi(yv,"onAnimationEnd"),Hi(_v,"onAnimationIteration"),Hi(vv,"onAnimationStart"),Hi("dblclick","onDoubleClick"),Hi("focusin","onFocus"),Hi("focusout","onBlur"),Hi(XR,"onTransitionRun"),Hi(QR,"onTransitionStart"),Hi(JR,"onTransitionCancel"),Hi(bv,"onTransitionEnd"),ls("onMouseEnter",["mouseout","mouseover"]),ls("onMouseLeave",["mouseout","mouseover"]),ls("onPointerEnter",["pointerout","pointerover"]),ls("onPointerLeave",["pointerout","pointerover"]),os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),os("onBeforeInput",["compositionend","keypress","textInput","paste"]),os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gc));function B0(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],p=h.event;h=h.listeners;t:{var _=void 0;if(a)for(var E=h.length-1;0<=E;E--){var D=h[E],U=D.instance,Q=D.currentTarget;if(D=D.listener,U!==_&&p.isPropagationStopped())break t;_=D,p.currentTarget=Q;try{_(p)}catch(it){Oh(it)}p.currentTarget=null,_=U}else for(E=0;E<h.length;E++){if(D=h[E],U=D.instance,Q=D.currentTarget,D=D.listener,U!==_&&p.isPropagationStopped())break t;_=D,p.currentTarget=Q;try{_(p)}catch(it){Oh(it)}p.currentTarget=null,_=U}}}}function jt(s,a){var c=a[Lo];c===void 0&&(c=a[Lo]=new Set);var h=s+"__bubble";c.has(h)||(F0(a,s,2,!1),c.add(h))}function Jp(s,a,c){var h=0;a&&(h|=4),F0(c,s,h,a)}var vf="_reactListening"+Math.random().toString(36).slice(2);function Zp(s){if(!s[vf]){s[vf]=!0,ic.forEach(function(c){c!=="selectionchange"&&(PC.has(c)||Jp(c,!1,s),Jp(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[vf]||(a[vf]=!0,Jp("selectionchange",!1,a))}}function F0(s,a,c,h){switch(yE(a)){case 2:var p=cI;break;case 8:p=uI;break;default:p=mg}c=p.bind(null,a,c,s),p=void 0,!Ba||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),h?p!==void 0?s.addEventListener(a,c,{capture:!0,passive:p}):s.addEventListener(a,c,!0):p!==void 0?s.addEventListener(a,c,{passive:p}):s.addEventListener(a,c,!1)}function tg(s,a,c,h,p){var _=h;if((a&1)===0&&(a&2)===0&&h!==null)t:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var D=h.stateNode.containerInfo;if(D===p)break;if(E===4)for(E=h.return;E!==null;){var U=E.tag;if((U===3||U===4)&&E.stateNode.containerInfo===p)return;E=E.return}for(;D!==null;){if(E=rs(D),E===null)return;if(U=E.tag,U===5||U===6||U===26||U===27){h=_=E;continue t}D=D.parentNode}}h=h.return}Rr(function(){var Q=_,it=gi(c),ot=[];t:{var J=Ev.get(s);if(J!==void 0){var tt=fs,_t=s;switch(s){case"keypress":if(Ha(c)===0)break t;case"keydown":case"keyup":tt=Ih;break;case"focusin":_t="focus",tt=Ga;break;case"focusout":_t="blur",tt=Ga;break;case"beforeblur":case"afterblur":tt=Ga;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=gc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=bh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=b;break;case yv:case _v:case vv:tt=Th;break;case bv:tt=N;break;case"scroll":case"scrollend":tt=pc;break;case"wheel":tt=Z;break;case"copy":case"cut":case"paste":tt=Sh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=zs;break;case"toggle":case"beforetoggle":tt=kt}var wt=(a&4)!==0,he=!wt&&(s==="scroll"||s==="scrollend"),G=wt?J!==null?J+"Capture":null:J;wt=[];for(var H=Q,X;H!==null;){var st=H;if(X=st.stateNode,st=st.tag,st!==5&&st!==26&&st!==27||X===null||G===null||(st=ji(H,G),st!=null&&wt.push(Yc(H,st,X))),he)break;H=H.return}0<wt.length&&(J=new tt(J,_t,null,c,it),ot.push({event:J,listeners:wt}))}}if((a&7)===0){t:{if(J=s==="mouseover"||s==="pointerover",tt=s==="mouseout"||s==="pointerout",J&&c!==fc&&(_t=c.relatedTarget||c.fromElement)&&(rs(_t)||_t[is]))break t;if((tt||J)&&(J=it.window===it?it:(J=it.ownerDocument)?J.defaultView||J.parentWindow:window,tt?(_t=c.relatedTarget||c.toElement,tt=Q,_t=_t?rs(_t):null,_t!==null&&(he=o(_t),wt=_t.tag,_t!==he||wt!==5&&wt!==27&&wt!==6)&&(_t=null)):(tt=null,_t=Q),tt!==_t)){if(wt=gc,st="onMouseLeave",G="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(wt=zs,st="onPointerLeave",G="onPointerEnter",H="pointer"),he=tt==null?J:ei(tt),X=_t==null?J:ei(_t),J=new wt(st,H+"leave",tt,c,it),J.target=he,J.relatedTarget=X,st=null,rs(it)===Q&&(wt=new wt(G,H+"enter",_t,c,it),wt.target=X,wt.relatedTarget=he,st=wt),he=st,tt&&_t)e:{for(wt=LC,G=tt,H=_t,X=0,st=G;st;st=wt(st))X++;st=0;for(var Tt=H;Tt;Tt=wt(Tt))st++;for(;0<X-st;)G=wt(G),X--;for(;0<st-X;)H=wt(H),st--;for(;X--;){if(G===H||H!==null&&G===H.alternate){wt=G;break e}G=wt(G),H=wt(H)}wt=null}else wt=null;tt!==null&&H0(ot,J,tt,wt,!1),_t!==null&&he!==null&&H0(ot,he,_t,wt,!0)}}t:{if(J=Q?ei(Q):window,tt=J.nodeName&&J.nodeName.toLowerCase(),tt==="select"||tt==="input"&&J.type==="file")var Kt=av;else if(sv(J))if(ov)Kt=WR;else{Kt=GR;var Et=qR}else tt=J.nodeName,!tt||tt.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Q&&Uo(Q.elementType)&&(Kt=av):Kt=YR;if(Kt&&(Kt=Kt(s,Q))){rv(ot,Kt,c,it);break t}Et&&Et(s,J,Q),s==="focusout"&&Q&&J.type==="number"&&Q.memoizedProps.value!=null&&cc(J,"number",J.value)}switch(Et=Q?ei(Q):window,s){case"focusin":(sv(Et)||Et.contentEditable==="true")&&($o=Et,Im=Q,Ec=null);break;case"focusout":Ec=Im=$o=null;break;case"mousedown":Dm=!0;break;case"contextmenu":case"mouseup":case"dragend":Dm=!1,pv(ot,c,it);break;case"selectionchange":if(KR)break;case"keydown":case"keyup":pv(ot,c,it)}var Vt;if(Zt)t:{switch(s){case"compositionstart":var Ft="onCompositionStart";break t;case"compositionend":Ft="onCompositionEnd";break t;case"compositionupdate":Ft="onCompositionUpdate";break t}Ft=void 0}else Wo?Ya(s,c)&&(Ft="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Ft="onCompositionStart");Ft&&(ps&&c.locale!=="ko"&&(Wo||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&Wo&&(Vt=mc()):(hs=it,dc="value"in hs?hs.value:hs.textContent,Wo=!0)),Et=bf(Q,Ft),0<Et.length&&(Ft=new ms(Ft,s,null,c,it),ot.push({event:Ft,listeners:Et}),Vt?Ft.data=Vt:(Vt=Yo(c),Vt!==null&&(Ft.data=Vt)))),(Vt=_i?UR(s,c):BR(s,c))&&(Ft=bf(Q,"onBeforeInput"),0<Ft.length&&(Et=new ms("onBeforeInput","beforeinput",null,c,it),ot.push({event:Et,listeners:Ft}),Et.data=Vt)),OC(ot,s,Q,c,it)}B0(ot,a)})}function Yc(s,a,c){return{instance:s,listener:a,currentTarget:c}}function bf(s,a){for(var c=a+"Capture",h=[];s!==null;){var p=s,_=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||_===null||(p=ji(s,c),p!=null&&h.unshift(Yc(s,p,_)),p=ji(s,a),p!=null&&h.push(Yc(s,p,_))),s.tag===3)return h;s=s.return}return[]}function LC(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function H0(s,a,c,h,p){for(var _=a._reactName,E=[];c!==null&&c!==h;){var D=c,U=D.alternate,Q=D.stateNode;if(D=D.tag,U!==null&&U===h)break;D!==5&&D!==26&&D!==27||Q===null||(U=Q,p?(Q=ji(c,_),Q!=null&&E.unshift(Yc(c,Q,U))):p||(Q=ji(c,_),Q!=null&&E.push(Yc(c,Q,U)))),c=c.return}E.length!==0&&s.push({event:a,listeners:E})}var VC=/\r\n?/g,zC=/\u0000|\uFFFD/g;function q0(s){return(typeof s=="string"?s:""+s).replace(VC,`
`).replace(zC,"")}function G0(s,a){return a=q0(a),q0(s)===a}function ue(s,a,c,h,p,_){switch(c){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||jn(s,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&jn(s,""+h);break;case"className":ni(s,"class",h);break;case"tabIndex":ni(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ni(s,c,h);break;case"style":hc(s,h,_);break;case"data":if(a!=="object"){ni(s,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||c!=="href")){s.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=Bo(""+h),s.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(c==="formAction"?(a!=="input"&&ue(s,a,"name",p.name,p,null),ue(s,a,"formEncType",p.formEncType,p,null),ue(s,a,"formMethod",p.formMethod,p,null),ue(s,a,"formTarget",p.formTarget,p,null)):(ue(s,a,"encType",p.encType,p,null),ue(s,a,"method",p.method,p,null),ue(s,a,"target",p.target,p,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=Bo(""+h),s.setAttribute(c,h);break;case"onClick":h!=null&&(s.onclick=zi);break;case"onScroll":h!=null&&jt("scroll",s);break;case"onScrollEnd":h!=null&&jt("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}c=Bo(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""+h):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":h===!0?s.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,h):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(c,h):s.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(c):s.setAttribute(c,h);break;case"popover":jt("beforetoggle",s),jt("toggle",s),zo(s,"popover",h);break;case"xlinkActuate":Fe(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Fe(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Fe(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Fe(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Fe(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Fe(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Fe(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Fe(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Fe(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":zo(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=vh.get(c)||c,zo(s,c,h))}}function eg(s,a,c,h,p,_){switch(c){case"style":hc(s,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"children":typeof h=="string"?jn(s,h):(typeof h=="number"||typeof h=="bigint")&&jn(s,""+h);break;case"onScroll":h!=null&&jt("scroll",s);break;case"onScrollEnd":h!=null&&jt("scrollend",s);break;case"onClick":h!=null&&(s.onclick=zi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sc.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(p=c.endsWith("Capture"),a=c.slice(2,p?c.length-7:void 0),_=s[sn]||null,_=_!=null?_[c]:null,typeof _=="function"&&s.removeEventListener(a,_,p),typeof h=="function")){typeof _!="function"&&_!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(a,h,p);break t}c in s?s[c]=h:h===!0?s.setAttribute(c,""):zo(s,c,h)}}}function _n(s,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jt("error",s),jt("load",s);var h=!1,p=!1,_;for(_ in c)if(c.hasOwnProperty(_)){var E=c[_];if(E!=null)switch(_){case"src":h=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ue(s,a,_,E,c,null)}}p&&ue(s,a,"srcSet",c.srcSet,c,null),h&&ue(s,a,"src",c.src,c,null);return;case"input":jt("invalid",s);var D=_=E=p=null,U=null,Q=null;for(h in c)if(c.hasOwnProperty(h)){var it=c[h];if(it!=null)switch(h){case"name":p=it;break;case"type":E=it;break;case"checked":U=it;break;case"defaultChecked":Q=it;break;case"value":_=it;break;case"defaultValue":D=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(i(137,a));break;default:ue(s,a,h,it,c,null)}}gh(s,_,D,U,Q,E,p,!1);return;case"select":jt("invalid",s),h=E=_=null;for(p in c)if(c.hasOwnProperty(p)&&(D=c[p],D!=null))switch(p){case"value":_=D;break;case"defaultValue":E=D;break;case"multiple":h=D;default:ue(s,a,p,D,c,null)}a=_,c=E,s.multiple=!!h,a!=null?Sr(s,!!h,a,!1):c!=null&&Sr(s,!!h,c,!0);return;case"textarea":jt("invalid",s),_=p=h=null;for(E in c)if(c.hasOwnProperty(E)&&(D=c[E],D!=null))switch(E){case"value":h=D;break;case"defaultValue":p=D;break;case"children":_=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(91));break;default:ue(s,a,E,D,c,null)}xr(s,h,p,_);return;case"option":for(U in c)if(c.hasOwnProperty(U)&&(h=c[U],h!=null))switch(U){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ue(s,a,U,h,c,null)}return;case"dialog":jt("beforetoggle",s),jt("toggle",s),jt("cancel",s),jt("close",s);break;case"iframe":case"object":jt("load",s);break;case"video":case"audio":for(h=0;h<Gc.length;h++)jt(Gc[h],s);break;case"image":jt("error",s),jt("load",s);break;case"details":jt("toggle",s);break;case"embed":case"source":case"link":jt("error",s),jt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in c)if(c.hasOwnProperty(Q)&&(h=c[Q],h!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ue(s,a,Q,h,c,null)}return;default:if(Uo(a)){for(it in c)c.hasOwnProperty(it)&&(h=c[it],h!==void 0&&eg(s,a,it,h,c,void 0));return}}for(D in c)c.hasOwnProperty(D)&&(h=c[D],h!=null&&ue(s,a,D,h,c,null))}function jC(s,a,c,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,_=null,E=null,D=null,U=null,Q=null,it=null;for(tt in c){var ot=c[tt];if(c.hasOwnProperty(tt)&&ot!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":U=ot;default:h.hasOwnProperty(tt)||ue(s,a,tt,null,h,ot)}}for(var J in h){var tt=h[J];if(ot=c[J],h.hasOwnProperty(J)&&(tt!=null||ot!=null))switch(J){case"type":_=tt;break;case"name":p=tt;break;case"checked":Q=tt;break;case"defaultChecked":it=tt;break;case"value":E=tt;break;case"defaultValue":D=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(i(137,a));break;default:tt!==ot&&ue(s,a,J,tt,h,ot)}}jo(s,E,D,U,Q,it,_,p);return;case"select":tt=E=D=J=null;for(_ in c)if(U=c[_],c.hasOwnProperty(_)&&U!=null)switch(_){case"value":break;case"multiple":tt=U;default:h.hasOwnProperty(_)||ue(s,a,_,null,h,U)}for(p in h)if(_=h[p],U=c[p],h.hasOwnProperty(p)&&(_!=null||U!=null))switch(p){case"value":J=_;break;case"defaultValue":D=_;break;case"multiple":E=_;default:_!==U&&ue(s,a,p,_,h,U)}a=D,c=E,h=tt,J!=null?Sr(s,!!c,J,!1):!!h!=!!c&&(a!=null?Sr(s,!!c,a,!0):Sr(s,!!c,c?[]:"",!1));return;case"textarea":tt=J=null;for(D in c)if(p=c[D],c.hasOwnProperty(D)&&p!=null&&!h.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:ue(s,a,D,null,h,p)}for(E in h)if(p=h[E],_=c[E],h.hasOwnProperty(E)&&(p!=null||_!=null))switch(E){case"value":J=p;break;case"defaultValue":tt=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==_&&ue(s,a,E,p,h,_)}yh(s,J,tt);return;case"option":for(var _t in c)if(J=c[_t],c.hasOwnProperty(_t)&&J!=null&&!h.hasOwnProperty(_t))switch(_t){case"selected":s.selected=!1;break;default:ue(s,a,_t,null,h,J)}for(U in h)if(J=h[U],tt=c[U],h.hasOwnProperty(U)&&J!==tt&&(J!=null||tt!=null))switch(U){case"selected":s.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:ue(s,a,U,J,h,tt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var wt in c)J=c[wt],c.hasOwnProperty(wt)&&J!=null&&!h.hasOwnProperty(wt)&&ue(s,a,wt,null,h,J);for(Q in h)if(J=h[Q],tt=c[Q],h.hasOwnProperty(Q)&&J!==tt&&(J!=null||tt!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:ue(s,a,Q,J,h,tt)}return;default:if(Uo(a)){for(var he in c)J=c[he],c.hasOwnProperty(he)&&J!==void 0&&!h.hasOwnProperty(he)&&eg(s,a,he,void 0,h,J);for(it in h)J=h[it],tt=c[it],!h.hasOwnProperty(it)||J===tt||J===void 0&&tt===void 0||eg(s,a,it,J,h,tt);return}}for(var G in c)J=c[G],c.hasOwnProperty(G)&&J!=null&&!h.hasOwnProperty(G)&&ue(s,a,G,null,h,J);for(ot in h)J=h[ot],tt=c[ot],!h.hasOwnProperty(ot)||J===tt||J==null&&tt==null||ue(s,a,ot,J,h,tt)}function Y0(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function UC(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var p=c[h],_=p.transferSize,E=p.initiatorType,D=p.duration;if(_&&D&&Y0(E)){for(E=0,D=p.responseEnd,h+=1;h<c.length;h++){var U=c[h],Q=U.startTime;if(Q>D)break;var it=U.transferSize,ot=U.initiatorType;it&&Y0(ot)&&(U=U.responseEnd,E+=it*(U<D?1:(D-Q)/(U-Q)))}if(--h,a+=8*(_+E)/(p.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var ng=null,ig=null;function Ef(s){return s.nodeType===9?s:s.ownerDocument}function W0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $0(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function sg(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var rg=null;function BC(){var s=window.event;return s&&s.type==="popstate"?s===rg?!1:(rg=s,!0):(rg=null,!1)}var K0=typeof setTimeout=="function"?setTimeout:void 0,FC=typeof clearTimeout=="function"?clearTimeout:void 0,X0=typeof Promise=="function"?Promise:void 0,HC=typeof queueMicrotask=="function"?queueMicrotask:typeof X0<"u"?function(s){return X0.resolve(null).then(s).catch(qC)}:K0;function qC(s){setTimeout(function(){throw s})}function Wr(s){return s==="head"}function Q0(s,a){var c=a,h=0;do{var p=c.nextSibling;if(s.removeChild(c),p&&p.nodeType===8)if(c=p.data,c==="/$"||c==="/&"){if(h===0){s.removeChild(p),El(a);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")Wc(s.ownerDocument.documentElement);else if(c==="head"){c=s.ownerDocument.head,Wc(c);for(var _=c.firstChild;_;){var E=_.nextSibling,D=_.nodeName;_[ss]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&_.rel.toLowerCase()==="stylesheet"||c.removeChild(_),_=E}}else c==="body"&&Wc(s.ownerDocument.body);c=p}while(c);El(a)}function J0(s,a){var c=s;s=0;do{var h=c.nextSibling;if(c.nodeType===1?a?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(a?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(s===0)break;s--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||s++;c=h}while(c)}function ag(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":ag(c),Vo(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function GC(s,a,c,h){for(;s.nodeType===1;){var p=c;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[ss])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(_=s.getAttribute("rel"),_==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(_!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(_=s.getAttribute("src"),(_!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&_&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var _=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===_)return s}else return s;if(s=wi(s.nextSibling),s===null)break}return null}function YC(s,a,c){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=wi(s.nextSibling),s===null))return null;return s}function Z0(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=wi(s.nextSibling),s===null))return null;return s}function og(s){return s.data==="$?"||s.data==="$~"}function lg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function WC(s,a){var c=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||c.readyState!=="loading")a();else{var h=function(){a(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function wi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var cg=null;function tE(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"||c==="/&"){if(a===0)return wi(s.nextSibling);a--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||a++}s=s.nextSibling}return null}function eE(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(a===0)return s;a--}else c!=="/$"&&c!=="/&"||a++}s=s.previousSibling}return null}function nE(s,a,c){switch(a=Ef(c),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Wc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Vo(s)}var Ai=new Map,iE=new Set;function Tf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Zs=et.d;et.d={f:$C,r:KC,D:XC,C:QC,L:JC,m:ZC,X:eI,S:tI,M:nI};function $C(){var s=Zs.f(),a=df();return s||a}function KC(s){var a=pi(s);a!==null&&a.tag===5&&a.type==="form"?bb(a):Zs.r(s)}var _l=typeof document>"u"?null:document;function sE(s,a,c){var h=_l;if(h&&typeof a=="string"&&a){var p=zn(a);p='link[rel="'+s+'"][href="'+p+'"]',typeof c=="string"&&(p+='[crossorigin="'+c+'"]'),iE.has(p)||(iE.add(p),s={rel:s,crossOrigin:c,href:a},h.querySelector(p)===null&&(a=h.createElement("link"),_n(a,"link",s),Be(a),h.head.appendChild(a)))}}function XC(s){Zs.D(s),sE("dns-prefetch",s,null)}function QC(s,a){Zs.C(s,a),sE("preconnect",s,a)}function JC(s,a,c){Zs.L(s,a,c);var h=_l;if(h&&s&&a){var p='link[rel="preload"][as="'+zn(a)+'"]';a==="image"&&c&&c.imageSrcSet?(p+='[imagesrcset="'+zn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(p+='[imagesizes="'+zn(c.imageSizes)+'"]')):p+='[href="'+zn(s)+'"]';var _=p;switch(a){case"style":_=vl(s);break;case"script":_=bl(s)}Ai.has(_)||(s=y({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:s,as:a},c),Ai.set(_,s),h.querySelector(p)!==null||a==="style"&&h.querySelector($c(_))||a==="script"&&h.querySelector(Kc(_))||(a=h.createElement("link"),_n(a,"link",s),Be(a),h.head.appendChild(a)))}}function ZC(s,a){Zs.m(s,a);var c=_l;if(c&&s){var h=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+zn(h)+'"][href="'+zn(s)+'"]',_=p;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=bl(s)}if(!Ai.has(_)&&(s=y({rel:"modulepreload",href:s},a),Ai.set(_,s),c.querySelector(p)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Kc(_)))return}h=c.createElement("link"),_n(h,"link",s),Be(h),c.head.appendChild(h)}}}function tI(s,a,c){Zs.S(s,a,c);var h=_l;if(h&&s){var p=as(h).hoistableStyles,_=vl(s);a=a||"default";var E=p.get(_);if(!E){var D={loading:0,preload:null};if(E=h.querySelector($c(_)))D.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":a},c),(c=Ai.get(_))&&ug(s,c);var U=E=h.createElement("link");Be(U),_n(U,"link",s),U._p=new Promise(function(Q,it){U.onload=Q,U.onerror=it}),U.addEventListener("load",function(){D.loading|=1}),U.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Sf(E,a,h)}E={type:"stylesheet",instance:E,count:1,state:D},p.set(_,E)}}}function eI(s,a){Zs.X(s,a);var c=_l;if(c&&s){var h=as(c).hoistableScripts,p=bl(s),_=h.get(p);_||(_=c.querySelector(Kc(p)),_||(s=y({src:s,async:!0},a),(a=Ai.get(p))&&hg(s,a),_=c.createElement("script"),Be(_),_n(_,"link",s),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(p,_))}}function nI(s,a){Zs.M(s,a);var c=_l;if(c&&s){var h=as(c).hoistableScripts,p=bl(s),_=h.get(p);_||(_=c.querySelector(Kc(p)),_||(s=y({src:s,async:!0,type:"module"},a),(a=Ai.get(p))&&hg(s,a),_=c.createElement("script"),Be(_),_n(_,"link",s),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(p,_))}}function rE(s,a,c,h){var p=(p=bt.current)?Tf(p):null;if(!p)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=vl(c.href),c=as(p).hoistableStyles,h=c.get(a),h||(h={type:"style",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=vl(c.href);var _=as(p).hoistableStyles,E=_.get(s);if(E||(p=p.ownerDocument||p,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(s,E),(_=p.querySelector($c(s)))&&!_._p&&(E.instance=_,E.state.loading=5),Ai.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Ai.set(s,c),_||iI(p,s,c,E.state))),a&&h===null)throw Error(i(528,""));return E}if(a&&h!==null)throw Error(i(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=bl(c),c=as(p).hoistableScripts,h=c.get(a),h||(h={type:"script",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function vl(s){return'href="'+zn(s)+'"'}function $c(s){return'link[rel="stylesheet"]['+s+"]"}function aE(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function iI(s,a,c,h){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=s.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),_n(a,"link",c),Be(a),s.head.appendChild(a))}function bl(s){return'[src="'+zn(s)+'"]'}function Kc(s){return"script[async]"+s}function oE(s,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var h=s.querySelector('style[data-href~="'+zn(c.href)+'"]');if(h)return a.instance=h,Be(h),h;var p=y({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),Be(h),_n(h,"style",p),Sf(h,c.precedence,s),a.instance=h;case"stylesheet":p=vl(c.href);var _=s.querySelector($c(p));if(_)return a.state.loading|=4,a.instance=_,Be(_),_;h=aE(c),(p=Ai.get(p))&&ug(h,p),_=(s.ownerDocument||s).createElement("link"),Be(_);var E=_;return E._p=new Promise(function(D,U){E.onload=D,E.onerror=U}),_n(_,"link",h),a.state.loading|=4,Sf(_,c.precedence,s),a.instance=_;case"script":return _=bl(c.src),(p=s.querySelector(Kc(_)))?(a.instance=p,Be(p),p):(h=c,(p=Ai.get(_))&&(h=y({},c),hg(h,p)),s=s.ownerDocument||s,p=s.createElement("script"),Be(p),_n(p,"link",h),s.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,Sf(h,c.precedence,s));return a.instance}function Sf(s,a,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=h.length?h[h.length-1]:null,_=p,E=0;E<h.length;E++){var D=h[E];if(D.dataset.precedence===a)_=D;else if(_!==p)break}_?_.parentNode.insertBefore(s,_.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(s,a.firstChild))}function ug(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function hg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var xf=null;function lE(s,a,c){if(xf===null){var h=new Map,p=xf=new Map;p.set(c,h)}else p=xf,h=p.get(c),h||(h=new Map,p.set(c,h));if(h.has(s))return h;for(h.set(s,null),c=c.getElementsByTagName(s),p=0;p<c.length;p++){var _=c[p];if(!(_[ss]||_[Ue]||s==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var E=_.getAttribute(a)||"";E=s+E;var D=h.get(E);D?D.push(_):h.set(E,[_])}}return h}function cE(s,a,c){s=s.ownerDocument||s,s.head.insertBefore(c,a==="title"?s.querySelector("head > title"):null)}function sI(s,a,c){if(c===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function uE(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function rI(s,a,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var p=vl(h.href),_=a.querySelector($c(p));if(_){a=_._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=wf.bind(s),a.then(s,s)),c.state.loading|=4,c.instance=_,Be(_);return}_=a.ownerDocument||a,h=aE(h),(p=Ai.get(p))&&ug(h,p),_=_.createElement("link"),Be(_);var E=_;E._p=new Promise(function(D,U){E.onload=D,E.onerror=U}),_n(_,"link",h),c.instance=_}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(s.count++,c=wf.bind(s),a.addEventListener("load",c),a.addEventListener("error",c))}}var fg=0;function aI(s,a){return s.stylesheets&&s.count===0&&Rf(s,s.stylesheets),0<s.count||0<s.imgCount?function(c){var h=setTimeout(function(){if(s.stylesheets&&Rf(s,s.stylesheets),s.unsuspend){var _=s.unsuspend;s.unsuspend=null,_()}},6e4+a);0<s.imgBytes&&fg===0&&(fg=62500*UC());var p=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Rf(s,s.stylesheets),s.unsuspend)){var _=s.unsuspend;s.unsuspend=null,_()}},(s.imgBytes>fg?50:800)+a);return s.unsuspend=c,function(){s.unsuspend=null,clearTimeout(h),clearTimeout(p)}}:null}function wf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rf(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Af=null;function Rf(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Af=new Map,a.forEach(oI,s),Af=null,wf.call(s))}function oI(s,a){if(!(a.state.loading&4)){var c=Af.get(s);if(c)var h=c.get(null);else{c=new Map,Af.set(s,c);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<p.length;_++){var E=p[_];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(c.set(E.dataset.precedence,E),h=E)}h&&c.set(null,h)}p=a.instance,E=p.getAttribute("data-precedence"),_=c.get(E)||h,_===h&&c.set(null,p),c.set(E,p),this.count++,h=wf.bind(this),p.addEventListener("load",h),p.addEventListener("error",h),_?_.parentNode.insertBefore(p,_.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),a.state.loading|=4}}var Xc={$$typeof:j,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function lI(s,a,c,h,p,_,E,D,U){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nn(0),this.hiddenUpdates=Nn(null),this.identifierPrefix=h,this.onUncaughtError=p,this.onCaughtError=_,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function hE(s,a,c,h,p,_,E,D,U,Q,it,ot){return s=new lI(s,a,c,E,U,Q,it,ot,D),a=1,_===!0&&(a|=24),_=si(3,null,null,a),s.current=_,_.stateNode=s,a=Gm(),a.refCount++,s.pooledCache=a,a.refCount++,_.memoizedState={element:h,isDehydrated:c,cache:a},Km(_),s}function fE(s){return s?(s=Qo,s):Qo}function dE(s,a,c,h,p,_){p=fE(p),h.context===null?h.context=p:h.pendingContext=p,h=Lr(a),h.payload={element:c},_=_===void 0?null:_,_!==null&&(h.callback=_),c=Vr(s,h,a),c!==null&&(qn(c,s,a),Cc(c,s,a))}function mE(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function dg(s,a){mE(s,a),(s=s.alternate)&&mE(s,a)}function pE(s){if(s.tag===13||s.tag===31){var a=Ka(s,67108864);a!==null&&qn(a,s,67108864),dg(s,67108864)}}function gE(s){if(s.tag===13||s.tag===31){var a=ci();a=ns(a);var c=Ka(s,a);c!==null&&qn(c,s,a),dg(s,a)}}var Cf=!0;function cI(s,a,c,h){var p=q.T;q.T=null;var _=et.p;try{et.p=2,mg(s,a,c,h)}finally{et.p=_,q.T=p}}function uI(s,a,c,h){var p=q.T;q.T=null;var _=et.p;try{et.p=8,mg(s,a,c,h)}finally{et.p=_,q.T=p}}function mg(s,a,c,h){if(Cf){var p=pg(h);if(p===null)tg(s,a,h,If,c),_E(s,h);else if(fI(p,s,a,c,h))h.stopPropagation();else if(_E(s,h),a&4&&-1<hI.indexOf(s)){for(;p!==null;){var _=pi(p);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var E=ti(_.pendingLanes);if(E!==0){var D=_;for(D.pendingLanes|=2,D.entangledLanes|=2;E;){var U=1<<31-Ee(E);D.entanglements[1]|=U,E&=~U}vs(_),(te&6)===0&&(hf=un()+500,qc(0))}}break;case 31:case 13:D=Ka(_,2),D!==null&&qn(D,_,2),df(),dg(_,2)}if(_=pg(h),_===null&&tg(s,a,h,If,c),_===p)break;p=_}p!==null&&h.stopPropagation()}else tg(s,a,h,null,c)}}function pg(s){return s=gi(s),gg(s)}var If=null;function gg(s){if(If=null,s=rs(s),s!==null){var a=o(s);if(a===null)s=null;else{var c=a.tag;if(c===13){if(s=l(a),s!==null)return s;s=null}else if(c===31){if(s=u(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return If=s,null}function yE(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ks()){case ts:return 2;case Pa:return 8;case Ni:case La:return 32;case ki:return 268435456;default:return 32}default:return 32}}var yg=!1,$r=null,Kr=null,Xr=null,Qc=new Map,Jc=new Map,Qr=[],hI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _E(s,a){switch(s){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":Qc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jc.delete(a.pointerId)}}function Zc(s,a,c,h,p,_){return s===null||s.nativeEvent!==_?(s={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:_,targetContainers:[p]},a!==null&&(a=pi(a),a!==null&&pE(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),s)}function fI(s,a,c,h,p){switch(a){case"focusin":return $r=Zc($r,s,a,c,h,p),!0;case"dragenter":return Kr=Zc(Kr,s,a,c,h,p),!0;case"mouseover":return Xr=Zc(Xr,s,a,c,h,p),!0;case"pointerover":var _=p.pointerId;return Qc.set(_,Zc(Qc.get(_)||null,s,a,c,h,p)),!0;case"gotpointercapture":return _=p.pointerId,Jc.set(_,Zc(Jc.get(_)||null,s,a,c,h,p)),!0}return!1}function vE(s){var a=rs(s.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){s.blockedOn=a,Li(s.priority,function(){gE(c)});return}}else if(a===31){if(a=u(c),a!==null){s.blockedOn=a,Li(s.priority,function(){gE(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Df(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=pg(s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);fc=h,c.target.dispatchEvent(h),fc=null}else return a=pi(c),a!==null&&pE(a),s.blockedOn=c,!1;a.shift()}return!0}function bE(s,a,c){Df(s)&&c.delete(a)}function dI(){yg=!1,$r!==null&&Df($r)&&($r=null),Kr!==null&&Df(Kr)&&(Kr=null),Xr!==null&&Df(Xr)&&(Xr=null),Qc.forEach(bE),Jc.forEach(bE)}function Mf(s,a){s.blockedOn===a&&(s.blockedOn=null,yg||(yg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,dI)))}var Of=null;function EE(s){Of!==s&&(Of=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Of===s&&(Of=null);for(var a=0;a<s.length;a+=3){var c=s[a],h=s[a+1],p=s[a+2];if(typeof h!="function"){if(gg(h||c)===null)continue;break}var _=pi(c);_!==null&&(s.splice(a,3),a-=3,pp(_,{pending:!0,data:p,method:c.method,action:h},h,p))}}))}function El(s){function a(U){return Mf(U,s)}$r!==null&&Mf($r,s),Kr!==null&&Mf(Kr,s),Xr!==null&&Mf(Xr,s),Qc.forEach(a),Jc.forEach(a);for(var c=0;c<Qr.length;c++){var h=Qr[c];h.blockedOn===s&&(h.blockedOn=null)}for(;0<Qr.length&&(c=Qr[0],c.blockedOn===null);)vE(c),c.blockedOn===null&&Qr.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var p=c[h],_=c[h+1],E=p[sn]||null;if(typeof _=="function")E||EE(c);else if(E){var D=null;if(_&&_.hasAttribute("formAction")){if(p=_,E=_[sn]||null)D=E.formAction;else if(gg(p)!==null)continue}else D=E.action;typeof D=="function"?c[h+1]=D:(c.splice(h,3),h-=3),EE(c)}}}function TE(){function s(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(E){return p=E})},focusReset:"manual",scroll:"manual"})}function a(){p!==null&&(p(),p=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,p=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),p!==null&&(p(),p=null)}}}function _g(s){this._internalRoot=s}Nf.prototype.render=_g.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var c=a.current,h=ci();dE(c,h,s,a,null,null)},Nf.prototype.unmount=_g.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;dE(s.current,2,null,s,null,null),df(),a[is]=null}};function Nf(s){this._internalRoot=s}Nf.prototype.unstable_scheduleHydration=function(s){if(s){var a=nc();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Qr.length&&a!==0&&a<Qr[c].priority;c++);Qr.splice(c,0,s),c===0&&vE(s)}};var SE=t.version;if(SE!=="19.2.0")throw Error(i(527,SE,"19.2.0"));et.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=d(a),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var mI={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kf.isDisabled&&kf.supportsFiber)try{Jn=kf.inject(mI),Qe=kf}catch{}}return eu.createRoot=function(s,a){if(!r(s))throw Error(i(299));var c=!1,h="",p=Db,_=Mb,E=Ob;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),a=hE(s,1,!1,null,null,c,h,null,p,_,E,TE),s[is]=a.current,Zp(s),new _g(a)},eu.hydrateRoot=function(s,a,c){if(!r(s))throw Error(i(299));var h=!1,p="",_=Db,E=Mb,D=Ob,U=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(E=c.onCaughtError),c.onRecoverableError!==void 0&&(D=c.onRecoverableError),c.formState!==void 0&&(U=c.formState)),a=hE(s,1,!0,a,c??null,h,p,U,_,E,D,TE),a.context=fE(null),c=a.current,h=ci(),h=ns(h),p=Lr(h),p.callback=null,Vr(c,p,h),c=h,a.current.lanes=c,ge(a,c),vs(a),s[is]=a.current,Zp(s),new Nf(a)},eu.version="19.2.0",eu}var NE;function SI(){if(NE)return Eg.exports;NE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Eg.exports=TI(),Eg.exports}var xI=SI();const wI=Fy(xI);var kE="popstate";function AI(n={}){function t(i,r){let{pathname:o,search:l,hash:u}=i.location;return ty("",{pathname:o,search:l,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(i,r){return typeof r=="string"?r:Cu(r)}return CI(t,e,null,n)}function Re(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Ki(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function RI(){return Math.random().toString(36).substring(2,10)}function PE(n,t){return{usr:n.state,key:n.key,idx:t}}function ty(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Gl(t):t,state:e,key:t&&t.key||i||RI()}}function Cu({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function Gl(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function CI(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,l=r.history,u="POP",f=null,d=g();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function g(){return(l.state||{idx:null}).idx}function y(){u="POP";let w=g(),O=w==null?null:w-d;d=w,f&&f({action:u,location:A.location,delta:O})}function v(w,O){u="PUSH";let V=ty(A.location,w,O);d=g()+1;let j=PE(V,d),$=A.createHref(V);try{l.pushState(j,"",$)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;r.location.assign($)}o&&f&&f({action:u,location:A.location,delta:1})}function T(w,O){u="REPLACE";let V=ty(A.location,w,O);d=g();let j=PE(V,d),$=A.createHref(V);l.replaceState(j,"",$),o&&f&&f({action:u,location:A.location,delta:0})}function x(w){return II(w)}let A={get action(){return u},get location(){return n(r,l)},listen(w){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(kE,y),f=w,()=>{r.removeEventListener(kE,y),f=null}},createHref(w){return t(r,w)},createURL:x,encodeLocation(w){let O=x(w);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:v,replace:T,go(w){return l.go(w)}};return A}function II(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Re(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Cu(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function qx(n,t,e="/"){return DI(n,t,e,!1)}function DI(n,t,e,i){let r=typeof t=="string"?Gl(t):t,o=fr(r.pathname||"/",e);if(o==null)return null;let l=Gx(n);MI(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let d=FI(o);u=UI(l[f],d,i)}return u}function Gx(n,t=[],e=[],i="",r=!1){let o=(l,u,f=r,d)=>{let g={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&f)return;Re(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let y=ur([i,g.relativePath]),v=e.concat(g);l.children&&l.children.length>0&&(Re(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Gx(l.children,t,v,y,f)),!(l.path==null&&!l.index)&&t.push({path:y,score:zI(y,l.index),routesMeta:v})};return n.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))o(l,u);else for(let f of Yx(l.path))o(l,u,!0,f)}),t}function Yx(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let l=Yx(i.join("/")),u=[];return u.push(...l.map(f=>f===""?o:[o,f].join("/"))),r&&u.push(...l),u.map(f=>n.startsWith("/")&&f===""?"/":f)}function MI(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:jI(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var OI=/^:[\w-]+$/,NI=3,kI=2,PI=1,LI=10,VI=-2,LE=n=>n==="*";function zI(n,t){let e=n.split("/"),i=e.length;return e.some(LE)&&(i+=VI),t&&(i+=kI),e.filter(r=>!LE(r)).reduce((r,o)=>r+(OI.test(o)?NI:o===""?PI:LI),i)}function jI(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function UI(n,t,e=!1){let{routesMeta:i}=n,r={},o="/",l=[];for(let u=0;u<i.length;++u){let f=i[u],d=u===i.length-1,g=o==="/"?t:t.slice(o.length)||"/",y=gd({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},g),v=f.route;if(!y&&d&&e&&!i[i.length-1].route.index&&(y=gd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!y)return null;Object.assign(r,y.params),l.push({params:r,pathname:ur([o,y.pathname]),pathnameBase:WI(ur([o,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(o=ur([o,y.pathnameBase]))}return l}function gd(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=BI(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((d,{paramName:g,isOptional:y},v)=>{if(g==="*"){let x=u[v]||"";l=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const T=u[v];return y&&!T?d[g]=void 0:d[g]=(T||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:l,pattern:n}}function BI(n,t=!1,e=!0){Ki(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(i.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function FI(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ki(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function fr(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}var HI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qI=n=>HI.test(n);function GI(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?Gl(n):n,o;if(e)if(qI(e))o=e;else{if(e.includes("//")){let l=e;e=e.replace(/\/\/+/g,"/"),Ki(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${e}`)}e.startsWith("/")?o=VE(e.substring(1),"/"):o=VE(e,t)}else o=t;return{pathname:o,search:$I(i),hash:KI(r)}}function VE(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function wg(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YI(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Wx(n){let t=YI(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function $x(n,t,e,i=!1){let r;typeof n=="string"?r=Gl(n):(r={...n},Re(!r.pathname||!r.pathname.includes("?"),wg("?","pathname","search",r)),Re(!r.pathname||!r.pathname.includes("#"),wg("#","pathname","hash",r)),Re(!r.search||!r.search.includes("#"),wg("#","search","hash",r)));let o=n===""||r.pathname==="",l=o?"/":r.pathname,u;if(l==null)u=e;else{let y=t.length-1;if(!i&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),y-=1;r.pathname=v.join("/")}u=y>=0?t[y]:"/"}let f=GI(r,u),d=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(d||g)&&(f.pathname+="/"),f}var ur=n=>n.join("/").replace(/\/\/+/g,"/"),WI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),$I=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,KI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function XI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Kx=["POST","PUT","PATCH","DELETE"];new Set(Kx);var QI=["GET",...Kx];new Set(QI);var Yl=W.createContext(null);Yl.displayName="DataRouter";var Hd=W.createContext(null);Hd.displayName="DataRouterState";W.createContext(!1);var Xx=W.createContext({isTransitioning:!1});Xx.displayName="ViewTransition";var JI=W.createContext(new Map);JI.displayName="Fetchers";var ZI=W.createContext(null);ZI.displayName="Await";var Os=W.createContext(null);Os.displayName="Navigation";var Ku=W.createContext(null);Ku.displayName="Location";var Ns=W.createContext({outlet:null,matches:[],isDataRoute:!1});Ns.displayName="Route";var qy=W.createContext(null);qy.displayName="RouteError";function t2(n,{relative:t}={}){Re(Xu(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=W.useContext(Os),{hash:r,pathname:o,search:l}=Qu(n,{relative:t}),u=o;return e!=="/"&&(u=o==="/"?e:ur([e,o])),i.createHref({pathname:u,search:l,hash:r})}function Xu(){return W.useContext(Ku)!=null}function Do(){return Re(Xu(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(Ku).location}var Qx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jx(n){W.useContext(Os).static||W.useLayoutEffect(n)}function Gy(){let{isDataRoute:n}=W.useContext(Ns);return n?m2():e2()}function e2(){Re(Xu(),"useNavigate() may be used only in the context of a <Router> component.");let n=W.useContext(Yl),{basename:t,navigator:e}=W.useContext(Os),{matches:i}=W.useContext(Ns),{pathname:r}=Do(),o=JSON.stringify(Wx(i)),l=W.useRef(!1);return Jx(()=>{l.current=!0}),W.useCallback((f,d={})=>{if(Ki(l.current,Qx),!l.current)return;if(typeof f=="number"){e.go(f);return}let g=$x(f,JSON.parse(o),r,d.relative==="path");n==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:ur([t,g.pathname])),(d.replace?e.replace:e.push)(g,d.state,d)},[t,e,o,r,n])}var Zx=W.createContext(null);function Wl(){return W.useContext(Zx)}function n2(n){let t=W.useContext(Ns).outlet;return W.useMemo(()=>t&&W.createElement(Zx.Provider,{value:n},t),[t,n])}function Qu(n,{relative:t}={}){let{matches:e}=W.useContext(Ns),{pathname:i}=Do(),r=JSON.stringify(Wx(e));return W.useMemo(()=>$x(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function i2(n,t){return tw(n,t)}function tw(n,t,e,i,r){Re(Xu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=W.useContext(Os),{matches:l}=W.useContext(Ns),u=l[l.length-1],f=u?u.params:{},d=u?u.pathname:"/",g=u?u.pathnameBase:"/",y=u&&u.route;{let V=y&&y.path||"";ew(d,!y||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let v=Do(),T;if(t){let V=typeof t=="string"?Gl(t):t;Re(g==="/"||V.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${V.pathname}" was given in the \`location\` prop.`),T=V}else T=v;let x=T.pathname||"/",A=x;if(g!=="/"){let V=g.replace(/^\//,"").split("/");A="/"+x.replace(/^\//,"").split("/").slice(V.length).join("/")}let w=qx(n,{pathname:A});Ki(y||w!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Ki(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=l2(w&&w.map(V=>Object.assign({},V,{params:Object.assign({},f,V.params),pathname:ur([g,o.encodeLocation?o.encodeLocation(V.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?g:ur([g,o.encodeLocation?o.encodeLocation(V.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathnameBase])})),l,e,i,r);return t&&O?W.createElement(Ku.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},O):O}function s2(){let n=d2(),t=XI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:o},"ErrorBoundary")," or"," ",W.createElement("code",{style:o},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},t),e?W.createElement("pre",{style:r},e):null,l)}var r2=W.createElement(s2,null),a2=class extends W.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?W.createElement(Ns.Provider,{value:this.props.routeContext},W.createElement(qy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function o2({routeContext:n,match:t,children:e}){let i=W.useContext(Yl);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),W.createElement(Ns.Provider,{value:n},e)}function l2(n,t=[],e=null,i=null,r=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let o=n,l=e?.errors;if(l!=null){let g=o.findIndex(y=>y.route.id&&l?.[y.route.id]!==void 0);Re(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let u=!1,f=-1;if(e)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=g),y.route.id){let{loaderData:v,errors:T}=e,x=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||x){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let d=e&&i?(g,y)=>{i(g,{location:e.location,params:e.matches?.[0]?.params??{},errorInfo:y})}:void 0;return o.reduceRight((g,y,v)=>{let T,x=!1,A=null,w=null;e&&(T=l&&y.route.id?l[y.route.id]:void 0,A=y.route.errorElement||r2,u&&(f<0&&v===0?(ew("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,w=null):f===v&&(x=!0,w=y.route.hydrateFallbackElement||null)));let O=t.concat(o.slice(0,v+1)),V=()=>{let j;return T?j=A:x?j=w:y.route.Component?j=W.createElement(y.route.Component,null):y.route.element?j=y.route.element:j=g,W.createElement(o2,{match:y,routeContext:{outlet:g,matches:O,isDataRoute:e!=null},children:j})};return e&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?W.createElement(a2,{location:e.location,revalidation:e.revalidation,component:A,error:T,children:V(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:d}):V()},null)}function Yy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function c2(n){let t=W.useContext(Yl);return Re(t,Yy(n)),t}function u2(n){let t=W.useContext(Hd);return Re(t,Yy(n)),t}function h2(n){let t=W.useContext(Ns);return Re(t,Yy(n)),t}function Wy(n){let t=h2(n),e=t.matches[t.matches.length-1];return Re(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function f2(){return Wy("useRouteId")}function d2(){let n=W.useContext(qy),t=u2("useRouteError"),e=Wy("useRouteError");return n!==void 0?n:t.errors?.[e]}function m2(){let{router:n}=c2("useNavigate"),t=Wy("useNavigate"),e=W.useRef(!1);return Jx(()=>{e.current=!0}),W.useCallback(async(r,o={})=>{Ki(e.current,Qx),e.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:t,...o}))},[n,t])}var zE={};function ew(n,t,e){!t&&!zE[n]&&(zE[n]=!0,Ki(!1,e))}W.memo(p2);function p2({routes:n,future:t,state:e,unstable_onError:i}){return tw(n,void 0,e,i,t)}function g2(n){return n2(n.context)}function er(n){Re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function y2({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:o=!1}){Re(!Xu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=W.useMemo(()=>({basename:l,navigator:r,static:o,future:{}}),[l,r,o]);typeof e=="string"&&(e=Gl(e));let{pathname:f="/",search:d="",hash:g="",state:y=null,key:v="default"}=e,T=W.useMemo(()=>{let x=fr(f,l);return x==null?null:{location:{pathname:x,search:d,hash:g,state:y,key:v},navigationType:i}},[l,f,d,g,y,v,i]);return Ki(T!=null,`<Router basename="${l}"> is not able to match the URL "${f}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:W.createElement(Os.Provider,{value:u},W.createElement(Ku.Provider,{children:t,value:T}))}function _2({children:n,location:t}){return i2(ey(n),t)}function ey(n,t=[]){let e=[];return W.Children.forEach(n,(i,r)=>{if(!W.isValidElement(i))return;let o=[...t,r];if(i.type===W.Fragment){e.push.apply(e,ey(i.props.children,o));return}Re(i.type===er,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Re(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=ey(i.props.children,o)),e.push(l)}),e}var nd="get",id="application/x-www-form-urlencoded";function qd(n){return n!=null&&typeof n.tagName=="string"}function v2(n){return qd(n)&&n.tagName.toLowerCase()==="button"}function b2(n){return qd(n)&&n.tagName.toLowerCase()==="form"}function E2(n){return qd(n)&&n.tagName.toLowerCase()==="input"}function T2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function S2(n,t){return n.button===0&&(!t||t==="_self")&&!T2(n)}var Pf=null;function x2(){if(Pf===null)try{new FormData(document.createElement("form"),0),Pf=!1}catch{Pf=!0}return Pf}var w2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ag(n){return n!=null&&!w2.has(n)?(Ki(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${id}"`),null):n}function A2(n,t){let e,i,r,o,l;if(b2(n)){let u=n.getAttribute("action");i=u?fr(u,t):null,e=n.getAttribute("method")||nd,r=Ag(n.getAttribute("enctype"))||id,o=new FormData(n)}else if(v2(n)||E2(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||u.getAttribute("action");if(i=f?fr(f,t):null,e=n.getAttribute("formmethod")||u.getAttribute("method")||nd,r=Ag(n.getAttribute("formenctype"))||Ag(u.getAttribute("enctype"))||id,o=new FormData(u,n),!x2()){let{name:d,type:g,value:y}=n;if(g==="image"){let v=d?`${d}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else d&&o.append(d,y)}}else{if(qd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=nd,i=null,r=id,l=n}return o&&r==="text/plain"&&(l=o,o=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $y(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function R2(n,t,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&fr(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function C2(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function I2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function D2(n,t,e){let i=await Promise.all(n.map(async r=>{let o=t.routes[r.route.id];if(o){let l=await C2(o,e);return l.links?l.links():[]}return[]}));return k2(i.flat(1).filter(I2).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function jE(n,t,e,i,r,o){let l=(f,d)=>e[d]?f.route.id!==e[d].route.id:!0,u=(f,d)=>e[d].pathname!==f.pathname||e[d].route.path?.endsWith("*")&&e[d].params["*"]!==f.params["*"];return o==="assets"?t.filter((f,d)=>l(f,d)||u(f,d)):o==="data"?t.filter((f,d)=>{let g=i.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(l(f,d)||u(f,d))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function M2(n,t,{includeHydrateFallback:e}={}){return O2(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function O2(n){return[...new Set(n)]}function N2(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function k2(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let o=JSON.stringify(N2(r));return e.has(o)||(e.add(o),i.push({key:o,link:r})),i},[])}function nw(){let n=W.useContext(Yl);return $y(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function P2(){let n=W.useContext(Hd);return $y(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ky=W.createContext(void 0);Ky.displayName="FrameworkContext";function iw(){let n=W.useContext(Ky);return $y(n,"You must render this element inside a <HydratedRouter> element"),n}function L2(n,t){let e=W.useContext(Ky),[i,r]=W.useState(!1),[o,l]=W.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:d,onMouseLeave:g,onTouchStart:y}=t,v=W.useRef(null);W.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let A=O=>{O.forEach(V=>{l(V.isIntersecting)})},w=new IntersectionObserver(A,{threshold:.5});return v.current&&w.observe(v.current),()=>{w.disconnect()}}},[n]),W.useEffect(()=>{if(i){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[i]);let T=()=>{r(!0)},x=()=>{r(!1),l(!1)};return e?n!=="intent"?[o,v,{}]:[o,v,{onFocus:nu(u,T),onBlur:nu(f,x),onMouseEnter:nu(d,T),onMouseLeave:nu(g,x),onTouchStart:nu(y,T)}]:[!1,v,{}]}function nu(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function V2({page:n,...t}){let{router:e}=nw(),i=W.useMemo(()=>qx(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?W.createElement(j2,{page:n,matches:i,...t}):null}function z2(n){let{manifest:t,routeModules:e}=iw(),[i,r]=W.useState([]);return W.useEffect(()=>{let o=!1;return D2(n,t,e).then(l=>{o||r(l)}),()=>{o=!0}},[n,t,e]),i}function j2({page:n,matches:t,...e}){let i=Do(),{manifest:r,routeModules:o}=iw(),{basename:l}=nw(),{loaderData:u,matches:f}=P2(),d=W.useMemo(()=>jE(n,t,f,r,i,"data"),[n,t,f,r,i]),g=W.useMemo(()=>jE(n,t,f,r,i,"assets"),[n,t,f,r,i]),y=W.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let x=new Set,A=!1;if(t.forEach(O=>{let V=r.routes[O.route.id];!V||!V.hasLoader||(!d.some(j=>j.route.id===O.route.id)&&O.route.id in u&&o[O.route.id]?.shouldRevalidate||V.hasClientLoader?A=!0:x.add(O.route.id))}),x.size===0)return[];let w=R2(n,l,"data");return A&&x.size>0&&w.searchParams.set("_routes",t.filter(O=>x.has(O.route.id)).map(O=>O.route.id).join(",")),[w.pathname+w.search]},[l,u,i,r,d,t,n,o]),v=W.useMemo(()=>M2(g,r),[g,r]),T=z2(g);return W.createElement(W.Fragment,null,y.map(x=>W.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...e})),v.map(x=>W.createElement("link",{key:x,rel:"modulepreload",href:x,...e})),T.map(({key:x,link:A})=>W.createElement("link",{key:x,nonce:e.nonce,...A})))}function U2(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var sw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sw&&(window.__reactRouterVersion="7.9.6")}catch{}function B2({basename:n,children:t,window:e}){let i=W.useRef();i.current==null&&(i.current=AI({window:e,v5Compat:!0}));let r=i.current,[o,l]=W.useState({action:r.action,location:r.location}),u=W.useCallback(f=>{W.startTransition(()=>l(f))},[l]);return W.useLayoutEffect(()=>r.listen(u),[r,u]),W.createElement(y2,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:r})}var rw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aw=W.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:o,replace:l,state:u,target:f,to:d,preventScrollReset:g,viewTransition:y,...v},T){let{basename:x}=W.useContext(Os),A=typeof d=="string"&&rw.test(d),w,O=!1;if(typeof d=="string"&&A&&(w=d,sw))try{let M=new URL(window.location.href),L=d.startsWith("//")?new URL(M.protocol+d):new URL(d),P=fr(L.pathname,x);L.origin===M.origin&&P!=null?d=P+L.search+L.hash:O=!0}catch{Ki(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=t2(d,{relative:r}),[j,$,B]=L2(i,v),Y=q2(d,{replace:l,state:u,target:f,preventScrollReset:g,relative:r,viewTransition:y});function I(M){t&&t(M),M.defaultPrevented||Y(M)}let R=W.createElement("a",{...v,...B,href:w||V,onClick:O||o?t:I,ref:U2(T,$),target:f,"data-discover":!A&&e==="render"?"true":void 0});return j&&!A?W.createElement(W.Fragment,null,R,W.createElement(V2,{page:V})):R});aw.displayName="Link";var fo=W.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:o,to:l,viewTransition:u,children:f,...d},g){let y=Qu(l,{relative:d.relative}),v=Do(),T=W.useContext(Hd),{navigator:x,basename:A}=W.useContext(Os),w=T!=null&&K2(y)&&u===!0,O=x.encodeLocation?x.encodeLocation(y).pathname:y.pathname,V=v.pathname,j=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;e||(V=V.toLowerCase(),j=j?j.toLowerCase():null,O=O.toLowerCase()),j&&A&&(j=fr(j,A)||j);const $=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let B=V===O||!r&&V.startsWith(O)&&V.charAt($)==="/",Y=j!=null&&(j===O||!r&&j.startsWith(O)&&j.charAt(O.length)==="/"),I={isActive:B,isPending:Y,isTransitioning:w},R=B?t:void 0,M;typeof i=="function"?M=i(I):M=[i,B?"active":null,Y?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(I):o;return W.createElement(aw,{...d,"aria-current":R,className:M,ref:g,style:L,to:l,viewTransition:u},typeof f=="function"?f(I):f)});fo.displayName="NavLink";var F2=W.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:o,method:l=nd,action:u,onSubmit:f,relative:d,preventScrollReset:g,viewTransition:y,...v},T)=>{let x=W2(),A=$2(u,{relative:d}),w=l.toLowerCase()==="get"?"get":"post",O=typeof u=="string"&&rw.test(u),V=j=>{if(f&&f(j),j.defaultPrevented)return;j.preventDefault();let $=j.nativeEvent.submitter,B=$?.getAttribute("formmethod")||l;x($||j.currentTarget,{fetcherKey:t,method:B,navigate:e,replace:r,state:o,relative:d,preventScrollReset:g,viewTransition:y})};return W.createElement("form",{ref:T,method:w,action:A,onSubmit:i?f:V,...v,"data-discover":!O&&n==="render"?"true":void 0})});F2.displayName="Form";function H2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ow(n){let t=W.useContext(Yl);return Re(t,H2(n)),t}function q2(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:o,viewTransition:l}={}){let u=Gy(),f=Do(),d=Qu(n,{relative:o});return W.useCallback(g=>{if(S2(g,t)){g.preventDefault();let y=e!==void 0?e:Cu(f)===Cu(d);u(n,{replace:y,state:i,preventScrollReset:r,relative:o,viewTransition:l})}},[f,u,d,e,i,t,n,r,o,l])}var G2=0,Y2=()=>`__${String(++G2)}__`;function W2(){let{router:n}=ow("useSubmit"),{basename:t}=W.useContext(Os),e=f2();return W.useCallback(async(i,r={})=>{let{action:o,method:l,encType:u,formData:f,body:d}=A2(i,t);if(r.navigate===!1){let g=r.fetcherKey||Y2();await n.fetch(g,e,r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:d,formMethod:r.method||l,formEncType:r.encType||u,flushSync:r.flushSync})}else await n.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:d,formMethod:r.method||l,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,t,e])}function $2(n,{relative:t}={}){let{basename:e}=W.useContext(Os),i=W.useContext(Ns);Re(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...Qu(n||".",{relative:t})},l=Do();if(n==null){o.search=l.search;let u=new URLSearchParams(o.search),f=u.getAll("index");if(f.some(g=>g==="")){u.delete("index"),f.filter(y=>y).forEach(y=>u.append("index",y));let g=u.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:ur([e,o.pathname])),Cu(o)}function K2(n,{relative:t}={}){let e=W.useContext(Xx);Re(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ow("useViewTransitionState"),r=Qu(n,{relative:t});if(!e.isTransitioning)return!1;let o=fr(e.currentLocation.pathname,i)||e.currentLocation.pathname,l=fr(e.nextLocation.pathname,i)||e.nextLocation.pathname;return gd(r.pathname,l)!=null||gd(r.pathname,o)!=null}var X2=Hx();const Q2=Fy(X2);function J2(n){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.appendChild(e),e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}const Z2=n=>{switch(n){case"success":return nD;case"info":return sD;case"warning":return iD;case"error":return rD;default:return null}},tD=Array(12).fill(0),eD=({visible:n,className:t})=>mt.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":n},mt.createElement("div",{className:"sonner-spinner"},tD.map((e,i)=>mt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),nD=mt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},mt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),iD=mt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},mt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),sD=mt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},mt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),rD=mt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},mt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),aD=mt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},mt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),mt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),oD=()=>{const[n,t]=mt.useState(document.hidden);return mt.useEffect(()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),n};let ny=1;class lD{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;const{message:i,...r}=t,o=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:ny++,l=this.toasts.find(f=>f.id===o),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),l?this.toasts=this.toasts.map(f=>f.id===o?(this.publish({...f,...t,id:o,title:i}),{...f,...t,id:o,dismissible:u,title:i}):f):this.addToast({title:i,...r,dismissible:u,id:o}),o},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(e=>e({id:t,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(i=>i({id:e.id,dismiss:!0}))}),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let i;e.loading!==void 0&&(i=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));const r=Promise.resolve(t instanceof Function?t():t);let o=i!==void 0,l;const u=r.then(async d=>{if(l=["resolve",d],mt.isValidElement(d))o=!1,this.create({id:i,type:"default",message:d});else if(uD(d)&&!d.ok){o=!1;const y=typeof e.error=="function"?await e.error(`HTTP error! status: ${d.status}`):e.error,v=typeof e.description=="function"?await e.description(`HTTP error! status: ${d.status}`):e.description,x=typeof y=="object"&&!mt.isValidElement(y)?y:{message:y};this.create({id:i,type:"error",description:v,...x})}else if(d instanceof Error){o=!1;const y=typeof e.error=="function"?await e.error(d):e.error,v=typeof e.description=="function"?await e.description(d):e.description,x=typeof y=="object"&&!mt.isValidElement(y)?y:{message:y};this.create({id:i,type:"error",description:v,...x})}else if(e.success!==void 0){o=!1;const y=typeof e.success=="function"?await e.success(d):e.success,v=typeof e.description=="function"?await e.description(d):e.description,x=typeof y=="object"&&!mt.isValidElement(y)?y:{message:y};this.create({id:i,type:"success",description:v,...x})}}).catch(async d=>{if(l=["reject",d],e.error!==void 0){o=!1;const g=typeof e.error=="function"?await e.error(d):e.error,y=typeof e.description=="function"?await e.description(d):e.description,T=typeof g=="object"&&!mt.isValidElement(g)?g:{message:g};this.create({id:i,type:"error",description:y,...T})}}).finally(()=>{o&&(this.dismiss(i),i=void 0),e.finally==null||e.finally.call(e)}),f=()=>new Promise((d,g)=>u.then(()=>l[0]==="reject"?g(l[1]):d(l[1])).catch(g));return typeof i!="string"&&typeof i!="number"?{unwrap:f}:Object.assign(i,{unwrap:f})},this.custom=(t,e)=>{const i=e?.id||ny++;return this.create({jsx:t(i),id:i,...e}),i},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Yn=new lD,cD=(n,t)=>{const e=t?.id||ny++;return Yn.addToast({title:n,...t,id:e}),e},uD=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",hD=cD,fD=()=>Yn.toasts,dD=()=>Yn.getActiveToasts(),me=Object.assign(hD,{success:Yn.success,info:Yn.info,warning:Yn.warning,error:Yn.error,custom:Yn.custom,message:Yn.message,promise:Yn.promise,dismiss:Yn.dismiss,loading:Yn.loading},{getHistory:fD,getToasts:dD});J2("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Lf(n){return n.label!==void 0}const mD=3,pD="24px",gD="16px",UE=4e3,yD=356,_D=14,vD=45,bD=200;function bs(...n){return n.filter(Boolean).join(" ")}function ED(n){const[t,e]=n.split("-"),i=[];return t&&i.push(t),e&&i.push(e),i}const TD=n=>{var t,e,i,r,o,l,u,f,d;const{invert:g,toast:y,unstyled:v,interacting:T,setHeights:x,visibleToasts:A,heights:w,index:O,toasts:V,expanded:j,removeToast:$,defaultRichColors:B,closeButton:Y,style:I,cancelButtonStyle:R,actionButtonStyle:M,className:L="",descriptionClassName:P="",duration:z,position:k,gap:lt,expandByDefault:ut,classNames:q,icons:et,closeButtonAriaLabel:ft="Close toast"}=n,[vt,Ct]=mt.useState(null),[F,nt]=mt.useState(null),[at,ht]=mt.useState(!1),[pt,bt]=mt.useState(!1),[Lt,Dt]=mt.useState(!1),[Jt,fi]=mt.useState(!1),[Di,Qn]=mt.useState(!1),[br,Vn]=mt.useState(0),[ka,Ji]=mt.useState(0),Mi=mt.useRef(y.duration||z||UE),Er=mt.useRef(null),ee=mt.useRef(null),Oe=O===0,Zi=O+1<=A,cn=y.type,Oi=y.dismissible!==!1,un=y.className||"",ks=y.descriptionClassName||"",ts=mt.useMemo(()=>w.findIndex(xt=>xt.toastId===y.id)||0,[w,y.id]),Pa=mt.useMemo(()=>{var xt;return(xt=y.closeButton)!=null?xt:Y},[y.closeButton,Y]),Ni=mt.useMemo(()=>y.duration||z||UE,[y.duration,z]),La=mt.useRef(0),ki=mt.useRef(0),Va=mt.useRef(0),Pi=mt.useRef(null),[Jn,Qe]=k.split("-"),On=mt.useMemo(()=>w.reduce((xt,ne,je)=>je>=ts?xt:xt+ne.height,0),[w,ts]),Ee=oD(),Po=y.invert||g,es=cn==="loading";ki.current=mt.useMemo(()=>ts*lt+On,[ts,On]),mt.useEffect(()=>{Mi.current=Ni},[Ni]),mt.useEffect(()=>{ht(!0)},[]),mt.useEffect(()=>{const xt=ee.current;if(xt){const ne=xt.getBoundingClientRect().height;return Ji(ne),x(je=>[{toastId:y.id,height:ne,position:y.position},...je]),()=>x(je=>je.filter(nn=>nn.toastId!==y.id))}},[x,y.id]),mt.useLayoutEffect(()=>{if(!at)return;const xt=ee.current,ne=xt.style.height;xt.style.height="auto";const je=xt.getBoundingClientRect().height;xt.style.height=ne,Ji(je),x(nn=>nn.find(ge=>ge.toastId===y.id)?nn.map(ge=>ge.toastId===y.id?{...ge,height:je}:ge):[{toastId:y.id,height:je,position:y.position},...nn])},[at,y.title,y.description,x,y.id,y.jsx,y.action,y.cancel]);const Zn=mt.useCallback(()=>{bt(!0),Vn(ki.current),x(xt=>xt.filter(ne=>ne.toastId!==y.id)),setTimeout(()=>{$(y)},bD)},[y,$,x,ki]);mt.useEffect(()=>{if(y.promise&&cn==="loading"||y.duration===1/0||y.type==="loading")return;let xt;return j||T||Ee?(()=>{if(Va.current<La.current){const nn=new Date().getTime()-La.current;Mi.current=Mi.current-nn}Va.current=new Date().getTime()})():(()=>{Mi.current!==1/0&&(La.current=new Date().getTime(),xt=setTimeout(()=>{y.onAutoClose==null||y.onAutoClose.call(y,y),Zn()},Mi.current))})(),()=>clearTimeout(xt)},[j,T,y,cn,Ee,Zn]),mt.useEffect(()=>{y.delete&&(Zn(),y.onDismiss==null||y.onDismiss.call(y,y))},[Zn,y.delete]);function di(){var xt;if(et?.loading){var ne;return mt.createElement("div",{className:bs(q?.loader,y==null||(ne=y.classNames)==null?void 0:ne.loader,"sonner-loader"),"data-visible":cn==="loading"},et.loading)}return mt.createElement(eD,{className:bs(q?.loader,y==null||(xt=y.classNames)==null?void 0:xt.loader),visible:cn==="loading"})}const Ps=y.icon||et?.[cn]||Z2(cn);var Ae,ti;return mt.createElement("li",{tabIndex:0,ref:ee,className:bs(L,un,q?.toast,y==null||(t=y.classNames)==null?void 0:t.toast,q?.default,q?.[cn],y==null||(e=y.classNames)==null?void 0:e[cn]),"data-sonner-toast":"","data-rich-colors":(Ae=y.richColors)!=null?Ae:B,"data-styled":!(y.jsx||y.unstyled||v),"data-mounted":at,"data-promise":!!y.promise,"data-swiped":Di,"data-removed":pt,"data-visible":Zi,"data-y-position":Jn,"data-x-position":Qe,"data-index":O,"data-front":Oe,"data-swiping":Lt,"data-dismissible":Oi,"data-type":cn,"data-invert":Po,"data-swipe-out":Jt,"data-swipe-direction":F,"data-expanded":!!(j||ut&&at),"data-testid":y.testId,style:{"--index":O,"--toasts-before":O,"--z-index":V.length-O,"--offset":`${pt?br:ki.current}px`,"--initial-height":ut?"auto":`${ka}px`,...I,...y.style},onDragEnd:()=>{Dt(!1),Ct(null),Pi.current=null},onPointerDown:xt=>{xt.button!==2&&(es||!Oi||(Er.current=new Date,Vn(ki.current),xt.target.setPointerCapture(xt.pointerId),xt.target.tagName!=="BUTTON"&&(Dt(!0),Pi.current={x:xt.clientX,y:xt.clientY})))},onPointerUp:()=>{var xt,ne,je;if(Jt||!Oi)return;Pi.current=null;const nn=Number(((xt=ee.current)==null?void 0:xt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Nn=Number(((ne=ee.current)==null?void 0:ne.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ge=new Date().getTime()-((je=Er.current)==null?void 0:je.getTime()),Tn=vt==="x"?nn:Nn,mi=Math.abs(Tn)/ge;if(Math.abs(Tn)>=vD||mi>.11){Vn(ki.current),y.onDismiss==null||y.onDismiss.call(y,y),nt(vt==="x"?nn>0?"right":"left":Nn>0?"down":"up"),Zn(),fi(!0);return}else{var hn,fn;(hn=ee.current)==null||hn.style.setProperty("--swipe-amount-x","0px"),(fn=ee.current)==null||fn.style.setProperty("--swipe-amount-y","0px")}Qn(!1),Dt(!1),Ct(null)},onPointerMove:xt=>{var ne,je,nn;if(!Pi.current||!Oi||((ne=window.getSelection())==null?void 0:ne.toString().length)>0)return;const ge=xt.clientY-Pi.current.y,Tn=xt.clientX-Pi.current.x;var mi;const hn=(mi=n.swipeDirections)!=null?mi:ED(k);!vt&&(Math.abs(Tn)>1||Math.abs(ge)>1)&&Ct(Math.abs(Tn)>Math.abs(ge)?"x":"y");let fn={x:0,y:0};const ns=dn=>1/(1.5+Math.abs(dn)/20);if(vt==="y"){if(hn.includes("top")||hn.includes("bottom"))if(hn.includes("top")&&ge<0||hn.includes("bottom")&&ge>0)fn.y=ge;else{const dn=ge*ns(ge);fn.y=Math.abs(dn)<Math.abs(ge)?dn:ge}}else if(vt==="x"&&(hn.includes("left")||hn.includes("right")))if(hn.includes("left")&&Tn<0||hn.includes("right")&&Tn>0)fn.x=Tn;else{const dn=Tn*ns(Tn);fn.x=Math.abs(dn)<Math.abs(Tn)?dn:Tn}(Math.abs(fn.x)>0||Math.abs(fn.y)>0)&&Qn(!0),(je=ee.current)==null||je.style.setProperty("--swipe-amount-x",`${fn.x}px`),(nn=ee.current)==null||nn.style.setProperty("--swipe-amount-y",`${fn.y}px`)}},Pa&&!y.jsx&&cn!=="loading"?mt.createElement("button",{"aria-label":ft,"data-disabled":es,"data-close-button":!0,onClick:es||!Oi?()=>{}:()=>{Zn(),y.onDismiss==null||y.onDismiss.call(y,y)},className:bs(q?.closeButton,y==null||(i=y.classNames)==null?void 0:i.closeButton)},(ti=et?.close)!=null?ti:aD):null,(cn||y.icon||y.promise)&&y.icon!==null&&(et?.[cn]!==null||y.icon)?mt.createElement("div",{"data-icon":"",className:bs(q?.icon,y==null||(r=y.classNames)==null?void 0:r.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||di():null,y.type!=="loading"?Ps:null):null,mt.createElement("div",{"data-content":"",className:bs(q?.content,y==null||(o=y.classNames)==null?void 0:o.content)},mt.createElement("div",{"data-title":"",className:bs(q?.title,y==null||(l=y.classNames)==null?void 0:l.title)},y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title),y.description?mt.createElement("div",{"data-description":"",className:bs(P,ks,q?.description,y==null||(u=y.classNames)==null?void 0:u.description)},typeof y.description=="function"?y.description():y.description):null),mt.isValidElement(y.cancel)?y.cancel:y.cancel&&Lf(y.cancel)?mt.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||R,onClick:xt=>{Lf(y.cancel)&&Oi&&(y.cancel.onClick==null||y.cancel.onClick.call(y.cancel,xt),Zn())},className:bs(q?.cancelButton,y==null||(f=y.classNames)==null?void 0:f.cancelButton)},y.cancel.label):null,mt.isValidElement(y.action)?y.action:y.action&&Lf(y.action)?mt.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||M,onClick:xt=>{Lf(y.action)&&(y.action.onClick==null||y.action.onClick.call(y.action,xt),!xt.defaultPrevented&&Zn())},className:bs(q?.actionButton,y==null||(d=y.classNames)==null?void 0:d.actionButton)},y.action.label):null)};function BE(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function SD(n,t){const e={};return[n,t].forEach((i,r)=>{const o=r===1,l=o?"--mobile-offset":"--offset",u=o?gD:pD;function f(d){["top","right","bottom","left"].forEach(g=>{e[`${l}-${g}`]=typeof d=="number"?`${d}px`:d})}typeof i=="number"||typeof i=="string"?f(i):typeof i=="object"?["top","right","bottom","left"].forEach(d=>{i[d]===void 0?e[`${l}-${d}`]=u:e[`${l}-${d}`]=typeof i[d]=="number"?`${i[d]}px`:i[d]}):f(u)}),e}const lw=mt.forwardRef(function(t,e){const{id:i,invert:r,position:o="bottom-right",hotkey:l=["altKey","KeyT"],expand:u,closeButton:f,className:d,offset:g,mobileOffset:y,theme:v="light",richColors:T,duration:x,style:A,visibleToasts:w=mD,toastOptions:O,dir:V=BE(),gap:j=_D,icons:$,containerAriaLabel:B="Notifications"}=t,[Y,I]=mt.useState([]),R=mt.useMemo(()=>i?Y.filter(at=>at.toasterId===i):Y.filter(at=>!at.toasterId),[Y,i]),M=mt.useMemo(()=>Array.from(new Set([o].concat(R.filter(at=>at.position).map(at=>at.position)))),[R,o]),[L,P]=mt.useState([]),[z,k]=mt.useState(!1),[lt,ut]=mt.useState(!1),[q,et]=mt.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ft=mt.useRef(null),vt=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),Ct=mt.useRef(null),F=mt.useRef(!1),nt=mt.useCallback(at=>{I(ht=>{var pt;return(pt=ht.find(bt=>bt.id===at.id))!=null&&pt.delete||Yn.dismiss(at.id),ht.filter(({id:bt})=>bt!==at.id)})},[]);return mt.useEffect(()=>Yn.subscribe(at=>{if(at.dismiss){requestAnimationFrame(()=>{I(ht=>ht.map(pt=>pt.id===at.id?{...pt,delete:!0}:pt))});return}setTimeout(()=>{Q2.flushSync(()=>{I(ht=>{const pt=ht.findIndex(bt=>bt.id===at.id);return pt!==-1?[...ht.slice(0,pt),{...ht[pt],...at},...ht.slice(pt+1)]:[at,...ht]})})})}),[Y]),mt.useEffect(()=>{if(v!=="system"){et(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?et("dark"):et("light")),typeof window>"u")return;const at=window.matchMedia("(prefers-color-scheme: dark)");try{at.addEventListener("change",({matches:ht})=>{et(ht?"dark":"light")})}catch{at.addListener(({matches:pt})=>{try{et(pt?"dark":"light")}catch(bt){console.error(bt)}})}},[v]),mt.useEffect(()=>{Y.length<=1&&k(!1)},[Y]),mt.useEffect(()=>{const at=ht=>{var pt;if(l.every(Dt=>ht[Dt]||ht.code===Dt)){var Lt;k(!0),(Lt=ft.current)==null||Lt.focus()}ht.code==="Escape"&&(document.activeElement===ft.current||(pt=ft.current)!=null&&pt.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",at),()=>document.removeEventListener("keydown",at)},[l]),mt.useEffect(()=>{if(ft.current)return()=>{Ct.current&&(Ct.current.focus({preventScroll:!0}),Ct.current=null,F.current=!1)}},[ft.current]),mt.createElement("section",{ref:e,"aria-label":`${B} ${vt}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},M.map((at,ht)=>{var pt;const[bt,Lt]=at.split("-");return R.length?mt.createElement("ol",{key:at,dir:V==="auto"?BE():V,tabIndex:-1,ref:ft,className:d,"data-sonner-toaster":!0,"data-sonner-theme":q,"data-y-position":bt,"data-x-position":Lt,style:{"--front-toast-height":`${((pt=L[0])==null?void 0:pt.height)||0}px`,"--width":`${yD}px`,"--gap":`${j}px`,...A,...SD(g,y)},onBlur:Dt=>{F.current&&!Dt.currentTarget.contains(Dt.relatedTarget)&&(F.current=!1,Ct.current&&(Ct.current.focus({preventScroll:!0}),Ct.current=null))},onFocus:Dt=>{Dt.target instanceof HTMLElement&&Dt.target.dataset.dismissible==="false"||F.current||(F.current=!0,Ct.current=Dt.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{lt||k(!1)},onDragEnd:()=>k(!1),onPointerDown:Dt=>{Dt.target instanceof HTMLElement&&Dt.target.dataset.dismissible==="false"||ut(!0)},onPointerUp:()=>ut(!1)},R.filter(Dt=>!Dt.position&&ht===0||Dt.position===at).map((Dt,Jt)=>{var fi,Di;return mt.createElement(TD,{key:Dt.id,icons:$,index:Jt,toast:Dt,defaultRichColors:T,duration:(fi=O?.duration)!=null?fi:x,className:O?.className,descriptionClassName:O?.descriptionClassName,invert:r,visibleToasts:w,closeButton:(Di=O?.closeButton)!=null?Di:f,interacting:lt,position:at,style:O?.style,unstyled:O?.unstyled,classNames:O?.classNames,cancelButtonStyle:O?.cancelButtonStyle,actionButtonStyle:O?.actionButtonStyle,closeButtonAriaLabel:O?.closeButtonAriaLabel,removeToast:nt,toasts:R.filter(Qn=>Qn.position==Dt.position),heights:L.filter(Qn=>Qn.position==Dt.position),setHeights:P,expandByDefault:u,gap:j,expanded:z,swipeDirections:t.swipeDirections})})):null}))}),xD=()=>{};var FE={};const cw=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},wD=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],l=n[e++],u=n[e++],f=((r&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],l=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|l&63)}}return t.join("")},uw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],l=r+1<n.length,u=l?n[r+1]:0,f=r+2<n.length,d=f?n[r+2]:0,g=o>>2,y=(o&3)<<4|u>>4;let v=(u&15)<<2|d>>6,T=d&63;f||(T=64,l||(v=64)),i.push(e[g],e[y],e[v],e[T])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(cw(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):wD(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],u=r<n.length?e[n.charAt(r)]:0;++r;const d=r<n.length?e[n.charAt(r)]:64;++r;const y=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||u==null||d==null||y==null)throw new AD;const v=o<<2|u>>4;if(i.push(v),d!==64){const T=u<<4&240|d>>2;if(i.push(T),y!==64){const x=d<<6&192|y;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class AD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RD=function(n){const t=cw(n);return uw.encodeByteArray(t,!0)},yd=function(n){return RD(n).replace(/\./g,"")},hw=function(n){try{return uw.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function CD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ID=()=>CD().__FIREBASE_DEFAULTS__,DD=()=>{if(typeof process>"u"||typeof FE>"u")return;const n=FE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},MD=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&hw(n[1]);return t&&JSON.parse(t)},Gd=()=>{try{return xD()||ID()||DD()||MD()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},fw=n=>Gd()?.emulatorHosts?.[n],OD=n=>{const t=fw(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},dw=()=>Gd()?.config,mw=n=>Gd()?.[`_${n}`];class ND{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function $l(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pw(n){return(await fetch(n,{credentials:"include"})).ok}function kD(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[yd(JSON.stringify(e)),yd(JSON.stringify(l)),""].join(".")}const _u={};function PD(){const n={prod:[],emulator:[]};for(const t of Object.keys(_u))_u[t]?n.emulator.push(t):n.prod.push(t);return n}function LD(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let HE=!1;function gw(n,t){if(typeof window>"u"||typeof document>"u"||!$l(window.location.host)||_u[n]===t||_u[n]||HE)return;_u[n]=t;function e(v){return`__firebase__banner__${v}`}const i="__firebase__banner",o=PD().prod.length>0;function l(){const v=document.getElementById(i);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,T){v.setAttribute("width","24"),v.setAttribute("id",T),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{HE=!0,l()},v}function g(v,T){v.setAttribute("id",T),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=LD(i),T=e("text"),x=document.getElementById(T)||document.createElement("span"),A=e("learnmore"),w=document.getElementById(A)||document.createElement("a"),O=e("preprendIcon"),V=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const j=v.element;u(j),g(w,A);const $=d();f(V,O),j.append(V,x,w,$),document.body.appendChild(j)}o?(x.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function Dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dn())}function zD(){const n=Gd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UD(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function BD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FD(){const n=Dn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function HD(){return!zD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qD(){try{return typeof indexedDB=="object"}catch{return!1}}function GD(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}const YD="FirebaseError";class _r extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=YD,Object.setPrototypeOf(this,_r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ju.prototype.create)}}class Ju{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],l=o?WD(o,i):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new _r(r,u,i)}}function WD(n,t){return n.replace($D,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const $D=/\{\$([^}]+)}/g;function KD(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function To(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],l=t[r];if(qE(o)&&qE(l)){if(!To(o,l))return!1}else if(o!==l)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function qE(n){return n!==null&&typeof n=="object"}function Zu(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function lu(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function cu(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function XD(n,t){const e=new QD(n,t);return e.subscribe.bind(e)}class QD{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");JD(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Rg),r.error===void 0&&(r.error=Rg),r.complete===void 0&&(r.complete=Rg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JD(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Rg(){}function en(n){return n&&n._delegate?n._delegate:n}class So{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const mo="[DEFAULT]";class ZD{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new ND;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(eM(t))try{this.getOrInitializeService({instanceIdentifier:mo})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=mo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=mo){return this.instances.has(t)}getOptions(t=mo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&l.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:tM(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=mo){return this.component?this.component.multipleInstances?t:mo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tM(n){return n===mo?void 0:n}function eM(n){return n.instantiationMode==="EAGER"}class nM{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new ZD(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Ht;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ht||(Ht={}));const iM={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},sM=Ht.INFO,rM={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},aM=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=rM[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Xy{constructor(t){this.name=t,this._logLevel=sM,this._logHandler=aM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?iM[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...t),this._logHandler(this,Ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...t),this._logHandler(this,Ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...t),this._logHandler(this,Ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...t),this._logHandler(this,Ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...t),this._logHandler(this,Ht.ERROR,...t)}}const oM=(n,t)=>t.some(e=>n instanceof e);let GE,YE;function lM(){return GE||(GE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cM(){return YE||(YE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yw=new WeakMap,iy=new WeakMap,_w=new WeakMap,Cg=new WeakMap,Qy=new WeakMap;function uM(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{e(ua(n.result)),r()},l=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",l)});return t.then(e=>{e instanceof IDBCursor&&yw.set(e,n)}).catch(()=>{}),Qy.set(t,n),t}function hM(n){if(iy.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{e(),r()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});iy.set(n,t)}let sy={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return iy.get(n);if(t==="objectStoreNames")return n.objectStoreNames||_w.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ua(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function fM(n){sy=n(sy)}function dM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Ig(this),t,...e);return _w.set(i,t.sort?t.sort():[t]),ua(i)}:cM().includes(n)?function(...t){return n.apply(Ig(this),t),ua(yw.get(this))}:function(...t){return ua(n.apply(Ig(this),t))}}function mM(n){return typeof n=="function"?dM(n):(n instanceof IDBTransaction&&hM(n),oM(n,lM())?new Proxy(n,sy):n)}function ua(n){if(n instanceof IDBRequest)return uM(n);if(Cg.has(n))return Cg.get(n);const t=mM(n);return t!==n&&(Cg.set(n,t),Qy.set(t,n)),t}const Ig=n=>Qy.get(n);function pM(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const l=indexedDB.open(n,t),u=ua(l);return i&&l.addEventListener("upgradeneeded",f=>{i(ua(l.result),f.oldVersion,f.newVersion,ua(l.transaction),f)}),e&&l.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const gM=["get","getKey","getAll","getAllKeys","count"],yM=["put","add","delete","clear"],Dg=new Map;function WE(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Dg.get(t))return Dg.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=yM.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||gM.includes(e)))return;const o=async function(l,...u){const f=this.transaction(l,r?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(u.shift())),(await Promise.all([d[e](...u),r&&f.done]))[0]};return Dg.set(t,o),o}fM(n=>({...n,get:(t,e,i)=>WE(t,e)||n.get(t,e,i),has:(t,e)=>!!WE(t,e)||n.has(t,e)}));class _M{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(vM(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function vM(n){return n.getComponent()?.type==="VERSION"}const ry="@firebase/app",$E="0.14.6";const dr=new Xy("@firebase/app"),bM="@firebase/app-compat",EM="@firebase/analytics-compat",TM="@firebase/analytics",SM="@firebase/app-check-compat",xM="@firebase/app-check",wM="@firebase/auth",AM="@firebase/auth-compat",RM="@firebase/database",CM="@firebase/data-connect",IM="@firebase/database-compat",DM="@firebase/functions",MM="@firebase/functions-compat",OM="@firebase/installations",NM="@firebase/installations-compat",kM="@firebase/messaging",PM="@firebase/messaging-compat",LM="@firebase/performance",VM="@firebase/performance-compat",zM="@firebase/remote-config",jM="@firebase/remote-config-compat",UM="@firebase/storage",BM="@firebase/storage-compat",FM="@firebase/firestore",HM="@firebase/ai",qM="@firebase/firestore-compat",GM="firebase",YM="12.6.0";const ay="[DEFAULT]",WM={[ry]:"fire-core",[bM]:"fire-core-compat",[TM]:"fire-analytics",[EM]:"fire-analytics-compat",[xM]:"fire-app-check",[SM]:"fire-app-check-compat",[wM]:"fire-auth",[AM]:"fire-auth-compat",[RM]:"fire-rtdb",[CM]:"fire-data-connect",[IM]:"fire-rtdb-compat",[DM]:"fire-fn",[MM]:"fire-fn-compat",[OM]:"fire-iid",[NM]:"fire-iid-compat",[kM]:"fire-fcm",[PM]:"fire-fcm-compat",[LM]:"fire-perf",[VM]:"fire-perf-compat",[zM]:"fire-rc",[jM]:"fire-rc-compat",[UM]:"fire-gcs",[BM]:"fire-gcs-compat",[FM]:"fire-fst",[qM]:"fire-fst-compat",[HM]:"fire-vertex","fire-js":"fire-js",[GM]:"fire-js-all"};const _d=new Map,$M=new Map,oy=new Map;function KE(n,t){try{n.container.addComponent(t)}catch(e){dr.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function kl(n){const t=n.name;if(oy.has(t))return dr.debug(`There were multiple attempts to register component ${t}.`),!1;oy.set(t,n);for(const e of _d.values())KE(e,n);for(const e of $M.values())KE(e,n);return!0}function Jy(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Ci(n){return n==null?!1:n.settings!==void 0}const KM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ha=new Ju("app","Firebase",KM);class XM{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new So("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ha.create("app-deleted",{appName:this._name})}}const Kl=YM;function vw(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:ay,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw ha.create("bad-app-name",{appName:String(r)});if(e||(e=dw()),!e)throw ha.create("no-options");const o=_d.get(r);if(o){if(To(e,o.options)&&To(i,o.config))return o;throw ha.create("duplicate-app",{appName:r})}const l=new nM(r);for(const f of oy.values())l.addComponent(f);const u=new XM(e,i,l);return _d.set(r,u),u}function bw(n=ay){const t=_d.get(n);if(!t&&n===ay&&dw())return vw();if(!t)throw ha.create("no-app",{appName:n});return t}function fa(n,t,e){let i=WM[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const l=[`Unable to register library "${i}" with version "${t}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),dr.warn(l.join(" "));return}kl(new So(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const QM="firebase-heartbeat-database",JM=1,Iu="firebase-heartbeat-store";let Mg=null;function Ew(){return Mg||(Mg=pM(QM,JM,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Iu)}catch(e){console.warn(e)}}}}).catch(n=>{throw ha.create("idb-open",{originalErrorMessage:n.message})})),Mg}async function ZM(n){try{const e=(await Ew()).transaction(Iu),i=await e.objectStore(Iu).get(Tw(n));return await e.done,i}catch(t){if(t instanceof _r)dr.warn(t.message);else{const e=ha.create("idb-get",{originalErrorMessage:t?.message});dr.warn(e.message)}}}async function XE(n,t){try{const i=(await Ew()).transaction(Iu,"readwrite");await i.objectStore(Iu).put(t,Tw(n)),await i.done}catch(e){if(e instanceof _r)dr.warn(e.message);else{const i=ha.create("idb-set",{originalErrorMessage:e?.message});dr.warn(i.message)}}}function Tw(n){return`${n.name}!${n.options.appId}`}const tO=1024,eO=30;class nO{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new sO(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=QE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>eO){const r=rO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){dr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=QE(),{heartbeatsToSend:e,unsentEntries:i}=iO(this._heartbeatsCache.heartbeats),r=yd(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return dr.warn(t),""}}}function QE(){return new Date().toISOString().substring(0,10)}function iO(n,t=tO){const e=[];let i=n.slice();for(const r of n){const o=e.find(l=>l.agent===r.agent);if(o){if(o.dates.push(r.date),JE(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),JE(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class sO{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qD()?GD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await ZM(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return XE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return XE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function JE(n){return yd(JSON.stringify({version:2,heartbeats:n})).length}function rO(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function aO(n){kl(new So("platform-logger",t=>new _M(t),"PRIVATE")),kl(new So("heartbeat",t=>new nO(t),"PRIVATE")),fa(ry,$E,n),fa(ry,$E,"esm2020"),fa("fire-js","")}aO("");function Sw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oO=Sw,xw=new Ju("auth","Firebase",Sw());const vd=new Xy("@firebase/auth");function lO(n,...t){vd.logLevel<=Ht.WARN&&vd.warn(`Auth (${Kl}): ${n}`,...t)}function sd(n,...t){vd.logLevel<=Ht.ERROR&&vd.error(`Auth (${Kl}): ${n}`,...t)}function Xi(n,...t){throw Zy(n,...t)}function xs(n,...t){return Zy(n,...t)}function ww(n,t,e){const i={...oO(),[t]:e};return new Ju("auth","Firebase",i).create(t,{appName:n.name})}function hr(n){return ww(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zy(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return xw.create(n,...t)}function At(n,t,...e){if(!n)throw Zy(t,...e)}function rr(n){const t="INTERNAL ASSERTION FAILED: "+n;throw sd(t),new Error(t)}function mr(n,t){n||rr(t)}function ly(){return typeof self<"u"&&self.location?.href||""}function cO(){return ZE()==="http:"||ZE()==="https:"}function ZE(){return typeof self<"u"&&self.location?.protocol||null}function uO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cO()||UD()||"connection"in navigator)?navigator.onLine:!0}function hO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class th{constructor(t,e){this.shortDelay=t,this.longDelay=e,mr(e>t,"Short delay should be less than long delay!"),this.isMobile=VD()||BD()}get(){return uO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function t_(n,t){mr(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class Aw{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const dO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mO=new th(3e4,6e4);function Ra(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Ca(n,t,e,i,r={}){return Rw(n,r,async()=>{let o={},l={};i&&(t==="GET"?l=i:o={body:JSON.stringify(i)});const u=Zu({key:n.config.apiKey,...l}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:t,headers:f,...o};return jD()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&$l(n.emulatorConfig.host)&&(d.credentials="include"),Aw.fetch()(await Cw(n,n.config.apiHost,e,u),d)})}async function Rw(n,t,e){n._canInitEmulator=!1;const i={...fO,...t};try{const r=new gO(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Vf(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[f,d]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vf(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Vf(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw Vf(n,"user-disabled",l);const g=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw ww(n,g,d);Xi(n,g)}}catch(r){if(r instanceof _r)throw r;Xi(n,"network-request-failed",{message:String(r)})}}async function eh(n,t,e,i,r={}){const o=await Ca(n,t,e,i,r);return"mfaPendingCredential"in o&&Xi(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function Cw(n,t,e,i){const r=`${t}${e}?${i}`,o=n,l=o.config.emulator?t_(n.config,r):`${n.config.apiScheme}://${r}`;return dO.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function pO(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(xs(this.auth,"network-request-failed")),mO.get())})}}function Vf(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=xs(n,t,i);return r.customData._tokenResponse=e,r}function tT(n){return n!==void 0&&n.enterprise!==void 0}class yO{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return pO(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _O(n,t){return Ca(n,"GET","/v2/recaptchaConfig",Ra(n,t))}async function vO(n,t){return Ca(n,"POST","/v1/accounts:delete",t)}async function bd(n,t){return Ca(n,"POST","/v1/accounts:lookup",t)}function vu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function bO(n,t=!1){const e=en(n),i=await e.getIdToken(t),r=e_(i);At(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,l=o?.sign_in_provider;return{claims:r,token:i,authTime:vu(Og(r.auth_time)),issuedAtTime:vu(Og(r.iat)),expirationTime:vu(Og(r.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Og(n){return Number(n)*1e3}function e_(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return sd("JWT malformed, contained fewer than 3 sections"),null;try{const r=hw(e);return r?JSON.parse(r):(sd("Failed to decode base64 JWT payload"),null)}catch(r){return sd("Caught error parsing JWT payload as JSON",r?.toString()),null}}function eT(n){const t=e_(n);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Du(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof _r&&EO(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function EO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class TO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class cy{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=vu(this.lastLoginAt),this.creationTime=vu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ed(n){const t=n.auth,e=await n.getIdToken(),i=await Du(n,bd(t,{idToken:e}));At(i?.users.length,t,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?Iw(r.providerUserInfo):[],l=xO(n.providerData,o),u=n.isAnonymous,f=!(n.email&&r.passwordHash)&&!l?.length,d=u?f:!1,g={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new cy(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(n,g)}async function SO(n){const t=en(n);await Ed(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function xO(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function Iw(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function wO(n,t){const e=await Rw(n,{},async()=>{const i=Zu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,l=await Cw(n,r,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:i};return n.emulatorConfig&&$l(n.emulatorConfig.host)&&(f.credentials="include"),Aw.fetch()(l,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function AO(n,t){return Ca(n,"POST","/v2/accounts:revokeToken",Ra(n,t))}class Il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):eT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){At(t.length!==0,"internal-error");const e=eT(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await wO(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,l=new Il;return i&&(At(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),r&&(At(typeof r=="string","internal-error",{appName:t}),l.accessToken=r),o&&(At(typeof o=="number","internal-error",{appName:t}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Il,this.toJSON())}_performRefresh(){return rr("not implemented")}}function Zr(n,t){At(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Yi{constructor({uid:t,auth:e,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new TO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new cy(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await Du(this,this.stsTokenManager.getToken(this.auth,t));return At(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return bO(this,t)}reload(){return SO(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Yi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Ed(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ci(this.auth.app))return Promise.reject(hr(this.auth));const t=await this.getIdToken();return await Du(this,vO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,r=e.email??void 0,o=e.phoneNumber??void 0,l=e.photoURL??void 0,u=e.tenantId??void 0,f=e._redirectEventId??void 0,d=e.createdAt??void 0,g=e.lastLoginAt??void 0,{uid:y,emailVerified:v,isAnonymous:T,providerData:x,stsTokenManager:A}=e;At(y&&A,t,"internal-error");const w=Il.fromJSON(this.name,A);At(typeof y=="string",t,"internal-error"),Zr(i,t.name),Zr(r,t.name),At(typeof v=="boolean",t,"internal-error"),At(typeof T=="boolean",t,"internal-error"),Zr(o,t.name),Zr(l,t.name),Zr(u,t.name),Zr(f,t.name),Zr(d,t.name),Zr(g,t.name);const O=new Yi({uid:y,auth:t,email:r,emailVerified:v,displayName:i,isAnonymous:T,photoURL:l,phoneNumber:o,tenantId:u,stsTokenManager:w,createdAt:d,lastLoginAt:g});return x&&Array.isArray(x)&&(O.providerData=x.map(V=>({...V}))),f&&(O._redirectEventId=f),O}static async _fromIdTokenResponse(t,e,i=!1){const r=new Il;r.updateFromServerResponse(e);const o=new Yi({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Ed(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];At(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?Iw(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!o?.length,u=new Il;u.updateFromIdToken(i);const f=new Yi({uid:r.localId,auth:t,stsTokenManager:u,isAnonymous:l}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new cy(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(f,d),f}}const nT=new Map;function ar(n){mr(n instanceof Function,"Expected a class definition");let t=nT.get(n);return t?(mr(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,nT.set(n,t),t)}class Dw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Dw.type="NONE";const iT=Dw;function rd(n,t,e){return`firebase:${n}:${t}:${e}`}class Dl{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=rd(this.userKey,r.apiKey,o),this.fullPersistenceKey=rd("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await bd(this.auth,{idToken:t}).catch(()=>{});return e?Yi._fromGetAccountInfoResponse(this.auth,e,t):null}return Yi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Dl(ar(iT),t,i);const r=(await Promise.all(e.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=r[0]||ar(iT);const l=rd(i,t.config.apiKey,t.name);let u=null;for(const d of e)try{const g=await d._get(l);if(g){let y;if(typeof g=="string"){const v=await bd(t,{idToken:g}).catch(()=>{});if(!v)break;y=await Yi._fromGetAccountInfoResponse(t,v,g)}else y=Yi._fromJSON(t,g);d!==o&&(u=y),o=d;break}}catch{}const f=r.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Dl(o,t,i):(o=f[0],u&&await o._set(l,u.toJSON()),await Promise.all(e.map(async d=>{if(d!==o)try{await d._remove(l)}catch{}})),new Dl(o,t,i))}}function sT(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(kw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Mw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Lw(t))return"Blackberry";if(Vw(t))return"Webos";if(Ow(t))return"Safari";if((t.includes("chrome/")||Nw(t))&&!t.includes("edge/"))return"Chrome";if(Pw(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function Mw(n=Dn()){return/firefox\//i.test(n)}function Ow(n=Dn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Nw(n=Dn()){return/crios\//i.test(n)}function kw(n=Dn()){return/iemobile/i.test(n)}function Pw(n=Dn()){return/android/i.test(n)}function Lw(n=Dn()){return/blackberry/i.test(n)}function Vw(n=Dn()){return/webos/i.test(n)}function n_(n=Dn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function RO(n=Dn()){return n_(n)&&!!window.navigator?.standalone}function CO(){return FD()&&document.documentMode===10}function zw(n=Dn()){return n_(n)||Pw(n)||Vw(n)||Lw(n)||/windows phone/i.test(n)||kw(n)}function jw(n,t=[]){let e;switch(n){case"Browser":e=sT(Dn());break;case"Worker":e=`${sT(Dn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Kl}/${i}`}class IO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((l,u)=>{try{const f=t(o);l(f)}catch(f){u(f)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function DO(n,t={}){return Ca(n,"GET","/v2/passwordPolicy",Ra(n,t))}const MO=6;class OO{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??MO,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class NO{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rT(this),this.idTokenSubscription=new rT(this),this.beforeStateQueue=new IO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ar(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Dl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await bd(this,{idToken:t}),i=await Yi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ci(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=i?._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===l)&&u?.user&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Ed(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=hO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ci(this.app))return Promise.reject(hr(this));const e=t?en(t):null;return e&&At(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ci(this.app)?Promise.reject(hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ci(this.app)?Promise.reject(hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await DO(this),e=new OO(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ju("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await AO(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ar(t)||this._popupRedirectResolver;At(e,this,"argument-error"),this.redirectPersistenceManager=await Dl.create(this,[ar(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,r);return()=>{l=!0,f()}}else{const f=t.addObserver(e);return()=>{l=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=jw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(Ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&lO(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Mo(n){return en(n)}class rT{constructor(t){this.auth=t,this.observer=null,this.addObserver=XD(e=>this.observer=e)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Yd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kO(n){Yd=n}function Uw(n){return Yd.loadJS(n)}function PO(){return Yd.recaptchaEnterpriseScript}function LO(){return Yd.gapiScript}function VO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class zO{constructor(){this.enterprise=new jO}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class jO{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const UO="recaptcha-enterprise",Bw="NO_RECAPTCHA";class BO{constructor(t){this.type=UO,this.auth=Mo(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{_O(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new yO(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,l(d.siteKey)}}).catch(f=>{u(f)})})}function r(o,l,u){const f=window.grecaptcha;tT(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(d=>{l(d)}).catch(()=>{l(Bw)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zO().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{i(this.auth).then(u=>{if(!e&&tT(window.grecaptcha))r(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=PO();f.length!==0&&(f+=u),Uw(f).then(()=>{r(u,o,l)}).catch(d=>{l(d)})}}).catch(u=>{l(u)})})}}async function aT(n,t,e,i=!1,r=!1){const o=new BO(n);let l;if(r)l=Bw;else try{l=await o.verify(e)}catch{l=await o.verify(e,!0)}const u={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function uy(n,t,e,i,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await aT(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await aT(n,t,e,e==="getOobCode");return i(n,l)}else return Promise.reject(o)})}function FO(n,t){const e=Jy(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(To(o,t??{}))return r;Xi(r,"already-initialized")}return e.initialize({options:t})}function HO(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(ar);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function qO(n,t,e){const i=Mo(n);At(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=Fw(t),{host:l,port:u}=GO(t),f=u===null?"":`:${u}`,d={url:`${o}//${l}${f}/`},g=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){At(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),At(To(d,i.config.emulator)&&To(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,$l(l)?(pw(`${o}//${l}${f}`),gw("Auth",!0)):YO()}function Fw(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function GO(n){const t=Fw(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:oT(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:oT(l)}}}function oT(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function YO(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class i_{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return rr("not implemented")}_getIdTokenResponse(t){return rr("not implemented")}_linkToIdToken(t,e){return rr("not implemented")}_getReauthenticationResolver(t){return rr("not implemented")}}async function WO(n,t){return Ca(n,"POST","/v1/accounts:signUp",t)}async function $O(n,t){return eh(n,"POST","/v1/accounts:signInWithPassword",Ra(n,t))}async function KO(n,t){return eh(n,"POST","/v1/accounts:signInWithEmailLink",Ra(n,t))}async function XO(n,t){return eh(n,"POST","/v1/accounts:signInWithEmailLink",Ra(n,t))}class Mu extends i_{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Mu(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Mu(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uy(t,e,"signInWithPassword",$O);case"emailLink":return KO(t,{email:this._email,oobCode:this._password});default:Xi(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uy(t,i,"signUpPassword",WO);case"emailLink":return XO(t,{idToken:e,email:this._email,oobCode:this._password});default:Xi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Ml(n,t){return eh(n,"POST","/v1/accounts:signInWithIdp",Ra(n,t))}const QO="http://localhost";class xo extends i_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new xo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Xi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...o}=e;if(!i||!r)return null;const l=new xo(i,r);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(t){const e=this.buildRequest();return Ml(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Ml(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Ml(t,e)}buildRequest(){const t={requestUri:QO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Zu(e)}return t}}function JO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZO(n){const t=lu(cu(n)).link,e=t?lu(cu(t)).deep_link_id:null,i=lu(cu(n)).deep_link_id;return(i?lu(cu(i)).link:null)||i||e||t||n}class s_{constructor(t){const e=lu(cu(t)),i=e.apiKey??null,r=e.oobCode??null,o=JO(e.mode??null);At(i&&r&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=r,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=ZO(t);try{return new s_(e)}catch{return null}}}class Xl{constructor(){this.providerId=Xl.PROVIDER_ID}static credential(t,e){return Mu._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=s_.parseLink(e);return At(i,"argument-error"),Mu._fromEmailAndCode(t,i.code,i.tenantId)}}Xl.PROVIDER_ID="password";Xl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Hw{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class nh extends Hw{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ta extends nh{constructor(){super("facebook.com")}static credential(t){return xo._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ta.credentialFromTaggedObject(t)}static credentialFromError(t){return ta.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ta.credential(t.oauthAccessToken)}catch{return null}}}ta.FACEBOOK_SIGN_IN_METHOD="facebook.com";ta.PROVIDER_ID="facebook.com";class ea extends nh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return xo._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return ea.credentialFromTaggedObject(t)}static credentialFromError(t){return ea.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return ea.credential(e,i)}catch{return null}}}ea.GOOGLE_SIGN_IN_METHOD="google.com";ea.PROVIDER_ID="google.com";class na extends nh{constructor(){super("github.com")}static credential(t){return xo._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return na.credentialFromTaggedObject(t)}static credentialFromError(t){return na.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return na.credential(t.oauthAccessToken)}catch{return null}}}na.GITHUB_SIGN_IN_METHOD="github.com";na.PROVIDER_ID="github.com";class ia extends nh{constructor(){super("twitter.com")}static credential(t,e){return xo._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return ia.credentialFromTaggedObject(t)}static credentialFromError(t){return ia.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return ia.credential(e,i)}catch{return null}}}ia.TWITTER_SIGN_IN_METHOD="twitter.com";ia.PROVIDER_ID="twitter.com";async function tN(n,t){return eh(n,"POST","/v1/accounts:signUp",Ra(n,t))}class wo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await Yi._fromIdTokenResponse(t,i,r),l=lT(i);return new wo({user:o,providerId:l,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=lT(i);return new wo({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function lT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Td extends _r{constructor(t,e,i,r){super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Td.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new Td(t,e,i,r)}}function qw(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Td._fromErrorAndOperation(n,o,t,i):o})}async function eN(n,t,e=!1){const i=await Du(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return wo._forOperation(n,"link",i)}async function nN(n,t,e=!1){const{auth:i}=n;if(Ci(i.app))return Promise.reject(hr(i));const r="reauthenticate";try{const o=await Du(n,qw(i,r,t,n),e);At(o.idToken,i,"internal-error");const l=e_(o.idToken);At(l,i,"internal-error");const{sub:u}=l;return At(n.uid===u,i,"user-mismatch"),wo._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Xi(i,"user-mismatch"),o}}async function Gw(n,t,e=!1){if(Ci(n.app))return Promise.reject(hr(n));const i="signIn",r=await qw(n,i,t),o=await wo._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function iN(n,t){return Gw(Mo(n),t)}async function Yw(n){const t=Mo(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function sN(n,t,e){if(Ci(n.app))return Promise.reject(hr(n));const i=Mo(n),l=await uy(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tN).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Yw(n),f}),u=await wo._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(u.user),u}function cT(n,t,e){return Ci(n.app)?Promise.reject(hr(n)):iN(en(n),Xl.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Yw(n),i})}function rN(n,t,e,i){return en(n).onIdTokenChanged(t,e,i)}function aN(n,t,e){return en(n).beforeAuthStateChanged(t,e)}const Sd="__sak";class Ww{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Sd,"1"),this.storage.removeItem(Sd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const oN=1e3,lN=10;class $w extends Ww{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!e&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);CO()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,lN):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},oN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}$w.type="LOCAL";const cN=$w;class Kw extends Ww{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Kw.type="SESSION";const Xw=Kw;function uN(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class Wd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new Wd(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,l=this.handlersMap[r];if(!l?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(l).map(async d=>d(e.origin,o)),f=await uN(u);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wd.receivers=[];function r_(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}class hN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,l;return new Promise((u,f)=>{const d=r_("",20);r.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(y){const v=y;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(v.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:d,data:e},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function ws(){return window}function fN(n){ws().location.href=n}function Qw(){return typeof ws().WorkerGlobalScope<"u"&&typeof ws().importScripts=="function"}async function dN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mN(){return navigator?.serviceWorker?.controller||null}function pN(){return Qw()?self:null}const Jw="firebaseLocalStorageDb",gN=1,xd="firebaseLocalStorage",Zw="fbase_key";class ih{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function $d(n,t){return n.transaction([xd],t?"readwrite":"readonly").objectStore(xd)}function yN(){const n=indexedDB.deleteDatabase(Jw);return new ih(n).toPromise()}function hy(){const n=indexedDB.open(Jw,gN);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(xd,{keyPath:Zw})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(xd)?t(i):(i.close(),await yN(),t(await hy()))})})}async function uT(n,t,e){const i=$d(n,!0).put({[Zw]:t,value:e});return new ih(i).toPromise()}async function _N(n,t){const e=$d(n,!1).get(t),i=await new ih(e).toPromise();return i===void 0?null:i.value}function hT(n,t){const e=$d(n,!0).delete(t);return new ih(e).toPromise()}const vN=800,bN=3;class t1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hy(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>bN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Qw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wd._getInstance(pN()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await dN(),!this.activeServiceWorker)return;this.sender=new hN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||mN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await hy();return await uT(t,Sd,"1"),await hT(t,Sd),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>uT(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>_N(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>hT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=$d(r,!1).getAll();return new ih(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}t1.type="LOCAL";const EN=t1;new th(3e4,6e4);function TN(n,t){return t?ar(t):(At(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class a_ extends i_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ml(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Ml(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Ml(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function SN(n){return Gw(n.auth,new a_(n),n.bypassAuthState)}function xN(n){const{auth:t,user:e}=n;return At(e,t,"internal-error"),nN(e,new a_(n),n.bypassAuthState)}async function wN(n){const{auth:t,user:e}=n;return At(e,t,"internal-error"),eN(e,new a_(n),n.bypassAuthState)}class e1{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:l,type:u}=t;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return SN;case"linkViaPopup":case"linkViaRedirect":return wN;case"reauthViaPopup":case"reauthViaRedirect":return xN;default:Xi(this.auth,"internal-error")}}resolve(t){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const AN=new th(2e3,1e4);class Cl extends e1{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Cl.currentPopupAction&&Cl.currentPopupAction.cancel(),Cl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){mr(this.filter.length===1,"Popup operations only handle one event");const t=r_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(xs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cl.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,AN.get())};t()}}Cl.currentPopupAction=null;const RN="pendingRedirect",ad=new Map;class CN extends e1{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=ad.get(this.auth._key());if(!t){try{const i=await IN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}ad.set(this.auth._key(),t)}return this.bypassAuthState||ad.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IN(n,t){const e=ON(t),i=MN(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function DN(n,t){ad.set(n._key(),t)}function MN(n){return ar(n._redirectPersistence)}function ON(n){return rd(RN,n.config.apiKey,n.name)}async function NN(n,t,e=!1){if(Ci(n.app))return Promise.reject(hr(n));const i=Mo(n),r=TN(i,t),l=await new CN(i,r,e).execute();return l&&!e&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}const kN=600*1e3;class PN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!LN(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!n1(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(xs(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=kN&&this.cachedEventUids.clear(),this.cachedEventUids.has(fT(t))}saveEventToCache(t){this.cachedEventUids.add(fT(t)),this.lastProcessedEventTime=Date.now()}}function fT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function n1({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function LN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return n1(n);default:return!1}}async function VN(n,t={}){return Ca(n,"GET","/v1/projects",t)}const zN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jN=/^https?/;async function UN(n){if(n.config.emulator)return;const{authorizedDomains:t}=await VN(n);for(const e of t)try{if(BN(e))return}catch{}Xi(n,"unauthorized-domain")}function BN(n){const t=ly(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&l.hostname===i}if(!jN.test(e))return!1;if(zN.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const FN=new th(3e4,6e4);function dT(){const n=ws().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function HN(n){return new Promise((t,e)=>{function i(){dT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{dT(),e(xs(n,"network-request-failed"))},timeout:FN.get()})}if(ws().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ws().gapi?.load)i();else{const r=VO("iframefcb");return ws()[r]=()=>{gapi.load?i():e(xs(n,"network-request-failed"))},Uw(`${LO()}?onload=${r}`).catch(o=>e(o))}}).catch(t=>{throw od=null,t})}let od=null;function qN(n){return od=od||HN(n),od}const GN=new th(5e3,15e3),YN="__/auth/iframe",WN="emulator/auth/iframe",$N={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XN(n){const t=n.config;At(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?t_(t,WN):`https://${n.config.authDomain}/${YN}`,i={apiKey:t.apiKey,appName:n.name,v:Kl},r=KN.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${Zu(i).slice(1)}`}async function QN(n){const t=await qN(n),e=ws().gapi;return At(e,n,"internal-error"),t.open({where:document.body,url:XN(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$N,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const l=xs(n,"network-request-failed"),u=ws().setTimeout(()=>{o(l)},GN.get());function f(){ws().clearTimeout(u),r(i)}i.ping(f).then(f,()=>{o(l)})}))}const JN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZN=500,tk=600,ek="_blank",nk="http://localhost";class mT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ik(n,t,e,i=ZN,r=tk){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const f={...JN,width:i.toString(),height:r.toString(),top:o,left:l},d=Dn().toLowerCase();e&&(u=Nw(d)?ek:e),Mw(d)&&(t=t||nk,f.scrollbars="yes");const g=Object.entries(f).reduce((v,[T,x])=>`${v}${T}=${x},`,"");if(RO(d)&&u!=="_self")return sk(t||"",u),new mT(null);const y=window.open(t||"",u,g);At(y,n,"popup-blocked");try{y.focus()}catch{}return new mT(y)}function sk(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}const rk="__/auth/handler",ak="emulator/auth/handler",ok=encodeURIComponent("fac");async function pT(n,t,e,i,r,o){At(n.config.authDomain,n,"auth-domain-config-required"),At(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Kl,eventId:r};if(t instanceof Hw){t.setDefaultLanguage(n.languageCode),l.providerId=t.providerId||"",KD(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[g,y]of Object.entries({}))l[g]=y}if(t instanceof nh){const g=t.getScopes().filter(y=>y!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const f=await n._getAppCheckToken(),d=f?`#${ok}=${encodeURIComponent(f)}`:"";return`${lk(n)}?${Zu(u).slice(1)}${d}`}function lk({config:n}){return n.emulator?t_(n,ak):`https://${n.authDomain}/${rk}`}const Ng="webStorageSupport";class ck{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xw,this._completeRedirectFn=NN,this._overrideRedirectResult=DN}async _openPopup(t,e,i,r){mr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await pT(t,e,i,ly(),r);return ik(t,o,r_())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await pT(t,e,i,ly(),r);return fN(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(mr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await QN(t),i=new PN(t);return e.register("authEvent",r=>(At(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Ng,{type:Ng},r=>{const o=r?.[0]?.[Ng];o!==void 0&&e(!!o),Xi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=UN(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return zw()||Ow()||n_()}}const uk=ck;var gT="@firebase/auth",yT="1.11.1";class hk{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dk(n){kl(new So("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;At(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jw(n)},d=new NO(i,r,o,f);return HO(d,e),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),kl(new So("auth-internal",t=>{const e=Mo(t.getProvider("auth").getImmediate());return(i=>new hk(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),fa(gT,yT,fk(n)),fa(gT,yT,"esm2020")}const mk=300,pk=mw("authIdTokenMaxAge")||mk;let _T=null;const gk=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>pk)return;const r=e?.token;_T!==r&&(_T=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function yk(n=bw()){const t=Jy(n,"auth");if(t.isInitialized())return t.getImmediate();const e=FO(n,{popupRedirectResolver:uk,persistence:[EN,cN,Xw]}),i=mw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=gk(o.toString());aN(e,l,()=>l(e.currentUser)),rN(e,u=>l(u))}}const r=fw("auth");return r&&qO(e,`http://${r}`),e}function _k(){return document.getElementsByTagName("head")?.[0]??document}kO({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=xs("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",_k().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dk("Browser");var vk="firebase",bk="12.6.0";fa(vk,bk,"app");var vT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var da,i1;(function(){var n;function t(I,R){function M(){}M.prototype=R.prototype,I.F=R.prototype,I.prototype=new M,I.prototype.constructor=I,I.D=function(L,P,z){for(var k=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)k[lt-2]=arguments[lt];return R.prototype[P].apply(L,k)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(I,R,M){M||(M=0);const L=Array(16);if(typeof R=="string")for(var P=0;P<16;++P)L[P]=R.charCodeAt(M++)|R.charCodeAt(M++)<<8|R.charCodeAt(M++)<<16|R.charCodeAt(M++)<<24;else for(P=0;P<16;++P)L[P]=R[M++]|R[M++]<<8|R[M++]<<16|R[M++]<<24;R=I.g[0],M=I.g[1],P=I.g[2];let z=I.g[3],k;k=R+(z^M&(P^z))+L[0]+3614090360&4294967295,R=M+(k<<7&4294967295|k>>>25),k=z+(P^R&(M^P))+L[1]+3905402710&4294967295,z=R+(k<<12&4294967295|k>>>20),k=P+(M^z&(R^M))+L[2]+606105819&4294967295,P=z+(k<<17&4294967295|k>>>15),k=M+(R^P&(z^R))+L[3]+3250441966&4294967295,M=P+(k<<22&4294967295|k>>>10),k=R+(z^M&(P^z))+L[4]+4118548399&4294967295,R=M+(k<<7&4294967295|k>>>25),k=z+(P^R&(M^P))+L[5]+1200080426&4294967295,z=R+(k<<12&4294967295|k>>>20),k=P+(M^z&(R^M))+L[6]+2821735955&4294967295,P=z+(k<<17&4294967295|k>>>15),k=M+(R^P&(z^R))+L[7]+4249261313&4294967295,M=P+(k<<22&4294967295|k>>>10),k=R+(z^M&(P^z))+L[8]+1770035416&4294967295,R=M+(k<<7&4294967295|k>>>25),k=z+(P^R&(M^P))+L[9]+2336552879&4294967295,z=R+(k<<12&4294967295|k>>>20),k=P+(M^z&(R^M))+L[10]+4294925233&4294967295,P=z+(k<<17&4294967295|k>>>15),k=M+(R^P&(z^R))+L[11]+2304563134&4294967295,M=P+(k<<22&4294967295|k>>>10),k=R+(z^M&(P^z))+L[12]+1804603682&4294967295,R=M+(k<<7&4294967295|k>>>25),k=z+(P^R&(M^P))+L[13]+4254626195&4294967295,z=R+(k<<12&4294967295|k>>>20),k=P+(M^z&(R^M))+L[14]+2792965006&4294967295,P=z+(k<<17&4294967295|k>>>15),k=M+(R^P&(z^R))+L[15]+1236535329&4294967295,M=P+(k<<22&4294967295|k>>>10),k=R+(P^z&(M^P))+L[1]+4129170786&4294967295,R=M+(k<<5&4294967295|k>>>27),k=z+(M^P&(R^M))+L[6]+3225465664&4294967295,z=R+(k<<9&4294967295|k>>>23),k=P+(R^M&(z^R))+L[11]+643717713&4294967295,P=z+(k<<14&4294967295|k>>>18),k=M+(z^R&(P^z))+L[0]+3921069994&4294967295,M=P+(k<<20&4294967295|k>>>12),k=R+(P^z&(M^P))+L[5]+3593408605&4294967295,R=M+(k<<5&4294967295|k>>>27),k=z+(M^P&(R^M))+L[10]+38016083&4294967295,z=R+(k<<9&4294967295|k>>>23),k=P+(R^M&(z^R))+L[15]+3634488961&4294967295,P=z+(k<<14&4294967295|k>>>18),k=M+(z^R&(P^z))+L[4]+3889429448&4294967295,M=P+(k<<20&4294967295|k>>>12),k=R+(P^z&(M^P))+L[9]+568446438&4294967295,R=M+(k<<5&4294967295|k>>>27),k=z+(M^P&(R^M))+L[14]+3275163606&4294967295,z=R+(k<<9&4294967295|k>>>23),k=P+(R^M&(z^R))+L[3]+4107603335&4294967295,P=z+(k<<14&4294967295|k>>>18),k=M+(z^R&(P^z))+L[8]+1163531501&4294967295,M=P+(k<<20&4294967295|k>>>12),k=R+(P^z&(M^P))+L[13]+2850285829&4294967295,R=M+(k<<5&4294967295|k>>>27),k=z+(M^P&(R^M))+L[2]+4243563512&4294967295,z=R+(k<<9&4294967295|k>>>23),k=P+(R^M&(z^R))+L[7]+1735328473&4294967295,P=z+(k<<14&4294967295|k>>>18),k=M+(z^R&(P^z))+L[12]+2368359562&4294967295,M=P+(k<<20&4294967295|k>>>12),k=R+(M^P^z)+L[5]+4294588738&4294967295,R=M+(k<<4&4294967295|k>>>28),k=z+(R^M^P)+L[8]+2272392833&4294967295,z=R+(k<<11&4294967295|k>>>21),k=P+(z^R^M)+L[11]+1839030562&4294967295,P=z+(k<<16&4294967295|k>>>16),k=M+(P^z^R)+L[14]+4259657740&4294967295,M=P+(k<<23&4294967295|k>>>9),k=R+(M^P^z)+L[1]+2763975236&4294967295,R=M+(k<<4&4294967295|k>>>28),k=z+(R^M^P)+L[4]+1272893353&4294967295,z=R+(k<<11&4294967295|k>>>21),k=P+(z^R^M)+L[7]+4139469664&4294967295,P=z+(k<<16&4294967295|k>>>16),k=M+(P^z^R)+L[10]+3200236656&4294967295,M=P+(k<<23&4294967295|k>>>9),k=R+(M^P^z)+L[13]+681279174&4294967295,R=M+(k<<4&4294967295|k>>>28),k=z+(R^M^P)+L[0]+3936430074&4294967295,z=R+(k<<11&4294967295|k>>>21),k=P+(z^R^M)+L[3]+3572445317&4294967295,P=z+(k<<16&4294967295|k>>>16),k=M+(P^z^R)+L[6]+76029189&4294967295,M=P+(k<<23&4294967295|k>>>9),k=R+(M^P^z)+L[9]+3654602809&4294967295,R=M+(k<<4&4294967295|k>>>28),k=z+(R^M^P)+L[12]+3873151461&4294967295,z=R+(k<<11&4294967295|k>>>21),k=P+(z^R^M)+L[15]+530742520&4294967295,P=z+(k<<16&4294967295|k>>>16),k=M+(P^z^R)+L[2]+3299628645&4294967295,M=P+(k<<23&4294967295|k>>>9),k=R+(P^(M|~z))+L[0]+4096336452&4294967295,R=M+(k<<6&4294967295|k>>>26),k=z+(M^(R|~P))+L[7]+1126891415&4294967295,z=R+(k<<10&4294967295|k>>>22),k=P+(R^(z|~M))+L[14]+2878612391&4294967295,P=z+(k<<15&4294967295|k>>>17),k=M+(z^(P|~R))+L[5]+4237533241&4294967295,M=P+(k<<21&4294967295|k>>>11),k=R+(P^(M|~z))+L[12]+1700485571&4294967295,R=M+(k<<6&4294967295|k>>>26),k=z+(M^(R|~P))+L[3]+2399980690&4294967295,z=R+(k<<10&4294967295|k>>>22),k=P+(R^(z|~M))+L[10]+4293915773&4294967295,P=z+(k<<15&4294967295|k>>>17),k=M+(z^(P|~R))+L[1]+2240044497&4294967295,M=P+(k<<21&4294967295|k>>>11),k=R+(P^(M|~z))+L[8]+1873313359&4294967295,R=M+(k<<6&4294967295|k>>>26),k=z+(M^(R|~P))+L[15]+4264355552&4294967295,z=R+(k<<10&4294967295|k>>>22),k=P+(R^(z|~M))+L[6]+2734768916&4294967295,P=z+(k<<15&4294967295|k>>>17),k=M+(z^(P|~R))+L[13]+1309151649&4294967295,M=P+(k<<21&4294967295|k>>>11),k=R+(P^(M|~z))+L[4]+4149444226&4294967295,R=M+(k<<6&4294967295|k>>>26),k=z+(M^(R|~P))+L[11]+3174756917&4294967295,z=R+(k<<10&4294967295|k>>>22),k=P+(R^(z|~M))+L[2]+718787259&4294967295,P=z+(k<<15&4294967295|k>>>17),k=M+(z^(P|~R))+L[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(P+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+P&4294967295,I.g[3]=I.g[3]+z&4294967295}i.prototype.v=function(I,R){R===void 0&&(R=I.length);const M=R-this.blockSize,L=this.C;let P=this.h,z=0;for(;z<R;){if(P==0)for(;z<=M;)r(this,I,z),z+=this.blockSize;if(typeof I=="string"){for(;z<R;)if(L[P++]=I.charCodeAt(z++),P==this.blockSize){r(this,L),P=0;break}}else for(;z<R;)if(L[P++]=I[z++],P==this.blockSize){r(this,L),P=0;break}}this.h=P,this.o+=R},i.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var M=I.length-8;M<I.length;++M)I[M]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,M=0;M<4;++M)for(let L=0;L<32;L+=8)I[R++]=this.g[M]>>>L&255;return I};function o(I,R){var M=u;return Object.prototype.hasOwnProperty.call(M,I)?M[I]:M[I]=R(I)}function l(I,R){this.h=R;const M=[];let L=!0;for(let P=I.length-1;P>=0;P--){const z=I[P]|0;L&&z==R||(M[P]=z,L=!1)}this.g=M}var u={};function f(I){return-128<=I&&I<128?o(I,function(R){return new l([R|0],R<0?-1:0)}):new l([I|0],I<0?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return y;if(I<0)return w(d(-I));const R=[];let M=1;for(let L=0;I>=M;L++)R[L]=I/M|0,M*=4294967296;return new l(R,0)}function g(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return w(g(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=d(Math.pow(R,8));let L=y;for(let z=0;z<I.length;z+=8){var P=Math.min(8,I.length-z);const k=parseInt(I.substring(z,z+P),R);P<8?(P=d(Math.pow(R,P)),L=L.j(P).add(d(k))):(L=L.j(M),L=L.add(d(k)))}return L}var y=f(0),v=f(1),T=f(16777216);n=l.prototype,n.m=function(){if(A(this))return-w(this).m();let I=0,R=1;for(let M=0;M<this.g.length;M++){const L=this.i(M);I+=(L>=0?L:4294967296+L)*R,R*=4294967296}return I},n.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(x(this))return"0";if(A(this))return"-"+w(this).toString(I);const R=d(Math.pow(I,6));var M=this;let L="";for(;;){const P=$(M,R).g;M=O(M,P.j(R));let z=((M.g.length>0?M.g[0]:M.h)>>>0).toString(I);if(M=P,x(M))return z+L;for(;z.length<6;)z="0"+z;L=z+L}},n.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function x(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function A(I){return I.h==-1}n.l=function(I){return I=O(this,I),A(I)?-1:x(I)?0:1};function w(I){const R=I.g.length,M=[];for(let L=0;L<R;L++)M[L]=~I.g[L];return new l(M,~I.h).add(v)}n.abs=function(){return A(this)?w(this):this},n.add=function(I){const R=Math.max(this.g.length,I.g.length),M=[];let L=0;for(let P=0;P<=R;P++){let z=L+(this.i(P)&65535)+(I.i(P)&65535),k=(z>>>16)+(this.i(P)>>>16)+(I.i(P)>>>16);L=k>>>16,z&=65535,k&=65535,M[P]=k<<16|z}return new l(M,M[M.length-1]&-2147483648?-1:0)};function O(I,R){return I.add(w(R))}n.j=function(I){if(x(this)||x(I))return y;if(A(this))return A(I)?w(this).j(w(I)):w(w(this).j(I));if(A(I))return w(this.j(w(I)));if(this.l(T)<0&&I.l(T)<0)return d(this.m()*I.m());const R=this.g.length+I.g.length,M=[];for(var L=0;L<2*R;L++)M[L]=0;for(L=0;L<this.g.length;L++)for(let P=0;P<I.g.length;P++){const z=this.i(L)>>>16,k=this.i(L)&65535,lt=I.i(P)>>>16,ut=I.i(P)&65535;M[2*L+2*P]+=k*ut,V(M,2*L+2*P),M[2*L+2*P+1]+=z*ut,V(M,2*L+2*P+1),M[2*L+2*P+1]+=k*lt,V(M,2*L+2*P+1),M[2*L+2*P+2]+=z*lt,V(M,2*L+2*P+2)}for(I=0;I<R;I++)M[I]=M[2*I+1]<<16|M[2*I];for(I=R;I<2*R;I++)M[I]=0;return new l(M,0)};function V(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function j(I,R){this.g=I,this.h=R}function $(I,R){if(x(R))throw Error("division by zero");if(x(I))return new j(y,y);if(A(I))return R=$(w(I),R),new j(w(R.g),w(R.h));if(A(R))return R=$(I,w(R)),new j(w(R.g),R.h);if(I.g.length>30){if(A(I)||A(R))throw Error("slowDivide_ only works with positive integers.");for(var M=v,L=R;L.l(I)<=0;)M=B(M),L=B(L);var P=Y(M,1),z=Y(L,1);for(L=Y(L,2),M=Y(M,2);!x(L);){var k=z.add(L);k.l(I)<=0&&(P=P.add(M),z=k),L=Y(L,1),M=Y(M,1)}return R=O(I,P.j(R)),new j(P,R)}for(P=y;I.l(R)>=0;){for(M=Math.max(1,Math.floor(I.m()/R.m())),L=Math.ceil(Math.log(M)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),z=d(M),k=z.j(R);A(k)||k.l(I)>0;)M-=L,z=d(M),k=z.j(R);x(z)&&(z=v),P=P.add(z),I=O(I,k)}return new j(P,I)}n.B=function(I){return $(this,I).h},n.and=function(I){const R=Math.max(this.g.length,I.g.length),M=[];for(let L=0;L<R;L++)M[L]=this.i(L)&I.i(L);return new l(M,this.h&I.h)},n.or=function(I){const R=Math.max(this.g.length,I.g.length),M=[];for(let L=0;L<R;L++)M[L]=this.i(L)|I.i(L);return new l(M,this.h|I.h)},n.xor=function(I){const R=Math.max(this.g.length,I.g.length),M=[];for(let L=0;L<R;L++)M[L]=this.i(L)^I.i(L);return new l(M,this.h^I.h)};function B(I){const R=I.g.length+1,M=[];for(let L=0;L<R;L++)M[L]=I.i(L)<<1|I.i(L-1)>>>31;return new l(M,I.h)}function Y(I,R){const M=R>>5;R%=32;const L=I.g.length-M,P=[];for(let z=0;z<L;z++)P[z]=R>0?I.i(z+M)>>>R|I.i(z+M+1)<<32-R:I.i(z+M);return new l(P,I.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,i1=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=g,da=l}).apply(typeof vT<"u"?vT:typeof self<"u"?self:typeof window<"u"?window:{});var zf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var s1,uu,r1,ld,fy,a1,o1,l1;(function(){var n,t=Object.defineProperty;function e(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof zf=="object"&&zf];for(var b=0;b<m.length;++b){var S=m[b];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var i=e(this);function r(m,b){if(b)t:{var S=i;m=m.split(".");for(var N=0;N<m.length-1;N++){var K=m[N];if(!(K in S))break t;S=S[K]}m=m[m.length-1],N=S[m],b=b(N),b!=N&&b!=null&&t(S,m,{configurable:!0,writable:!0,value:b})}}r("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(m){return m||function(b){var S=[],N;for(N in b)Object.prototype.hasOwnProperty.call(b,N)&&S.push([N,b[N]]);return S}});var o=o||{},l=this||self;function u(m){var b=typeof m;return b=="object"&&m!=null||b=="function"}function f(m,b,S){return m.call.apply(m.bind,arguments)}function d(m,b,S){return d=f,d.apply(null,arguments)}function g(m,b){var S=Array.prototype.slice.call(arguments,1);return function(){var N=S.slice();return N.push.apply(N,arguments),m.apply(this,N)}}function y(m,b){function S(){}S.prototype=b.prototype,m.Z=b.prototype,m.prototype=new S,m.prototype.constructor=m,m.Ob=function(N,K,Z){for(var dt=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)dt[kt-2]=arguments[kt];return b.prototype[K].apply(N,dt)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function T(m){const b=m.length;if(b>0){const S=Array(b);for(let N=0;N<b;N++)S[N]=m[N];return S}return[]}function x(m,b){for(let N=1;N<arguments.length;N++){const K=arguments[N];var S=typeof K;if(S=S!="object"?S:K?Array.isArray(K)?"array":S:"null",S=="array"||S=="object"&&typeof K.length=="number"){S=m.length||0;const Z=K.length||0;m.length=S+Z;for(let dt=0;dt<Z;dt++)m[S+dt]=K[dt]}else m.push(K)}}class A{constructor(b,S){this.i=b,this.j=S,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function w(m){l.setTimeout(()=>{throw m},0)}function O(){var m=I;let b=null;return m.g&&(b=m.g,m.g=m.g.next,m.g||(m.h=null),b.next=null),b}class V{constructor(){this.h=this.g=null}add(b,S){const N=j.get();N.set(b,S),this.h?this.h.next=N:this.g=N,this.h=N}}var j=new A(()=>new $,m=>m.reset());class ${constructor(){this.next=this.g=this.h=null}set(b,S){this.h=b,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let B,Y=!1,I=new V,R=()=>{const m=Promise.resolve(void 0);B=()=>{m.then(M)}};function M(){for(var m;m=O();){try{m.h.call(m.g)}catch(S){w(S)}var b=j;b.j(m),b.h<100&&(b.h++,m.next=b.g,b.g=m)}Y=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(m,b){this.type=m,this.g=this.target=b,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,b=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const S=()=>{};l.addEventListener("test",S,b),l.removeEventListener("test",S,b)}catch{}return m})();function k(m){return/^[\s\xa0]*$/.test(m)}function lt(m,b){P.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,b)}y(lt,P),lt.prototype.init=function(m,b){const S=this.type=m.type,N=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=b,b=m.relatedTarget,b||(S=="mouseover"?b=m.fromElement:S=="mouseout"&&(b=m.toElement)),this.relatedTarget=b,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&lt.Z.h.call(this)},lt.prototype.h=function(){lt.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ut="closure_listenable_"+(Math.random()*1e6|0),q=0;function et(m,b,S,N,K){this.listener=m,this.proxy=null,this.src=b,this.type=S,this.capture=!!N,this.ha=K,this.key=++q,this.da=this.fa=!1}function ft(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function vt(m,b,S){for(const N in m)b.call(S,m[N],N,m)}function Ct(m,b){for(const S in m)b.call(void 0,m[S],S,m)}function F(m){const b={};for(const S in m)b[S]=m[S];return b}const nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(m,b){let S,N;for(let K=1;K<arguments.length;K++){N=arguments[K];for(S in N)m[S]=N[S];for(let Z=0;Z<nt.length;Z++)S=nt[Z],Object.prototype.hasOwnProperty.call(N,S)&&(m[S]=N[S])}}function ht(m){this.src=m,this.g={},this.h=0}ht.prototype.add=function(m,b,S,N,K){const Z=m.toString();m=this.g[Z],m||(m=this.g[Z]=[],this.h++);const dt=bt(m,b,N,K);return dt>-1?(b=m[dt],S||(b.fa=!1)):(b=new et(b,this.src,Z,!!N,K),b.fa=S,m.push(b)),b};function pt(m,b){const S=b.type;if(S in m.g){var N=m.g[S],K=Array.prototype.indexOf.call(N,b,void 0),Z;(Z=K>=0)&&Array.prototype.splice.call(N,K,1),Z&&(ft(b),m.g[S].length==0&&(delete m.g[S],m.h--))}}function bt(m,b,S,N){for(let K=0;K<m.length;++K){const Z=m[K];if(!Z.da&&Z.listener==b&&Z.capture==!!S&&Z.ha==N)return K}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Dt={};function Jt(m,b,S,N,K){if(Array.isArray(b)){for(let Z=0;Z<b.length;Z++)Jt(m,b[Z],S,N,K);return null}return S=Er(S),m&&m[ut]?m.J(b,S,u(N)?!!N.capture:!1,K):fi(m,b,S,!1,N,K)}function fi(m,b,S,N,K,Z){if(!b)throw Error("Invalid event type");const dt=u(K)?!!K.capture:!!K;let kt=Ji(m);if(kt||(m[Lt]=kt=new ht(m)),S=kt.add(b,S,N,dt,Z),S.proxy)return S;if(N=Di(),S.proxy=N,N.src=m,N.listener=S,m.addEventListener)z||(K=dt),K===void 0&&(K=!1),m.addEventListener(b.toString(),N,K);else if(m.attachEvent)m.attachEvent(Vn(b.toString()),N);else if(m.addListener&&m.removeListener)m.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Di(){function m(S){return b.call(m.src,m.listener,S)}const b=ka;return m}function Qn(m,b,S,N,K){if(Array.isArray(b))for(var Z=0;Z<b.length;Z++)Qn(m,b[Z],S,N,K);else N=u(N)?!!N.capture:!!N,S=Er(S),m&&m[ut]?(m=m.i,Z=String(b).toString(),Z in m.g&&(b=m.g[Z],S=bt(b,S,N,K),S>-1&&(ft(b[S]),Array.prototype.splice.call(b,S,1),b.length==0&&(delete m.g[Z],m.h--)))):m&&(m=Ji(m))&&(b=m.g[b.toString()],m=-1,b&&(m=bt(b,S,N,K)),(S=m>-1?b[m]:null)&&br(S))}function br(m){if(typeof m!="number"&&m&&!m.da){var b=m.src;if(b&&b[ut])pt(b.i,m);else{var S=m.type,N=m.proxy;b.removeEventListener?b.removeEventListener(S,N,m.capture):b.detachEvent?b.detachEvent(Vn(S),N):b.addListener&&b.removeListener&&b.removeListener(N),(S=Ji(b))?(pt(S,m),S.h==0&&(S.src=null,b[Lt]=null)):ft(m)}}}function Vn(m){return m in Dt?Dt[m]:Dt[m]="on"+m}function ka(m,b){if(m.da)m=!0;else{b=new lt(b,this);const S=m.listener,N=m.ha||m.src;m.fa&&br(m),m=S.call(N,b)}return m}function Ji(m){return m=m[Lt],m instanceof ht?m:null}var Mi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Er(m){return typeof m=="function"?m:(m[Mi]||(m[Mi]=function(b){return m.handleEvent(b)}),m[Mi])}function ee(){L.call(this),this.i=new ht(this),this.M=this,this.G=null}y(ee,L),ee.prototype[ut]=!0,ee.prototype.removeEventListener=function(m,b,S,N){Qn(this,m,b,S,N)};function Oe(m,b){var S,N=m.G;if(N)for(S=[];N;N=N.G)S.push(N);if(m=m.M,N=b.type||b,typeof b=="string")b=new P(b,m);else if(b instanceof P)b.target=b.target||m;else{var K=b;b=new P(N,m),at(b,K)}K=!0;let Z,dt;if(S)for(dt=S.length-1;dt>=0;dt--)Z=b.g=S[dt],K=Zi(Z,N,!0,b)&&K;if(Z=b.g=m,K=Zi(Z,N,!0,b)&&K,K=Zi(Z,N,!1,b)&&K,S)for(dt=0;dt<S.length;dt++)Z=b.g=S[dt],K=Zi(Z,N,!1,b)&&K}ee.prototype.N=function(){if(ee.Z.N.call(this),this.i){var m=this.i;for(const b in m.g){const S=m.g[b];for(let N=0;N<S.length;N++)ft(S[N]);delete m.g[b],m.h--}}this.G=null},ee.prototype.J=function(m,b,S,N){return this.i.add(String(m),b,!1,S,N)},ee.prototype.K=function(m,b,S,N){return this.i.add(String(m),b,!0,S,N)};function Zi(m,b,S,N){if(b=m.i.g[String(b)],!b)return!0;b=b.concat();let K=!0;for(let Z=0;Z<b.length;++Z){const dt=b[Z];if(dt&&!dt.da&&dt.capture==S){const kt=dt.listener,Ne=dt.ha||dt.src;dt.fa&&pt(m.i,dt),K=kt.call(Ne,N)!==!1&&K}}return K&&!N.defaultPrevented}function cn(m,b){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:l.setTimeout(m,b||0)}function Oi(m){m.g=cn(()=>{m.g=null,m.i&&(m.i=!1,Oi(m))},m.l);const b=m.h;m.h=null,m.m.apply(null,b)}class un extends L{constructor(b,S){super(),this.m=b,this.l=S,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Oi(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ks(m){L.call(this),this.h=m,this.g={}}y(ks,L);var ts=[];function Pa(m){vt(m.g,function(b,S){this.g.hasOwnProperty(S)&&br(b)},m),m.g={}}ks.prototype.N=function(){ks.Z.N.call(this),Pa(this)},ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ni=l.JSON.stringify,La=l.JSON.parse,ki=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function Va(){}function Pi(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qe(){P.call(this,"d")}y(Qe,P);function On(){P.call(this,"c")}y(On,P);var Ee={},Po=null;function es(){return Po=Po||new ee}Ee.Ia="serverreachability";function Zn(m){P.call(this,Ee.Ia,m)}y(Zn,P);function di(m){const b=es();Oe(b,new Zn(b))}Ee.STAT_EVENT="statevent";function Ps(m,b){P.call(this,Ee.STAT_EVENT,m),this.stat=b}y(Ps,P);function Ae(m){const b=es();Oe(b,new Ps(b,m))}Ee.Ja="timingevent";function ti(m,b){P.call(this,Ee.Ja,m),this.size=b}y(ti,P);function xt(m,b){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},b)}function ne(){this.g=!0}ne.prototype.ua=function(){this.g=!1};function je(m,b,S,N,K,Z){m.info(function(){if(m.g)if(Z){var dt="",kt=Z.split("&");for(let Zt=0;Zt<kt.length;Zt++){var Ne=kt[Zt].split("=");if(Ne.length>1){const Te=Ne[0];Ne=Ne[1];const _i=Te.split("_");dt=_i.length>=2&&_i[1]=="type"?dt+(Te+"="+Ne+"&"):dt+(Te+"=redacted&")}}}else dt=null;else dt=Z;return"XMLHTTP REQ ("+N+") [attempt "+K+"]: "+b+`
`+S+`
`+dt})}function nn(m,b,S,N,K,Z,dt){m.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+K+"]: "+b+`
`+S+`
`+Z+" "+dt})}function Nn(m,b,S,N){m.info(function(){return"XMLHTTP TEXT ("+b+"): "+Tn(m,S)+(N?" "+N:"")})}function ge(m,b){m.info(function(){return"TIMEOUT: "+b})}ne.prototype.info=function(){};function Tn(m,b){if(!m.g)return b;if(!b)return null;try{const Z=JSON.parse(b);if(Z){for(m=0;m<Z.length;m++)if(Array.isArray(Z[m])){var S=Z[m];if(!(S.length<2)){var N=S[1];if(Array.isArray(N)&&!(N.length<1)){var K=N[0];if(K!="noop"&&K!="stop"&&K!="close")for(let dt=1;dt<N.length;dt++)N[dt]=""}}}}return Ni(Z)}catch{return b}}var mi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},hn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fn;function ns(){}y(ns,Va),ns.prototype.g=function(){return new XMLHttpRequest},fn=new ns;function dn(m){return encodeURIComponent(String(m))}function nc(m){var b=1;m=m.split(":");const S=[];for(;b>0&&m.length;)S.push(m.shift()),b--;return m.length&&S.push(m.join(":")),S}function Li(m,b,S,N){this.j=m,this.i=b,this.l=S,this.S=N||1,this.V=new ks(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Vi}function Vi(){this.i=null,this.g="",this.h=!1}var Ue={},sn={};function is(m,b,S){m.M=1,m.A=za(Fe(b)),m.u=S,m.R=!0,Lo(m,null)}function Lo(m,b){m.F=Date.now(),ss(m),m.B=Fe(m.A);var S=m.B,N=m.S;Array.isArray(N)||(N=[String(N)]),Uo(S.i,"t",N),m.C=0,S=m.j.L,m.h=new Vi,m.g=Rh(m.j,S?b:null,!m.u),m.P>0&&(m.O=new un(d(m.Y,m,m.g),m.P)),b=m.V,S=m.g,N=m.ba;var K="readystatechange";Array.isArray(K)||(K&&(ts[0]=K.toString()),K=ts);for(let Z=0;Z<K.length;Z++){const dt=Jt(S,K[Z],N||b.handleEvent,!1,b.h||b);if(!dt)break;b.g[dt.key]=dt}b=m.J?F(m.J):{},m.u?(m.v||(m.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,b)):(m.v="GET",m.g.ea(m.B,m.v,null,b)),di(),je(m.i,m.v,m.B,m.l,m.S,m.u)}Li.prototype.ba=function(m){m=m.target;const b=this.O;b&&Ui(m)==3?b.j():this.Y(m)},Li.prototype.Y=function(m){try{if(m==this.g)t:{const kt=Ui(this.g),Ne=this.g.ya(),Zt=this.g.ca();if(!(kt<3)&&(kt!=3||this.g&&(this.h.h||this.g.la()||mn(this.g)))){this.K||kt!=4||Ne==7||(Ne==8||Zt<=0?di(3):di(2)),rs(this);var b=this.g.ca();this.X=b;var S=wm(this);if(this.o=b==200,nn(this.i,this.v,this.B,this.l,this.S,kt,b),this.o){if(this.U&&!this.L){e:{if(this.g){var N,K=this.g;if((N=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(N)){var Z=N;break e}}Z=null}if(m=Z)Nn(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,as(this,m);else{this.o=!1,this.m=3,Ae(12),ei(this),pi(this);break t}}if(this.R){m=!0;let Te;for(;!this.K&&this.C<S.length;)if(Te=mh(this,S),Te==sn){kt==4&&(this.m=4,Ae(14),m=!1),Nn(this.i,this.l,null,"[Incomplete Response]");break}else if(Te==Ue){this.m=4,Ae(15),Nn(this.i,this.l,S,"[Invalid Chunk]"),m=!1;break}else Nn(this.i,this.l,Te,null),as(this,Te);if(dh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||S.length!=0||this.h.h||(this.m=1,Ae(16),m=!1),this.o=this.o&&m,!m)Nn(this.i,this.l,S,"[Invalid Chunked Response]"),ei(this),pi(this);else if(S.length>0&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.aa&&!dt.P&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),yc(dt),dt.P=!0,Ae(11))}}else Nn(this.i,this.l,S,null),as(this,S);kt==4&&ei(this),this.o&&!this.K&&(kt==4?Sh(this.j,this):(this.o=!1,ss(this)))}else Vs(this.g),b==400&&S.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),ei(this),pi(this)}}}catch{}finally{}};function wm(m){if(!dh(m))return m.g.la();const b=mn(m.g);if(b==="")return"";let S="";const N=b.length,K=Ui(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return ei(m),pi(m),"";m.h.i=new l.TextDecoder}for(let Z=0;Z<N;Z++)m.h.h=!0,S+=m.h.i.decode(b[Z],{stream:!(K&&Z==N-1)});return b.length=0,m.h.g+=S,m.C=0,m.h.g}function dh(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function mh(m,b){var S=m.C,N=b.indexOf(`
`,S);return N==-1?sn:(S=Number(b.substring(S,N)),isNaN(S)?Ue:(N+=1,N+S>b.length?sn:(b=b.slice(N,N+S),m.C=N+S,b)))}Li.prototype.cancel=function(){this.K=!0,ei(this)};function ss(m){m.T=Date.now()+m.H,Vo(m,m.H)}function Vo(m,b){if(m.D!=null)throw Error("WatchDog timer not null");m.D=xt(d(m.aa,m),b)}function rs(m){m.D&&(l.clearTimeout(m.D),m.D=null)}Li.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(ge(this.i,this.B),this.M!=2&&(di(),Ae(17)),ei(this),this.m=2,pi(this)):Vo(this,this.T-m)};function pi(m){m.j.I==0||m.K||Sh(m.j,m)}function ei(m){rs(m);var b=m.O;b&&typeof b.dispose=="function"&&b.dispose(),m.O=null,Pa(m.V),m.g&&(b=m.g,m.g=null,b.abort(),b.dispose())}function as(m,b){try{var S=m.j;if(S.I!=0&&(S.g==m||ls(S.h,m))){if(!m.L&&ls(S.h,m)&&S.I==3){try{var N=S.Ba.g.parse(b)}catch{N=null}if(Array.isArray(N)&&N.length==3){var K=N;if(K[0]==0){t:if(!S.v){if(S.g)if(S.g.F+3e3<m.F)Go(S),Ir(S);else break t;Ga(S),Ae(18)}}else S.xa=K[1],0<S.xa-S.K&&K[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=xt(d(S.Va,S),6e3));os(S.h)<=1&&S.ta&&(S.ta=void 0)}else ms(S,11)}else if((m.L||S.g==m)&&Go(S),!k(b))for(K=S.Ba.g.parse(b),b=0;b<K.length;b++){let Zt=K[b];const Te=Zt[0];if(!(Te<=S.K))if(S.K=Te,Zt=Zt[1],S.I==2)if(Zt[0]=="c"){S.M=Zt[1],S.ba=Zt[2];const _i=Zt[3];_i!=null&&(S.ka=_i,S.j.info("VER="+S.ka));const ps=Zt[4];ps!=null&&(S.za=ps,S.j.info("SVER="+S.za));const Bi=Zt[5];Bi!=null&&typeof Bi=="number"&&Bi>0&&(N=1.5*Bi,S.O=N,S.j.info("backChannelRequestTimeoutMs_="+N)),N=S;const Fi=m.g;if(Fi){const Ya=Fi.g?Fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ya){var Z=N.h;Z.g||Ya.indexOf("spdy")==-1&&Ya.indexOf("quic")==-1&&Ya.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(rc(Z,Z.h),Z.h=null))}if(N.G){const Yo=Fi.g?Fi.g.getResponseHeader("X-HTTP-Session-Id"):null;Yo&&(N.wa=Yo,se(N.J,N.G,Yo))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-m.F,S.j.info("Handshake RTT: "+S.T+"ms")),N=S;var dt=m;if(N.na=Ah(N,N.L?N.ba:null,N.W),dt.L){ac(N.h,dt);var kt=dt,Ne=N.O;Ne&&(kt.H=Ne),kt.D&&(rs(kt),ss(kt)),N.g=dt}else Eh(N);S.i.length>0&&ds(S)}else Zt[0]!="stop"&&Zt[0]!="close"||ms(S,7);else S.I==3&&(Zt[0]=="stop"||Zt[0]=="close"?Zt[0]=="stop"?ms(S,7):pc(S):Zt[0]!="noop"&&S.l&&S.l.qa(Zt),S.A=0)}}di(4)}catch{}}var Be=class{constructor(m,b){this.g=m,this.map=b}};function ic(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function sc(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function os(m){return m.h?1:m.g?m.g.size:0}function ls(m,b){return m.h?m.h==b:m.g?m.g.has(b):!1}function rc(m,b){m.g?m.g.add(b):m.h=b}function ac(m,b){m.h&&m.h==b?m.h=null:m.g&&m.g.has(b)&&m.g.delete(b)}ic.prototype.cancel=function(){if(this.i=oc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function oc(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let b=m.i;for(const S of m.g.values())b=b.concat(S.G);return b}return T(m.i)}var ph=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zo(m,b){if(m){m=m.split("&");for(let S=0;S<m.length;S++){const N=m[S].indexOf("=");let K,Z=null;N>=0?(K=m[S].substring(0,N),Z=m[S].substring(N+1)):K=m[S],b(K,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function ni(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;m instanceof ni?(this.l=m.l,rn(this,m.j),this.o=m.o,this.g=m.g,Tr(this,m.u),this.h=m.h,lc(this,vh(m.i)),this.m=m.m):m&&(b=String(m).match(ph))?(this.l=!1,rn(this,b[1]||"",!0),this.o=cs(b[2]||""),this.g=cs(b[3]||"",!0),Tr(this,b[4]),this.h=cs(b[5]||"",!0),lc(this,b[6]||"",!0),this.m=cs(b[7]||"")):(this.l=!1,this.i=new xr(null,this.l))}ni.prototype.toString=function(){const m=[];var b=this.j;b&&m.push(ja(b,jo,!0),":");var S=this.g;return(S||b=="file")&&(m.push("//"),(b=this.o)&&m.push(ja(b,jo,!0),"@"),m.push(dn(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&m.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&m.push("/"),m.push(ja(S,S.charAt(0)=="/"?cc:gh,!0))),(S=this.i.toString())&&m.push("?",S),(S=this.m)&&m.push("#",ja(S,yh)),m.join("")},ni.prototype.resolve=function(m){const b=Fe(this);let S=!!m.j;S?rn(b,m.j):S=!!m.o,S?b.o=m.o:S=!!m.g,S?b.g=m.g:S=m.u!=null;var N=m.h;if(S)Tr(b,m.u);else if(S=!!m.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var K=b.h.lastIndexOf("/");K!=-1&&(N=b.h.slice(0,K+1)+N)}if(K=N,K==".."||K==".")N="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){N=K.lastIndexOf("/",0)==0,K=K.split("/");const Z=[];for(let dt=0;dt<K.length;){const kt=K[dt++];kt=="."?N&&dt==K.length&&Z.push(""):kt==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),N&&dt==K.length&&Z.push("")):(Z.push(kt),N=!0)}N=Z.join("/")}else N=K}return S?b.h=N:S=m.i.toString()!=="",S?lc(b,vh(m.i)):S=!!m.m,S&&(b.m=m.m),b};function Fe(m){return new ni(m)}function rn(m,b,S){m.j=S?cs(b,!0):b,m.j&&(m.j=m.j.replace(/:$/,""))}function Tr(m,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);m.u=b}else m.u=null}function lc(m,b,S){b instanceof xr?(m.i=b,Bo(m.i,m.l)):(S||(b=ja(b,Sr)),m.i=new xr(b,m.l))}function se(m,b,S){m.i.set(b,S)}function za(m){return se(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function cs(m,b){return m?b?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ja(m,b,S){return typeof m=="string"?(m=encodeURI(m).replace(b,zn),S&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function zn(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var jo=/[#\/\?@]/g,gh=/[#\?:]/g,cc=/[#\?]/g,Sr=/[#\?@]/g,yh=/#/g;function xr(m,b){this.h=this.g=null,this.i=m||null,this.j=!!b}function jn(m){m.g||(m.g=new Map,m.h=0,m.i&&zo(m.i,function(b,S){m.add(decodeURIComponent(b.replace(/\+/g," ")),S)}))}n=xr.prototype,n.add=function(m,b){jn(this),this.i=null,m=wr(this,m);let S=this.g.get(m);return S||this.g.set(m,S=[]),S.push(b),this.h+=1,this};function _h(m,b){jn(m),b=wr(m,b),m.g.has(b)&&(m.i=null,m.h-=m.g.get(b).length,m.g.delete(b))}function uc(m,b){return jn(m),b=wr(m,b),m.g.has(b)}n.forEach=function(m,b){jn(this),this.g.forEach(function(S,N){S.forEach(function(K){m.call(b,K,N,this)},this)},this)};function hc(m,b){jn(m);let S=[];if(typeof b=="string")uc(m,b)&&(S=S.concat(m.g.get(wr(m,b))));else for(m=Array.from(m.g.values()),b=0;b<m.length;b++)S=S.concat(m[b]);return S}n.set=function(m,b){return jn(this),this.i=null,m=wr(this,m),uc(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[b]),this.h+=1,this},n.get=function(m,b){return m?(m=hc(this,m),m.length>0?String(m[0]):b):b};function Uo(m,b,S){_h(m,b),S.length>0&&(m.i=null,m.g.set(wr(m,b),T(S)),m.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],b=Array.from(this.g.keys());for(let N=0;N<b.length;N++){var S=b[N];const K=dn(S);S=hc(this,S);for(let Z=0;Z<S.length;Z++){let dt=K;S[Z]!==""&&(dt+="="+dn(S[Z])),m.push(dt)}}return this.i=m.join("&")};function vh(m){const b=new xr;return b.i=m.i,m.g&&(b.g=new Map(m.g),b.h=m.h),b}function wr(m,b){return b=String(b),m.j&&(b=b.toLowerCase()),b}function Bo(m,b){b&&!m.j&&(jn(m),m.i=null,m.g.forEach(function(S,N){const K=N.toLowerCase();N!=K&&(_h(this,N),Uo(this,K,S))},m)),m.j=b}function zi(m,b){const S=new ne;if(l.Image){const N=new Image;N.onload=g(gi,S,"TestLoadImage: loaded",!0,b,N),N.onerror=g(gi,S,"TestLoadImage: error",!1,b,N),N.onabort=g(gi,S,"TestLoadImage: abort",!1,b,N),N.ontimeout=g(gi,S,"TestLoadImage: timeout",!1,b,N),l.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=m}else b(!1)}function fc(m,b){const S=new ne,N=new AbortController,K=setTimeout(()=>{N.abort(),gi(S,"TestPingServer: timeout",!1,b)},1e4);fetch(m,{signal:N.signal}).then(Z=>{clearTimeout(K),Z.ok?gi(S,"TestPingServer: ok",!0,b):gi(S,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(K),gi(S,"TestPingServer: error",!1,b)})}function gi(m,b,S,N,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),N(S)}catch{}}function Ar(){this.g=new ki}function us(m){this.i=m.Sb||null,this.h=m.ab||!1}y(us,Va),us.prototype.g=function(){return new Ua(this.i,this.h)};function Ua(m,b){ee.call(this),this.H=m,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(Ua,ee),n=Ua.prototype,n.open=function(m,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=b,this.readyState=1,ji(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(b.body=m),(this.H||l).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rr(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,ji(this)),this.g&&(this.readyState=3,ji(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Fo(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function Fo(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var b=m.value?m.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!m.done}))&&(this.response=this.responseText+=b)}m.done?Rr(this):ji(this),this.readyState==3&&Fo(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,Rr(this))},n.Na=function(m){this.g&&(this.response=m,Rr(this))},n.ga=function(){this.g&&Rr(this)};function Rr(m){m.readyState=4,m.l=null,m.j=null,m.B=null,ji(m)}n.setRequestHeader=function(m,b){this.A.append(m,b)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],b=this.h.entries();for(var S=b.next();!S.done;)S=S.value,m.push(S[0]+": "+S[1]),S=b.next();return m.join(`\r
`)};function ji(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Ua.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function yi(m){let b="";return vt(m,function(S,N){b+=N,b+=":",b+=S,b+=`\r
`}),b}function Ba(m,b,S){t:{for(N in S){var N=!1;break t}N=!0}N||(S=yi(S),typeof m=="string"?S!=null&&dn(S):se(m,b,S))}function le(m){ee.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(le,ee);var hs=/^https?$/i,dc=["POST","PUT"];n=le.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,b,S,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);b=b?b.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fn.g(),this.g.onreadystatechange=v(d(this.Ca,this));try{this.B=!0,this.g.open(b,String(m),!0),this.B=!1}catch(Z){Fa(this,Z);return}if(m=S||"",S=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var K in N)S.set(K,N[K]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const Z of N.keys())S.set(Z,N.get(Z));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(S.keys()).find(Z=>Z.toLowerCase()=="content-type"),K=l.FormData&&m instanceof l.FormData,!(Array.prototype.indexOf.call(dc,b,void 0)>=0)||N||K||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,dt]of S)this.g.setRequestHeader(Z,dt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(Z){Fa(this,Z)}};function Fa(m,b){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=b,m.o=5,mc(m),Ls(m)}function mc(m){m.A||(m.A=!0,Oe(m,"complete"),Oe(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Oe(this,"complete"),Oe(this,"abort"),Ls(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ls(this,!0)),le.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Ha(this):this.Xa())},n.Xa=function(){Ha(this)};function Ha(m){if(m.h&&typeof o<"u"){if(m.v&&Ui(m)==4)setTimeout(m.Ca.bind(m),0);else if(Oe(m,"readystatechange"),Ui(m)==4){m.h=!1;try{const Z=m.ca();t:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break t;default:b=!1}var S;if(!(S=b)){var N;if(N=Z===0){let dt=String(m.D).match(ph)[1]||null;!dt&&l.self&&l.self.location&&(dt=l.self.location.protocol.slice(0,-1)),N=!hs.test(dt?dt.toLowerCase():"")}S=N}if(S)Oe(m,"complete"),Oe(m,"success");else{m.o=6;try{var K=Ui(m)>2?m.g.statusText:""}catch{K=""}m.l=K+" ["+m.ca()+"]",mc(m)}}finally{Ls(m)}}}}function Ls(m,b){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const S=m.g;m.g=null,b||Oe(m,"ready");try{S.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Ui(m){return m.g?m.g.readyState:0}n.ca=function(){try{return Ui(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var b=this.g.responseText;return m&&b.indexOf(m)==0&&(b=b.substring(m.length)),La(b)}};function mn(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Vs(m){const b={};m=(m.g&&Ui(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<m.length;N++){if(k(m[N]))continue;var S=nc(m[N]);const K=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const Z=b[K]||[];b[K]=Z,Z.push(S)}Ct(b,function(N){return N.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fs(m,b,S){return S&&S.internalChannelParams&&S.internalChannelParams[m]||b}function Cr(m){this.za=0,this.i=[],this.j=new ne,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fs("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fs("baseRetryDelayMs",5e3,m),this.Za=fs("retryDelaySeedMs",1e4,m),this.Ta=fs("forwardChannelMaxRetries",2,m),this.va=fs("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new ic(m&&m.concurrentRequestLimit),this.Ba=new Ar,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Cr.prototype,n.ka=8,n.I=1,n.connect=function(m,b,S,N){Ae(0),this.W=m,this.H=b||{},S&&N!==void 0&&(this.H.OSID=S,this.H.OAID=N),this.F=this.X,this.J=Ah(this,null,this.W),ds(this)};function pc(m){if(Ho(m),m.I==3){var b=m.V++,S=Fe(m.J);if(se(S,"SID",m.M),se(S,"RID",b),se(S,"TYPE","terminate"),qa(m,S),b=new Li(m,m.j,b),b.M=2,b.A=za(Fe(S)),S=!1,l.navigator&&l.navigator.sendBeacon)try{S=l.navigator.sendBeacon(b.A.toString(),"")}catch{}!S&&l.Image&&(new Image().src=b.A,S=!0),S||(b.g=Rh(b.j,null),b.g.ea(b.A)),b.F=Date.now(),ss(b)}wh(m)}function Ir(m){m.g&&(yc(m),m.g.cancel(),m.g=null)}function Ho(m){Ir(m),m.v&&(l.clearTimeout(m.v),m.v=null),Go(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&l.clearTimeout(m.m),m.m=null)}function ds(m){if(!sc(m.h)&&!m.m){m.m=!0;var b=m.Ea;B||R(),Y||(B(),Y=!0),I.add(b,m),m.D=0}}function qo(m,b){return os(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=b.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=xt(d(m.Ea,m,b),xh(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const K=new Li(this,this.j,m);let Z=this.o;if(this.U&&(Z?(Z=F(Z),at(Z,this.U)):Z=this.U),this.u!==null||this.R||(K.J=Z,Z=null),this.S)t:{for(var b=0,S=0;S<this.i.length;S++){e:{var N=this.i[S];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break e}N=void 0}if(N===void 0)break;if(b+=N,b>4096){b=S;break t}if(b===4096||S===this.i.length-1){b=S+1;break t}}b=1e3}else b=1e3;b=bh(this,K,b),S=Fe(this.J),se(S,"RID",m),se(S,"CVER",22),this.G&&se(S,"X-HTTP-Session-Id",this.G),qa(this,S),Z&&(this.R?b="headers="+dn(yi(Z))+"&"+b:this.u&&Ba(S,this.u,Z)),rc(this.h,K),this.Ra&&se(S,"TYPE","init"),this.S?(se(S,"$req",b),se(S,"SID","null"),K.U=!0,is(K,S,null)):is(K,S,b),this.I=2}}else this.I==3&&(m?gc(this,m):this.i.length==0||sc(this.h)||gc(this))};function gc(m,b){var S;b?S=b.l:S=m.V++;const N=Fe(m.J);se(N,"SID",m.M),se(N,"RID",S),se(N,"AID",m.K),qa(m,N),m.u&&m.o&&Ba(N,m.u,m.o),S=new Li(m,m.j,S,m.D+1),m.u===null&&(S.J=m.o),b&&(m.i=b.G.concat(m.i)),b=bh(m,S,1e3),S.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),rc(m.h,S),is(S,N,b)}function qa(m,b){m.H&&vt(m.H,function(S,N){se(b,N,S)}),m.l&&vt({},function(S,N){se(b,N,S)})}function bh(m,b,S){S=Math.min(m.i.length,S);const N=m.l?d(m.l.Ka,m.l,m):null;t:{var K=m.i;let kt=-1;for(;;){const Ne=["count="+S];kt==-1?S>0?(kt=K[0].g,Ne.push("ofs="+kt)):kt=0:Ne.push("ofs="+kt);let Zt=!0;for(let Te=0;Te<S;Te++){var Z=K[Te].g;const _i=K[Te].map;if(Z-=kt,Z<0)kt=Math.max(0,K[Te].g-100),Zt=!1;else try{Z="req"+Z+"_"||"";try{var dt=_i instanceof Map?_i:Object.entries(_i);for(const[ps,Bi]of dt){let Fi=Bi;u(Bi)&&(Fi=Ni(Bi)),Ne.push(Z+ps+"="+encodeURIComponent(Fi))}}catch(ps){throw Ne.push(Z+"type="+encodeURIComponent("_badmap")),ps}}catch{N&&N(_i)}}if(Zt){dt=Ne.join("&");break t}}dt=void 0}return m=m.i.splice(0,S),b.G=m,dt}function Eh(m){if(!m.g&&!m.v){m.Y=1;var b=m.Da;B||R(),Y||(B(),Y=!0),I.add(b,m),m.A=0}}function Ga(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=xt(d(m.Da,m),xh(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,Th(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=xt(d(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),Ir(this),Th(this))};function yc(m){m.B!=null&&(l.clearTimeout(m.B),m.B=null)}function Th(m){m.g=new Li(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var b=Fe(m.na);se(b,"RID","rpc"),se(b,"SID",m.M),se(b,"AID",m.K),se(b,"CI",m.F?"0":"1"),!m.F&&m.ia&&se(b,"TO",m.ia),se(b,"TYPE","xmlhttp"),qa(m,b),m.u&&m.o&&Ba(b,m.u,m.o),m.O&&(m.g.H=m.O);var S=m.g;m=m.ba,S.M=1,S.A=za(Fe(b)),S.u=null,S.R=!0,Lo(S,m)}n.Va=function(){this.C!=null&&(this.C=null,Ir(this),Ga(this),Ae(19))};function Go(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function Sh(m,b){var S=null;if(m.g==b){Go(m),yc(m),m.g=null;var N=2}else if(ls(m.h,b))S=b.G,ac(m.h,b),N=1;else return;if(m.I!=0){if(b.o)if(N==1){S=b.u?b.u.length:0,b=Date.now()-b.F;var K=m.D;N=es(),Oe(N,new ti(N,S)),ds(m)}else Eh(m);else if(K=b.m,K==3||K==0&&b.X>0||!(N==1&&qo(m,b)||N==2&&Ga(m)))switch(S&&S.length>0&&(b=m.h,b.i=b.i.concat(S)),K){case 1:ms(m,5);break;case 4:ms(m,10);break;case 3:ms(m,6);break;default:ms(m,2)}}}function xh(m,b){let S=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(S*=2),S*b}function ms(m,b){if(m.j.info("Error code "+b),b==2){var S=d(m.bb,m),N=m.Ua;const K=!N;N=new ni(N||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||rn(N,"https"),za(N),K?zi(N.toString(),S):fc(N.toString(),S)}else Ae(2);m.I=0,m.l&&m.l.pa(b),wh(m),Ho(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function wh(m){if(m.I=0,m.ja=[],m.l){const b=oc(m.h);(b.length!=0||m.i.length!=0)&&(x(m.ja,b),x(m.ja,m.i),m.h.i.length=0,T(m.i),m.i.length=0),m.l.oa()}}function Ah(m,b,S){var N=S instanceof ni?Fe(S):new ni(S);if(N.g!="")b&&(N.g=b+"."+N.g),Tr(N,N.u);else{var K=l.location;N=K.protocol,b=b?b+"."+K.hostname:K.hostname,K=+K.port;const Z=new ni(null);N&&rn(Z,N),b&&(Z.g=b),K&&Tr(Z,K),S&&(Z.h=S),N=Z}return S=m.G,b=m.wa,S&&b&&se(N,S,b),se(N,"VER",m.ka),qa(m,N),N}function Rh(m,b,S){if(b&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=m.Aa&&!m.ma?new le(new us({ab:S})):new le(m.ma),b.Fa(m.L),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ch(){}n=Ch.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Dr(){}Dr.prototype.g=function(m,b){return new kn(m,b)};function kn(m,b){ee.call(this),this.g=new Cr(b),this.l=m,this.h=b&&b.messageUrlParams||null,m=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(m?m["X-WebChannel-Content-Type"]=b.messageContentType:m={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(m?m["X-WebChannel-Client-Profile"]=b.sa:m={"X-WebChannel-Client-Profile":b.sa}),this.g.U=m,(m=b&&b.Qb)&&!k(m)&&(this.g.u=m),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!k(b)&&(this.g.G=b,m=this.h,m!==null&&b in m&&(m=this.h,b in m&&delete m[b])),this.j=new zs(this)}y(kn,ee),kn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){pc(this.g)},kn.prototype.o=function(m){var b=this.g;if(typeof m=="string"){var S={};S.__data__=m,m=S}else this.v&&(S={},S.__data__=Ni(m),m=S);b.i.push(new Be(b.Ya++,m)),b.I==3&&ds(b)},kn.prototype.N=function(){this.g.l=null,delete this.j,pc(this.g),delete this.g,kn.Z.N.call(this)};function Ih(m){Qe.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var b=m.__sm__;if(b){t:{for(const S in b){m=S;break t}m=void 0}(this.i=m)&&(m=this.i,b=b!==null&&m in b?b[m]:void 0),this.data=b}else this.data=m}y(Ih,Qe);function Dh(){On.call(this),this.status=1}y(Dh,On);function zs(m){this.g=m}y(zs,Ch),zs.prototype.ra=function(){Oe(this.g,"a")},zs.prototype.qa=function(m){Oe(this.g,new Ih(m))},zs.prototype.pa=function(m){Oe(this.g,new Dh)},zs.prototype.oa=function(){Oe(this.g,"b")},Dr.prototype.createWebChannel=Dr.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,l1=function(){return new Dr},o1=function(){return es()},a1=Ee,fy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},mi.NO_ERROR=0,mi.TIMEOUT=8,mi.HTTP_ERROR=6,ld=mi,hn.COMPLETE="complete",r1=hn,Pi.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",ee.prototype.listen=ee.prototype.J,uu=Pi,le.prototype.listenOnce=le.prototype.K,le.prototype.getLastError=le.prototype.Ha,le.prototype.getLastErrorCode=le.prototype.ya,le.prototype.getStatus=le.prototype.ca,le.prototype.getResponseJson=le.prototype.La,le.prototype.getResponseText=le.prototype.la,le.prototype.send=le.prototype.ea,le.prototype.setWithCredentials=le.prototype.Fa,s1=le}).apply(typeof zf<"u"?zf:typeof self<"u"?self:typeof window<"u"?window:{});const bT="@firebase/firestore",ET="4.9.2";class An{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");let Ql="12.3.0";const Ao=new Xy("@firebase/firestore");function xl(){return Ao.logLevel}function yt(n,...t){if(Ao.logLevel<=Ht.DEBUG){const e=t.map(o_);Ao.debug(`Firestore (${Ql}): ${n}`,...e)}}function pr(n,...t){if(Ao.logLevel<=Ht.ERROR){const e=t.map(o_);Ao.error(`Firestore (${Ql}): ${n}`,...e)}}function Pl(n,...t){if(Ao.logLevel<=Ht.WARN){const e=t.map(o_);Ao.warn(`Firestore (${Ql}): ${n}`,...e)}}function o_(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function Rt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,c1(n,i,e)}function c1(n,t,e){let i=`FIRESTORE (${Ql}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw pr(i),new Error(i)}function ie(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||c1(t,r,i)}function Nt(n,t){return n}const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends _r{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ma{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class u1{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Ek{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(An.UNAUTHENTICATED)))}shutdown(){}}class Tk{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class Sk{constructor(t){this.t=t,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){ie(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new ma;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ma,t.enqueueRetryable((()=>r(this.currentUser)))};const l=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await r(this.currentUser)}))},u=f=>{yt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(yt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ma)}}),0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(yt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ie(typeof i.accessToken=="string",31837,{l:i}),new u1(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ie(t===null||typeof t=="string",2055,{h:t}),new An(t)}}class xk{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=An.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wk{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new xk(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(An.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class TT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ak{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ci(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){ie(this.o===void 0,3512);const i=o=>{o.error!=null&&yt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,yt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const r=o=>{yt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):yt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new TT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(ie(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new TT(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Rk(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class l_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=Rk(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function qt(n,t){return n<t?-1:n>t?1:0}function dy(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),o=t.charAt(i);if(r!==o)return kg(r)===kg(o)?qt(r,o):kg(r)?1:-1}return qt(n.length,t.length)}const Ck=55296,Ik=57343;function kg(n){const t=n.charCodeAt(0);return t>=Ck&&t<=Ik}function Ll(n,t,e){return n.length===t.length&&n.every(((i,r)=>e(i,t[r])))}const ST="__name__";class Ss{constructor(t,e,i){e===void 0?e=0:e>t.length&&Rt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Rt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Ss.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ss?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=Ss.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return qt(t.length,e.length)}static compareSegments(t,e){const i=Ss.isNumericId(t),r=Ss.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Ss.extractNumericId(t).compare(Ss.extractNumericId(e)):dy(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return da.fromString(t.substring(4,t.length-2))}}class pe extends Ss{construct(t,e,i){return new pe(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new gt(rt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((r=>r.length>0)))}return new pe(e)}static emptyPath(){return new pe([])}}const Dk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends Ss{construct(t,e,i){return new bn(t,e,i)}static isValidIdentifier(t){return Dk.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ST}static keyField(){return new bn([ST])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new gt(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;r<t.length;){const u=t[r];if(u==="\\"){if(r+1===t.length)throw new gt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new gt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else u==="`"?(l=!l,r++):u!=="."||l?(i+=u,r++):(o(),r++)}if(o(),l)throw new gt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new bn(e)}static emptyPath(){return new bn([])}}class St{constructor(t){this.path=t}static fromPath(t){return new St(pe.fromString(t))}static fromName(t){return new St(pe.fromString(t).popFirst(5))}static empty(){return new St(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&pe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return pe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new St(new pe(t.slice()))}}function h1(n,t,e){if(!e)throw new gt(rt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function Mk(n,t,e,i){if(t===!0&&i===!0)throw new gt(rt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function xT(n){if(!St.isDocumentKey(n))throw new gt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function wT(n){if(St.isDocumentKey(n))throw new gt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function f1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Kd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Rt(12329,{type:typeof n})}function $i(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new gt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Kd(n);throw new gt(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Ke(n,t){const e={typeString:n};return t&&(e.value=t),e}function sh(n,t){if(!f1(n))throw new gt(rt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const l=n[i];if(r&&typeof l!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&l!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new gt(rt.INVALID_ARGUMENT,e);return!0}const AT=-62135596800,RT=1e6;class ve{static now(){return ve.fromMillis(Date.now())}static fromDate(t){return ve.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*RT);return new ve(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new gt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new gt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<AT)throw new gt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RT}_compareTo(t){return this.seconds===t.seconds?qt(this.nanoseconds,t.nanoseconds):qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ve._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(sh(t,ve._jsonSchema))return new ve(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-AT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ve._jsonSchemaVersion="firestore/timestamp/1.0",ve._jsonSchema={type:Ke("string",ve._jsonSchemaVersion),seconds:Ke("number"),nanoseconds:Ke("number")};class It{static fromTimestamp(t){return new It(t)}static min(){return new It(new ve(0,0))}static max(){return new It(new ve(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ou=-1;function Ok(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=It.fromTimestamp(i===1e9?new ve(e+1,0):new ve(e,i));return new _a(r,St.empty(),t)}function Nk(n){return new _a(n.readTime,n.key,Ou)}class _a{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new _a(It.min(),St.empty(),Ou)}static max(){return new _a(It.max(),St.empty(),Ou)}}function kk(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=St.comparator(n.documentKey,t.documentKey),e!==0?e:qt(n.largestBatchId,t.largestBatchId))}const Pk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Lk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Jl(n){if(n.code!==rt.FAILED_PRECONDITION||n.message!==Pk)throw n;yt("LocalStore","Unexpectedly lost primary lease")}class ct{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ct(((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof ct?e:ct.resolve(e)}catch(e){return ct.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):ct.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):ct.reject(e)}static resolve(t){return new ct(((e,i)=>{e(t)}))}static reject(t){return new ct(((e,i)=>{i(t)}))}static waitFor(t){return new ct(((e,i)=>{let r=0,o=0,l=!1;t.forEach((u=>{++r,u.next((()=>{++o,l&&o===r&&e()}),(f=>i(f)))})),l=!0,o===r&&e()}))}static or(t){let e=ct.resolve(!1);for(const i of t)e=e.next((r=>r?ct.resolve(r):i()));return e}static forEach(t,e){const i=[];return t.forEach(((r,o)=>{i.push(e.call(this,r,o))})),this.waitFor(i)}static mapArray(t,e){return new ct(((i,r)=>{const o=t.length,l=new Array(o);let u=0;for(let f=0;f<o;f++){const d=f;e(t[d]).next((g=>{l[d]=g,++u,u===o&&i(l)}),(g=>r(g)))}}))}static doWhile(t,e){return new ct(((i,r)=>{const o=()=>{t()===!0?e().next((()=>{o()}),r):i()};o()}))}}function Vk(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Zl(n){return n.name==="IndexedDbTransactionError"}class Xd{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Xd.ce=-1;const c_=-1;function Qd(n){return n==null}function wd(n){return n===0&&1/n==-1/0}function zk(n){return typeof n=="number"&&Number.isInteger(n)&&!wd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const d1="";function jk(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=CT(t)),t=Uk(n.get(e),t);return CT(t)}function Uk(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case d1:e+="";break;default:e+=o}}return e}function CT(n){return n+d1+""}function IT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Ia(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function m1(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Ce{constructor(t,e){this.comparator=t,this.root=e||vn.EMPTY}insert(t,e){return new Ce(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(t){return new Ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,vn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new jf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new jf(this.root,t,this.comparator,!1)}getReverseIterator(){return new jf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new jf(this.root,t,this.comparator,!0)}}class jf{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class vn{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??vn.RED,this.left=r??vn.EMPTY,this.right=o??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new vn(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return vn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Rt(27949);return t+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt(57766)}get value(){throw Rt(16141)}get color(){throw Rt(16727)}get left(){throw Rt(29726)}get right(){throw Rt(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new vn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class tn{constructor(t){this.comparator=t,this.data=new Ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new DT(this.data.getIterator())}getIteratorFrom(t){return new DT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof tn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new tn(this.comparator);return e.data=t,e}}class DT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class hi{constructor(t){this.fields=t,t.sort(bn.comparator)}static empty(){return new hi([])}unionWith(t){let e=new tn(bn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new hi(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Ll(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}class p1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class En{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new p1("Invalid base64 string: "+o):o}})(t);return new En(e)}static fromUint8Array(t){const e=(function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o})(t);return new En(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}En.EMPTY_BYTE_STRING=new En("");const Bk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function va(n){if(ie(!!n,39018),typeof n=="string"){let t=0;const e=Bk.exec(n);if(ie(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Le(n.seconds),nanos:Le(n.nanos)}}function Le(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ba(n){return typeof n=="string"?En.fromBase64String(n):En.fromUint8Array(n)}const g1="server_timestamp",y1="__type__",_1="__previous_value__",v1="__local_write_time__";function u_(n){return(n?.mapValue?.fields||{})[y1]?.stringValue===g1}function Jd(n){const t=n.mapValue.fields[_1];return u_(t)?Jd(t):t}function Nu(n){const t=va(n.mapValue.fields[v1].timestampValue);return new ve(t.seconds,t.nanos)}class Fk{constructor(t,e,i,r,o,l,u,f,d,g){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=g}}const Ad="(default)";class ku{constructor(t,e){this.projectId=t,this.database=e||Ad}static empty(){return new ku("","")}get isDefaultDatabase(){return this.database===Ad}isEqual(t){return t instanceof ku&&t.projectId===this.projectId&&t.database===this.database}}const b1="__type__",Hk="__max__",Uf={mapValue:{}},E1="__vector__",Rd="value";function Ea(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?u_(n)?4:Gk(n)?9007199254740991:qk(n)?10:11:Rt(28295,{value:n})}function Ms(n,t){if(n===t)return!0;const e=Ea(n);if(e!==Ea(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Nu(n).isEqual(Nu(t));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=va(r.timestampValue),u=va(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(r,o){return ba(r.bytesValue).isEqual(ba(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(r,o){return Le(r.geoPointValue.latitude)===Le(o.geoPointValue.latitude)&&Le(r.geoPointValue.longitude)===Le(o.geoPointValue.longitude)})(n,t);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return Le(r.integerValue)===Le(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=Le(r.doubleValue),u=Le(o.doubleValue);return l===u?wd(l)===wd(u):isNaN(l)&&isNaN(u)}return!1})(n,t);case 9:return Ll(n.arrayValue.values||[],t.arrayValue.values||[],Ms);case 10:case 11:return(function(r,o){const l=r.mapValue.fields||{},u=o.mapValue.fields||{};if(IT(l)!==IT(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!Ms(l[f],u[f])))return!1;return!0})(n,t);default:return Rt(52216,{left:n})}}function Pu(n,t){return(n.values||[]).find((e=>Ms(e,t)))!==void 0}function Vl(n,t){if(n===t)return 0;const e=Ea(n),i=Ea(t);if(e!==i)return qt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return qt(n.booleanValue,t.booleanValue);case 2:return(function(o,l){const u=Le(o.integerValue||o.doubleValue),f=Le(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(n,t);case 3:return MT(n.timestampValue,t.timestampValue);case 4:return MT(Nu(n),Nu(t));case 5:return dy(n.stringValue,t.stringValue);case 6:return(function(o,l){const u=ba(o),f=ba(l);return u.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,l){const u=o.split("/"),f=l.split("/");for(let d=0;d<u.length&&d<f.length;d++){const g=qt(u[d],f[d]);if(g!==0)return g}return qt(u.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,l){const u=qt(Le(o.latitude),Le(l.latitude));return u!==0?u:qt(Le(o.longitude),Le(l.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return OT(n.arrayValue,t.arrayValue);case 10:return(function(o,l){const u=o.fields||{},f=l.fields||{},d=u[Rd]?.arrayValue,g=f[Rd]?.arrayValue,y=qt(d?.values?.length||0,g?.values?.length||0);return y!==0?y:OT(d,g)})(n.mapValue,t.mapValue);case 11:return(function(o,l){if(o===Uf.mapValue&&l===Uf.mapValue)return 0;if(o===Uf.mapValue)return 1;if(l===Uf.mapValue)return-1;const u=o.fields||{},f=Object.keys(u),d=l.fields||{},g=Object.keys(d);f.sort(),g.sort();for(let y=0;y<f.length&&y<g.length;++y){const v=dy(f[y],g[y]);if(v!==0)return v;const T=Vl(u[f[y]],d[g[y]]);if(T!==0)return T}return qt(f.length,g.length)})(n.mapValue,t.mapValue);default:throw Rt(23264,{he:e})}}function MT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return qt(n,t);const e=va(n),i=va(t),r=qt(e.seconds,i.seconds);return r!==0?r:qt(e.nanos,i.nanos)}function OT(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=Vl(e[r],i[r]);if(o)return o}return qt(e.length,i.length)}function zl(n){return my(n)}function my(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=va(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return ba(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return St.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=my(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const l of i)o?o=!1:r+=",",r+=`${l}:${my(e.fields[l])}`;return r+"}"})(n.mapValue):Rt(61005,{value:n})}function cd(n){switch(Ea(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Jd(n);return t?16+cd(t):16;case 5:return 2*n.stringValue.length;case 6:return ba(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,o)=>r+cd(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return Ia(i.fields,((o,l)=>{r+=o.length+cd(l)})),r})(n.mapValue);default:throw Rt(13486,{value:n})}}function NT(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function py(n){return!!n&&"integerValue"in n}function h_(n){return!!n&&"arrayValue"in n}function kT(n){return!!n&&"nullValue"in n}function PT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ud(n){return!!n&&"mapValue"in n}function qk(n){return(n?.mapValue?.fields||{})[b1]?.stringValue===E1}function bu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Ia(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=bu(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=bu(n.arrayValue.values[e]);return t}return{...n}}function Gk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Hk}class $n{constructor(t){this.value=t}static empty(){return new $n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!ud(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=bu(e)}setAll(t){let e=bn.emptyPath(),i={},r=[];t.forEach(((l,u)=>{if(!e.isImmediateParentOf(u)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=u.popLast()}l?i[u.lastSegment()]=bu(l):r.push(u.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());ud(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ms(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];ud(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Ia(e,((r,o)=>t[r]=o));for(const r of i)delete t[r]}clone(){return new $n(bu(this.value))}}function T1(n){const t=[];return Ia(n.fields,((e,i)=>{const r=new bn([e]);if(ud(i)){const o=T1(i.mapValue).fields;if(o.length===0)t.push(r);else for(const l of o)t.push(r.child(l))}else t.push(r)})),new hi(t)}class Cn{constructor(t,e,i,r,o,l,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(t){return new Cn(t,0,It.min(),It.min(),It.min(),$n.empty(),0)}static newFoundDocument(t,e,i,r){return new Cn(t,1,e,It.min(),i,r,0)}static newNoDocument(t,e){return new Cn(t,2,e,It.min(),It.min(),$n.empty(),0)}static newUnknownDocument(t,e){return new Cn(t,3,e,It.min(),It.min(),$n.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Cn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Cd{constructor(t,e){this.position=t,this.inclusive=e}}function LT(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],l=n.position[r];if(o.field.isKeyField()?i=St.comparator(St.fromName(l.referenceValue),e.key):i=Vl(l,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function VT(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ms(n.position[e],t.position[e]))return!1;return!0}class Lu{constructor(t,e="asc"){this.field=t,this.dir=e}}function Yk(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class S1{}class $e extends S1{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new $k(t,e,i):e==="array-contains"?new Qk(t,i):e==="in"?new Jk(t,i):e==="not-in"?new Zk(t,i):e==="array-contains-any"?new tP(t,i):new $e(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new Kk(t,i):new Xk(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Vl(e,this.value)):e!==null&&Ea(this.value)===Ea(e)&&this.matchesComparison(Vl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qi extends S1{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Qi(t,e)}matches(t){return x1(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function x1(n){return n.op==="and"}function w1(n){return Wk(n)&&x1(n)}function Wk(n){for(const t of n.filters)if(t instanceof Qi)return!1;return!0}function gy(n){if(n instanceof $e)return n.field.canonicalString()+n.op.toString()+zl(n.value);if(w1(n))return n.filters.map((t=>gy(t))).join(",");{const t=n.filters.map((e=>gy(e))).join(",");return`${n.op}(${t})`}}function A1(n,t){return n instanceof $e?(function(i,r){return r instanceof $e&&i.op===r.op&&i.field.isEqual(r.field)&&Ms(i.value,r.value)})(n,t):n instanceof Qi?(function(i,r){return r instanceof Qi&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((o,l,u)=>o&&A1(l,r.filters[u])),!0):!1})(n,t):void Rt(19439)}function R1(n){return n instanceof $e?(function(e){return`${e.field.canonicalString()} ${e.op} ${zl(e.value)}`})(n):n instanceof Qi?(function(e){return e.op.toString()+" {"+e.getFilters().map(R1).join(" ,")+"}"})(n):"Filter"}class $k extends $e{constructor(t,e,i){super(t,e,i),this.key=St.fromName(i.referenceValue)}matches(t){const e=St.comparator(t.key,this.key);return this.matchesComparison(e)}}class Kk extends $e{constructor(t,e){super(t,"in",e),this.keys=C1("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class Xk extends $e{constructor(t,e){super(t,"not-in",e),this.keys=C1("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function C1(n,t){return(t.arrayValue?.values||[]).map((e=>St.fromName(e.referenceValue)))}class Qk extends $e{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return h_(e)&&Pu(e.arrayValue,this.value)}}class Jk extends $e{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Pu(this.value.arrayValue,e)}}class Zk extends $e{constructor(t,e){super(t,"not-in",e)}matches(t){if(Pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Pu(this.value.arrayValue,e)}}class tP extends $e{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!h_(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Pu(this.value.arrayValue,i)))}}class eP{constructor(t,e=null,i=[],r=[],o=null,l=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=l,this.endAt=u,this.Te=null}}function zT(n,t=null,e=[],i=[],r=null,o=null,l=null){return new eP(n,t,e,i,r,o,l)}function f_(n){const t=Nt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>gy(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),Qd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>zl(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>zl(i))).join(",")),t.Te=e}return t.Te}function d_(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!Yk(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!A1(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!VT(n.startAt,t.startAt)&&VT(n.endAt,t.endAt)}function yy(n){return St.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class tc{constructor(t,e=null,i=[],r=[],o=null,l="F",u=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function nP(n,t,e,i,r,o,l,u){return new tc(n,t,e,i,r,o,l,u)}function m_(n){return new tc(n)}function jT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function I1(n){return n.collectionGroup!==null}function Eu(n){const t=Nt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new tn(bn.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(u=u.add(d.field))}))})),u})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new Lu(o,i))})),e.has(bn.keyField().canonicalString())||t.Ie.push(new Lu(bn.keyField(),i))}return t.Ie}function As(n){const t=Nt(n);return t.Ee||(t.Ee=iP(t,Eu(n))),t.Ee}function iP(n,t){if(n.limitType==="F")return zT(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new Lu(r.field,o)}));const e=n.endAt?new Cd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Cd(n.startAt.position,n.startAt.inclusive):null;return zT(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function _y(n,t){const e=n.filters.concat([t]);return new tc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function vy(n,t,e){return new tc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Zd(n,t){return d_(As(n),As(t))&&n.limitType===t.limitType}function D1(n){return`${f_(As(n))}|lt:${n.limitType}`}function wl(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((r=>R1(r))).join(", ")}]`),Qd(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((r=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(r))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>zl(r))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>zl(r))).join(",")),`Target(${i})`})(As(n))}; limitType=${n.limitType})`}function tm(n,t){return t.isFoundDocument()&&(function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):St.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,r){for(const o of Eu(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0})(n,t)&&(function(i,r){return!(i.startAt&&!(function(l,u,f){const d=LT(l,u,f);return l.inclusive?d<=0:d<0})(i.startAt,Eu(i),r)||i.endAt&&!(function(l,u,f){const d=LT(l,u,f);return l.inclusive?d>=0:d>0})(i.endAt,Eu(i),r))})(n,t)}function sP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function M1(n){return(t,e)=>{let i=!1;for(const r of Eu(n)){const o=rP(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function rP(n,t,e){const i=n.field.isKeyField()?St.comparator(t.key,e.key):(function(o,l,u){const f=l.data.field(o),d=u.data.field(o);return f!==null&&d!==null?Vl(f,d):Rt(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Rt(19790,{direction:n.dir})}}class Oo{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Ia(this.inner,((e,i)=>{for(const[r,o]of i)t(r,o)}))}isEmpty(){return m1(this.inner)}size(){return this.innerSize}}const aP=new Ce(St.comparator);function gr(){return aP}const O1=new Ce(St.comparator);function hu(...n){let t=O1;for(const e of n)t=t.insert(e.key,e);return t}function N1(n){let t=O1;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function yo(){return Tu()}function k1(){return Tu()}function Tu(){return new Oo((n=>n.toString()),((n,t)=>n.isEqual(t)))}const oP=new Ce(St.comparator),lP=new tn(St.comparator);function Gt(...n){let t=lP;for(const e of n)t=t.add(e);return t}const cP=new tn(qt);function uP(){return cP}function p_(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wd(t)?"-0":t}}function P1(n){return{integerValue:""+n}}function hP(n,t){return zk(t)?P1(t):p_(n,t)}class em{constructor(){this._=void 0}}function fP(n,t,e){return n instanceof Vu?(function(r,o){const l={fields:{[y1]:{stringValue:g1},[v1]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&u_(o)&&(o=Jd(o)),o&&(l.fields[_1]=o),{mapValue:l}})(e,t):n instanceof zu?V1(n,t):n instanceof ju?z1(n,t):(function(r,o){const l=L1(r,o),u=UT(l)+UT(r.Ae);return py(l)&&py(r.Ae)?P1(u):p_(r.serializer,u)})(n,t)}function dP(n,t,e){return n instanceof zu?V1(n,t):n instanceof ju?z1(n,t):e}function L1(n,t){return n instanceof Id?(function(i){return py(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class Vu extends em{}class zu extends em{constructor(t){super(),this.elements=t}}function V1(n,t){const e=j1(t);for(const i of n.elements)e.some((r=>Ms(r,i)))||e.push(i);return{arrayValue:{values:e}}}class ju extends em{constructor(t){super(),this.elements=t}}function z1(n,t){let e=j1(t);for(const i of n.elements)e=e.filter((r=>!Ms(r,i)));return{arrayValue:{values:e}}}class Id extends em{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function UT(n){return Le(n.integerValue||n.doubleValue)}function j1(n){return h_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class mP{constructor(t,e){this.field=t,this.transform=e}}function pP(n,t){return n.field.isEqual(t.field)&&(function(i,r){return i instanceof zu&&r instanceof zu||i instanceof ju&&r instanceof ju?Ll(i.elements,r.elements,Ms):i instanceof Id&&r instanceof Id?Ms(i.Ae,r.Ae):i instanceof Vu&&r instanceof Vu})(n.transform,t.transform)}class gP{constructor(t,e){this.version=t,this.transformResults=e}}class Xn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Xn}static exists(t){return new Xn(void 0,t)}static updateTime(t){return new Xn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function hd(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class nm{}function U1(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new im(n.key,Xn.none()):new rh(n.key,n.data,Xn.none());{const e=n.data,i=$n.empty();let r=new tn(bn.comparator);for(let o of t.fields)if(!r.has(o)){let l=e.field(o);l===null&&o.length>1&&(o=o.popLast(),l=e.field(o)),l===null?i.delete(o):i.set(o,l),r=r.add(o)}return new Da(n.key,i,new hi(r.toArray()),Xn.none())}}function yP(n,t,e){n instanceof rh?(function(r,o,l){const u=r.value.clone(),f=FT(r.fieldTransforms,o,l.transformResults);u.setAll(f),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,t,e):n instanceof Da?(function(r,o,l){if(!hd(r.precondition,o))return void o.convertToUnknownDocument(l.version);const u=FT(r.fieldTransforms,o,l.transformResults),f=o.data;f.setAll(B1(r)),f.setAll(u),o.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(n,t,e):(function(r,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,t,e)}function Su(n,t,e,i){return n instanceof rh?(function(o,l,u,f){if(!hd(o.precondition,l))return u;const d=o.value.clone(),g=HT(o.fieldTransforms,f,l);return d.setAll(g),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null})(n,t,e,i):n instanceof Da?(function(o,l,u,f){if(!hd(o.precondition,l))return u;const d=HT(o.fieldTransforms,f,l),g=l.data;return g.setAll(B1(o)),g.setAll(d),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((y=>y.field)))})(n,t,e,i):(function(o,l,u){return hd(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,t,e)}function _P(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=L1(i.transform,r||null);o!=null&&(e===null&&(e=$n.empty()),e.set(i.field,o))}return e||null}function BT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Ll(i,r,((o,l)=>pP(o,l)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class rh extends nm{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Da extends nm{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function B1(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function FT(n,t,e){const i=new Map;ie(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let r=0;r<e.length;r++){const o=n[r],l=o.transform,u=t.data.field(o.field);i.set(o.field,dP(l,u,e[r]))}return i}function HT(n,t,e){const i=new Map;for(const r of n){const o=r.transform,l=e.data.field(r.field);i.set(r.field,fP(o,l,t))}return i}class im extends nm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vP extends nm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bP{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&yP(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Su(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Su(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=k1();return this.mutations.forEach((r=>{const o=t.get(r.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=e.has(r.key)?null:u;const f=U1(l,u);f!==null&&i.set(r.key,f),l.isValidDocument()||l.convertToNoDocument(It.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Gt())}isEqual(t){return this.batchId===t.batchId&&Ll(this.mutations,t.mutations,((e,i)=>BT(e,i)))&&Ll(this.baseMutations,t.baseMutations,((e,i)=>BT(e,i)))}}class g_{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){ie(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=(function(){return oP})();const o=t.mutations;for(let l=0;l<o.length;l++)r=r.insert(o[l].key,i[l].version);return new g_(t,e,i,r)}}class EP{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class TP{constructor(t,e){this.count=t,this.unchangedNames=e}}var We,$t;function SP(n){switch(n){case rt.OK:return Rt(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return Rt(15467,{code:n})}}function F1(n){if(n===void 0)return pr("GRPC error has no .code"),rt.UNKNOWN;switch(n){case We.OK:return rt.OK;case We.CANCELLED:return rt.CANCELLED;case We.UNKNOWN:return rt.UNKNOWN;case We.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case We.INTERNAL:return rt.INTERNAL;case We.UNAVAILABLE:return rt.UNAVAILABLE;case We.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case We.NOT_FOUND:return rt.NOT_FOUND;case We.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case We.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case We.ABORTED:return rt.ABORTED;case We.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case We.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case We.DATA_LOSS:return rt.DATA_LOSS;default:return Rt(39323,{code:n})}}($t=We||(We={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";function xP(){return new TextEncoder}const wP=new da([4294967295,4294967295],0);function qT(n){const t=xP().encode(n),e=new i1;return e.update(t),new Uint8Array(e.digest())}function GT(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new da([e,i],0),new da([r,o],0)]}class y_{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new fu(`Invalid padding: ${e}`);if(i<0)throw new fu(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new fu(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new fu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=da.fromNumber(this.ge)}ye(t,e,i){let r=t.add(e.multiply(da.fromNumber(i)));return r.compare(wP)===1&&(r=new da([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=qT(t),[i,r]=GT(e);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,r,o);if(!this.we(l))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),l=new y_(o,r,e);return i.forEach((u=>l.insert(u))),l}insert(t){if(this.ge===0)return;const e=qT(t),[i,r]=GT(e);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,r,o);this.Se(l)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sm{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,ah.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new sm(It.min(),r,new Ce(qt),gr(),Gt())}}class ah{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new ah(i,e,Gt(),Gt(),Gt())}}class fd{constructor(t,e,i,r){this.be=t,this.removedTargetIds=e,this.key=i,this.De=r}}class H1{constructor(t,e){this.targetId=t,this.Ce=e}}class q1{constructor(t,e,i=En.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class YT{constructor(){this.ve=0,this.Fe=WT(),this.Me=En.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Gt(),e=Gt(),i=Gt();return this.Fe.forEach(((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Rt(38017,{changeType:o})}})),new ah(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=WT()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ie(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class AP{constructor(t){this.Ge=t,this.ze=new Map,this.je=gr(),this.Je=Bf(),this.He=Bf(),this.Ye=new Ce(qt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:Rt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,r)=>{this.rt(r)&&e(r)}))}st(t){const e=t.targetId,i=t.Ce.count,r=this.ot(e);if(r){const o=r.target;if(yy(o))if(i===0){const l=new St(o.path);this.et(e,l,Cn.newNoDocument(l,It.min()))}else ie(i===1,20013,{expectedCount:i});else{const l=this._t(e);if(l!==i){const u=this.ut(t),f=u?this.ct(u,t,l):1;if(f!==0){this.it(e);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,d)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let l,u;try{l=ba(i).toUint8Array()}catch(f){if(f instanceof p1)return Pl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new y_(l,r,o)}catch(f){return Pl(f instanceof fu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let r=0;return i.forEach((o=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;t.mightContain(u)||(this.et(e,o,null),r++)})),r}Tt(t){const e=new Map;this.ze.forEach(((o,l)=>{const u=this.ot(l);if(u){if(o.current&&yy(u.target)){const f=new St(u.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,Cn.newNoDocument(f,t))}o.Be&&(e.set(l,o.ke()),o.qe())}}));let i=Gt();this.He.forEach(((o,l)=>{let u=!0;l.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(i=i.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(t)));const r=new sm(t,e,this.Ye,this.je,i);return this.je=gr(),this.Je=Bf(),this.He=Bf(),this.Ye=new Ce(qt),r}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,e)?r.Qe(e,1):r.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new YT,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new tn(qt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new tn(qt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||yt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new YT),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Bf(){return new Ce(St.comparator)}function WT(){return new Ce(St.comparator)}const RP={asc:"ASCENDING",desc:"DESCENDING"},CP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IP={and:"AND",or:"OR"};class DP{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function by(n,t){return n.useProto3Json||Qd(t)?t:{value:t}}function Dd(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function G1(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function MP(n,t){return Dd(n,t.toTimestamp())}function Rs(n){return ie(!!n,49232),It.fromTimestamp((function(e){const i=va(e);return new ve(i.seconds,i.nanos)})(n))}function __(n,t){return Ey(n,t).canonicalString()}function Ey(n,t){const e=(function(r){return new pe(["projects",r.projectId,"databases",r.database])})(n).child("documents");return t===void 0?e:e.child(t)}function Y1(n){const t=pe.fromString(n);return ie(Q1(t),10190,{key:t.toString()}),t}function Ty(n,t){return __(n.databaseId,t.path)}function Pg(n,t){const e=Y1(t);if(e.get(1)!==n.databaseId.projectId)throw new gt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new gt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new St($1(e))}function W1(n,t){return __(n.databaseId,t)}function OP(n){const t=Y1(n);return t.length===4?pe.emptyPath():$1(t)}function Sy(n){return new pe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $1(n){return ie(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function $T(n,t,e){return{name:Ty(n,t),fields:e.value.mapValue.fields}}function NP(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Rt(39313,{state:d})})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=(function(d,g){return d.useProto3Json?(ie(g===void 0||typeof g=="string",58123),En.fromBase64String(g||"")):(ie(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),En.fromUint8Array(g||new Uint8Array))})(n,t.targetChange.resumeToken),l=t.targetChange.cause,u=l&&(function(d){const g=d.code===void 0?rt.UNKNOWN:F1(d.code);return new gt(g,d.message||"")})(l);e=new q1(i,r,o,u||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Pg(n,i.document.name),o=Rs(i.document.updateTime),l=i.document.createTime?Rs(i.document.createTime):It.min(),u=new $n({mapValue:{fields:i.document.fields}}),f=Cn.newFoundDocument(r,o,l,u),d=i.targetIds||[],g=i.removedTargetIds||[];e=new fd(d,g,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Pg(n,i.document),o=i.readTime?Rs(i.readTime):It.min(),l=Cn.newNoDocument(r,o),u=i.removedTargetIds||[];e=new fd([],u,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Pg(n,i.document),o=i.removedTargetIds||[];e=new fd([],o,r,null)}else{if(!("filter"in t))return Rt(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,l=new TP(r,o),u=i.targetId;e=new H1(u,l)}}return e}function kP(n,t){let e;if(t instanceof rh)e={update:$T(n,t.key,t.value)};else if(t instanceof im)e={delete:Ty(n,t.key)};else if(t instanceof Da)e={update:$T(n,t.key,t.data),updateMask:HP(t.fieldMask)};else{if(!(t instanceof vP))return Rt(16599,{Vt:t.type});e={verify:Ty(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,l){const u=l.transform;if(u instanceof Vu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof zu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ju)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Id)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Rt(20930,{transform:l.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:MP(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Rt(27497)})(n,t.precondition)),e}function PP(n,t){return n&&n.length>0?(ie(t!==void 0,14353),n.map((e=>(function(r,o){let l=r.updateTime?Rs(r.updateTime):Rs(o);return l.isEqual(It.min())&&(l=Rs(o)),new gP(l,r.transformResults||[])})(e,t)))):[]}function LP(n,t){return{documents:[W1(n,t.path)]}}function VP(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=W1(n,r);const o=(function(d){if(d.length!==0)return X1(Qi.create(d,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const l=(function(d){if(d.length!==0)return d.map((g=>(function(v){return{field:Al(v.field),direction:UP(v.dir)}})(g)))})(t.orderBy);l&&(e.structuredQuery.orderBy=l);const u=by(n,t.limit);return u!==null&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(t.endAt)),{ft:e,parent:r}}function zP(n){let t=OP(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){ie(i===1,65062);const g=e.from[0];g.allDescendants?r=g.collectionId:t=t.child(g.collectionId)}let o=[];e.where&&(o=(function(y){const v=K1(y);return v instanceof Qi&&w1(v)?v.getFilters():[v]})(e.where));let l=[];e.orderBy&&(l=(function(y){return y.map((v=>(function(x){return new Lu(Rl(x.field),(function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(v)))})(e.orderBy));let u=null;e.limit&&(u=(function(y){let v;return v=typeof y=="object"?y.value:y,Qd(v)?null:v})(e.limit));let f=null;e.startAt&&(f=(function(y){const v=!!y.before,T=y.values||[];return new Cd(T,v)})(e.startAt));let d=null;return e.endAt&&(d=(function(y){const v=!y.before,T=y.values||[];return new Cd(T,v)})(e.endAt)),nP(t,r,l,o,u,"F",f,d)}function jP(n,t){const e=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt(28987,{purpose:r})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function K1(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Rl(e.unaryFilter.field);return $e.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Rl(e.unaryFilter.field);return $e.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Rl(e.unaryFilter.field);return $e.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Rl(e.unaryFilter.field);return $e.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rt(61313);default:return Rt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return $e.create(Rl(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rt(58110);default:return Rt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Qi.create(e.compositeFilter.filters.map((i=>K1(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Rt(1026)}})(e.compositeFilter.op))})(n):Rt(30097,{filter:n})}function UP(n){return RP[n]}function BP(n){return CP[n]}function FP(n){return IP[n]}function Al(n){return{fieldPath:n.canonicalString()}}function Rl(n){return bn.fromServerFormat(n.fieldPath)}function X1(n){return n instanceof $e?(function(e){if(e.op==="=="){if(PT(e.value))return{unaryFilter:{field:Al(e.field),op:"IS_NAN"}};if(kT(e.value))return{unaryFilter:{field:Al(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(PT(e.value))return{unaryFilter:{field:Al(e.field),op:"IS_NOT_NAN"}};if(kT(e.value))return{unaryFilter:{field:Al(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Al(e.field),op:BP(e.op),value:e.value}}})(n):n instanceof Qi?(function(e){const i=e.getFilters().map((r=>X1(r)));return i.length===1?i[0]:{compositeFilter:{op:FP(e.op),filters:i}}})(n):Rt(54877,{filter:n})}function HP(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Q1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class ra{constructor(t,e,i,r,o=It.min(),l=It.min(),u=En.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(t){return new ra(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class qP{constructor(t){this.yt=t}}function GP(n){const t=zP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?vy(t,t.limit,"L"):t}class YP{constructor(){this.Cn=new WP}addToCollectionParentIndex(t,e){return this.Cn.add(e),ct.resolve()}getCollectionParents(t,e){return ct.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return ct.resolve()}deleteFieldIndex(t,e){return ct.resolve()}deleteAllFieldIndexes(t){return ct.resolve()}createTargetIndexes(t,e){return ct.resolve()}getDocumentsMatchingTarget(t,e){return ct.resolve(null)}getIndexType(t,e){return ct.resolve(0)}getFieldIndexes(t,e){return ct.resolve([])}getNextCollectionGroupToUpdate(t){return ct.resolve(null)}getMinOffset(t,e){return ct.resolve(_a.min())}getMinOffsetFromCollectionGroup(t,e){return ct.resolve(_a.min())}updateCollectionGroup(t,e,i){return ct.resolve()}updateIndexEntries(t,e){return ct.resolve()}}class WP{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new tn(pe.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new tn(pe.comparator)).toArray()}}const KT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},J1=41943040;class Wn{static withCacheSize(t){return new Wn(t,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}Wn.DEFAULT_COLLECTION_PERCENTILE=10,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wn.DEFAULT=new Wn(J1,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wn.DISABLED=new Wn(-1,0,0);class jl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new jl(0)}static cr(){return new jl(-1)}}const XT="LruGarbageCollector",$P=1048576;function QT([n,t],[e,i]){const r=qt(n,e);return r===0?qt(t,i):r}class KP{constructor(t){this.Ir=t,this.buffer=new tn(QT),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();QT(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class XP{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){yt(XT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Zl(e)?yt(XT,"Ignoring IndexedDB error during garbage collection: ",e):await Jl(e)}await this.Vr(3e5)}))}}class QP{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return ct.resolve(Xd.ce);const i=new KP(e);return this.mr.forEachTarget(t,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(t,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(yt("LruGarbageCollector","Garbage collection skipped; disabled"),ct.resolve(KT)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(yt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),KT):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,r,o,l,u,f,d;const g=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(yt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),r=this.params.maximumSequenceNumbersToCollect):r=y,l=Date.now(),this.nthSequenceNumber(t,r)))).next((y=>(i=y,u=Date.now(),this.removeTargets(t,i,e)))).next((y=>(o=y,f=Date.now(),this.removeOrphanedDocuments(t,i)))).next((y=>(d=Date.now(),xl()<=Ht.DEBUG&&yt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${r} in `+(u-l)+`ms
	Removed ${o} targets in `+(f-u)+`ms
	Removed ${y} documents in `+(d-f)+`ms
Total Duration: ${d-g}ms`),ct.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:y}))))}}function JP(n,t){return new QP(n,t)}class ZP{constructor(){this.changes=new Oo((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Cn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?ct.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class tL{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class eL{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(i=r,this.remoteDocumentCache.getEntry(t,e)))).next((r=>(i!==null&&Su(i.mutation,r,hi.empty(),ve.now()),r)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Gt()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Gt()){const r=yo();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,i).next((o=>{let l=hu();return o.forEach(((u,f)=>{l=l.insert(u,f.overlayedDocument)})),l}))))}getOverlayedDocuments(t,e){const i=yo();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Gt())))}populateOverlays(t,e,i){const r=[];return i.forEach((o=>{e.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(t,r).next((o=>{o.forEach(((l,u)=>{e.set(l,u)}))}))}computeViews(t,e,i,r){let o=gr();const l=Tu(),u=(function(){return Tu()})();return e.forEach(((f,d)=>{const g=i.get(d.key);r.has(d.key)&&(g===void 0||g.mutation instanceof Da)?o=o.insert(d.key,d):g!==void 0?(l.set(d.key,g.mutation.getFieldMask()),Su(g.mutation,d,g.mutation.getFieldMask(),ve.now())):l.set(d.key,hi.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((d,g)=>l.set(d,g))),e.forEach(((d,g)=>u.set(d,new tL(g,l.get(d)??null)))),u)))}recalculateAndSaveOverlays(t,e){const i=Tu();let r=new Ce(((l,u)=>l-u)),o=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((l=>{for(const u of l)u.keys().forEach((f=>{const d=e.get(f);if(d===null)return;let g=i.get(f)||hi.empty();g=u.applyToLocalView(d,g),i.set(f,g);const y=(r.get(u.batchId)||Gt()).add(f);r=r.insert(u.batchId,y)}))})).next((()=>{const l=[],u=r.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),d=f.key,g=f.value,y=k1();g.forEach((v=>{if(!o.has(v)){const T=U1(e.get(v),i.get(v));T!==null&&y.set(v,T),o=o.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(t,d,y))}return ct.waitFor(l)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,r){return(function(l){return St.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):I1(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next((o=>{const l=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):ct.resolve(yo());let u=Ou,f=o;return l.next((d=>ct.forEach(d,((g,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),o.get(g)?ct.resolve():this.remoteDocumentCache.getEntry(t,g).next((v=>{f=f.insert(g,v)}))))).next((()=>this.populateOverlays(t,d,o))).next((()=>this.computeViews(t,f,d,Gt()))).next((g=>({batchId:u,changes:N1(g)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new St(e)).next((i=>{let r=hu();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let l=hu();return this.indexManager.getCollectionParents(t,o).next((u=>ct.forEach(u,(f=>{const d=(function(y,v){return new tc(v,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,i,r).next((g=>{g.forEach(((y,v)=>{l=l.insert(y,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r)))).next((l=>{o.forEach(((f,d)=>{const g=d.getKey();l.get(g)===null&&(l=l.insert(g,Cn.newInvalidDocument(g)))}));let u=hu();return l.forEach(((f,d)=>{const g=o.get(f);g!==void 0&&Su(g.mutation,d,hi.empty(),ve.now()),tm(e,d)&&(u=u.insert(f,d))})),u}))}}class nL{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return ct.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:Rs(r.createTime)}})(e)),ct.resolve()}getNamedQuery(t,e){return ct.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(r){return{name:r.name,query:GP(r.bundledQuery),readTime:Rs(r.readTime)}})(e)),ct.resolve()}}class iL{constructor(){this.overlays=new Ce(St.comparator),this.qr=new Map}getOverlay(t,e){return ct.resolve(this.overlays.get(e))}getOverlays(t,e){const i=yo();return ct.forEach(e,(r=>this.getOverlay(t,r).next((o=>{o!==null&&i.set(r,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((r,o)=>{this.St(t,e,o)})),ct.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),ct.resolve()}getOverlaysForCollection(t,e,i){const r=yo(),o=e.length+1,l=new St(e.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,d=f.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return ct.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new Ce(((d,g)=>d-g));const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>i){let g=o.get(d.largestBatchId);g===null&&(g=yo(),o=o.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const u=yo(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,g)=>u.set(d,g))),!(u.size()>=r)););return ct.resolve(u)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new EP(e,i));let o=this.qr.get(e);o===void 0&&(o=Gt(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}class sL{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(t){return ct.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ct.resolve()}}class v_{constructor(){this.Qr=new tn(on.$r),this.Ur=new tn(on.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new on(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new on(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new St(new pe([])),i=new on(e,t),r=new on(e,t+1),o=[];return this.Ur.forEachInRange([i,r],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new St(new pe([])),i=new on(e,t),r=new on(e,t+1);let o=Gt();return this.Ur.forEachInRange([i,r],(l=>{o=o.add(l.key)})),o}containsKey(t){const e=new on(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class on{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return St.comparator(t.key,e.key)||qt(t.Yr,e.Yr)}static Kr(t,e){return qt(t.Yr,e.Yr)||St.comparator(t.key,e.key)}}class rL{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new tn(on.$r)}checkEmpty(t){return ct.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new bP(o,e,i,r);this.mutationQueue.push(l);for(const u of r)this.Zr=this.Zr.add(new on(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return ct.resolve(l)}lookupMutationBatch(t,e){return ct.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ei(i),o=r<0?0:r;return ct.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ct.resolve(this.mutationQueue.length===0?c_:this.tr-1)}getAllMutationBatches(t){return ct.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new on(e,0),r=new on(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,r],(l=>{const u=this.Xr(l.Yr);o.push(u)})),ct.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new tn(qt);return e.forEach((r=>{const o=new on(r,0),l=new on(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(u=>{i=i.add(u.Yr)}))})),ct.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;St.isDocumentKey(o)||(o=o.child(""));const l=new on(new St(o),0);let u=new tn(qt);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(u=u.add(f.Yr)),!0)}),l),ct.resolve(this.ti(u))}ti(t){const e=[];return t.forEach((i=>{const r=this.Xr(i);r!==null&&e.push(r)})),e}removeMutationBatch(t,e){ie(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ct.forEach(e.mutations,(r=>{const o=new on(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new on(e,0),r=this.Zr.firstAfterOrEqual(i);return ct.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,ct.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class aL{constructor(t){this.ri=t,this.docs=(function(){return new Ce(St.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,l=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ct.resolve(i?i.document.mutableCopy():Cn.newInvalidDocument(e))}getEntries(t,e){let i=gr();return e.forEach((r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Cn.newInvalidDocument(r))})),ct.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=gr();const l=e.path,u=new St(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:d,value:{document:g}}=f.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||kk(Nk(g),i)<=0||(r.has(g.key)||tm(e,g))&&(o=o.insert(g.key,g.mutableCopy()))}return ct.resolve(o)}getAllFromCollectionGroup(t,e,i,r){Rt(9500)}ii(t,e){return ct.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new oL(this)}getSize(t){return ct.resolve(this.size)}}class oL extends ZP{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?e.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(i)})),ct.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class lL{constructor(t){this.persistence=t,this.si=new Oo((e=>f_(e)),d_),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.oi=0,this._i=new v_,this.targetCount=0,this.ai=jl.ur()}forEachTarget(t,e){return this.si.forEach(((i,r)=>e(r))),ct.resolve()}getLastRemoteSnapshotVersion(t){return ct.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ct.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ct.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),ct.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new jl(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,ct.resolve()}updateTargetData(t,e){return this.Pr(e),ct.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,ct.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=e&&i.get(u.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)})),ct.waitFor(o).next((()=>r))}getTargetCount(t){return ct.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return ct.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),ct.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach((l=>{o.push(r.markPotentiallyOrphaned(t,l))})),ct.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),ct.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return ct.resolve(i)}containsKey(t,e){return ct.resolve(this._i.containsKey(e))}}class Z1{constructor(t,e){this.ui={},this.overlays={},this.ci=new Xd(0),this.li=!1,this.li=!0,this.hi=new sL,this.referenceDelegate=t(this),this.Pi=new lL(this),this.indexManager=new YP,this.remoteDocumentCache=(function(r){return new aL(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new qP(e),this.Ii=new nL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new iL,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new rL(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){yt("MemoryPersistence","Starting transaction:",t);const r=new cL(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((o=>this.referenceDelegate.di(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ai(t,e){return ct.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class cL extends Lk{constructor(t){super(),this.currentSequenceNumber=t}}class b_{constructor(t){this.persistence=t,this.Ri=new v_,this.Vi=null}static mi(t){return new b_(t)}get fi(){if(this.Vi)return this.Vi;throw Rt(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),ct.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),ct.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),ct.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((r=>{r.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ct.forEach(this.fi,(i=>{const r=St.fromPath(i);return this.gi(t,r).next((o=>{o||e.removeEntry(r,It.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return ct.or([()=>ct.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Md{constructor(t,e){this.persistence=t,this.pi=new Oo((i=>jk(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=JP(this,e)}static mi(t,e){return new Md(t,e)}Ei(){}di(t){return ct.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((r=>i+r))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return ct.forEach(this.pi,((i,r)=>this.br(t,i,r).next((o=>o?ct.resolve():e(r)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(t,(l=>this.br(t,l,e).next((u=>{u||(i++,o.removeEntry(l,It.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),ct.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),ct.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),ct.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),ct.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=cd(t.data.value)),e}br(t,e,i){return ct.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.pi.get(e);return ct.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class E_{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=r}static As(t,e){let i=Gt(),r=Gt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new E_(t,e.fromCache,i,r)}}class uL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class hL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return HD()?8:Vk(Dn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ys(t,e).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(t,e,r,i).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new uL;return this.Ss(t,e,l).next((u=>{if(o.result=u,this.Vs)return this.bs(t,e,l,u.size)}))})).next((()=>o.result))}bs(t,e,i,r){return i.documentReadCount<this.fs?(xl()<=Ht.DEBUG&&yt("QueryEngine","SDK will not create cache indexes for query:",wl(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ct.resolve()):(xl()<=Ht.DEBUG&&yt("QueryEngine","Query:",wl(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(xl()<=Ht.DEBUG&&yt("QueryEngine","The SDK decides to create cache indexes for query:",wl(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,As(e))):ct.resolve())}ys(t,e){if(jT(e))return ct.resolve(null);let i=As(e);return this.indexManager.getIndexType(t,i).next((r=>r===0?null:(e.limit!==null&&r===1&&(e=vy(e,null,"F"),i=As(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const l=Gt(...o);return this.ps.getDocuments(t,l).next((u=>this.indexManager.getMinOffset(t,i).next((f=>{const d=this.Ds(e,u);return this.Cs(e,d,l,f.readTime)?this.ys(t,vy(e,null,"F")):this.vs(t,d,e,f)}))))})))))}ws(t,e,i,r){return jT(e)||r.isEqual(It.min())?ct.resolve(null):this.ps.getDocuments(t,i).next((o=>{const l=this.Ds(e,o);return this.Cs(e,l,i,r)?ct.resolve(null):(xl()<=Ht.DEBUG&&yt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),wl(e)),this.vs(t,l,e,Ok(r,Ou)).next((u=>u)))}))}Ds(t,e){let i=new tn(M1(t));return e.forEach(((r,o)=>{tm(t,o)&&(i=i.add(o))})),i}Cs(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(t,e,i){return xl()<=Ht.DEBUG&&yt("QueryEngine","Using full collection scan to execute query:",wl(e)),this.ps.getDocumentsMatchingQuery(t,e,_a.min(),i)}vs(t,e,i,r){return this.ps.getDocumentsMatchingQuery(t,i,r).next((o=>(e.forEach((l=>{o=o.insert(l.key,l)})),o)))}}const T_="LocalStore",fL=3e8;class dL{constructor(t,e,i,r){this.persistence=t,this.Fs=e,this.serializer=r,this.Ms=new Ce(qt),this.xs=new Oo((o=>f_(o)),d_),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new eL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function mL(n,t,e,i){return new dL(n,t,e,i)}async function tA(n,t){const e=Nt(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next((o=>(r=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const l=[],u=[];let f=Gt();for(const d of r){l.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}for(const d of o){u.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}return e.localDocuments.getDocuments(i,f).next((d=>({Ls:d,removedBatchIds:l,addedBatchIds:u})))}))}))}function pL(n,t){const e=Nt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,f,d,g){const y=d.batch,v=y.keys();let T=ct.resolve();return v.forEach((x=>{T=T.next((()=>g.getEntry(f,x))).next((A=>{const w=d.docVersions.get(x);ie(w!==null,48541),A.version.compareTo(w)<0&&(y.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),g.addEntry(A)))}))})),T.next((()=>u.mutationQueue.removeMutationBatch(f,y)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(u){let f=Gt();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(f=f.add(u.batch.mutations[d].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(i,r)))}))}function eA(n){const t=Nt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function gL(n,t){const e=Nt(n),i=t.snapshotVersion;let r=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=e.Ns.newChangeBuffer({trackRemovals:!0});r=e.Ms;const u=[];t.targetChanges.forEach(((g,y)=>{const v=r.get(y);if(!v)return;u.push(e.Pi.removeMatchingKeys(o,g.removedDocuments,y).next((()=>e.Pi.addMatchingKeys(o,g.addedDocuments,y))));let T=v.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(y)!==null?T=T.withResumeToken(En.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,i)),r=r.insert(y,T),(function(A,w,O){return A.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=fL?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(v,T,g)&&u.push(e.Pi.updateTargetData(o,T))}));let f=gr(),d=Gt();if(t.documentUpdates.forEach((g=>{t.resolvedLimboDocuments.has(g)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(o,g))})),u.push(yL(o,l,t.documentUpdates).next((g=>{f=g.ks,d=g.qs}))),!i.isEqual(It.min())){const g=e.Pi.getLastRemoteSnapshotVersion(o).next((y=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));u.push(g)}return ct.waitFor(u).next((()=>l.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(e.Ms=r,o)))}function yL(n,t,e){let i=Gt(),r=Gt();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let l=gr();return e.forEach(((u,f)=>{const d=o.get(u);f.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(u)),f.isNoDocument()&&f.version.isEqual(It.min())?(t.removeEntry(u,f.readTime),l=l.insert(u,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(f),l=l.insert(u,f)):yt(T_,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",f.version)})),{ks:l,qs:r}}))}function _L(n,t){const e=Nt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=c_),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function vL(n,t){const e=Nt(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return e.Pi.getTargetData(i,t).next((o=>o?(r=o,ct.resolve(r)):e.Pi.allocateTargetId(i).next((l=>(r=new ra(t,l,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=e.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function xy(n,t,e){const i=Nt(n),r=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!Zl(l))throw l;yt(T_,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function JT(n,t,e){const i=Nt(n);let r=It.min(),o=Gt();return i.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,d,g){const y=Nt(f),v=y.xs.get(g);return v!==void 0?ct.resolve(y.Ms.get(v)):y.Pi.getTargetData(d,g)})(i,l,As(t)).next((u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(l,u.targetId).next((f=>{o=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(l,t,e?r:It.min(),e?o:Gt()))).next((u=>(bL(i,sP(t),u),{documents:u,Qs:o})))))}function bL(n,t,e){let i=n.Os.get(t)||It.min();e.forEach(((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(t,i)}class ZT{constructor(){this.activeTargetIds=uP()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class EL{constructor(){this.Mo=new ZT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new ZT,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class TL{Oo(t){}shutdown(){}}const tS="ConnectivityMonitor";class eS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){yt(tS,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){yt(tS,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ff=null;function wy(){return Ff===null?Ff=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ff++,"0x"+Ff.toString(16)}const Lg="RestConnection",SL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xL{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Ad?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(t,e,i,r,o){const l=wy(),u=this.zo(t,e.toUriEncodedString());yt(Lg,`Sending RPC '${t}' ${l}:`,u,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,r,o);const{host:d}=new URL(u),g=$l(d);return this.Jo(t,u,f,i,g).then((y=>(yt(Lg,`Received RPC '${t}' ${l}: `,y),y)),(y=>{throw Pl(Lg,`RPC '${t}' ${l} failed with error: `,y,"url: ",u,"request:",i),y}))}Ho(t,e,i,r,o,l){return this.Go(t,e,i,r,o)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ql})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((r,o)=>t[o]=r)),i&&i.headers.forEach(((r,o)=>t[o]=r))}zo(t,e){const i=SL[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}class wL{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const xn="WebChannelConnection";class AL extends xL{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,r,o){const l=wy();return new Promise(((u,f)=>{const d=new s1;d.setWithCredentials(!0),d.listenOnce(r1.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case ld.NO_ERROR:const y=d.getResponseJson();yt(xn,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(y)),u(y);break;case ld.TIMEOUT:yt(xn,`RPC '${t}' ${l} timed out`),f(new gt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case ld.HTTP_ERROR:const v=d.getStatus();if(yt(xn,`RPC '${t}' ${l} failed with status:`,v,"response text:",d.getResponseText()),v>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const x=T?.error;if(x&&x.status&&x.message){const A=(function(O){const V=O.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(V)>=0?V:rt.UNKNOWN})(x.status);f(new gt(A,x.message))}else f(new gt(rt.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new gt(rt.UNAVAILABLE,"Connection failed."));break;default:Rt(9055,{l_:t,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{yt(xn,`RPC '${t}' ${l} completed.`)}}));const g=JSON.stringify(r);yt(xn,`RPC '${t}' ${l} sending request:`,r),d.send(e,"POST",g,i,15)}))}T_(t,e,i){const r=wy(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=l1(),u=o1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const g=o.join("");yt(xn,`Creating RPC '${t}' stream ${r}: ${g}`,f);const y=l.createWebChannel(g,f);this.I_(y);let v=!1,T=!1;const x=new wL({Yo:w=>{T?yt(xn,`Not sending because RPC '${t}' stream ${r} is closed:`,w):(v||(yt(xn,`Opening RPC '${t}' stream ${r} transport.`),y.open(),v=!0),yt(xn,`RPC '${t}' stream ${r} sending:`,w),y.send(w))},Zo:()=>y.close()}),A=(w,O,V)=>{w.listen(O,(j=>{try{V(j)}catch($){setTimeout((()=>{throw $}),0)}}))};return A(y,uu.EventType.OPEN,(()=>{T||(yt(xn,`RPC '${t}' stream ${r} transport opened.`),x.o_())})),A(y,uu.EventType.CLOSE,(()=>{T||(T=!0,yt(xn,`RPC '${t}' stream ${r} transport closed`),x.a_(),this.E_(y))})),A(y,uu.EventType.ERROR,(w=>{T||(T=!0,Pl(xn,`RPC '${t}' stream ${r} transport errored. Name:`,w.name,"Message:",w.message),x.a_(new gt(rt.UNAVAILABLE,"The operation could not be completed")))})),A(y,uu.EventType.MESSAGE,(w=>{if(!T){const O=w.data[0];ie(!!O,16349);const V=O,j=V?.error||V[0]?.error;if(j){yt(xn,`RPC '${t}' stream ${r} received error:`,j);const $=j.status;let B=(function(R){const M=We[R];if(M!==void 0)return F1(M)})($),Y=j.message;B===void 0&&(B=rt.INTERNAL,Y="Unknown error status: "+$+" with message "+j.message),T=!0,x.a_(new gt(B,Y)),y.close()}else yt(xn,`RPC '${t}' stream ${r} received:`,O),x.u_(O)}})),A(u,a1.STAT_EVENT,(w=>{w.stat===fy.PROXY?yt(xn,`RPC '${t}' stream ${r} detected buffering proxy`):w.stat===fy.NOPROXY&&yt(xn,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{x.__()}),0),x}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function Vg(){return typeof document<"u"?document:null}function rm(n){return new DP(n,!0)}class nA{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&yt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const nS="PersistentStream";class iA{constructor(t,e,i,r,o,l,u,f){this.Mi=t,this.S_=i,this.b_=r,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nA(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===rt.RESOURCE_EXHAUSTED?(pr(e.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===e&&this.G_(i,r)}),(i=>{t((()=>{const r=new gt(rt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return yt(nS,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(yt(nS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class RL extends iA{constructor(t,e,i,r,o,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,l),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=NP(this.serializer,t),i=(function(o){if(!("targetChange"in o))return It.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?It.min():l.readTime?Rs(l.readTime):It.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=Sy(this.serializer),e.addTarget=(function(o,l){let u;const f=l.target;if(u=yy(f)?{documents:LP(o,f)}:{query:VP(o,f).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=G1(o,l.resumeToken);const d=by(o,l.expectedCount);d!==null&&(u.expectedCount=d)}else if(l.snapshotVersion.compareTo(It.min())>0){u.readTime=Dd(o,l.snapshotVersion.toTimestamp());const d=by(o,l.expectedCount);d!==null&&(u.expectedCount=d)}return u})(this.serializer,t);const i=jP(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=Sy(this.serializer),e.removeTarget=t,this.q_(e)}}class CL extends iA{constructor(t,e,i,r,o,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return ie(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ie(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ie(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=PP(t.writeResults,t.commitTime),i=Rs(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=Sy(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>kP(this.serializer,i)))};this.q_(e)}}class IL{}class DL extends IL{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new gt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(t,Ey(e,i),r,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new gt(rt.UNKNOWN,o.toString())}))}Ho(t,e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(t,Ey(e,i),r,l,u,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new gt(rt.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ML{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pr(e),this.aa=!1):yt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ro="RemoteStore";class OL{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{i.enqueueAndForget((async()=>{No(this)&&(yt(Ro,"Restarting streams for network reachability change."),await(async function(f){const d=Nt(f);d.Ea.add(4),await oh(d),d.Ra.set("Unknown"),d.Ea.delete(4),await am(d)})(this))}))})),this.Ra=new ML(i,r)}}async function am(n){if(No(n))for(const t of n.da)await t(!0)}async function oh(n){for(const t of n.da)await t(!1)}function sA(n,t){const e=Nt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),A_(e)?w_(e):ec(e).O_()&&x_(e,t))}function S_(n,t){const e=Nt(n),i=ec(e);e.Ia.delete(t),i.O_()&&rA(e,t),e.Ia.size===0&&(i.O_()?i.L_():No(e)&&e.Ra.set("Unknown"))}function x_(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(It.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}ec(n).Y_(t)}function rA(n,t){n.Va.Ue(t),ec(n).Z_(t)}function w_(n){n.Va=new AP({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),ec(n).start(),n.Ra.ua()}function A_(n){return No(n)&&!ec(n).x_()&&n.Ia.size>0}function No(n){return Nt(n).Ea.size===0}function aA(n){n.Va=void 0}async function NL(n){n.Ra.set("Online")}async function kL(n){n.Ia.forEach(((t,e)=>{x_(n,t)}))}async function PL(n,t){aA(n),A_(n)?(n.Ra.ha(t),w_(n)):n.Ra.set("Unknown")}async function LL(n,t,e){if(n.Ra.set("Online"),t instanceof q1&&t.state===2&&t.cause)try{await(async function(r,o){const l=o.cause;for(const u of o.targetIds)r.Ia.has(u)&&(await r.remoteSyncer.rejectListen(u,l),r.Ia.delete(u),r.Va.removeTarget(u))})(n,t)}catch(i){yt(Ro,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Od(n,i)}else if(t instanceof fd?n.Va.Ze(t):t instanceof H1?n.Va.st(t):n.Va.tt(t),!e.isEqual(It.min()))try{const i=await eA(n.localStore);e.compareTo(i)>=0&&await(function(o,l){const u=o.Va.Tt(l);return u.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const g=o.Ia.get(d);g&&o.Ia.set(d,g.withResumeToken(f.resumeToken,l))}})),u.targetMismatches.forEach(((f,d)=>{const g=o.Ia.get(f);if(!g)return;o.Ia.set(f,g.withResumeToken(En.EMPTY_BYTE_STRING,g.snapshotVersion)),rA(o,f);const y=new ra(g.target,f,d,g.sequenceNumber);x_(o,y)})),o.remoteSyncer.applyRemoteEvent(u)})(n,e)}catch(i){yt(Ro,"Failed to raise snapshot:",i),await Od(n,i)}}async function Od(n,t,e){if(!Zl(t))throw t;n.Ea.add(1),await oh(n),n.Ra.set("Offline"),e||(e=()=>eA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{yt(Ro,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await am(n)}))}function oA(n,t){return t().catch((e=>Od(n,e,t)))}async function om(n){const t=Nt(n),e=Ta(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:c_;for(;VL(t);)try{const r=await _L(t.localStore,i);if(r===null){t.Ta.length===0&&e.L_();break}i=r.batchId,zL(t,r)}catch(r){await Od(t,r)}lA(t)&&cA(t)}function VL(n){return No(n)&&n.Ta.length<10}function zL(n,t){n.Ta.push(t);const e=Ta(n);e.O_()&&e.X_&&e.ea(t.mutations)}function lA(n){return No(n)&&!Ta(n).x_()&&n.Ta.length>0}function cA(n){Ta(n).start()}async function jL(n){Ta(n).ra()}async function UL(n){const t=Ta(n);for(const e of n.Ta)t.ea(e.mutations)}async function BL(n,t,e){const i=n.Ta.shift(),r=g_.from(i,t,e);await oA(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await om(n)}async function FL(n,t){t&&Ta(n).X_&&await(async function(i,r){if((function(l){return SP(l)&&l!==rt.ABORTED})(r.code)){const o=i.Ta.shift();Ta(i).B_(),await oA(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r))),await om(i)}})(n,t),lA(n)&&cA(n)}async function iS(n,t){const e=Nt(n);e.asyncQueue.verifyOperationInProgress(),yt(Ro,"RemoteStore received new credentials");const i=No(e);e.Ea.add(3),await oh(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await am(e)}async function HL(n,t){const e=Nt(n);t?(e.Ea.delete(2),await am(e)):t||(e.Ea.add(2),await oh(e),e.Ra.set("Unknown"))}function ec(n){return n.ma||(n.ma=(function(e,i,r){const o=Nt(e);return o.sa(),new RL(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:NL.bind(null,n),t_:kL.bind(null,n),r_:PL.bind(null,n),H_:LL.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),A_(n)?w_(n):n.Ra.set("Unknown")):(await n.ma.stop(),aA(n))}))),n.ma}function Ta(n){return n.fa||(n.fa=(function(e,i,r){const o=Nt(e);return o.sa(),new CL(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:jL.bind(null,n),r_:FL.bind(null,n),ta:UL.bind(null,n),na:BL.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await om(n)):(await n.fa.stop(),n.Ta.length>0&&(yt(Ro,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class R_{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const l=Date.now()+i,u=new R_(t,e,l,r,o);return u.start(i),u}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function C_(n,t){if(pr("AsyncQueue",`${t}: ${n}`),Zl(n))return new gt(rt.UNAVAILABLE,`${t}: ${n}`);throw n}class Ol{static emptySet(t){return new Ol(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||St.comparator(e.key,i.key):(e,i)=>St.comparator(e.key,i.key),this.keyedMap=hu(),this.sortedSet=new Ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ol)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Ol;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class sS{constructor(){this.ga=new Ce(St.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Rt(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class Ul{constructor(t,e,i,r,o,l,u,f,d){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(t,e,i,r,o){const l=[];return e.forEach((u=>{l.push({type:0,doc:u})})),new Ul(t,e,Ol.emptySet(e),l,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Zd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class qL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class GL{constructor(){this.queries=rS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=Nt(e),o=r.queries;r.queries=rS(),o.forEach(((l,u)=>{for(const f of u.Sa)f.onError(i)}))})(this,new gt(rt.ABORTED,"Firestore shutting down"))}}function rS(){return new Oo((n=>D1(n)),Zd)}async function uA(n,t){const e=Nt(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.ba()&&t.Da()&&(i=2):(o=new qL,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(r,!0);break;case 1:o.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(l){const u=C_(l,`Initialization of query '${wl(t.query)}' failed`);return void t.onError(u)}e.queries.set(r,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&I_(e)}async function hA(n,t){const e=Nt(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const l=o.Sa.indexOf(t);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?r=t.Da()?0:1:!o.ba()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function YL(n,t){const e=Nt(n);let i=!1;for(const r of t){const o=r.query,l=e.queries.get(o);if(l){for(const u of l.Sa)u.Fa(r)&&(i=!0);l.wa=r}}i&&I_(e)}function WL(n,t,e){const i=Nt(n),r=i.queries.get(t);if(r)for(const o of r.Sa)o.onError(e);i.queries.delete(t)}function I_(n){n.Ca.forEach((t=>{t.next()}))}var Ay,aS;(aS=Ay||(Ay={})).Ma="default",aS.Cache="cache";class fA{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Ul(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Ul.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Ay.Cache}}class dA{constructor(t){this.key=t}}class mA{constructor(t){this.key=t}}class $L{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Gt(),this.mutatedKeys=Gt(),this.eu=M1(t),this.tu=new Ol(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new sS,r=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,l=r,u=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((g,y)=>{const v=r.get(g),T=tm(this.query,y)?y:null,x=!!v&&this.mutatedKeys.has(v.key),A=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let w=!1;v&&T?v.data.isEqual(T.data)?x!==A&&(i.track({type:3,doc:T}),w=!0):this.su(v,T)||(i.track({type:2,doc:T}),w=!0,(f&&this.eu(T,f)>0||d&&this.eu(T,d)<0)&&(u=!0)):!v&&T?(i.track({type:0,doc:T}),w=!0):v&&!T&&(i.track({type:1,doc:v}),w=!0,(f||d)&&(u=!0)),w&&(T?(l=l.add(T),o=A?o.add(g):o.delete(g)):(l=l.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),o=o.delete(g.key),i.track({type:1,doc:g})}return{tu:l,iu:i,Cs:u,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const l=t.iu.ya();l.sort(((g,y)=>(function(T,x){const A=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt(20277,{Rt:w})}};return A(T)-A(x)})(g.type,y.type)||this.eu(g.doc,y.doc))),this.ou(i),r=r??!1;const u=e&&!r?this._u():[],f=this.Xa.size===0&&this.current&&!r?1:0,d=f!==this.Za;return this.Za=f,l.length!==0||d?{snapshot:new Ul(this.query,t.tu,o,l,t.mutatedKeys,f===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Gt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new mA(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new dA(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=Gt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Ul.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const D_="SyncEngine";class KL{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class XL{constructor(t){this.key=t,this.hu=!1}}class QL{constructor(t,e,i,r,o,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Oo((u=>D1(u)),Zd),this.Iu=new Map,this.Eu=new Set,this.du=new Ce(St.comparator),this.Au=new Map,this.Ru=new v_,this.Vu={},this.mu=new Map,this.fu=jl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JL(n,t,e=!0){const i=bA(n);let r;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await pA(i,t,e,!0),r}async function ZL(n,t){const e=bA(n);await pA(e,t,!0,!1)}async function pA(n,t,e,i){const r=await vL(n.localStore,As(t)),o=r.targetId,l=n.sharedClientState.addLocalQueryTarget(o,e);let u;return i&&(u=await tV(n,t,o,l==="current",r.resumeToken)),n.isPrimaryClient&&e&&sA(n.remoteStore,r),u}async function tV(n,t,e,i,r){n.pu=(y,v,T)=>(async function(A,w,O,V){let j=w.view.ru(O);j.Cs&&(j=await JT(A.localStore,w.query,!1).then((({documents:I})=>w.view.ru(I,j))));const $=V&&V.targetChanges.get(w.targetId),B=V&&V.targetMismatches.get(w.targetId)!=null,Y=w.view.applyChanges(j,A.isPrimaryClient,$,B);return lS(A,w.targetId,Y.au),Y.snapshot})(n,y,v,T);const o=await JT(n.localStore,t,!0),l=new $L(t,o.Qs),u=l.ru(o.documents),f=ah.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),d=l.applyChanges(u,n.isPrimaryClient,f);lS(n,e,d.au);const g=new KL(t,e,l);return n.Tu.set(t,g),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),d.snapshot}async function eV(n,t,e){const i=Nt(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter((l=>!Zd(l,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await xy(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),e&&S_(i.remoteStore,r.targetId),Ry(i,r.targetId)})).catch(Jl)):(Ry(i,r.targetId),await xy(i.localStore,r.targetId,!0))}async function nV(n,t){const e=Nt(n),i=e.Tu.get(t),r=e.Iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),S_(e.remoteStore,i.targetId))}async function iV(n,t,e){const i=uV(n);try{const r=await(function(l,u){const f=Nt(l),d=ve.now(),g=u.reduce(((T,x)=>T.add(x.key)),Gt());let y,v;return f.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let x=gr(),A=Gt();return f.Ns.getEntries(T,g).next((w=>{x=w,x.forEach(((O,V)=>{V.isValidDocument()||(A=A.add(O))}))})).next((()=>f.localDocuments.getOverlayedDocuments(T,x))).next((w=>{y=w;const O=[];for(const V of u){const j=_P(V,y.get(V.key).overlayedDocument);j!=null&&O.push(new Da(V.key,j,T1(j.value.mapValue),Xn.exists(!0)))}return f.mutationQueue.addMutationBatch(T,d,O,u)})).next((w=>{v=w;const O=w.applyToLocalDocumentSet(y,A);return f.documentOverlayCache.saveOverlays(T,w.batchId,O)}))})).then((()=>({batchId:v.batchId,changes:N1(y)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),(function(l,u,f){let d=l.Vu[l.currentUser.toKey()];d||(d=new Ce(qt)),d=d.insert(u,f),l.Vu[l.currentUser.toKey()]=d})(i,r.batchId,e),await lh(i,r.changes),await om(i.remoteStore)}catch(r){const o=C_(r,"Failed to persist write");e.reject(o)}}async function gA(n,t){const e=Nt(n);try{const i=await gL(e.localStore,t);t.targetChanges.forEach(((r,o)=>{const l=e.Au.get(o);l&&(ie(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?l.hu=!0:r.modifiedDocuments.size>0?ie(l.hu,14607):r.removedDocuments.size>0&&(ie(l.hu,42227),l.hu=!1))})),await lh(e,i,t)}catch(i){await Jl(i)}}function oS(n,t,e){const i=Nt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Tu.forEach(((o,l)=>{const u=l.view.va(t);u.snapshot&&r.push(u.snapshot)})),(function(l,u){const f=Nt(l);f.onlineState=u;let d=!1;f.queries.forEach(((g,y)=>{for(const v of y.Sa)v.va(u)&&(d=!0)})),d&&I_(f)})(i.eventManager,t),r.length&&i.Pu.H_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function sV(n,t,e){const i=Nt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Au.get(t),o=r&&r.key;if(o){let l=new Ce(St.comparator);l=l.insert(o,Cn.newNoDocument(o,It.min()));const u=Gt().add(o),f=new sm(It.min(),new Map,new Ce(qt),l,u);await gA(i,f),i.du=i.du.remove(o),i.Au.delete(t),M_(i)}else await xy(i.localStore,t,!1).then((()=>Ry(i,t,e))).catch(Jl)}async function rV(n,t){const e=Nt(n),i=t.batch.batchId;try{const r=await pL(e.localStore,t);_A(e,i,null),yA(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await lh(e,r)}catch(r){await Jl(r)}}async function aV(n,t,e){const i=Nt(n);try{const r=await(function(l,u){const f=Nt(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let g;return f.mutationQueue.lookupMutationBatch(d,u).next((y=>(ie(y!==null,37113),g=y.keys(),f.mutationQueue.removeMutationBatch(d,y)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,g,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g))).next((()=>f.localDocuments.getDocuments(d,g)))}))})(i.localStore,t);_A(i,t,e),yA(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await lh(i,r)}catch(r){await Jl(r)}}function yA(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function _A(n,t,e){const i=Nt(n);let r=i.Vu[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function Ry(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||vA(n,i)}))}function vA(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(S_(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),M_(n))}function lS(n,t,e){for(const i of e)i instanceof dA?(n.Ru.addReference(i.key,t),oV(n,i)):i instanceof mA?(yt(D_,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||vA(n,i.key)):Rt(19791,{wu:i})}function oV(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(yt(D_,"New document in limbo: "+e),n.Eu.add(i),M_(n))}function M_(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new St(pe.fromString(t)),i=n.fu.next();n.Au.set(i,new XL(e)),n.du=n.du.insert(e,i),sA(n.remoteStore,new ra(As(m_(e.path)),i,"TargetPurposeLimboResolution",Xd.ce))}}async function lh(n,t,e){const i=Nt(n),r=[],o=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach(((u,f)=>{l.push(i.pu(f,t,e).then((d=>{if((d||e)&&i.isPrimaryClient){const g=d?!d.fromCache:e?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(d){r.push(d);const g=E_.As(f.targetId,d);o.push(g)}})))})),await Promise.all(l),i.Pu.H_(r),await(async function(f,d){const g=Nt(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>ct.forEach(d,(v=>ct.forEach(v.Es,(T=>g.persistence.referenceDelegate.addReference(y,v.targetId,T))).next((()=>ct.forEach(v.ds,(T=>g.persistence.referenceDelegate.removeReference(y,v.targetId,T)))))))))}catch(y){if(!Zl(y))throw y;yt(T_,"Failed to update sequence numbers: "+y)}for(const y of d){const v=y.targetId;if(!y.fromCache){const T=g.Ms.get(v),x=T.snapshotVersion,A=T.withLastLimboFreeSnapshotVersion(x);g.Ms=g.Ms.insert(v,A)}}})(i.localStore,o))}async function lV(n,t){const e=Nt(n);if(!e.currentUser.isEqual(t)){yt(D_,"User change. New user:",t.toKey());const i=await tA(e.localStore,t);e.currentUser=t,(function(o,l){o.mu.forEach((u=>{u.forEach((f=>{f.reject(new gt(rt.CANCELLED,l))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await lh(e,i.Ls)}}function cV(n,t){const e=Nt(n),i=e.Au.get(t);if(i&&i.hu)return Gt().add(i.key);{let r=Gt();const o=e.Iu.get(t);if(!o)return r;for(const l of o){const u=e.Tu.get(l);r=r.unionWith(u.view.nu)}return r}}function bA(n){const t=Nt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=gA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sV.bind(null,t),t.Pu.H_=YL.bind(null,t.eventManager),t.Pu.yu=WL.bind(null,t.eventManager),t}function uV(n){const t=Nt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=rV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=aV.bind(null,t),t}class Nd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=rm(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return mL(this.persistence,new hL,t.initialUser,this.serializer)}Cu(t){return new Z1(b_.mi,this.serializer)}Du(t){return new EL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nd.provider={build:()=>new Nd};class hV extends Nd{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){ie(this.persistence.referenceDelegate instanceof Md,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new XP(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Wn.withCacheSize(this.cacheSizeBytes):Wn.DEFAULT;return new Z1((i=>Md.mi(i,e)),this.serializer)}}class Cy{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>oS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=lV.bind(null,this.syncEngine),await HL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new GL})()}createDatastore(t){const e=rm(t.databaseInfo.databaseId),i=(function(o){return new AL(o)})(t.databaseInfo);return(function(o,l,u,f){return new DL(o,l,u,f)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,r,o,l,u){return new OL(i,r,o,l,u)})(this.localStore,this.datastore,t.asyncQueue,(e=>oS(this.syncEngine,e,0)),(function(){return eS.v()?new eS:new TL})())}createSyncEngine(t,e){return(function(r,o,l,u,f,d,g){const y=new QL(r,o,l,u,f,d);return g&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=Nt(e);yt(Ro,"RemoteStore shutting down."),i.Ea.add(5),await oh(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cy.provider={build:()=>new Cy};class EA{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):pr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Sa="FirestoreClient";class fV{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=An.UNAUTHENTICATED,this.clientId=l_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async l=>{yt(Sa,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(i,(l=>(yt(Sa,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=C_(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function zg(n,t){n.asyncQueue.verifyOperationInProgress(),yt(Sa,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await tA(t.localStore,r),i=r)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function cS(n,t){n.asyncQueue.verifyOperationInProgress();const e=await dV(n);yt(Sa,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>iS(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>iS(t.remoteStore,r))),n._onlineComponents=t}async function dV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){yt(Sa,"Using user provided OfflineComponentProvider");try{await zg(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===rt.FAILED_PRECONDITION||r.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;Pl("Error using user provided cache. Falling back to memory cache: "+e),await zg(n,new Nd)}}else yt(Sa,"Using default OfflineComponentProvider"),await zg(n,new hV(void 0));return n._offlineComponents}async function TA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(yt(Sa,"Using user provided OnlineComponentProvider"),await cS(n,n._uninitializedComponentsProvider._online)):(yt(Sa,"Using default OnlineComponentProvider"),await cS(n,new Cy))),n._onlineComponents}function mV(n){return TA(n).then((t=>t.syncEngine))}async function Iy(n){const t=await TA(n),e=t.eventManager;return e.onListen=JL.bind(null,t.syncEngine),e.onUnlisten=eV.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=ZL.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=nV.bind(null,t.syncEngine),e}function pV(n,t,e={}){const i=new ma;return n.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,f,d){const g=new EA({next:v=>{g.Nu(),l.enqueueAndForget((()=>hA(o,y))),v.fromCache&&f.source==="server"?d.reject(new gt(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),y=new fA(u,g,{includeMetadataChanges:!0,qa:!0});return uA(o,y)})(await Iy(n),n.asyncQueue,t,e,i))),i.promise}function SA(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const uS=new Map;const xA="firestore.googleapis.com",hS=!0;class fS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new gt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xA,this.ssl=hS}else this.host=t.host,this.ssl=t.ssl??hS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=J1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<$P)throw new gt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Mk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SA(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new gt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new gt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new gt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class lm{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new Ek;switch(i.type){case"firstParty":return new wk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new gt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=uS.get(e);i&&(yt("ComponentProvider","Removing Datastore"),uS.delete(e),i.terminate())})(this),Promise.resolve()}}function gV(n,t,e,i={}){n=$i(n,lm);const r=$l(t),o=n._getSettings(),l={...o,emulatorOptions:n._getEmulatorOptions()},u=`${t}:${e}`;r&&(pw(`https://${u}`),gw("Firestore",!0)),o.host!==xA&&o.host!==u&&Pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:u,ssl:r,emulatorOptions:i};if(!To(f,l)&&(n._setSettings(f),i.mockUserToken)){let d,g;if(typeof i.mockUserToken=="string")d=i.mockUserToken,g=An.MOCK_USER;else{d=kD(i.mockUserToken,n._app?.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new gt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new An(y)}n._authCredentials=new Tk(new u1(d,g))}}class Ma{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ma(this.firestore,t,this._query)}}class Xe{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Xe(this.firestore,t,this._key)}toJSON(){return{type:Xe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(sh(e,Xe._jsonSchema))return new Xe(t,i||null,new St(pe.fromString(e.referencePath)))}}Xe._jsonSchemaVersion="firestore/documentReference/1.0",Xe._jsonSchema={type:Ke("string",Xe._jsonSchemaVersion),referencePath:Ke("string")};class pa extends Ma{constructor(t,e,i){super(t,e,m_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Xe(this.firestore,null,new St(t))}withConverter(t){return new pa(this.firestore,t,this._path)}}function Ln(n,t,...e){if(n=en(n),h1("collection","path",t),n instanceof lm){const i=pe.fromString(t,...e);return wT(i),new pa(n,null,i)}{if(!(n instanceof Xe||n instanceof pa))throw new gt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pe.fromString(t,...e));return wT(i),new pa(n.firestore,null,i)}}function Bl(n,t,...e){if(n=en(n),arguments.length===1&&(t=l_.newId()),h1("doc","path",t),n instanceof lm){const i=pe.fromString(t,...e);return xT(i),new Xe(n,null,new St(i))}{if(!(n instanceof Xe||n instanceof pa))throw new gt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pe.fromString(t,...e));return xT(i),new Xe(n.firestore,n instanceof pa?n.converter:null,new St(i))}}const dS="AsyncQueue";class mS{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nA(this,"async_queue_retry"),this._c=()=>{const i=Vg();i&&yt(dS,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Vg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Vg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new ma;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Zl(t))throw t;yt(dS,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,pr("INTERNAL UNHANDLED ERROR: ",pS(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=R_.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&Rt(47125,{Pc:pS(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function pS(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}function gS(n){return(function(e,i){if(typeof e!="object"||e===null)return!1;const r=e;for(const o of i)if(o in r&&typeof r[o]=="function")return!0;return!1})(n,["next","error","complete"])}class xa extends lm{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new mS,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new mS(t),this._firestoreClient=void 0,await t}}}function yV(n,t){const e=typeof n=="object"?n:bw(),i=typeof n=="string"?n:Ad,r=Jy(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=OD("firestore");o&&gV(r,...o)}return r}function cm(n){if(n._terminated)throw new gt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||_V(n),n._firestoreClient}function _V(n){const t=n._freezeSettings(),e=(function(r,o,l,u){return new Fk(r,o,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,SA(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new fV(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}})(n._componentsProvider))}class Ii{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ii(En.fromBase64String(t))}catch(e){throw new gt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ii(En.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ii._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(sh(t,Ii._jsonSchema))return Ii.fromBase64String(t.bytes)}}Ii._jsonSchemaVersion="firestore/bytes/1.0",Ii._jsonSchema={type:Ke("string",Ii._jsonSchemaVersion),bytes:Ke("string")};class ch{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new gt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class um{constructor(t){this._methodName=t}}class Cs{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new gt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new gt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return qt(this._lat,t._lat)||qt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Cs._jsonSchemaVersion}}static fromJSON(t){if(sh(t,Cs._jsonSchema))return new Cs(t.latitude,t.longitude)}}Cs._jsonSchemaVersion="firestore/geoPoint/1.0",Cs._jsonSchema={type:Ke("string",Cs._jsonSchemaVersion),latitude:Ke("number"),longitude:Ke("number")};class Is{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Is._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(sh(t,Is._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Is(t.vectorValues);throw new gt(rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Is._jsonSchemaVersion="firestore/vectorValue/1.0",Is._jsonSchema={type:Ke("string",Is._jsonSchemaVersion),vectorValues:Ke("object")};const vV=/^__.*__$/;class bV{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Da(t,this.data,this.fieldMask,e,this.fieldTransforms):new rh(t,this.data,e,this.fieldTransforms)}}class wA{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Da(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function AA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt(40011,{Ac:n})}}class O_{constructor(t,e,i,r,o,l){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new O_({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return kd(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(AA(this.Ac)&&vV.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class EV{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||rm(t)}Cc(t,e,i,r=!1){return new O_({Ac:t,methodName:e,Dc:i,path:bn.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hm(n){const t=n._freezeSettings(),e=rm(n._databaseId);return new EV(n._databaseId,!!t.ignoreUndefinedProperties,e)}function RA(n,t,e,i,r,o={}){const l=n.Cc(o.merge||o.mergeFields?2:0,t,e,r);k_("Data must be an object, but it was:",l,i);const u=DA(i,l);let f,d;if(o.merge)f=new hi(l.fieldMask),d=l.fieldTransforms;else if(o.mergeFields){const g=[];for(const y of o.mergeFields){const v=Dy(t,y,e);if(!l.contains(v))throw new gt(rt.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);OA(g,v)||g.push(v)}f=new hi(g),d=l.fieldTransforms.filter((y=>f.covers(y.field)))}else f=null,d=l.fieldTransforms;return new bV(new $n(u),f,d)}class fm extends um{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof fm}}class N_ extends um{_toFieldTransform(t){return new mP(t.path,new Vu)}isEqual(t){return t instanceof N_}}function CA(n,t,e,i){const r=n.Cc(1,t,e);k_("Data must be an object, but it was:",r,i);const o=[],l=$n.empty();Ia(i,((f,d)=>{const g=P_(t,f,e);d=en(d);const y=r.yc(g);if(d instanceof fm)o.push(g);else{const v=uh(d,y);v!=null&&(o.push(g),l.set(g,v))}}));const u=new hi(o);return new wA(l,u,r.fieldTransforms)}function IA(n,t,e,i,r,o){const l=n.Cc(1,t,e),u=[Dy(t,i,e)],f=[r];if(o.length%2!=0)throw new gt(rt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)u.push(Dy(t,o[v])),f.push(o[v+1]);const d=[],g=$n.empty();for(let v=u.length-1;v>=0;--v)if(!OA(d,u[v])){const T=u[v];let x=f[v];x=en(x);const A=l.yc(T);if(x instanceof fm)d.push(T);else{const w=uh(x,A);w!=null&&(d.push(T),g.set(T,w))}}const y=new hi(d);return new wA(g,y,l.fieldTransforms)}function TV(n,t,e,i=!1){return uh(e,n.Cc(i?4:3,t))}function uh(n,t){if(MA(n=en(n)))return k_("Unsupported field value:",t,n),DA(n,t);if(n instanceof um)return(function(i,r){if(!AA(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,r){const o=[];let l=0;for(const u of i){let f=uh(u,r.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),l++}return{arrayValue:{values:o}}})(n,t)}return(function(i,r){if((i=en(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return hP(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=ve.fromDate(i);return{timestampValue:Dd(r.serializer,o)}}if(i instanceof ve){const o=new ve(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Dd(r.serializer,o)}}if(i instanceof Cs)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ii)return{bytesValue:G1(r.serializer,i._byteString)};if(i instanceof Xe){const o=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw r.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:__(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Is)return(function(l,u){return{mapValue:{fields:{[b1]:{stringValue:E1},[Rd]:{arrayValue:{values:l.toArray().map((d=>{if(typeof d!="number")throw u.Sc("VectorValues must only contain numeric values.");return p_(u.serializer,d)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${Kd(i)}`)})(n,t)}function DA(n,t){const e={};return m1(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ia(n,((i,r)=>{const o=uh(r,t.mc(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function MA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ve||n instanceof Cs||n instanceof Ii||n instanceof Xe||n instanceof um||n instanceof Is)}function k_(n,t,e){if(!MA(e)||!f1(e)){const i=Kd(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function Dy(n,t,e){if((t=en(t))instanceof ch)return t._internalPath;if(typeof t=="string")return P_(n,t);throw kd("Field path arguments must be of type string or ",n,!1,void 0,e)}const SV=new RegExp("[~\\*/\\[\\]]");function P_(n,t,e){if(t.search(SV)>=0)throw kd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new ch(...t.split("."))._internalPath}catch{throw kd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function kd(n,t,e,i,r){const o=i&&!i.isEmpty(),l=r!==void 0;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(o||l)&&(f+=" (found",o&&(f+=` in field ${i}`),l&&(f+=` in document ${r}`),f+=")"),new gt(rt.INVALID_ARGUMENT,u+n+f)}function OA(n,t){return n.some((e=>e.isEqual(t)))}class NA{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new xV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(dm("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class xV extends NA{data(){return super.data()}}function dm(n,t){return typeof t=="string"?P_(n,t):t instanceof ch?t._internalPath:t._delegate._internalPath}function kA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new gt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class L_{}class PA extends L_{}function ga(n,t,...e){let i=[];t instanceof L_&&i.push(t),i=i.concat(e),(function(o){const l=o.filter((f=>f instanceof V_)).length,u=o.filter((f=>f instanceof mm)).length;if(l>1||l>0&&u>0)throw new gt(rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class mm extends PA{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new mm(t,e,i)}_apply(t){const e=this._parse(t);return LA(t._query,e),new Ma(t.firestore,t.converter,_y(t._query,e))}_parse(t){const e=hm(t.firestore);return(function(o,l,u,f,d,g,y){let v;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new gt(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){_S(y,g);const x=[];for(const A of y)x.push(yS(f,o,A));v={arrayValue:{values:x}}}else v=yS(f,o,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||_S(y,g),v=TV(u,l,y,g==="in"||g==="not-in");return $e.create(d,g,v)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function sa(n,t,e){const i=t,r=dm("where",n);return mm._create(r,i,e)}class V_ extends L_{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new V_(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:Qi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(r,o){let l=r;const u=o.getFlattenedFilters();for(const f of u)LA(l,f),l=_y(l,f)})(t._query,e),new Ma(t.firestore,t.converter,_y(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class z_ extends PA{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new z_(t,e)}_apply(t){const e=(function(r,o,l){if(r.startAt!==null)throw new gt(rt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new gt(rt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lu(o,l)})(t._query,this._field,this._direction);return new Ma(t.firestore,t.converter,(function(r,o){const l=r.explicitOrderBy.concat([o]);return new tc(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(t._query,e))}}function Uu(n,t="asc"){const e=t,i=dm("orderBy",n);return z_._create(i,e)}function yS(n,t,e){if(typeof(e=en(e))=="string"){if(e==="")throw new gt(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!I1(t)&&e.indexOf("/")!==-1)throw new gt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(pe.fromString(e));if(!St.isDocumentKey(i))throw new gt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return NT(n,new St(i))}if(e instanceof Xe)return NT(n,e._key);throw new gt(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kd(e)}.`)}function _S(n,t){if(!Array.isArray(n)||n.length===0)throw new gt(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function LA(n,t){const e=(function(r,o){for(const l of r)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new gt(rt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new gt(rt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class wV{convertValue(t,e="none"){switch(Ea(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Le(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ba(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Rt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Ia(t,((r,o)=>{i[r]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[Rd].arrayValue?.values?.map((i=>Le(i.doubleValue)));return new Is(e)}convertGeoPoint(t){return new Cs(Le(t.latitude),Le(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Jd(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Nu(t));default:return null}}convertTimestamp(t){const e=va(t);return new ve(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=pe.fromString(t);ie(Q1(i),9688,{name:t});const r=new ku(i.get(1),i.get(3)),o=new St(i.popFirst(5));return r.isEqual(e)||pr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function VA(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class du{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class _o extends NA{constructor(t,e,i,r,o,l){super(t,e,i,r,l),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new dd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(dm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=_o._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}_o._jsonSchemaVersion="firestore/documentSnapshot/1.0",_o._jsonSchema={type:Ke("string",_o._jsonSchemaVersion),bundleSource:Ke("string","DocumentSnapshot"),bundleName:Ke("string"),bundle:Ke("string")};class dd extends _o{data(t={}){return super.data(t)}}class vo{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new du(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new dd(this._firestore,this._userDataWriter,i.key,i,new du(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new gt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map((u=>{const f=new dd(r._firestore,r._userDataWriter,u.doc.key,u.doc,new du(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const f=new dd(r._firestore,r._userDataWriter,u.doc.key,u.doc,new du(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,g=-1;return u.type!==0&&(d=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:AV(u.type),doc:f,oldIndex:d,newIndex:g}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=vo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=l_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function AV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt(61501,{type:n})}}vo._jsonSchemaVersion="firestore/querySnapshot/1.0",vo._jsonSchema={type:Ke("string",vo._jsonSchemaVersion),bundleSource:Ke("string","QuerySnapshot"),bundleName:Ke("string"),bundle:Ke("string")};class j_ extends wV{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ii(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Xe(this.firestore,null,e)}}function yr(n){n=$i(n,Ma);const t=$i(n.firestore,xa),e=cm(t),i=new j_(t);return kA(n._query),pV(e,n._query).then((r=>new vo(t,i,n,r)))}function zA(n,t,e,...i){n=$i(n,Xe);const r=$i(n.firestore,xa),o=hm(r);let l;return l=typeof(t=en(t))=="string"||t instanceof ch?IA(o,"updateDoc",n._key,t,e,i):CA(o,"updateDoc",n._key,t),gm(r,[l.toMutation(n._key,Xn.exists(!0))])}function jA(n){return gm($i(n.firestore,xa),[new im(n._key,Xn.none())])}function UA(n,t){const e=$i(n.firestore,xa),i=Bl(n),r=VA(n.converter,t);return gm(e,[RA(hm(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Xn.exists(!1))]).then((()=>i))}function pm(n,...t){n=en(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||gS(t[i])||(e=t[i++]);const r={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(gS(t[i])){const f=t[i];t[i]=f.next?.bind(f),t[i+1]=f.error?.bind(f),t[i+2]=f.complete?.bind(f)}let o,l,u;if(n instanceof Xe)l=$i(n.firestore,xa),u=m_(n._key.path),o={next:f=>{t[i]&&t[i](RV(l,n,f))},error:t[i+1],complete:t[i+2]};else{const f=$i(n,Ma);l=$i(f.firestore,xa),u=f._query;const d=new j_(l);o={next:g=>{t[i]&&t[i](new vo(l,d,f,g))},error:t[i+1],complete:t[i+2]},kA(n._query)}return(function(d,g,y,v){const T=new EA(v),x=new fA(g,T,y);return d.asyncQueue.enqueueAndForget((async()=>uA(await Iy(d),x))),()=>{T.Nu(),d.asyncQueue.enqueueAndForget((async()=>hA(await Iy(d),x)))}})(cm(l),u,r,o)}function gm(n,t){return(function(i,r){const o=new ma;return i.asyncQueue.enqueueAndForget((async()=>iV(await mV(i),r,o))),o.promise})(cm(n),t)}function RV(n,t,e){const i=e.docs.get(t._key),r=new j_(n);return new _o(n,r,t._key,i,new du(e.hasPendingWrites,e.fromCache),t.converter)}class CV{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=hm(t)}set(t,e,i){this._verifyNotCommitted();const r=jg(t,this._firestore),o=VA(r.converter,e,i),l=RA(this._dataReader,"WriteBatch.set",r._key,o,r.converter!==null,i);return this._mutations.push(l.toMutation(r._key,Xn.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=jg(t,this._firestore);let l;return l=typeof(e=en(e))=="string"||e instanceof ch?IA(this._dataReader,"WriteBatch.update",o._key,e,i,r):CA(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(l.toMutation(o._key,Xn.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=jg(t,this._firestore);return this._mutations=this._mutations.concat(new im(e._key,Xn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new gt(rt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function jg(n,t){if((n=en(n)).firestore!==t)throw new gt(rt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Bu(){return new N_("serverTimestamp")}function IV(n){return cm(n=$i(n,xa)),new CV(n,(t=>gm(n,t)))}(function(t,e=!0){(function(r){Ql=r})(Kl),kl(new So("firestore",((i,{instanceIdentifier:r,options:o})=>{const l=i.getProvider("app").getImmediate(),u=new xa(new Sk(i.getProvider("auth-internal")),new Ak(l,i.getProvider("app-check-internal")),(function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new gt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ku(d.options.projectId,g)})(l,r),l);return o={useFetchStreams:e,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),fa(bT,ET,t),fa(bT,ET,"esm2020")})();const DV={apiKey:"AIzaSyAGAvr1QAO5ZPPCtbYQLK_0694DEjoy5Bw",authDomain:"paud-rohani.firebaseapp.com",projectId:"paud-rohani",storageBucket:"paud-rohani.firebaseapp.com",messagingSenderId:"1051220684882",appId:"1:1051220684882:web:7d77a8367fa92b57c96f8b",measurementId:"G-SQHBZ6ST71"},BA=vw(DV),vS=yk(BA),Ve=yV(BA);function MV(){const n=Gy(),[t,e]=W.useState(!0),[i,r]=W.useState(""),[o,l]=W.useState(""),[u,f]=W.useState(!1),d=async y=>{if(y.preventDefault(),f(!0),console.log("=== MULAI PROSES AUTH ==="),console.log("Mode:",t?"LOGIN":"REGISTER"),console.log("Tipe Fungsi Login:",typeof cT),console.log("Email yang dikirim:",i),console.log("Password yang dikirim:",o),!i||!o){me.error("Email atau Password kosong/tidak terbaca!"),f(!1);return}try{if(t){console.log(">> Mengeksekusi signInWithEmailAndPassword...");const v=await cT(vS,i,o);console.log(">> HASIL LOGIN:",v),me.success("Login Berhasil! Mengalihkan..."),setTimeout(()=>{n("/dashboard")},1e3)}else console.log(">> Mengeksekusi Register..."),await sN(vS,i,o),me.success("Registrasi Berhasil! Silahkan login."),e(!0)}catch(v){console.error("!!! TERJADI ERROR !!!"),console.error("Code:",v.code),console.error("Message:",v.message),me.error(`Gagal: ${v.code}`)}finally{f(!1),console.log("=== SELESAI ===")}},g=()=>{e(!t)};return C.jsxs("div",{className:"login-page-wrapper",children:[C.jsx(lw,{position:"top-center",richColors:!0}),C.jsxs("div",{className:"login-container",children:[C.jsx("div",{className:"logo-container",children:C.jsx("i",{className:"fa-solid fa-school"})}),C.jsx("h1",{children:"PAUD Finance System"}),C.jsx("p",{className:"subtitle",children:"School Administration Portal"}),C.jsxs("form",{onSubmit:d,children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{className:"form-label",children:"Email Address"}),C.jsxs("div",{className:"input-wrapper",children:[C.jsx("i",{className:"fa-regular fa-envelope"}),C.jsx("input",{type:"email",placeholder:"admin@paud.com",required:!0,value:i,onChange:y=>r(y.target.value)})]})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{className:"form-label",children:"Password"}),C.jsxs("div",{className:"input-wrapper",children:[C.jsx("i",{className:"fa-solid fa-lock"}),C.jsx("input",{type:"password",placeholder:"Enter password",required:!0,value:o,onChange:y=>l(y.target.value)})]})]}),C.jsx("button",{type:"submit",className:"btn-primary",disabled:u,children:u?"Loading...":t?"Login":"Register"})]}),C.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{me.success("This is a success toast")},children:"Render toast"}),C.jsxs("div",{className:"info-box",children:["For ",C.jsx("b",{children:"private"})," access"]}),C.jsx("div",{className:"toggle-link",children:C.jsxs("p",{children:[t?"Belum punya akun? ":"Sudah punya akun? ",C.jsx("span",{onClick:g,children:t?"Daftar disini":"Login disini"})]})})]})]})}const OV=({isOpen:n,toggleSidebar:t})=>{const e=Gy(),i=()=>{e("/")},r=()=>{n&&t()};return C.jsxs(C.Fragment,{children:[C.jsx("div",{className:`sidebar-overlay ${n?"active":""}`,onClick:t}),C.jsxs("nav",{className:`sidebar ${n?"open":""}`,children:[C.jsx("button",{className:"sidebar-close-btn",onClick:t,children:C.jsx("i",{className:"fa-solid fa-xmark"})}),C.jsxs("div",{className:"brand",children:[C.jsx("h2",{children:"PAUD Finance"}),C.jsx("p",{children:"Admin Portal"})]}),C.jsxs("ul",{className:"menu-list",children:[C.jsx("li",{children:C.jsxs(fo,{to:"/dashboard",className:({isActive:o})=>`menu-item ${o?"active":""}`,onClick:r,children:[C.jsx("i",{className:"fa-solid fa-border-all"})," Dashboard"]})}),C.jsx("li",{children:C.jsxs(fo,{to:"/income",className:({isActive:o})=>`menu-item ${o?"active":""}`,onClick:r,children:[C.jsx("i",{className:"fa-solid fa-dollar-sign"})," Income Management"]})}),C.jsx("li",{children:C.jsxs(fo,{to:"/daily-income",className:({isActive:o})=>`menu-item ${o?"active":""}`,onClick:r,children:[C.jsx("i",{className:"fa-solid fa-calendar-days"})," Daily Income"]})}),C.jsx("li",{children:C.jsxs(fo,{to:"/savings",className:({isActive:o})=>`menu-item ${o?"active":""}`,onClick:r,children:[C.jsx("i",{className:"fa-solid fa-piggy-bank"})," Student Savings"]})}),C.jsx("li",{children:C.jsxs(fo,{to:"/absensi",className:({isActive:o})=>`menu-item ${o?"active":""}`,onClick:r,children:[C.jsx("i",{className:"fa-solid fa-user-group"})," Absensi"]})}),C.jsx("li",{children:C.jsxs(fo,{to:"/users",className:({isActive:o})=>`menu-item ${o?"active":""}`,onClick:r,children:[C.jsx("i",{className:"fa-solid fa-user-group"})," User Management"]})})]}),C.jsxs("button",{onClick:i,className:"menu-item logout",style:{background:"none",border:"none",width:"100%",textAlign:"left"},children:[C.jsx("i",{className:"fa-solid fa-arrow-right-from-bracket"})," Logout"]})]})]})},NV=()=>{const[n,t]=W.useState(!1),e=()=>{t(!n)};return C.jsxs("div",{style:{display:"flex",height:"100vh",width:"100vw",overflow:"hidden"},children:[C.jsx(lw,{position:"top-center",richColors:!0}),C.jsx(OV,{isOpen:n,toggleSidebar:e}),C.jsxs("main",{className:"main-content",children:[C.jsx("div",{className:"mobile-header-control"}),C.jsx(g2,{context:{toggleSidebar:e}})]})]})};function hh(n){return n+.5|0}const aa=(n,t,e)=>Math.max(Math.min(n,e),t);function mu(n){return aa(hh(n*2.55),0,255)}function ya(n){return aa(hh(n*255),0,255)}function sr(n){return aa(hh(n/2.55)/100,0,1)}function bS(n){return aa(hh(n*100),0,100)}const Ri={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},My=[..."0123456789ABCDEF"],kV=n=>My[n&15],PV=n=>My[(n&240)>>4]+My[n&15],Hf=n=>(n&240)>>4===(n&15),LV=n=>Hf(n.r)&&Hf(n.g)&&Hf(n.b)&&Hf(n.a);function VV(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Ri[n[1]]*17,g:255&Ri[n[2]]*17,b:255&Ri[n[3]]*17,a:t===5?Ri[n[4]]*17:255}:(t===7||t===9)&&(e={r:Ri[n[1]]<<4|Ri[n[2]],g:Ri[n[3]]<<4|Ri[n[4]],b:Ri[n[5]]<<4|Ri[n[6]],a:t===9?Ri[n[7]]<<4|Ri[n[8]]:255})),e}const zV=(n,t)=>n<255?t(n):"";function jV(n){var t=LV(n)?kV:PV;return n?"#"+t(n.r)+t(n.g)+t(n.b)+zV(n.a,t):void 0}const UV=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function FA(n,t,e){const i=t*Math.min(e,1-e),r=(o,l=(o+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function BV(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function FV(n,t,e){const i=FA(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function HV(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function U_(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),l=Math.min(e,i,r),u=(o+l)/2;let f,d,g;return o!==l&&(g=o-l,d=u>.5?g/(2-o-l):g/(o+l),f=HV(e,i,r,g,o),f=f*60+.5),[f|0,d||0,u]}function B_(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(ya)}function F_(n,t,e){return B_(FA,n,t,e)}function qV(n,t,e){return B_(FV,n,t,e)}function GV(n,t,e){return B_(BV,n,t,e)}function HA(n){return(n%360+360)%360}function YV(n){const t=UV.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?mu(+t[5]):ya(+t[5]));const r=HA(+t[2]),o=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=qV(r,o,l):t[1]==="hsv"?i=GV(r,o,l):i=F_(r,o,l),{r:i[0],g:i[1],b:i[2],a:e}}function WV(n,t){var e=U_(n);e[0]=HA(e[0]+t),e=F_(e),n.r=e[0],n.g=e[1],n.b=e[2]}function $V(n){if(!n)return;const t=U_(n),e=t[0],i=bS(t[1]),r=bS(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${sr(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const ES={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},TS={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function KV(){const n={},t=Object.keys(TS),e=Object.keys(ES);let i,r,o,l,u;for(i=0;i<t.length;i++){for(l=u=t[i],r=0;r<e.length;r++)o=e[r],u=u.replace(o,ES[o]);o=parseInt(TS[l],16),n[u]=[o>>16&255,o>>8&255,o&255]}return n}let qf;function XV(n){qf||(qf=KV(),qf.transparent=[0,0,0,0]);const t=qf[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const QV=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function JV(n){const t=QV.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const l=+t[7];e=t[8]?mu(l):aa(l*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?mu(i):aa(i,0,255)),r=255&(t[4]?mu(r):aa(r,0,255)),o=255&(t[6]?mu(o):aa(o,0,255)),{r:i,g:r,b:o,a:e}}}function ZV(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${sr(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Ug=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Tl=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function t4(n,t,e){const i=Tl(sr(n.r)),r=Tl(sr(n.g)),o=Tl(sr(n.b));return{r:ya(Ug(i+e*(Tl(sr(t.r))-i))),g:ya(Ug(r+e*(Tl(sr(t.g))-r))),b:ya(Ug(o+e*(Tl(sr(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Gf(n,t,e){if(n){let i=U_(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=F_(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function qA(n,t){return n&&Object.assign(t||{},n)}function SS(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=ya(n[3]))):(t=qA(n,{r:0,g:0,b:0,a:1}),t.a=ya(t.a)),t}function e4(n){return n.charAt(0)==="r"?JV(n):YV(n)}class Fu{constructor(t){if(t instanceof Fu)return t;const e=typeof t;let i;e==="object"?i=SS(t):e==="string"&&(i=VV(t)||XV(t)||e4(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=qA(this._rgb);return t&&(t.a=sr(t.a)),t}set rgb(t){this._rgb=SS(t)}rgbString(){return this._valid?ZV(this._rgb):void 0}hexString(){return this._valid?jV(this._rgb):void 0}hslString(){return this._valid?$V(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const l=e===o?.5:e,u=2*l-1,f=i.a-r.a,d=((u*f===-1?u:(u+f)/(1+u*f))+1)/2;o=1-d,i.r=255&d*i.r+o*r.r+.5,i.g=255&d*i.g+o*r.g+.5,i.b=255&d*i.b+o*r.b+.5,i.a=l*i.a+(1-l)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=t4(this._rgb,t._rgb,e)),this}clone(){return new Fu(this.rgb)}alpha(t){return this._rgb.a=ya(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=hh(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Gf(this._rgb,2,t),this}darken(t){return Gf(this._rgb,2,-t),this}saturate(t){return Gf(this._rgb,1,t),this}desaturate(t){return Gf(this._rgb,1,-t),this}rotate(t){return WV(this._rgb,t),this}}function tr(){}const n4=(()=>{let n=0;return()=>n++})();function Ut(n){return n==null}function xe(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Yt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Me(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function ui(n,t){return Me(n)?n:t}function Ot(n,t){return typeof n>"u"?t:n}const i4=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,GA=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function de(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function oe(n,t,e,i){let r,o,l;if(xe(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(Yt(n))for(l=Object.keys(n),o=l.length,r=0;r<o;r++)t.call(e,n[l[r]],l[r])}function Pd(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Ld(n){if(xe(n))return n.map(Ld);if(Yt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Ld(n[e[r]]);return t}return n}function YA(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function s4(n,t,e,i){if(!YA(n))return;const r=t[n],o=e[n];Yt(r)&&Yt(o)?Hu(r,o,i):t[n]=Ld(o)}function Hu(n,t,e){const i=xe(t)?t:[t],r=i.length;if(!Yt(n))return n;e=e||{};const o=e.merger||s4;let l;for(let u=0;u<r;++u){if(l=i[u],!Yt(l))continue;const f=Object.keys(l);for(let d=0,g=f.length;d<g;++d)o(f[d],n,l,e)}return n}function xu(n,t){return Hu(n,t,{merger:r4})}function r4(n,t,e){if(!YA(n))return;const i=t[n],r=e[n];Yt(i)&&Yt(r)?xu(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Ld(r))}const xS={"":n=>n,x:n=>n.x,y:n=>n.y};function a4(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function o4(n){const t=a4(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function wa(n,t){return(xS[t]||(xS[t]=o4(t)))(n)}function H_(n){return n.charAt(0).toUpperCase()+n.slice(1)}const qu=n=>typeof n<"u",Aa=n=>typeof n=="function",wS=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function l4(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Qt=Math.PI,be=2*Qt,c4=be+Qt,Vd=Number.POSITIVE_INFINITY,u4=Qt/180,ze=Qt/2,lo=Qt/4,AS=Qt*2/3,oa=Math.log10,Ds=Math.sign;function wu(n,t,e){return Math.abs(n-t)<e}function RS(n){const t=Math.round(n);n=wu(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(oa(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function h4(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function f4(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Fl(n){return!f4(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function d4(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function WA(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Wi(n){return n*(Qt/180)}function q_(n){return n*(180/Qt)}function CS(n){if(!Me(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function $A(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*Qt&&(o+=be),{angle:o,distance:r}}function Oy(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function m4(n,t){return(n-t+c4)%be-Qt}function Rn(n){return(n%be+be)%be}function Gu(n,t,e,i){const r=Rn(n),o=Rn(t),l=Rn(e),u=Rn(o-r),f=Rn(l-r),d=Rn(r-o),g=Rn(r-l);return r===o||r===l||i&&o===l||u>f&&d<g}function ln(n,t,e){return Math.max(t,Math.min(e,n))}function p4(n){return ln(n,-32768,32767)}function or(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function G_(n,t,e){e=e||(l=>n[l]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const lr=(n,t,e,i)=>G_(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),g4=(n,t,e)=>G_(n,e,i=>n[i][t]>=e);function y4(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const KA=["push","pop","shift","splice","unshift"];function _4(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),KA.forEach(e=>{const i="_onData"+H_(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const l=r.apply(this,o);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...o)}),l}})})}function IS(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(KA.forEach(o=>{delete n[o]}),delete n._chartjs)}function XA(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const QA=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function JA(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,QA.call(window,()=>{i=!1,n.apply(t,e)}))}}function v4(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const Y_=n=>n==="start"?"left":n==="end"?"right":"center",wn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,b4=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function ZA(n,t,e){const i=t.length;let r=0,o=i;if(n._sorted){const{iScale:l,vScale:u,_parsed:f}=n,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,g=l.axis,{min:y,max:v,minDefined:T,maxDefined:x}=l.getUserBounds();if(T){if(r=Math.min(lr(f,g,y).lo,e?i:lr(t,g,l.getPixelForValue(y)).lo),d){const A=f.slice(0,r+1).reverse().findIndex(w=>!Ut(w[u.axis]));r-=Math.max(0,A)}r=ln(r,0,i-1)}if(x){let A=Math.max(lr(f,l.axis,v,!0).hi+1,e?0:lr(t,g,l.getPixelForValue(v),!0).hi+1);if(d){const w=f.slice(A-1).findIndex(O=>!Ut(O[u.axis]));A+=Math.max(0,w)}o=ln(A,r,i)-r}else o=i-r}return{start:r,count:o}}function tR(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}const Yf=n=>n===0||n===1,DS=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*be/e)),MS=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*be/e)+1,Au={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*ze)+1,easeOutSine:n=>Math.sin(n*ze),easeInOutSine:n=>-.5*(Math.cos(Qt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Yf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Yf(n)?n:DS(n,.075,.3),easeOutElastic:n=>Yf(n)?n:MS(n,.075,.3),easeInOutElastic(n){return Yf(n)?n:n<.5?.5*DS(n*2,.1125,.45):.5+.5*MS(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Au.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Au.easeInBounce(n*2)*.5:Au.easeOutBounce(n*2-1)*.5+.5};function W_(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function OS(n){return W_(n)?n:new Fu(n)}function Bg(n){return W_(n)?n:new Fu(n).saturate(.5).darken(.1).hexString()}const E4=["x","y","borderWidth","radius","tension"],T4=["color","borderColor","backgroundColor"];function S4(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:T4},numbers:{type:"number",properties:E4}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function x4(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const NS=new Map;function w4(n,t){t=t||{};const e=n+JSON.stringify(t);let i=NS.get(e);return i||(i=new Intl.NumberFormat(n,t),NS.set(e,i)),i}function fh(n,t,e){return w4(t,e).format(n)}const eR={values(n){return xe(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const d=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),o=A4(n,e)}const l=oa(Math.abs(o)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),f={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(f,this.options.ticks.format),fh(n,i,f)},logarithmic(n,t,e){if(n===0)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(oa(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?eR.numeric.call(this,n,t,e):""}};function A4(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var ym={formatters:eR};function R4(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ym.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Co=Object.create(null),Ny=Object.create(null);function Ru(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Fg(n,t,e){return typeof t=="string"?Hu(Ru(n,t),e):Hu(Ru(n,""),t)}class C4{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Bg(r.backgroundColor),this.hoverBorderColor=(i,r)=>Bg(r.borderColor),this.hoverColor=(i,r)=>Bg(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Fg(this,t,e)}get(t){return Ru(this,t)}describe(t,e){return Fg(Ny,t,e)}override(t,e){return Fg(Co,t,e)}route(t,e,i,r){const o=Ru(this,t),l=Ru(this,i),u="_"+e;Object.defineProperties(o,{[u]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[u],d=l[r];return Yt(f)?Object.assign({},d,f):Ot(f,d)},set(f){this[u]=f}}})}apply(t){t.forEach(e=>e(this))}}var we=new C4({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[S4,x4,R4]);function I4(n){return!n||Ut(n.size)||Ut(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function zd(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function D4(n,t,e,i){i=i||{};let r=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},o=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let l=0;const u=e.length;let f,d,g,y,v;for(f=0;f<u;f++)if(y=e[f],y!=null&&!xe(y))l=zd(n,r,o,l,y);else if(xe(y))for(d=0,g=y.length;d<g;d++)v=y[d],v!=null&&!xe(v)&&(l=zd(n,r,o,l,v));n.restore();const T=o.length/2;if(T>e.length){for(f=0;f<T;f++)delete r[o[f]];o.splice(0,T)}return l}function co(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function kS(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function ky(n,t,e,i){nR(n,t,e,i,null)}function nR(n,t,e,i,r){let o,l,u,f,d,g,y,v;const T=t.pointStyle,x=t.rotation,A=t.radius;let w=(x||0)*u4;if(T&&typeof T=="object"&&(o=T.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(w),n.drawImage(T,-T.width/2,-T.height/2,T.width,T.height),n.restore();return}if(!(isNaN(A)||A<=0)){switch(n.beginPath(),T){default:r?n.ellipse(e,i,r/2,A,0,0,be):n.arc(e,i,A,0,be),n.closePath();break;case"triangle":g=r?r/2:A,n.moveTo(e+Math.sin(w)*g,i-Math.cos(w)*A),w+=AS,n.lineTo(e+Math.sin(w)*g,i-Math.cos(w)*A),w+=AS,n.lineTo(e+Math.sin(w)*g,i-Math.cos(w)*A),n.closePath();break;case"rectRounded":d=A*.516,f=A-d,l=Math.cos(w+lo)*f,y=Math.cos(w+lo)*(r?r/2-d:f),u=Math.sin(w+lo)*f,v=Math.sin(w+lo)*(r?r/2-d:f),n.arc(e-y,i-u,d,w-Qt,w-ze),n.arc(e+v,i-l,d,w-ze,w),n.arc(e+y,i+u,d,w,w+ze),n.arc(e-v,i+l,d,w+ze,w+Qt),n.closePath();break;case"rect":if(!x){f=Math.SQRT1_2*A,g=r?r/2:f,n.rect(e-g,i-f,2*g,2*f);break}w+=lo;case"rectRot":y=Math.cos(w)*(r?r/2:A),l=Math.cos(w)*A,u=Math.sin(w)*A,v=Math.sin(w)*(r?r/2:A),n.moveTo(e-y,i-u),n.lineTo(e+v,i-l),n.lineTo(e+y,i+u),n.lineTo(e-v,i+l),n.closePath();break;case"crossRot":w+=lo;case"cross":y=Math.cos(w)*(r?r/2:A),l=Math.cos(w)*A,u=Math.sin(w)*A,v=Math.sin(w)*(r?r/2:A),n.moveTo(e-y,i-u),n.lineTo(e+y,i+u),n.moveTo(e+v,i-l),n.lineTo(e-v,i+l);break;case"star":y=Math.cos(w)*(r?r/2:A),l=Math.cos(w)*A,u=Math.sin(w)*A,v=Math.sin(w)*(r?r/2:A),n.moveTo(e-y,i-u),n.lineTo(e+y,i+u),n.moveTo(e+v,i-l),n.lineTo(e-v,i+l),w+=lo,y=Math.cos(w)*(r?r/2:A),l=Math.cos(w)*A,u=Math.sin(w)*A,v=Math.sin(w)*(r?r/2:A),n.moveTo(e-y,i-u),n.lineTo(e+y,i+u),n.moveTo(e+v,i-l),n.lineTo(e-v,i+l);break;case"line":l=r?r/2:Math.cos(w)*A,u=Math.sin(w)*A,n.moveTo(e-l,i-u),n.lineTo(e+l,i+u);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(w)*(r?r/2:A),i+Math.sin(w)*A);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function cr(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function _m(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function vm(n){n.restore()}function M4(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function O4(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function N4(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Ut(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function k4(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),l=t-o.actualBoundingBoxLeft,u=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,d=e+o.actualBoundingBoxDescent,g=r.strikethrough?(f+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(l,g),n.lineTo(u,g),n.stroke()}}function P4(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Io(n,t,e,i,r,o={}){const l=xe(t)?t:[t],u=o.strokeWidth>0&&o.strokeColor!=="";let f,d;for(n.save(),n.font=r.string,N4(n,o),f=0;f<l.length;++f)d=l[f],o.backdrop&&P4(n,o.backdrop),u&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Ut(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(d,e,i,o.maxWidth)),n.fillText(d,e,i,o.maxWidth),k4(n,e,i,d,o),i+=Number(r.lineHeight);n.restore()}function Yu(n,t){const{x:e,y:i,w:r,h:o,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,1.5*Qt,Qt,!0),n.lineTo(e,i+o-l.bottomLeft),n.arc(e+l.bottomLeft,i+o-l.bottomLeft,l.bottomLeft,Qt,ze,!0),n.lineTo(e+r-l.bottomRight,i+o),n.arc(e+r-l.bottomRight,i+o-l.bottomRight,l.bottomRight,ze,0,!0),n.lineTo(e+r,i+l.topRight),n.arc(e+r-l.topRight,i+l.topRight,l.topRight,0,-ze,!0),n.lineTo(e+l.topLeft,i)}const L4=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,V4=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function z4(n,t){const e=(""+n).match(L4);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const j4=n=>+n||0;function $_(n,t){const e={},i=Yt(t),r=i?Object.keys(t):t,o=Yt(n)?i?l=>Ot(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of r)e[l]=j4(o(l));return e}function iR(n){return $_(n,{top:"y",right:"x",bottom:"y",left:"x"})}function bo(n){return $_(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Mn(n){const t=iR(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ze(n,t){n=n||{},t=t||we.font;let e=Ot(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Ot(n.style,t.style);i&&!(""+i).match(V4)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Ot(n.family,t.family),lineHeight:z4(Ot(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Ot(n.weight,t.weight),string:""};return r.string=I4(r),r}function pu(n,t,e,i){let r,o,l;for(r=0,o=n.length;r<o;++r)if(l=n[r],l!==void 0&&l!==void 0)return l}function U4(n,t,e){const{min:i,max:r}=n,o=GA(t,(r-i)/2),l=(u,f)=>e&&u===0?0:u+f;return{min:l(i,-Math.abs(o)),max:l(r,o)}}function Oa(n,t){return Object.assign(Object.create(n),t)}function K_(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=oR("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:u=>K_([u,...n],t,o,i)};return new Proxy(l,{deleteProperty(u,f){return delete u[f],delete u._keys,delete n[0][f],!0},get(u,f){return rR(u,f,()=>$4(f,t,n,u))},getOwnPropertyDescriptor(u,f){return Reflect.getOwnPropertyDescriptor(u._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,f){return LS(u).includes(f)},ownKeys(u){return LS(u)},set(u,f,d){const g=u._storage||(u._storage=r());return u[f]=g[f]=d,delete u._keys,!0}})}function Hl(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:sR(n,i),setContext:o=>Hl(n,o,e,i),override:o=>Hl(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,l){return delete o[l],delete n[l],!0},get(o,l,u){return rR(o,l,()=>F4(o,l,u))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(o,l,u){return n[l]=u,delete o[l],!0}})}function sR(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Aa(e)?e:()=>e,isIndexable:Aa(i)?i:()=>i}}const B4=(n,t)=>n?n+H_(t):t,X_=(n,t)=>Yt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function rR(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function F4(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:l}=n;let u=i[t];return Aa(u)&&l.isScriptable(t)&&(u=H4(t,u,n,e)),xe(u)&&u.length&&(u=q4(t,u,n,l.isIndexable)),X_(t,u)&&(u=Hl(u,r,o&&o[t],l)),u}function H4(n,t,e,i){const{_proxy:r,_context:o,_subProxy:l,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let f=t(o,l||i);return u.delete(n),X_(n,f)&&(f=Q_(r._scopes,r,n,f)),f}function q4(n,t,e,i){const{_proxy:r,_context:o,_subProxy:l,_descriptors:u}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Yt(t[0])){const f=t,d=r._scopes.filter(g=>g!==f);t=[];for(const g of f){const y=Q_(d,r,n,g);t.push(Hl(y,o,l&&l[n],u))}}return t}function aR(n,t,e){return Aa(n)?n(t,e):n}const G4=(n,t)=>n===!0?t:typeof n=="string"?wa(t,n):void 0;function Y4(n,t,e,i,r){for(const o of t){const l=G4(e,o);if(l){n.add(l);const u=aR(l._fallback,e,r);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(l===!1&&typeof i<"u"&&e!==i)return null}return!1}function Q_(n,t,e,i){const r=t._rootScopes,o=aR(t._fallback,e,i),l=[...n,...r],u=new Set;u.add(i);let f=PS(u,l,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=PS(u,l,o,f,i),f===null)?!1:K_(Array.from(u),[""],r,o,()=>W4(t,e,i))}function PS(n,t,e,i,r){for(;e;)e=Y4(n,t,e,i,r);return e}function W4(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return xe(r)&&Yt(e)?e:r||{}}function $4(n,t,e,i){let r;for(const o of t)if(r=oR(B4(o,n),e),typeof r<"u")return X_(n,r)?Q_(e,i,n,r):r}function oR(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function LS(n){let t=n._keys;return t||(t=n._keys=K4(n._scopes)),t}function K4(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function lR(n,t,e,i){const{iScale:r}=n,{key:o="r"}=this._parsing,l=new Array(i);let u,f,d,g;for(u=0,f=i;u<f;++u)d=u+e,g=t[d],l[u]={r:r.parse(wa(g,o),d)};return l}const X4=Number.EPSILON||1e-14,ql=(n,t)=>t<n.length&&!n[t].skip&&n[t],cR=n=>n==="x"?"y":"x";function Q4(n,t,e,i){const r=n.skip?t:n,o=t,l=e.skip?t:e,u=Oy(o,r),f=Oy(l,o);let d=u/(u+f),g=f/(u+f);d=isNaN(d)?0:d,g=isNaN(g)?0:g;const y=i*d,v=i*g;return{previous:{x:o.x-y*(l.x-r.x),y:o.y-y*(l.y-r.y)},next:{x:o.x+v*(l.x-r.x),y:o.y+v*(l.y-r.y)}}}function J4(n,t,e){const i=n.length;let r,o,l,u,f,d=ql(n,0);for(let g=0;g<i-1;++g)if(f=d,d=ql(n,g+1),!(!f||!d)){if(wu(t[g],0,X4)){e[g]=e[g+1]=0;continue}r=e[g]/t[g],o=e[g+1]/t[g],u=Math.pow(r,2)+Math.pow(o,2),!(u<=9)&&(l=3/Math.sqrt(u),e[g]=r*l*t[g],e[g+1]=o*l*t[g])}}function Z4(n,t,e="x"){const i=cR(e),r=n.length;let o,l,u,f=ql(n,0);for(let d=0;d<r;++d){if(l=u,u=f,f=ql(n,d+1),!u)continue;const g=u[e],y=u[i];l&&(o=(g-l[e])/3,u[`cp1${e}`]=g-o,u[`cp1${i}`]=y-o*t[d]),f&&(o=(f[e]-g)/3,u[`cp2${e}`]=g+o,u[`cp2${i}`]=y+o*t[d])}}function t5(n,t="x"){const e=cR(t),i=n.length,r=Array(i).fill(0),o=Array(i);let l,u,f,d=ql(n,0);for(l=0;l<i;++l)if(u=f,f=d,d=ql(n,l+1),!!f){if(d){const g=d[t]-f[t];r[l]=g!==0?(d[e]-f[e])/g:0}o[l]=u?d?Ds(r[l-1])!==Ds(r[l])?0:(r[l-1]+r[l])/2:r[l-1]:r[l]}J4(n,r,o),Z4(n,o,t)}function Wf(n,t,e){return Math.max(Math.min(n,e),t)}function e5(n,t){let e,i,r,o,l,u=cr(n[0],t);for(e=0,i=n.length;e<i;++e)l=o,o=u,u=e<i-1&&cr(n[e+1],t),o&&(r=n[e],l&&(r.cp1x=Wf(r.cp1x,t.left,t.right),r.cp1y=Wf(r.cp1y,t.top,t.bottom)),u&&(r.cp2x=Wf(r.cp2x,t.left,t.right),r.cp2y=Wf(r.cp2y,t.top,t.bottom)))}function n5(n,t,e,i,r){let o,l,u,f;if(t.spanGaps&&(n=n.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")t5(n,r);else{let d=i?n[n.length-1]:n[0];for(o=0,l=n.length;o<l;++o)u=n[o],f=Q4(d,u,n[Math.min(o+1,l-(i?0:1))%l],t.tension),u.cp1x=f.previous.x,u.cp1y=f.previous.y,u.cp2x=f.next.x,u.cp2y=f.next.y,d=u}t.capBezierPoints&&e5(n,e)}function J_(){return typeof window<"u"&&typeof document<"u"}function Z_(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function jd(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const bm=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function i5(n,t){return bm(n).getPropertyValue(t)}const s5=["top","right","bottom","left"];function Eo(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=s5[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const r5=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function a5(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let l=!1,u,f;if(r5(r,o,n.target))u=r,f=o;else{const d=t.getBoundingClientRect();u=i.clientX-d.left,f=i.clientY-d.top,l=!0}return{x:u,y:f,box:l}}function po(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=bm(e),o=r.boxSizing==="border-box",l=Eo(r,"padding"),u=Eo(r,"border","width"),{x:f,y:d,box:g}=a5(n,e),y=l.left+(g&&u.left),v=l.top+(g&&u.top);let{width:T,height:x}=t;return o&&(T-=l.width+u.width,x-=l.height+u.height),{x:Math.round((f-y)/T*e.width/i),y:Math.round((d-v)/x*e.height/i)}}function o5(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&Z_(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const l=o.getBoundingClientRect(),u=bm(o),f=Eo(u,"border","width"),d=Eo(u,"padding");t=l.width-d.width-f.width,e=l.height-d.height-f.height,i=jd(u.maxWidth,o,"clientWidth"),r=jd(u.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||Vd,maxHeight:r||Vd}}const la=n=>Math.round(n*10)/10;function l5(n,t,e,i){const r=bm(n),o=Eo(r,"margin"),l=jd(r.maxWidth,n,"clientWidth")||Vd,u=jd(r.maxHeight,n,"clientHeight")||Vd,f=o5(n,t,e);let{width:d,height:g}=f;if(r.boxSizing==="content-box"){const v=Eo(r,"border","width"),T=Eo(r,"padding");d-=T.width+v.width,g-=T.height+v.height}return d=Math.max(0,d-o.width),g=Math.max(0,i?d/i:g-o.height),d=la(Math.min(d,l,f.maxWidth)),g=la(Math.min(g,u,f.maxHeight)),d&&!g&&(g=la(d/2)),(t!==void 0||e!==void 0)&&i&&f.height&&g>f.height&&(g=f.height,d=la(Math.floor(g*i))),{width:d,height:g}}function VS(n,t,e){const i=t||1,r=la(n.height*i),o=la(n.width*i);n.height=la(n.height),n.width=la(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==r||l.width!==o?(n.currentDevicePixelRatio=i,l.height=r,l.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const c5=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};J_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function zS(n,t){const e=i5(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function go(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function u5(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function h5(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},l=go(n,r,e),u=go(r,o,e),f=go(o,t,e),d=go(l,u,e),g=go(u,f,e);return go(d,g,e)}const f5=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},d5=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Nl(n,t,e){return n?f5(t,e):d5()}function uR(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function hR(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function fR(n){return n==="angle"?{between:Gu,compare:m4,normalize:Rn}:{between:or,compare:(t,e)=>t-e,normalize:t=>t}}function jS({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function m5(n,t,e){const{property:i,start:r,end:o}=e,{between:l,normalize:u}=fR(i),f=t.length;let{start:d,end:g,loop:y}=n,v,T;if(y){for(d+=f,g+=f,v=0,T=f;v<T&&l(u(t[d%f][i]),r,o);++v)d--,g--;d%=f,g%=f}return g<d&&(g+=f),{start:d,end:g,loop:y,style:n.style}}function dR(n,t,e){if(!e)return[n];const{property:i,start:r,end:o}=e,l=t.length,{compare:u,between:f,normalize:d}=fR(i),{start:g,end:y,loop:v,style:T}=m5(n,t,e),x=[];let A=!1,w=null,O,V,j;const $=()=>f(r,j,O)&&u(r,j)!==0,B=()=>u(o,O)===0||f(o,j,O),Y=()=>A||$(),I=()=>!A||B();for(let R=g,M=g;R<=y;++R)V=t[R%l],!V.skip&&(O=d(V[i]),O!==j&&(A=f(O,r,o),w===null&&Y()&&(w=u(O,r)===0?R:M),w!==null&&I()&&(x.push(jS({start:w,end:R,loop:v,count:l,style:T})),w=null),M=R,j=O));return w!==null&&x.push(jS({start:w,end:y,loop:v,count:l,style:T})),x}function mR(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const o=dR(i[r],n.points,t);o.length&&e.push(...o)}return e}function p5(n,t,e,i){let r=0,o=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}function g5(n,t,e,i){const r=n.length,o=[];let l=t,u=n[t],f;for(f=t+1;f<=e;++f){const d=n[f%r];d.skip||d.stop?u.skip||(i=!1,o.push({start:t%r,end:(f-1)%r,loop:i}),t=l=d.stop?f:null):(l=f,u.skip&&(t=f)),u=d}return l!==null&&o.push({start:t%r,end:l%r,loop:i}),o}function y5(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const o=!!n._loop,{start:l,end:u}=p5(e,r,o,i);if(i===!0)return US(n,[{start:l,end:u,loop:o}],e,t);const f=u<l?u+r:u,d=!!n._fullLoop&&l===0&&u===r-1;return US(n,g5(e,l,f,d),e,t)}function US(n,t,e,i){return!i||!i.setContext||!e?t:_5(n,t,e,i)}function _5(n,t,e,i){const r=n._chart.getContext(),o=BS(n.options),{_datasetIndex:l,options:{spanGaps:u}}=n,f=e.length,d=[];let g=o,y=t[0].start,v=y;function T(x,A,w,O){const V=u?-1:1;if(x!==A){for(x+=f;e[x%f].skip;)x-=V;for(;e[A%f].skip;)A+=V;x%f!==A%f&&(d.push({start:x%f,end:A%f,loop:w,style:O}),g=O,y=A%f)}}for(const x of t){y=u?y:x.start;let A=e[y%f],w;for(v=y+1;v<=x.end;v++){const O=e[v%f];w=BS(i.setContext(Oa(r,{type:"segment",p0:A,p1:O,p0DataIndex:(v-1)%f,p1DataIndex:v%f,datasetIndex:l}))),v5(w,g)&&T(y,v-1,x.loop,g),A=O,g=w}y<v-1&&T(y,v-1,x.loop,g)}return d}function BS(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function v5(n,t){if(!t)return!1;const e=[],i=function(r,o){return W_(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function $f(n,t,e){return n.options.clip?n[e]:t[e]}function b5(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:$f(e,t,"left"),right:$f(e,t,"right"),top:$f(i,t,"top"),bottom:$f(i,t,"bottom")}:t}function pR(n,t){const e=t._clip;if(e.disabled)return!1;const i=b5(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}class E5{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],l=e.duration;o.forEach(u=>u({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=QA.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let l=o.length-1,u=!1,f;for(;l>=0;--l)f=o[l],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),u=!0):(o[l]=o[o.length-1],o.pop());u&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var nr=new E5;const FS="transparent",T5={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=OS(n||FS),r=i.valid&&OS(t||FS);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class S5{constructor(t,e,i,r){const o=e[i];r=pu([t.to,r,o,t.from]);const l=pu([t.from,o,r]);this._active=!0,this._fn=t.fn||T5[t.type||typeof l],this._easing=Au[t.easing]||Au.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,l=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=pu([t.to,e,r,t.from]),this._from=pu([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,l=this._loop,u=this._to;let f;if(this._active=o!==u&&(l||e<i),!this._active){this._target[r]=u,this._notify(!0);return}if(e<0){this._target[r]=o;return}f=e/i%2,f=l&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,u,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class gR{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Yt(t))return;const e=Object.keys(we.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!Yt(o))return;const l={};for(const u of e)l[u]=o[u];(xe(o.properties)&&o.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,l)})})}_animateOptions(t,e){const i=e.options,r=w5(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&x5(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),l=Object.keys(e),u=Date.now();let f;for(f=l.length-1;f>=0;--f){const d=l[f];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(t,e));continue}const g=e[d];let y=o[d];const v=i.get(d);if(y)if(v&&y.active()){y.update(v,g,u);continue}else y.cancel();if(!v||!v.duration){t[d]=g;continue}o[d]=y=new S5(v,t,d,g),r.push(y)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return nr.add(this._chart,i),!0}}function x5(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function w5(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function HS(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function A5(n,t,e){if(e===!1)return!1;const i=HS(n,e),r=HS(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function R5(n){let t,e,i,r;return Yt(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function yR(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function qS(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let l,u,f,d;if(t===null)return;let g=!1;for(l=0,u=r.length;l<u;++l){if(f=+r[l],f===e){if(g=!0,i.all)continue;break}d=n.values[f],Me(d)&&(o||t===0||Ds(t)===Ds(d))&&(t+=d)}return!g&&!i.all?0:t}function C5(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let f,d,g;for(f=0,d=l.length;f<d;++f)g=l[f],u[f]={[r]:g,[o]:n[g]};return u}function Hg(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function I5(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function D5(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function M5(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function GS(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function YS(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:l,index:u}=i,f=o.axis,d=l.axis,g=I5(o,l,i),y=t.length;let v;for(let T=0;T<y;++T){const x=t[T],{[f]:A,[d]:w}=x,O=x._stacks||(x._stacks={});v=O[d]=M5(r,g,A),v[u]=w,v._top=GS(v,l,!0,i.type),v._bottom=GS(v,l,!1,i.type);const V=v._visualValues||(v._visualValues={});V[u]=w}}function qg(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function O5(n,t){return Oa(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function N5(n,t,e){return Oa(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function iu(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const Gg=n=>n==="reset"||n==="none",WS=(n,t)=>t?n:Object.assign({},n),k5=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:yR(e,!0),values:null};class Na{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Hg(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&iu(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(y,v,T,x)=>y==="x"?v:y==="r"?x:T,o=e.xAxisID=Ot(i.xAxisID,qg(t,"x")),l=e.yAxisID=Ot(i.yAxisID,qg(t,"y")),u=e.rAxisID=Ot(i.rAxisID,qg(t,"r")),f=e.indexAxis,d=e.iAxisID=r(f,o,l,u),g=e.vAxisID=r(f,l,o,u);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(d),e.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&IS(this._data,this),t._stacked&&iu(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Yt(e)){const r=this._cachedMeta;this._data=C5(e,r)}else if(i!==e){if(i){IS(i,this);const r=this._cachedMeta;iu(r),r._parsed=[]}e&&Object.isExtensible(e)&&_4(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=Hg(e.vScale,e),e.stack!==i.stack&&(r=!0,iu(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(YS(this,e._parsed),e._stacked=Hg(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:l}=i,u=o.axis;let f=t===0&&e===r.length?!0:i._sorted,d=t>0&&i._parsed[t-1],g,y,v;if(this._parsing===!1)i._parsed=r,i._sorted=!0,v=r;else{xe(r[t])?v=this.parseArrayData(i,r,t,e):Yt(r[t])?v=this.parseObjectData(i,r,t,e):v=this.parsePrimitiveData(i,r,t,e);const T=()=>y[u]===null||d&&y[u]<d[u];for(g=0;g<e;++g)i._parsed[g+t]=y=v[g],f&&(T()&&(f=!1),d=y);i._sorted=f}l&&YS(this,v)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:l}=t,u=o.axis,f=l.axis,d=o.getLabels(),g=o===l,y=new Array(r);let v,T,x;for(v=0,T=r;v<T;++v)x=v+i,y[v]={[u]:g||o.parse(d[x],x),[f]:l.parse(e[x],x)};return y}parseArrayData(t,e,i,r){const{xScale:o,yScale:l}=t,u=new Array(r);let f,d,g,y;for(f=0,d=r;f<d;++f)g=f+i,y=e[g],u[f]={x:o.parse(y[0],g),y:l.parse(y[1],g)};return u}parseObjectData(t,e,i,r){const{xScale:o,yScale:l}=t,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,d=new Array(r);let g,y,v,T;for(g=0,y=r;g<y;++g)v=g+i,T=e[v],d[g]={x:o.parse(wa(T,u),v),y:l.parse(wa(T,f),v)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,l=e[t.axis],u={keys:yR(r,!0),values:e._stacks[t.axis]._visualValues};return qS(u,l,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let l=o===null?NaN:o;const u=r&&i._stacks[e.axis];r&&u&&(r.values=u,l=qS(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,l=r.length,u=this._getOtherScale(t),f=k5(e,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:y}=D5(u);let v,T;function x(){T=r[v];const A=T[u.axis];return!Me(T[t.axis])||g>A||y<A}for(v=0;v<l&&!(!x()&&(this.updateRangeFromParsed(d,t,T,f),o));++v);if(o){for(v=l-1;v>=0;--v)if(!x()){this.updateRangeFromParsed(d,t,T,f);break}}return d}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,l;for(r=0,o=e.length;r<o;++r)l=e[r][t.axis],Me(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=R5(Ot(this.options.clip,A5(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,l=[],u=this._drawStart||0,f=this._drawCount||r.length-u,d=this.options.drawActiveElementsOnTop;let g;for(i.dataset&&i.dataset.draw(t,o,u,f),g=u;g<u+f;++g){const y=r[g];y.hidden||(y.active&&d?l.push(y):y.draw(t,o))}for(g=0;g<l.length;++g)l[g].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];o=l.$context||(l.$context=N5(this.getContext(),t,l)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=O5(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,l=t+"-"+e,u=o[l],f=this.enableOptionSharing&&qu(i);if(u)return WS(u,f);const d=this.chart.config,g=d.datasetElementScopeKeys(this._type,t),y=r?[`${t}Hover`,"hover",t,""]:[t,""],v=d.getOptionScopes(this.getDataset(),g),T=Object.keys(we.elements[t]),x=()=>this.getContext(i,r,e),A=d.resolveNamedOptions(v,T,x,y);return A.$shared&&(A.$shared=f,o[l]=Object.freeze(WS(A,f))),A}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,l=`animation-${e}`,u=o[l];if(u)return u;let f;if(r.options.animation!==!1){const g=this.chart.config,y=g.datasetAnimationScopeKeys(this._type,e),v=g.getOptionScopes(this.getDataset(),y);f=g.createResolver(v,this.getContext(t,i,e))}const d=new gR(r,f&&f.animations);return f&&f._cacheable&&(o[l]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Gg(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),l=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:l}}updateElement(t,e,i,r){Gg(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!Gg(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[u,f,d]of this._syncList)this[u](f,d);this._syncList=[];const r=i.length,o=e.length,l=Math.min(o,r);l&&this.parse(0,l),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,l=t+e;let u;const f=d=>{for(d.length+=e,u=d.length-1;u>=l;u--)d[u]=d[u-e]};for(f(o),u=t;u<l;++u)o[u]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&iu(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function P5(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=XA(i.sort((r,o)=>r-o))}return n._cache.$bar}function L5(n){const t=n.iScale,e=P5(t,n.type);let i=t._length,r,o,l,u;const f=()=>{l===32767||l===-32768||(qu(u)&&(i=Math.min(i,Math.abs(l-u)||i)),u=l)};for(r=0,o=e.length;r<o;++r)l=t.getPixelForValue(e[r]),f();for(u=void 0,r=0,o=t.ticks.length;r<o;++r)l=t.getPixelForTick(r),f();return i}function V5(n,t,e,i){const r=e.barThickness;let o,l;return Ut(r)?(o=t.min*e.categoryPercentage,l=e.barPercentage):(o=r*i,l=1),{chunk:o/i,ratio:l,start:t.pixels[n]-o/2}}function z5(n,t,e,i){const r=t.pixels,o=r[n];let l=n>0?r[n-1]:null,u=n<r.length-1?r[n+1]:null;const f=e.categoryPercentage;l===null&&(l=o-(u===null?t.end-t.start:u-o)),u===null&&(u=o+o-l);const d=o-(o-Math.min(l,u))/2*f;return{chunk:Math.abs(u-l)/2*f/i,ratio:e.barPercentage,start:d}}function j5(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),l=Math.min(r,o),u=Math.max(r,o);let f=l,d=u;Math.abs(l)>Math.abs(u)&&(f=u,d=l),t[e.axis]=d,t._custom={barStart:f,barEnd:d,start:r,end:o,min:l,max:u}}function _R(n,t,e,i){return xe(n)?j5(n,t,e,i):t[e.axis]=e.parse(n,i),t}function $S(n,t,e,i){const r=n.iScale,o=n.vScale,l=r.getLabels(),u=r===o,f=[];let d,g,y,v;for(d=e,g=e+i;d<g;++d)v=t[d],y={},y[r.axis]=u||r.parse(l[d],d),f.push(_R(v,y,o,d));return f}function Yg(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function U5(n,t,e){return n!==0?Ds(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function B5(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function F5(n,t,e,i){let r=t.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:f,top:d,bottom:g}=B5(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=d:(e._bottom||0)===i?r=g:(o[KS(g,l,u,f)]=!0,r=d)),o[KS(r,l,u,f)]=!0,n.borderSkipped=o}function KS(n,t,e,i){return i?(n=H5(n,t,e),n=XS(n,e,t)):n=XS(n,t,e),n}function H5(n,t,e){return n===t?e:n===e?t:n}function XS(n,t,e){return n==="start"?t:n==="end"?e:n}function q5(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class G5 extends Na{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return $S(t,e,i,r)}parseArrayData(t,e,i,r){return $S(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:o,vScale:l}=t,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,d=o.axis==="x"?u:f,g=l.axis==="x"?u:f,y=[];let v,T,x,A;for(v=i,T=i+r;v<T;++v)A=e[v],x={},x[o.axis]=o.parse(wa(A,d),v),y.push(_R(wa(A,g),x,l,v));return y}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,o=this.getParsed(t),l=o._custom,u=Yg(l)?"["+l.start+", "+l.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const o=r==="reset",{index:l,_cachedMeta:{vScale:u}}=this,f=u.getBasePixel(),d=u.isHorizontal(),g=this._getRuler(),{sharedOptions:y,includeOptions:v}=this._getSharedOptions(e,r);for(let T=e;T<e+i;T++){const x=this.getParsed(T),A=o||Ut(x[u.axis])?{base:f,head:f}:this._calculateBarValuePixels(T),w=this._calculateBarIndexPixels(T,g),O=(x._stacks||{})[u.axis],V={horizontal:d,base:A.base,enableBorderRadius:!O||Yg(x._custom)||l===O._top||l===O._bottom,x:d?A.head:w.center,y:d?w.center:A.head,height:d?w.size:Math.abs(A.size),width:d?Math.abs(A.size):w.size};v&&(V.options=y||this.resolveDataElementOptions(T,t[T].active?"active":r));const j=V.options||t[T].options;F5(V,j,O,l),q5(V,j,g.ratio),this.updateElement(t[T],T,V,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),o=i.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(e),f=u&&u[i.axis],d=g=>{const y=g._parsed.find(T=>T[i.axis]===f),v=y&&y[g.vScale.axis];if(Ut(v)||isNaN(v))return!0};for(const g of r)if(!(e!==void 0&&d(g))&&((o===!1||l.indexOf(g.stack)===-1||o===void 0&&g.stack===void 0)&&l.push(g.stack),g.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Ot(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let o,l;for(o=0,l=e.data.length;o<l;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const u=t.barThickness;return{min:u||L5(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:o,minBarLength:l}}=this,u=o||0,f=this.getParsed(t),d=f._custom,g=Yg(d);let y=f[e.axis],v=0,T=i?this.applyStack(e,f,i):y,x,A;T!==y&&(v=T-y,T=y),g&&(y=d.barStart,T=d.barEnd-d.barStart,y!==0&&Ds(y)!==Ds(d.barEnd)&&(v=0),v+=y);const w=!Ut(o)&&!g?o:v;let O=e.getPixelForValue(w);if(this.chart.getDataVisibility(t)?x=e.getPixelForValue(v+T):x=O,A=x-O,Math.abs(A)<l){A=U5(A,e,u)*l,y===u&&(O-=A/2);const V=e.getPixelForDecimal(0),j=e.getPixelForDecimal(1),$=Math.min(V,j),B=Math.max(V,j);O=Math.max(Math.min(O,B),$),x=O+A,i&&!g&&(f._stacks[e.axis]._visualValues[r]=e.getValueForPixel(x)-e.getValueForPixel(O))}if(O===e.getPixelForValue(u)){const V=Ds(A)*e.getLineWidthForValue(u)/2;O+=V,A-=V}return{size:A,base:O,head:x,center:x+A/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,o=r.skipNull,l=Ot(r.maxBarThickness,1/0);let u,f;const d=this._getAxisCount();if(e.grouped){const g=o?this._getStackCount(t):e.stackCount,y=r.barThickness==="flex"?z5(t,e,r,g*d):V5(t,e,r,g*d),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,T=this._getAxis().indexOf(Ot(v,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+T;u=y.start+y.chunk*x+y.chunk/2,f=Math.min(l,y.chunk*y.ratio)}else u=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(l,e.min*e.ratio);return{base:u-f/2,head:u+f/2,center:u,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}class Y5 extends Na{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,r){const o=super.parsePrimitiveData(t,e,i,r);for(let l=0;l<o.length;l++)o[l]._custom=this.resolveDataElementOptions(l+i).radius;return o}parseArrayData(t,e,i,r){const o=super.parseArrayData(t,e,i,r);for(let l=0;l<o.length;l++){const u=e[i+l];o[l]._custom=Ot(u[2],this.resolveDataElementOptions(l+i).radius)}return o}parseObjectData(t,e,i,r){const o=super.parseObjectData(t,e,i,r);for(let l=0;l<o.length;l++){const u=e[i+l];o[l]._custom=Ot(u&&u.r&&+u.r,this.resolveDataElementOptions(l+i).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:o}=e,l=this.getParsed(t),u=r.getLabelForValue(l.x),f=o.getLabelForValue(l.y),d=l._custom;return{label:i[t]||"",value:"("+u+", "+f+(d?", "+d:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,r){const o=r==="reset",{iScale:l,vScale:u}=this._cachedMeta,{sharedOptions:f,includeOptions:d}=this._getSharedOptions(e,r),g=l.axis,y=u.axis;for(let v=e;v<e+i;v++){const T=t[v],x=!o&&this.getParsed(v),A={},w=A[g]=o?l.getPixelForDecimal(.5):l.getPixelForValue(x[g]),O=A[y]=o?u.getBasePixel():u.getPixelForValue(x[y]);A.skip=isNaN(w)||isNaN(O),d&&(A.options=f||this.resolveDataElementOptions(v,T.active?"active":r),o&&(A.options.radius=0)),this.updateElement(T,v,A,r)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let r=super.resolveDataElementOptions(t,e);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const o=r.radius;return e!=="active"&&(r.radius=0),r.radius+=Ot(i&&i._custom,o),r}}function W5(n,t,e){let i=1,r=1,o=0,l=0;if(t<be){const u=n,f=u+t,d=Math.cos(u),g=Math.sin(u),y=Math.cos(f),v=Math.sin(f),T=(j,$,B)=>Gu(j,u,f,!0)?1:Math.max($,$*e,B,B*e),x=(j,$,B)=>Gu(j,u,f,!0)?-1:Math.min($,$*e,B,B*e),A=T(0,d,y),w=T(ze,g,v),O=x(Qt,d,y),V=x(Qt+ze,g,v);i=(A-O)/2,r=(w-V)/2,o=-(A+O)/2,l=-(w+V)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:l}}class tv extends Na{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data,{labels:{pointStyle:i,textAlign:r,color:o,useBorderRadius:l,borderRadius:u}}=t.legend.options;return e.labels.length&&e.datasets.length?e.labels.map((f,d)=>{const y=t.getDatasetMeta(0).controller.getStyle(d);return{text:f,fillStyle:y.backgroundColor,fontColor:o,hidden:!t.getDataVisibility(d),lineDash:y.borderDash,lineDashOffset:y.borderDashOffset,lineJoin:y.borderJoinStyle,lineWidth:y.borderWidth,strokeStyle:y.borderColor,textAlign:r,pointStyle:i,borderRadius:l&&(u||y.borderRadius),index:d}}):[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=f=>+i[f];if(Yt(i[t])){const{key:f="value"}=this._parsing;o=d=>+wa(i[d],f)}let l,u;for(l=t,u=t+e;l<u;++l)r._parsed[l]=o(l)}}_getRotation(){return Wi(this.options.rotation-90)}_getCircumference(){return Wi(this.options.circumference)}_getRotationExtents(){let t=be,e=-be;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),l=r._getCircumference();t=Math.min(t,o),e=Math.max(e,o+l)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,o=r.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-l)/2,0),f=Math.min(i4(this.options.cutout,u),1),d=this._getRingWeight(this.index),{circumference:g,rotation:y}=this._getRotationExtents(),{ratioX:v,ratioY:T,offsetX:x,offsetY:A}=W5(y,g,f),w=(i.width-l)/v,O=(i.height-l)/T,V=Math.max(Math.min(w,O)/2,0),j=GA(this.options.radius,V),$=Math.max(j*f,0),B=(j-$)/this._getVisibleDatasetWeightTotal();this.offsetX=x*j,this.offsetY=A*j,r.total=this.calculateTotal(),this.outerRadius=j-B*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-B*d,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*o/be)}updateElements(t,e,i,r){const o=r==="reset",l=this.chart,u=l.chartArea,d=l.options.animation,g=(u.left+u.right)/2,y=(u.top+u.bottom)/2,v=o&&d.animateScale,T=v?0:this.innerRadius,x=v?0:this.outerRadius,{sharedOptions:A,includeOptions:w}=this._getSharedOptions(e,r);let O=this._getRotation(),V;for(V=0;V<e;++V)O+=this._circumference(V,o);for(V=e;V<e+i;++V){const j=this._circumference(V,o),$=t[V],B={x:g+this.offsetX,y:y+this.offsetY,startAngle:O,endAngle:O+j,circumference:j,outerRadius:x,innerRadius:T};w&&(B.options=A||this.resolveDataElementOptions(V,$.active?"active":r)),O+=j,this.updateElement($,V,B,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const o=t._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?be*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=fh(e._parsed[t],i.options.locale);return{label:r[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,o,l,u,f;if(!t){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){l=i.getDatasetMeta(r),t=l.data,u=l.controller;break}}if(!t)return 0;for(r=0,o=t.length;r<o;++r)f=u.resolveDataElementOptions(r),f.borderAlign!=="inner"&&(e=Math.max(e,f.borderWidth||0,f.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Ot(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class $5 extends Na{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=e,l=this.chart._animationsDisabled;let{start:u,count:f}=ZA(e,r,l);this._drawStart=u,this._drawCount=f,tR(e)&&(u=0,f=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:d},t),this.updateElements(r,u,f,t)}updateElements(t,e,i,r){const o=r==="reset",{iScale:l,vScale:u,_stacked:f,_dataset:d}=this._cachedMeta,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(e,r),v=l.axis,T=u.axis,{spanGaps:x,segment:A}=this.options,w=Fl(x)?x:Number.POSITIVE_INFINITY,O=this.chart._animationsDisabled||o||r==="none",V=e+i,j=t.length;let $=e>0&&this.getParsed(e-1);for(let B=0;B<j;++B){const Y=t[B],I=O?Y:{};if(B<e||B>=V){I.skip=!0;continue}const R=this.getParsed(B),M=Ut(R[T]),L=I[v]=l.getPixelForValue(R[v],B),P=I[T]=o||M?u.getBasePixel():u.getPixelForValue(f?this.applyStack(u,R,f):R[T],B);I.skip=isNaN(L)||isNaN(P)||M,I.stop=B>0&&Math.abs(R[v]-$[v])>w,A&&(I.parsed=R,I.raw=d.data[B]),y&&(I.options=g||this.resolveDataElementOptions(B,Y.active?"active":r)),O||this.updateElement(Y,B,I,r),$=R}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),l=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class vR extends Na{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((o,l)=>{const f=t.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:r,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=fh(e._parsed[t].r,i.options.locale);return{label:r[t]||"",value:o}}parseObjectData(t,e,i,r){return lR.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,r)=>{const o=this.getParsed(r).r;!isNaN(o)&&this.chart.getDataVisibility(r)&&(o<e.min&&(e.min=o),o>e.max&&(e.max=o))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,r=Math.min(e.right-e.left,e.bottom-e.top),o=Math.max(r/2,0),l=Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0),u=(o-l)/t.getVisibleDatasetCount();this.outerRadius=o-u*this.index,this.innerRadius=this.outerRadius-u}updateElements(t,e,i,r){const o=r==="reset",l=this.chart,f=l.options.animation,d=this._cachedMeta.rScale,g=d.xCenter,y=d.yCenter,v=d.getIndexAngle(0)-.5*Qt;let T=v,x;const A=360/this.countVisibleElements();for(x=0;x<e;++x)T+=this._computeAngle(x,r,A);for(x=e;x<e+i;x++){const w=t[x];let O=T,V=T+this._computeAngle(x,r,A),j=l.getDataVisibility(x)?d.getDistanceFromCenterForValue(this.getParsed(x).r):0;T=V,o&&(f.animateScale&&(j=0),f.animateRotate&&(O=V=v));const $={x:g,y,innerRadius:0,outerRadius:j,startAngle:O,endAngle:V,options:this.resolveDataElementOptions(x,w.active?"active":r)};this.updateElement(w,x,$,r)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?Wi(this.resolveDataElementOptions(t,e).angle||i):0}}class K5 extends tv{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class X5 extends Na{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,r){return lR.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta,i=e.dataset,r=e.data||[],o=e.iScale.getLabels();if(i.points=r,t!=="resize"){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0);const u={_loop:!0,_fullLoop:o.length===r.length,options:l};this.updateElement(i,void 0,u,t)}this.updateElements(r,0,r.length,t)}updateElements(t,e,i,r){const o=this._cachedMeta.rScale,l=r==="reset";for(let u=e;u<e+i;u++){const f=t[u],d=this.resolveDataElementOptions(u,f.active?"active":r),g=o.getPointPositionForValue(u,this.getParsed(u).r),y=l?o.xCenter:g.x,v=l?o.yCenter:g.y,T={x:y,y:v,angle:g.angle,skip:isNaN(y)||isNaN(v),options:d};this.updateElement(f,u,T,r)}}}class Q5 extends Na{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:o}=e,l=this.getParsed(t),u=r.getLabelForValue(l.x),f=o.getLabelForValue(l.y);return{label:i[t]||"",value:"("+u+", "+f+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,r=this.chart._animationsDisabled;let{start:o,count:l}=ZA(e,i,r);if(this._drawStart=o,this._drawCount=l,tR(e)&&(o=0,l=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:u,_dataset:f}=e;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!f._decimated,u.points=i;const d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(u,void 0,{animated:!r,options:d},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,o,l,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,r){const o=r==="reset",{iScale:l,vScale:u,_stacked:f,_dataset:d}=this._cachedMeta,g=this.resolveDataElementOptions(e,r),y=this.getSharedOptions(g),v=this.includeOptions(r,y),T=l.axis,x=u.axis,{spanGaps:A,segment:w}=this.options,O=Fl(A)?A:Number.POSITIVE_INFINITY,V=this.chart._animationsDisabled||o||r==="none";let j=e>0&&this.getParsed(e-1);for(let $=e;$<e+i;++$){const B=t[$],Y=this.getParsed($),I=V?B:{},R=Ut(Y[x]),M=I[T]=l.getPixelForValue(Y[T],$),L=I[x]=o||R?u.getBasePixel():u.getPixelForValue(f?this.applyStack(u,Y,f):Y[x],$);I.skip=isNaN(M)||isNaN(L)||R,I.stop=$>0&&Math.abs(Y[T]-j[T])>O,w&&(I.parsed=Y,I.raw=d.data[$]),v&&(I.options=y||this.resolveDataElementOptions($,B.active?"active":r)),V||this.updateElement(B,$,I,r),j=Y}this.updateSharedOptions(y,r,g)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let u=0;for(let f=e.length-1;f>=0;--f)u=Math.max(u,e[f].size(this.resolveDataElementOptions(f))/2);return u>0&&u}const i=t.dataset,r=i.options&&i.options.borderWidth||0;if(!e.length)return r;const o=e[0].size(this.resolveDataElementOptions(0)),l=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(r,o,l)/2}}var J5=Object.freeze({__proto__:null,BarController:G5,BubbleController:Y5,DoughnutController:tv,LineController:$5,PieController:K5,PolarAreaController:vR,RadarController:X5,ScatterController:Q5});function uo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ev{static override(t){Object.assign(ev.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return uo()}parse(){return uo()}format(){return uo()}add(){return uo()}diff(){return uo()}startOf(){return uo()}endOf(){return uo()}}var Z5={_date:ev};function t3(n,t,e,i){const{controller:r,data:o,_sorted:l}=n,u=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&l&&o.length){const d=u._reversePixels?g4:lr;if(i){if(r._sharedOptions){const g=o[0],y=typeof g.getRange=="function"&&g.getRange(t);if(y){const v=d(o,t,e-y),T=d(o,t,e+y);return{lo:v.lo,hi:T.hi}}}}else{const g=d(o,t,e);if(f){const{vScale:y}=r._cachedMeta,{_parsed:v}=n,T=v.slice(0,g.lo+1).reverse().findIndex(A=>!Ut(A[y.axis]));g.lo-=Math.max(0,T);const x=v.slice(g.hi).findIndex(A=>!Ut(A[y.axis]));g.hi+=Math.max(0,x)}return g}}return{lo:0,hi:o.length-1}}function Em(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),l=e[t];for(let u=0,f=o.length;u<f;++u){const{index:d,data:g}=o[u],{lo:y,hi:v}=t3(o[u],t,l,r);for(let T=y;T<=v;++T){const x=g[T];x.skip||i(x,d,T)}}}function e3(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,l=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function Wg(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||Em(n,e,t,function(u,f,d){!r&&!cr(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&o.push({element:u,datasetIndex:f,index:d})},!0),o}function n3(n,t,e,i){let r=[];function o(l,u,f){const{startAngle:d,endAngle:g}=l.getProps(["startAngle","endAngle"],i),{angle:y}=$A(l,{x:t.x,y:t.y});Gu(y,d,g)&&r.push({element:l,datasetIndex:u,index:f})}return Em(n,e,t,o),r}function i3(n,t,e,i,r,o){let l=[];const u=e3(e);let f=Number.POSITIVE_INFINITY;function d(g,y,v){const T=g.inRange(t.x,t.y,r);if(i&&!T)return;const x=g.getCenterPoint(r);if(!(!!o||n.isPointInArea(x))&&!T)return;const w=u(t,x);w<f?(l=[{element:g,datasetIndex:y,index:v}],f=w):w===f&&l.push({element:g,datasetIndex:y,index:v})}return Em(n,e,t,d),l}function $g(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?n3(n,t,e,r):i3(n,t,e,i,r,o)}function QS(n,t,e,i,r){const o=[],l=e==="x"?"inXRange":"inYRange";let u=!1;return Em(n,e,t,(f,d,g)=>{f[l]&&f[l](t[e],r)&&(o.push({element:f,datasetIndex:d,index:g}),u=u||f.inRange(t.x,t.y,r))}),i&&!u?[]:o}var s3={modes:{index(n,t,e,i){const r=po(t,n),o=e.axis||"x",l=e.includeInvisible||!1,u=e.intersect?Wg(n,r,o,i,l):$g(n,r,o,!1,i,l),f=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const g=u[0].index,y=d.data[g];y&&!y.skip&&f.push({element:y,datasetIndex:d.index,index:g})}),f):[]},dataset(n,t,e,i){const r=po(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;let u=e.intersect?Wg(n,r,o,i,l):$g(n,r,o,!1,i,l);if(u.length>0){const f=u[0].datasetIndex,d=n.getDatasetMeta(f).data;u=[];for(let g=0;g<d.length;++g)u.push({element:d[g],datasetIndex:f,index:g})}return u},point(n,t,e,i){const r=po(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return Wg(n,r,o,i,l)},nearest(n,t,e,i){const r=po(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return $g(n,r,o,e.intersect,i,l)},x(n,t,e,i){const r=po(t,n);return QS(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=po(t,n);return QS(n,r,"y",e.intersect,i)}}};const bR=["left","top","right","bottom"];function su(n,t){return n.filter(e=>e.pos===t)}function JS(n,t){return n.filter(e=>bR.indexOf(e.pos)===-1&&e.box.axis===t)}function ru(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function r3(n){const t=[];let e,i,r,o,l,u;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:l,stackWeight:u=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&o+l,stackWeight:u});return t}function a3(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!bR.includes(r))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return t}function o3(n,t){const e=a3(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,l,u;for(o=0,l=n.length;o<l;++o){u=n[o];const{fullSize:f}=u.box,d=e[u.stack],g=d&&u.stackWeight/d.weight;u.horizontal?(u.width=g?g*i:f&&t.availableWidth,u.height=r):(u.width=i,u.height=g?g*r:f&&t.availableHeight)}return e}function l3(n){const t=r3(n),e=ru(t.filter(d=>d.box.fullSize),!0),i=ru(su(t,"left"),!0),r=ru(su(t,"right")),o=ru(su(t,"top"),!0),l=ru(su(t,"bottom")),u=JS(t,"x"),f=JS(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(l).concat(u),chartArea:su(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(l).concat(u)}}function ZS(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function ER(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function c3(n,t,e,i){const{pos:r,box:o}=e,l=n.maxPadding;if(!Yt(r)){e.size&&(n[r]-=e.size);const y=i[e.stack]||{size:0,count:1};y.size=Math.max(y.size,e.horizontal?o.height:o.width),e.size=y.size/y.count,n[r]+=e.size}o.getPadding&&ER(l,o.getPadding());const u=Math.max(0,t.outerWidth-ZS(l,n,"left","right")),f=Math.max(0,t.outerHeight-ZS(l,n,"top","bottom")),d=u!==n.w,g=f!==n.h;return n.w=u,n.h=f,e.horizontal?{same:d,other:g}:{same:g,other:d}}function u3(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function h3(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{o[l]=Math.max(t[l],e[l])}),o}return i(n?["left","right"]:["top","bottom"])}function gu(n,t,e,i){const r=[];let o,l,u,f,d,g;for(o=0,l=n.length,d=0;o<l;++o){u=n[o],f=u.box,f.update(u.width||t.w,u.height||t.h,h3(u.horizontal,t));const{same:y,other:v}=c3(t,e,u,i);d|=y&&r.length,g=g||v,f.fullSize||r.push(u)}return d&&gu(r,t,e,i)||g}function Kf(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function tx(n,t,e,i){const r=e.padding;let{x:o,y:l}=t;for(const u of n){const f=u.box,d=i[u.stack]||{placed:0,weight:1},g=u.stackWeight/d.weight||1;if(u.horizontal){const y=t.w*g,v=d.size||f.height;qu(d.start)&&(l=d.start),f.fullSize?Kf(f,r.left,l,e.outerWidth-r.right-r.left,v):Kf(f,t.left+d.placed,l,y,v),d.start=l,d.placed+=y,l=f.bottom}else{const y=t.h*g,v=d.size||f.width;qu(d.start)&&(o=d.start),f.fullSize?Kf(f,o,r.top,v,e.outerHeight-r.bottom-r.top):Kf(f,o,t.top+d.placed,v,y),d.start=o,d.placed+=y,o=f.right}}t.x=o,t.y=l}var In={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=Mn(n.options.layout.padding),o=Math.max(t-r.width,0),l=Math.max(e-r.height,0),u=l3(n.boxes),f=u.vertical,d=u.horizontal;oe(n.boxes,A=>{typeof A.beforeLayout=="function"&&A.beforeLayout()});const g=f.reduce((A,w)=>w.box.options&&w.box.options.display===!1?A:A+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/g,hBoxMaxHeight:l/2}),v=Object.assign({},r);ER(v,Mn(i));const T=Object.assign({maxPadding:v,w:o,h:l,x:r.left,y:r.top},r),x=o3(f.concat(d),y);gu(u.fullSize,T,y,x),gu(f,T,y,x),gu(d,T,y,x)&&gu(f,T,y,x),u3(T),tx(u.leftAndTop,T,y,x),T.x+=T.w,T.y+=T.h,tx(u.rightAndBottom,T,y,x),n.chartArea={left:T.left,top:T.top,right:T.left+T.w,bottom:T.top+T.h,height:T.h,width:T.w},oe(u.chartArea,A=>{const w=A.box;Object.assign(w,n.chartArea),w.update(T.w,T.h,{left:0,top:0,right:0,bottom:0})})}};class TR{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class f3 extends TR{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const md="$chartjs",d3={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ex=n=>n===null||n==="";function m3(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[md]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",ex(r)){const o=zS(n,"width");o!==void 0&&(n.width=o)}if(ex(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=zS(n,"height");o!==void 0&&(n.height=o)}return n}const SR=c5?{passive:!0}:!1;function p3(n,t,e){n&&n.addEventListener(t,e,SR)}function g3(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,SR)}function y3(n,t){const e=d3[n.type]||n.type,{x:i,y:r}=po(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Ud(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function _3(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||Ud(u.addedNodes,i),l=l&&!Ud(u.removedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function v3(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||Ud(u.removedNodes,i),l=l&&!Ud(u.addedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Wu=new Map;let nx=0;function xR(){const n=window.devicePixelRatio;n!==nx&&(nx=n,Wu.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function b3(n,t){Wu.size||window.addEventListener("resize",xR),Wu.set(n,t)}function E3(n){Wu.delete(n),Wu.size||window.removeEventListener("resize",xR)}function T3(n,t,e){const i=n.canvas,r=i&&Z_(i);if(!r)return;const o=JA((u,f)=>{const d=r.clientWidth;e(u,f),d<r.clientWidth&&e()},window),l=new ResizeObserver(u=>{const f=u[0],d=f.contentRect.width,g=f.contentRect.height;d===0&&g===0||o(d,g)});return l.observe(r),b3(n,o),l}function Kg(n,t,e){e&&e.disconnect(),t==="resize"&&E3(n)}function S3(n,t,e){const i=n.canvas,r=JA(o=>{n.ctx!==null&&e(y3(o,n))},n);return p3(i,t,r),r}class x3 extends TR{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(m3(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[md])return!1;const i=e[md].initial;["height","width"].forEach(o=>{const l=i[o];Ut(l)?e.removeAttribute(o):e.setAttribute(o,l)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[md],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),l={attach:_3,detach:v3,resize:T3}[e]||S3;r[e]=l(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:Kg,detach:Kg,resize:Kg}[e]||g3)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return l5(t,e,i,r)}isAttached(t){const e=t&&Z_(t);return!!(e&&e.isConnected)}}function w3(n){return!J_()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?f3:x3}class vr{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Fl(this.x)&&Fl(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function A3(n,t){const e=n.options.ticks,i=R3(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?I3(t):[],l=o.length,u=o[0],f=o[l-1],d=[];if(l>r)return D3(t,d,o,l/r),d;const g=C3(o,t,r);if(l>0){let y,v;const T=l>1?Math.round((f-u)/(l-1)):null;for(Xf(t,d,g,Ut(T)?0:u-T,u),y=0,v=l-1;y<v;y++)Xf(t,d,g,o[y],o[y+1]);return Xf(t,d,g,f,Ut(T)?t.length:f+T),d}return Xf(t,d,g),d}function R3(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function C3(n,t,e){const i=M3(n),r=t.length/e;if(!i)return Math.max(r,1);const o=h4(i);for(let l=0,u=o.length-1;l<u;l++){const f=o[l];if(f>r)return f}return Math.max(r,1)}function I3(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function D3(n,t,e,i){let r=0,o=e[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===o&&(t.push(n[l]),r++,o=e[r*i])}function Xf(n,t,e,i,r){const o=Ot(i,0),l=Math.min(Ot(r,n.length),n.length);let u=0,f,d,g;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),g=o;g<0;)u++,g=Math.round(o+u*e);for(d=Math.max(o,0);d<l;d++)d===g&&(t.push(n[d]),u++,g=Math.round(o+u*e))}function M3(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const O3=n=>n==="left"?"right":n==="right"?"left":n,ix=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,sx=(n,t)=>Math.min(t||n,n);function rx(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function N3(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,l=n._endPixel,u=1e-6;let f=n.getPixelForTick(r),d;if(!(e&&(i===1?d=Math.max(f-o,l-f):t===0?d=(n.getPixelForTick(1)-f)/2:d=(f-n.getPixelForTick(r-1))/2,f+=r<t?d:-d,f<o-u||f>l+u)))return f}function k3(n,t){oe(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function au(n){return n.drawTicks?n.tickLength:0}function ax(n,t){if(!n.display)return 0;const e=Ze(n.font,t),i=Mn(n.padding);return(xe(n.text)?n.text.length:1)*e.lineHeight+i.height}function P3(n,t){return Oa(n,{scale:t,type:"scale"})}function L3(n,t,e){return Oa(n,{tick:e,index:t,type:"tick"})}function V3(n,t,e){let i=Y_(n);return(e&&t!=="right"||!e&&t==="right")&&(i=O3(i)),i}function z3(n,t,e,i){const{top:r,left:o,bottom:l,right:u,chart:f}=n,{chartArea:d,scales:g}=f;let y=0,v,T,x;const A=l-r,w=u-o;if(n.isHorizontal()){if(T=wn(i,o,u),Yt(e)){const O=Object.keys(e)[0],V=e[O];x=g[O].getPixelForValue(V)+A-t}else e==="center"?x=(d.bottom+d.top)/2+A-t:x=ix(n,e,t);v=u-o}else{if(Yt(e)){const O=Object.keys(e)[0],V=e[O];T=g[O].getPixelForValue(V)-w+t}else e==="center"?T=(d.left+d.right)/2-w+t:T=ix(n,e,t);x=wn(i,l,r),y=e==="left"?-ze:ze}return{titleX:T,titleY:x,maxWidth:v,rotation:y}}class ko extends vr{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=ui(t,Number.POSITIVE_INFINITY),e=ui(e,Number.NEGATIVE_INFINITY),i=ui(i,Number.POSITIVE_INFINITY),r=ui(r,Number.NEGATIVE_INFINITY),{min:ui(t,i),max:ui(e,r),minDefined:Me(t),maxDefined:Me(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),l;if(r&&o)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let f=0,d=u.length;f<d;++f)l=u[f].controller.getMinMax(this,t),r||(e=Math.min(e,l.min)),o||(i=Math.max(i,l.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:ui(e,ui(i,e)),max:ui(i,ui(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){de(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=U4(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=u<this.ticks.length;this._convertTicksToLabels(f?rx(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=A3(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){de(this.options.afterUpdate,[this])}beforeSetDimensions(){de(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){de(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),de(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){de(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=de(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){de(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){de(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=sx(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let l=r,u,f,d;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const g=this._getLabelSizes(),y=g.widest.width,v=g.highest.height,T=ln(this.chart.width-y,0,this.maxWidth);u=t.offset?this.maxWidth/i:T/(i-1),y+6>u&&(u=T/(i-(t.offset?.5:1)),f=this.maxHeight-au(t.grid)-e.padding-ax(t.title,this.chart.options.font),d=Math.sqrt(y*y+v*v),l=q_(Math.min(Math.asin(ln((g.highest.height+6)/u,-1,1)),Math.asin(ln(f/d,-1,1))-Math.asin(ln(v/d,-1,1)))),l=Math.max(r,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){de(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){de(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const f=ax(r,e.options.font);if(u?(t.width=this.maxWidth,t.height=au(o)+f):(t.height=this.maxHeight,t.width=au(o)+f),i.display&&this.ticks.length){const{first:d,last:g,widest:y,highest:v}=this._getLabelSizes(),T=i.padding*2,x=Wi(this.labelRotation),A=Math.cos(x),w=Math.sin(x);if(u){const O=i.mirror?0:w*y.width+A*v.height;t.height=Math.min(this.maxHeight,t.height+O+T)}else{const O=i.mirror?0:A*y.width+w*v.height;t.width=Math.min(this.maxWidth,t.width+O+T)}this._calculatePadding(d,g,w,A)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:l},position:u}=this.options,f=this.labelRotation!==0,d=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,T=0;f?d?(v=r*t.width,T=i*e.height):(v=i*t.height,T=r*e.width):o==="start"?T=e.width:o==="end"?v=t.width:o!=="inner"&&(v=t.width/2,T=e.width/2),this.paddingLeft=Math.max((v-g+l)*this.width/(this.width-g),0),this.paddingRight=Math.max((T-y+l)*this.width/(this.width-y),0)}else{let g=e.height/2,y=t.height/2;o==="start"?(g=0,y=t.height):o==="end"&&(g=e.height,y=0),this.paddingTop=g+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){de(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Ut(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=rx(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,l=[],u=[],f=Math.floor(e/sx(e,i));let d=0,g=0,y,v,T,x,A,w,O,V,j,$,B;for(y=0;y<e;y+=f){if(x=t[y].label,A=this._resolveTickFontOptions(y),r.font=w=A.string,O=o[w]=o[w]||{data:{},gc:[]},V=A.lineHeight,j=$=0,!Ut(x)&&!xe(x))j=zd(r,O.data,O.gc,j,x),$=V;else if(xe(x))for(v=0,T=x.length;v<T;++v)B=x[v],!Ut(B)&&!xe(B)&&(j=zd(r,O.data,O.gc,j,B),$+=V);l.push(j),u.push($),d=Math.max(j,d),g=Math.max($,g)}k3(o,e);const Y=l.indexOf(d),I=u.indexOf(g),R=M=>({width:l[M]||0,height:u[M]||0});return{first:R(0),last:R(e-1),widest:R(Y),highest:R(I),widths:l,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return p4(this._alignToPixels?co(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=L3(this.getContext(),t,i))}return this.$context||(this.$context=P3(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Wi(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),l=t.autoSkipPadding||0,u=o?o.widest.width+l:0,f=o?o.highest.height+l:0;return this.isHorizontal()?f*i>u*r?u/i:f/r:f*r<u*i?f/i:u/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:l,border:u}=r,f=o.offset,d=this.isHorizontal(),y=this.ticks.length+(f?1:0),v=au(o),T=[],x=u.setContext(this.getContext()),A=x.display?x.width:0,w=A/2,O=function(q){return co(i,q,A)};let V,j,$,B,Y,I,R,M,L,P,z,k;if(l==="top")V=O(this.bottom),I=this.bottom-v,M=V-w,P=O(t.top)+w,k=t.bottom;else if(l==="bottom")V=O(this.top),P=t.top,k=O(t.bottom)-w,I=V+w,M=this.top+v;else if(l==="left")V=O(this.right),Y=this.right-v,R=V-w,L=O(t.left)+w,z=t.right;else if(l==="right")V=O(this.left),L=t.left,z=O(t.right)-w,Y=V+w,R=this.left+v;else if(e==="x"){if(l==="center")V=O((t.top+t.bottom)/2+.5);else if(Yt(l)){const q=Object.keys(l)[0],et=l[q];V=O(this.chart.scales[q].getPixelForValue(et))}P=t.top,k=t.bottom,I=V+w,M=I+v}else if(e==="y"){if(l==="center")V=O((t.left+t.right)/2);else if(Yt(l)){const q=Object.keys(l)[0],et=l[q];V=O(this.chart.scales[q].getPixelForValue(et))}Y=V-w,R=Y-v,L=t.left,z=t.right}const lt=Ot(r.ticks.maxTicksLimit,y),ut=Math.max(1,Math.ceil(y/lt));for(j=0;j<y;j+=ut){const q=this.getContext(j),et=o.setContext(q),ft=u.setContext(q),vt=et.lineWidth,Ct=et.color,F=ft.dash||[],nt=ft.dashOffset,at=et.tickWidth,ht=et.tickColor,pt=et.tickBorderDash||[],bt=et.tickBorderDashOffset;$=N3(this,j,f),$!==void 0&&(B=co(i,$,vt),d?Y=R=L=z=B:I=M=P=k=B,T.push({tx1:Y,ty1:I,tx2:R,ty2:M,x1:L,y1:P,x2:z,y2:k,width:vt,color:Ct,borderDash:F,borderDashOffset:nt,tickWidth:at,tickColor:ht,tickBorderDash:pt,tickBorderDashOffset:bt}))}return this._ticksLength=y,this._borderValue=V,T}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,l=this.isHorizontal(),u=this.ticks,{align:f,crossAlign:d,padding:g,mirror:y}=o,v=au(i.grid),T=v+g,x=y?-g:T,A=-Wi(this.labelRotation),w=[];let O,V,j,$,B,Y,I,R,M,L,P,z,k="middle";if(r==="top")Y=this.bottom-x,I=this._getXAxisLabelAlignment();else if(r==="bottom")Y=this.top+x,I=this._getXAxisLabelAlignment();else if(r==="left"){const ut=this._getYAxisLabelAlignment(v);I=ut.textAlign,B=ut.x}else if(r==="right"){const ut=this._getYAxisLabelAlignment(v);I=ut.textAlign,B=ut.x}else if(e==="x"){if(r==="center")Y=(t.top+t.bottom)/2+T;else if(Yt(r)){const ut=Object.keys(r)[0],q=r[ut];Y=this.chart.scales[ut].getPixelForValue(q)+T}I=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")B=(t.left+t.right)/2-T;else if(Yt(r)){const ut=Object.keys(r)[0],q=r[ut];B=this.chart.scales[ut].getPixelForValue(q)}I=this._getYAxisLabelAlignment(v).textAlign}e==="y"&&(f==="start"?k="top":f==="end"&&(k="bottom"));const lt=this._getLabelSizes();for(O=0,V=u.length;O<V;++O){j=u[O],$=j.label;const ut=o.setContext(this.getContext(O));R=this.getPixelForTick(O)+o.labelOffset,M=this._resolveTickFontOptions(O),L=M.lineHeight,P=xe($)?$.length:1;const q=P/2,et=ut.color,ft=ut.textStrokeColor,vt=ut.textStrokeWidth;let Ct=I;l?(B=R,I==="inner"&&(O===V-1?Ct=this.options.reverse?"left":"right":O===0?Ct=this.options.reverse?"right":"left":Ct="center"),r==="top"?d==="near"||A!==0?z=-P*L+L/2:d==="center"?z=-lt.highest.height/2-q*L+L:z=-lt.highest.height+L/2:d==="near"||A!==0?z=L/2:d==="center"?z=lt.highest.height/2-q*L:z=lt.highest.height-P*L,y&&(z*=-1),A!==0&&!ut.showLabelBackdrop&&(B+=L/2*Math.sin(A))):(Y=R,z=(1-P)*L/2);let F;if(ut.showLabelBackdrop){const nt=Mn(ut.backdropPadding),at=lt.heights[O],ht=lt.widths[O];let pt=z-nt.top,bt=0-nt.left;switch(k){case"middle":pt-=at/2;break;case"bottom":pt-=at;break}switch(I){case"center":bt-=ht/2;break;case"right":bt-=ht;break;case"inner":O===V-1?bt-=ht:O>0&&(bt-=ht/2);break}F={left:bt,top:pt,width:ht+nt.width,height:at+nt.height,color:ut.backdropColor}}w.push({label:$,font:M,textOffset:z,options:{rotation:A,color:et,strokeColor:ft,strokeWidth:vt,textAlign:Ct,textBaseline:k,translation:[B,Y],backdrop:F}})}return w}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Wi(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,l=this._getLabelSizes(),u=t+o,f=l.widest.width;let d,g;return e==="left"?r?(g=this.right+o,i==="near"?d="left":i==="center"?(d="center",g+=f/2):(d="right",g+=f)):(g=this.right-u,i==="near"?d="right":i==="center"?(d="center",g-=f/2):(d="left",g=this.left)):e==="right"?r?(g=this.left+o,i==="near"?d="right":i==="center"?(d="center",g-=f/2):(d="left",g-=f)):(g=this.left+u,i==="near"?d="left":i==="center"?(d="center",g+=f/2):(d="right",g=this.right)):d="right",{textAlign:d,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,l;const u=(f,d,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(e.display)for(o=0,l=r.length;o<l;++o){const f=r[o];e.drawOnChartArea&&u({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&u({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),l=i.display?o.width:0;if(!l)return;const u=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let d,g,y,v;this.isHorizontal()?(d=co(t,this.left,l)-l/2,g=co(t,this.right,u)+u/2,y=v=f):(y=co(t,this.top,l)-l/2,v=co(t,this.bottom,u)+u/2,d=g=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(d,y),e.lineTo(g,v),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&_m(i,r);const o=this.getLabelItems(t);for(const l of o){const u=l.options,f=l.font,d=l.label,g=l.textOffset;Io(i,d,0,g,f,u)}r&&vm(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=Ze(i.font),l=Mn(i.padding),u=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||Yt(e)?(f+=l.bottom,xe(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=l.top;const{titleX:d,titleY:g,maxWidth:y,rotation:v}=z3(this,f,e,u);Io(t,i.text,0,0,o,{color:i.color,maxWidth:y,rotation:v,textAlign:V3(u,e,r),textBaseline:"middle",translation:[d,g]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Ot(t.grid&&t.grid.z,-1),r=Ot(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ko.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,l;for(o=0,l=e.length;o<l;++o){const u=e[o];u[i]===this.id&&(!t||u.type===t)&&r.push(u)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Ze(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Qf{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;B3(e)&&(i=this.register(e));const r=this.items,o=t.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,j3(t,l,i),this.override&&we.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in we[r]&&(delete we[r][i],this.override&&delete Co[i])}}function j3(n,t,e){const i=Hu(Object.create(null),[e?we.get(e):{},we.get(t),n.defaults]);we.set(t,i),n.defaultRoutes&&U3(t,n.defaultRoutes),n.descriptors&&we.describe(t,n.descriptors)}function U3(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),l=t[e].split("."),u=l.pop(),f=l.join(".");we.route(o,r,f,u)})}function B3(n){return"id"in n&&"defaults"in n}class F3{constructor(){this.controllers=new Qf(Na,"datasets",!0),this.elements=new Qf(vr,"elements"),this.plugins=new Qf(Object,"plugins"),this.scales=new Qf(ko,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):oe(r,l=>{const u=i||this._getRegistryForType(l);this._exec(t,u,l)})})}_exec(t,e,i){const r=H_(t);de(i["before"+r],[],i),e[t](i),de(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Ts=new F3;class H3{constructor(){this._init=void 0}notify(t,e,i,r){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=r?this._descriptors(t).filter(r):this._descriptors(t),l=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),l}_notify(t,e,i,r){r=r||{};for(const o of t){const l=o.plugin,u=l[i],f=[e,r,o.options];if(de(u,f,l)===!1&&r.cancelable)return!1}return!0}invalidate(){Ut(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Ot(i.options&&i.options.plugins,{}),o=q3(i);return r===!1&&!e?[]:Y3(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,l)=>o.filter(u=>!l.some(f=>u.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function q3(n){const t={},e=[],i=Object.keys(Ts.plugins.items);for(let o=0;o<i.length;o++)e.push(Ts.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const l=r[o];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function G3(n,t){return!t&&n===!1?null:n===!0?{}:n}function Y3(n,{plugins:t,localIds:e},i,r){const o=[],l=n.getContext();for(const u of t){const f=u.id,d=G3(i[f],r);d!==null&&o.push({plugin:u,options:W3(n.config,{plugin:u,local:e[f]},d,l)})}return o}function W3(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),l=n.getOptionScopes(i,o);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Py(n,t){const e=we.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function $3(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function K3(n,t){return n===t?"_index_":"_value_"}function ox(n){if(n==="x"||n==="y"||n==="r")return n}function X3(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Ly(n,...t){if(ox(n))return n;for(const e of t){const i=e.axis||X3(e.position)||n.length>1&&ox(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function lx(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function Q3(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return lx(n,"x",e[0])||lx(n,"y",e[0])}return{}}function J3(n,t){const e=Co[n.type]||{scales:{}},i=t.scales||{},r=Py(n.type,t),o=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!Yt(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const f=Ly(l,u,Q3(l,n),we.scales[u.type]),d=K3(f,r),g=e.scales||{};o[l]=xu(Object.create(null),[{axis:f},u,g[f],g[d]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,f=l.indexAxis||Py(u,t),g=(Co[u]||{}).scales||{};Object.keys(g).forEach(y=>{const v=$3(y,f),T=l[v+"AxisID"]||v;o[T]=o[T]||Object.create(null),xu(o[T],[{axis:v},i[T],g[y]])})}),Object.keys(o).forEach(l=>{const u=o[l];xu(u,[we.scales[u.type],we.scale])}),o}function wR(n){const t=n.options||(n.options={});t.plugins=Ot(t.plugins,{}),t.scales=J3(n,t)}function AR(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function Z3(n){return n=n||{},n.data=AR(n.data),wR(n),n}const cx=new Map,RR=new Set;function Jf(n,t){let e=cx.get(n);return e||(e=t(),cx.set(n,e),RR.add(e)),e}const ou=(n,t,e)=>{const i=wa(t,e);i!==void 0&&n.add(i)};class t6{constructor(t){this._config=Z3(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=AR(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),wR(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Jf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Jf(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Jf(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Jf(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,l=this._cachedScopes(t,i),u=l.get(e);if(u)return u;const f=new Set;e.forEach(g=>{t&&(f.add(t),g.forEach(y=>ou(f,t,y))),g.forEach(y=>ou(f,r,y)),g.forEach(y=>ou(f,Co[o]||{},y)),g.forEach(y=>ou(f,we,y)),g.forEach(y=>ou(f,Ny,y))});const d=Array.from(f);return d.length===0&&d.push(Object.create(null)),RR.has(e)&&l.set(e,d),d}chartOptionScopes(){const{options:t,type:e}=this;return[t,Co[e]||{},we.datasets[e]||{},{type:e},we,Ny]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:l,subPrefixes:u}=ux(this._resolverCache,t,r);let f=l;if(n6(l,e)){o.$shared=!1,i=Aa(i)?i():i;const d=this.createResolver(t,i,u);f=Hl(l,i,d)}for(const d of e)o[d]=f[d];return o}createResolver(t,e,i=[""],r){const{resolver:o}=ux(this._resolverCache,t,i);return Yt(e)?Hl(o,e,void 0,r):o}}function ux(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:K_(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,o)),o}const e6=n=>Yt(n)&&Object.getOwnPropertyNames(n).some(t=>Aa(n[t]));function n6(n,t){const{isScriptable:e,isIndexable:i}=sR(n);for(const r of t){const o=e(r),l=i(r),u=(l||o)&&n[r];if(o&&(Aa(u)||e6(u))||l&&xe(u))return!0}return!1}var i6="4.5.1";const s6=["top","bottom","left","right","chartArea"];function hx(n,t){return n==="top"||n==="bottom"||s6.indexOf(n)===-1&&t==="x"}function fx(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function dx(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),de(e&&e.onComplete,[n],t)}function r6(n){const t=n.chart,e=t.options.animation;de(e&&e.onProgress,[n],t)}function CR(n){return J_()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const pd={},mx=n=>{const t=CR(n);return Object.values(pd).filter(e=>e.canvas===t).pop()};function a6(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const l=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=l)}}}function o6(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}class nv{static defaults=we;static instances=pd;static overrides=Co;static registry=Ts;static version=i6;static getChart=mx;static register(...t){Ts.add(...t),px()}static unregister(...t){Ts.remove(...t),px()}constructor(t,e){const i=this.config=new t6(e),r=CR(t),o=mx(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||w3(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,l.aspectRatio),f=u&&u.canvas,d=f&&f.height,g=f&&f.width;if(this.id=n4(),this.ctx=u,this.canvas=f,this.width=g,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new H3,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=v4(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],pd[this.id]=this,!u||!f){console.error("Failed to create chart: can't acquire context from the given item");return}nr.listen(this,"complete",dx),nr.listen(this,"progress",r6),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return Ut(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ts}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():VS(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return kS(this.canvas,this.ctx),this}stop(){return nr.stop(this),this}resize(t,e){nr.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,t,e,o),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,VS(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),de(i.onResize,[this,l],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};oe(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let o=[];e&&(o=o.concat(Object.keys(e).map(l=>{const u=e[l],f=Ly(l,u),d=f==="r",g=f==="x";return{options:u,dposition:d?"chartArea":g?"bottom":"left",dtype:d?"radialLinear":g?"category":"linear"}}))),oe(o,l=>{const u=l.options,f=u.id,d=Ly(f,u),g=Ot(u.type,l.dtype);(u.position===void 0||hx(u.position,d)!==hx(l.dposition))&&(u.position=l.dposition),r[f]=!0;let y=null;if(f in i&&i[f].type===g)y=i[f];else{const v=Ts.getScale(g);y=new v({id:f,type:g,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(u,t)}),oe(r,(l,u)=>{l||delete i[u]}),oe(i,l=>{In.configure(this,l,l.options),In.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(fx("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let l=this.getDatasetMeta(i);const u=o.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=o.indexAxis||Py(u,this.options),l.order=o.order||0,l.index=i,l.label=""+o.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const f=Ts.getController(u),{datasetElementType:d,dataElementType:g}=we.datasets[u];Object.assign(f,{dataElementType:Ts.getElement(g),datasetElementType:d&&Ts.getElement(d)}),l.controller=new f(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){oe(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,g=this.data.datasets.length;d<g;d++){const{controller:y}=this.getDatasetMeta(d),v=!r&&o.indexOf(y)===-1;y.buildOrUpdateElements(v),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),r||oe(o,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(fx("z","_idx"));const{_active:u,_lastEvent:f}=this;f?this._eventHandler(f,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){oe(this.scales,t=>{In.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!wS(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const l=i==="_removeElements"?-o:o;a6(t,r,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(l=>l[0]===o).map((l,u)=>u+","+l.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!wS(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;In.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],oe(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Aa(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(nr.has(this)?this.attached&&!nr.running(this)&&nr.start(this):(this.draw(),dx({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const l=e[r];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=pR(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&_m(e,r),t.controller.draw(),r&&vm(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return cr(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=s3.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Oa(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),l=o.controller._resolveAnimations(void 0,r);qu(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(o,{visible:i}),this.update(u=>u.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),nr.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),kS(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete pd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,l)=>{e.addEventListener(this,o,l),t[o]=l},r=(o,l,u)=>{o.offsetX=l,o.offsetY=u,this._eventHandler(o)};oe(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,d)=>{e.addEventListener(this,f,d),t[f]=d},r=(f,d)=>{t[f]&&(e.removeEventListener(this,f,d),delete t[f])},o=(f,d)=>{this.canvas&&this.resize(f,d)};let l;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",l)};l=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",u)},e.isAttached(this.canvas)?u():l()}unbindEvents(){oe(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},oe(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,l,u,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),u=0,f=t.length;u<f;++u){l=t[u];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:l})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[l],index:l}});!Pd(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(f,d)=>f.filter(g=>!d.some(y=>g.datasetIndex===y.datasetIndex&&g.index===y.index)),l=o(e,t),u=i?t:o(t,e);l.length&&this.updateHoverStyle(l,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,l=e,u=this._getActiveElements(t,r,i,l),f=l4(t),d=o6(t,this._lastEvent,i,f);i&&(this._lastEvent=null,de(o.onHover,[t,u,this],this),f&&de(o.onClick,[t,u,this],this));const g=!Pd(u,r);return(g||e)&&(this._active=u,this._updateHoverStyles(u,r,e)),this._lastEvent=d,g}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}}function px(){return oe(nv.instances,n=>n._plugins.invalidate())}function l6(n,t,e){const{startAngle:i,x:r,y:o,outerRadius:l,innerRadius:u,options:f}=t,{borderWidth:d,borderJoinStyle:g}=f,y=Math.min(d/l,Rn(i-e));if(n.beginPath(),n.arc(r,o,l-d/2,i+y/2,e-y/2),u>0){const v=Math.min(d/u,Rn(i-e));n.arc(r,o,u+d/2,e-v/2,i+v/2,!0)}else{const v=Math.min(d/2,l*Rn(i-e));if(g==="round")n.arc(r,o,v,e-Qt/2,i+Qt/2,!0);else if(g==="bevel"){const T=2*v*v,x=-T*Math.cos(e+Qt/2)+r,A=-T*Math.sin(e+Qt/2)+o,w=T*Math.cos(i+Qt/2)+r,O=T*Math.sin(i+Qt/2)+o;n.lineTo(x,A),n.lineTo(w,O)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function c6(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:l,outerRadius:u,innerRadius:f}=t;let d=r/u;n.beginPath(),n.arc(o,l,u,i-d,e+d),f>r?(d=r/f,n.arc(o,l,f,e+d,i-d,!0)):n.arc(o,l,r,e+ze,i-ze),n.closePath(),n.clip()}function u6(n){return $_(n,["outerStart","outerEnd","innerStart","innerEnd"])}function h6(n,t,e,i){const r=u6(n.options.borderRadius),o=(e-t)/2,l=Math.min(o,i*t/2),u=f=>{const d=(e-Math.min(o,f))*i/2;return ln(f,0,Math.min(o,d))};return{outerStart:u(r.outerStart),outerEnd:u(r.outerEnd),innerStart:ln(r.innerStart,0,l),innerEnd:ln(r.innerEnd,0,l)}}function Sl(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Bd(n,t,e,i,r,o){const{x:l,y:u,startAngle:f,pixelMargin:d,innerRadius:g}=t,y=Math.max(t.outerRadius+i+e-d,0),v=g>0?g+i+e+d:0;let T=0;const x=r-f;if(i){const ut=g>0?g-i:0,q=y>0?y-i:0,et=(ut+q)/2,ft=et!==0?x*et/(et+i):x;T=(x-ft)/2}const A=Math.max(.001,x*y-e/Qt)/y,w=(x-A)/2,O=f+w+T,V=r-w-T,{outerStart:j,outerEnd:$,innerStart:B,innerEnd:Y}=h6(t,v,y,V-O),I=y-j,R=y-$,M=O+j/I,L=V-$/R,P=v+B,z=v+Y,k=O+B/P,lt=V-Y/z;if(n.beginPath(),o){const ut=(M+L)/2;if(n.arc(l,u,y,M,ut),n.arc(l,u,y,ut,L),$>0){const vt=Sl(R,L,l,u);n.arc(vt.x,vt.y,$,L,V+ze)}const q=Sl(z,V,l,u);if(n.lineTo(q.x,q.y),Y>0){const vt=Sl(z,lt,l,u);n.arc(vt.x,vt.y,Y,V+ze,lt+Math.PI)}const et=(V-Y/v+(O+B/v))/2;if(n.arc(l,u,v,V-Y/v,et,!0),n.arc(l,u,v,et,O+B/v,!0),B>0){const vt=Sl(P,k,l,u);n.arc(vt.x,vt.y,B,k+Math.PI,O-ze)}const ft=Sl(I,O,l,u);if(n.lineTo(ft.x,ft.y),j>0){const vt=Sl(I,M,l,u);n.arc(vt.x,vt.y,j,O-ze,M)}}else{n.moveTo(l,u);const ut=Math.cos(M)*y+l,q=Math.sin(M)*y+u;n.lineTo(ut,q);const et=Math.cos(L)*y+l,ft=Math.sin(L)*y+u;n.lineTo(et,ft)}n.closePath()}function f6(n,t,e,i,r){const{fullCircles:o,startAngle:l,circumference:u}=t;let f=t.endAngle;if(o){Bd(n,t,e,i,f,r);for(let d=0;d<o;++d)n.fill();isNaN(u)||(f=l+(u%be||be))}return Bd(n,t,e,i,f,r),n.fill(),f}function d6(n,t,e,i,r){const{fullCircles:o,startAngle:l,circumference:u,options:f}=t,{borderWidth:d,borderJoinStyle:g,borderDash:y,borderDashOffset:v,borderRadius:T}=f,x=f.borderAlign==="inner";if(!d)return;n.setLineDash(y||[]),n.lineDashOffset=v,x?(n.lineWidth=d*2,n.lineJoin=g||"round"):(n.lineWidth=d,n.lineJoin=g||"bevel");let A=t.endAngle;if(o){Bd(n,t,e,i,A,r);for(let w=0;w<o;++w)n.stroke();isNaN(u)||(A=l+(u%be||be))}x&&c6(n,t,A),f.selfJoin&&A-l>=Qt&&T===0&&g!=="miter"&&l6(n,t,A),o||(Bd(n,t,e,i,A,r),n.stroke())}class m6 extends vr{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:l}=$A(r,{x:t,y:e}),{startAngle:u,endAngle:f,innerRadius:d,outerRadius:g,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),v=(this.options.spacing+this.options.borderWidth)/2,T=Ot(y,f-u),x=Gu(o,u,f)&&u!==f,A=T>=be||x,w=or(l,d+v,g+v);return A&&w}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:l,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:d}=this.options,g=(r+o)/2,y=(l+u+d+f)/2;return{x:e+Math.cos(g)*y,y:i+Math.sin(g)*y}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,l=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>be?Math.floor(i/be):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const u=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(u)*r,Math.sin(u)*r);const f=1-Math.sin(Math.min(Qt,i||0)),d=r*f;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,f6(t,this,d,o,l),d6(t,this,d,o,l),t.restore()}}function IR(n,t,e=t){n.lineCap=Ot(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Ot(e.borderDash,t.borderDash)),n.lineDashOffset=Ot(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Ot(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Ot(e.borderWidth,t.borderWidth),n.strokeStyle=Ot(e.borderColor,t.borderColor)}function p6(n,t,e){n.lineTo(e.x,e.y)}function g6(n){return n.stepped?M4:n.tension||n.cubicInterpolationMode==="monotone"?O4:p6}function DR(n,t,e={}){const i=n.length,{start:r=0,end:o=i-1}=e,{start:l,end:u}=t,f=Math.max(r,l),d=Math.min(o,u),g=r<l&&o<l||r>u&&o>u;return{count:i,start:f,loop:t.loop,ilen:d<f&&!g?i+d-f:d-f}}function y6(n,t,e,i){const{points:r,options:o}=t,{count:l,start:u,loop:f,ilen:d}=DR(r,e,i),g=g6(o);let{move:y=!0,reverse:v}=i||{},T,x,A;for(T=0;T<=d;++T)x=r[(u+(v?d-T:T))%l],!x.skip&&(y?(n.moveTo(x.x,x.y),y=!1):g(n,A,x,v,o.stepped),A=x);return f&&(x=r[(u+(v?d:0))%l],g(n,A,x,v,o.stepped)),!!f}function _6(n,t,e,i){const r=t.points,{count:o,start:l,ilen:u}=DR(r,e,i),{move:f=!0,reverse:d}=i||{};let g=0,y=0,v,T,x,A,w,O;const V=$=>(l+(d?u-$:$))%o,j=()=>{A!==w&&(n.lineTo(g,w),n.lineTo(g,A),n.lineTo(g,O))};for(f&&(T=r[V(0)],n.moveTo(T.x,T.y)),v=0;v<=u;++v){if(T=r[V(v)],T.skip)continue;const $=T.x,B=T.y,Y=$|0;Y===x?(B<A?A=B:B>w&&(w=B),g=(y*g+$)/++y):(j(),n.lineTo($,B),x=Y,y=0,A=w=B),O=B}j()}function Vy(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?_6:y6}function v6(n){return n.stepped?u5:n.tension||n.cubicInterpolationMode==="monotone"?h5:go}function b6(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),IR(n,t.options),n.stroke(r)}function E6(n,t,e,i){const{segments:r,options:o}=t,l=Vy(t);for(const u of r)IR(n,o,u.style),n.beginPath(),l(n,t,u,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const T6=typeof Path2D=="function";function S6(n,t,e,i){T6&&!t.options.segment?b6(n,t,e,i):E6(n,t,e,i)}class Tm extends vr{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;n5(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=y5(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],o=this.points,l=mR(this,{property:e,start:r,end:r});if(!l.length)return;const u=[],f=v6(i);let d,g;for(d=0,g=l.length;d<g;++d){const{start:y,end:v}=l[d],T=o[y],x=o[v];if(T===x){u.push(T);continue}const A=Math.abs((r-T[e])/(x[e]-T[e])),w=f(T,x,A,i.stepped);w[e]=t[e],u.push(w)}return u.length===1?u[0]:u}pathSegment(t,e,i){return Vy(this)(t,this,e,i)}path(t,e,i){const r=this.segments,o=Vy(this);let l=this._loop;e=e||0,i=i||this.points.length-e;for(const u of r)l&=o(t,this,u,{start:e,end:e+i-1});return!!l}draw(t,e,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),S6(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function gx(n,t,e,i){const r=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<r.radius+r.hitRadius}class x6 extends vr{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.options,{x:o,y:l}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(e-l,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return gx(this,t,"x",e)}inYRange(t,e){return gx(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!cr(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,ky(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function MR(n,t){const{x:e,y:i,base:r,width:o,height:l}=n.getProps(["x","y","base","width","height"],t);let u,f,d,g,y;return n.horizontal?(y=l/2,u=Math.min(e,r),f=Math.max(e,r),d=i-y,g=i+y):(y=o/2,u=e-y,f=e+y,d=Math.min(i,r),g=Math.max(i,r)),{left:u,top:d,right:f,bottom:g}}function ca(n,t,e,i){return n?0:ln(t,e,i)}function w6(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=iR(i);return{t:ca(r.top,o.top,0,e),r:ca(r.right,o.right,0,t),b:ca(r.bottom,o.bottom,0,e),l:ca(r.left,o.left,0,t)}}function A6(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=bo(r),l=Math.min(t,e),u=n.borderSkipped,f=i||Yt(r);return{topLeft:ca(!f||u.top||u.left,o.topLeft,0,l),topRight:ca(!f||u.top||u.right,o.topRight,0,l),bottomLeft:ca(!f||u.bottom||u.left,o.bottomLeft,0,l),bottomRight:ca(!f||u.bottom||u.right,o.bottomRight,0,l)}}function R6(n){const t=MR(n),e=t.right-t.left,i=t.bottom-t.top,r=w6(n,e/2,i/2),o=A6(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Xg(n,t,e,i){const r=t===null,o=e===null,u=n&&!(r&&o)&&MR(n,i);return u&&(r||or(t,u.left,u.right))&&(o||or(e,u.top,u.bottom))}function C6(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function I6(n,t){n.rect(t.x,t.y,t.w,t.h)}function Qg(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,l=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+l,radius:n.radius}}class D6 extends vr{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:l}=R6(this),u=C6(l.radius)?Yu:I6;t.save(),(l.w!==o.w||l.h!==o.h)&&(t.beginPath(),u(t,Qg(l,e,o)),t.clip(),u(t,Qg(o,-e,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),u(t,Qg(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return Xg(this,t,e,i)}inXRange(t,e){return Xg(this,t,null,e)}inYRange(t,e){return Xg(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var M6=Object.freeze({__proto__:null,ArcElement:m6,BarElement:D6,LineElement:Tm,PointElement:x6});const zy=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],yx=zy.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function OR(n){return zy[n%zy.length]}function NR(n){return yx[n%yx.length]}function O6(n,t){return n.borderColor=OR(t),n.backgroundColor=NR(t),++t}function N6(n,t){return n.backgroundColor=n.data.map(()=>OR(t++)),t}function k6(n,t){return n.backgroundColor=n.data.map(()=>NR(t++)),t}function P6(n){let t=0;return(e,i)=>{const r=n.getDatasetMeta(i).controller;r instanceof tv?t=N6(e,t):r instanceof vR?t=k6(e,t):r&&(t=O6(e,t))}}function _x(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function L6(n){return n&&(n.borderColor||n.backgroundColor)}function V6(){return we.borderColor!=="rgba(0,0,0,0.1)"||we.backgroundColor!=="rgba(0,0,0,0.1)"}var z6={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:r}=n.config,{elements:o}=r,l=_x(i)||L6(r)||o&&_x(o)||V6();if(!e.forceOverride&&l)return;const u=P6(n);i.forEach(u)}};function j6(n,t,e,i,r){const o=r.samples||i;if(o>=e)return n.slice(t,t+e);const l=[],u=(e-2)/(o-2);let f=0;const d=t+e-1;let g=t,y,v,T,x,A;for(l[f++]=n[g],y=0;y<o-2;y++){let w=0,O=0,V;const j=Math.floor((y+1)*u)+1+t,$=Math.min(Math.floor((y+2)*u)+1,e)+t,B=$-j;for(V=j;V<$;V++)w+=n[V].x,O+=n[V].y;w/=B,O/=B;const Y=Math.floor(y*u)+1+t,I=Math.min(Math.floor((y+1)*u)+1,e)+t,{x:R,y:M}=n[g];for(T=x=-1,V=Y;V<I;V++)x=.5*Math.abs((R-w)*(n[V].y-M)-(R-n[V].x)*(O-M)),x>T&&(T=x,v=n[V],A=V);l[f++]=v,g=A}return l[f++]=n[d],l}function U6(n,t,e,i){let r=0,o=0,l,u,f,d,g,y,v,T,x,A;const w=[],O=t+e-1,V=n[t].x,$=n[O].x-V;for(l=t;l<t+e;++l){u=n[l],f=(u.x-V)/$*i,d=u.y;const B=f|0;if(B===g)d<x?(x=d,y=l):d>A&&(A=d,v=l),r=(o*r+u.x)/++o;else{const Y=l-1;if(!Ut(y)&&!Ut(v)){const I=Math.min(y,v),R=Math.max(y,v);I!==T&&I!==Y&&w.push({...n[I],x:r}),R!==T&&R!==Y&&w.push({...n[R],x:r})}l>0&&Y!==T&&w.push(n[Y]),w.push(u),g=B,o=0,x=A=d,y=v=T=l}}return w}function kR(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function vx(n){n.data.datasets.forEach(t=>{kR(t)})}function B6(n,t){const e=t.length;let i=0,r;const{iScale:o}=n,{min:l,max:u,minDefined:f,maxDefined:d}=o.getUserBounds();return f&&(i=ln(lr(t,o.axis,l).lo,0,e-1)),d?r=ln(lr(t,o.axis,u).hi+1,i,e)-i:r=e-i,{start:i,count:r}}var F6={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){vx(n);return}const i=n.width;n.data.datasets.forEach((r,o)=>{const{_data:l,indexAxis:u}=r,f=n.getDatasetMeta(o),d=l||r.data;if(pu([u,n.options.indexAxis])==="y"||!f.controller.supportsDecimation)return;const g=n.scales[f.xAxisID];if(g.type!=="linear"&&g.type!=="time"||n.options.parsing)return;let{start:y,count:v}=B6(f,d);const T=e.threshold||4*i;if(v<=T){kR(r);return}Ut(l)&&(r._data=d,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(A){this._data=A}}));let x;switch(e.algorithm){case"lttb":x=j6(d,y,v,i,e);break;case"min-max":x=U6(d,y,v,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=x})},destroy(n){vx(n)}};function H6(n,t,e){const i=n.segments,r=n.points,o=t.points,l=[];for(const u of i){let{start:f,end:d}=u;d=Sm(f,d,r);const g=jy(e,r[f],r[d],u.loop);if(!t.segments){l.push({source:u,target:g,start:r[f],end:r[d]});continue}const y=mR(t,g);for(const v of y){const T=jy(e,o[v.start],o[v.end],v.loop),x=dR(u,r,T);for(const A of x)l.push({source:A,target:v,start:{[e]:bx(g,T,"start",Math.max)},end:{[e]:bx(g,T,"end",Math.min)}})}}return l}function jy(n,t,e,i){if(i)return;let r=t[n],o=e[n];return n==="angle"&&(r=Rn(r),o=Rn(o)),{property:n,start:r,end:o}}function q6(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,o=[];return t.segments.forEach(({start:l,end:u})=>{u=Sm(l,u,r);const f=r[l],d=r[u];i!==null?(o.push({x:f.x,y:i}),o.push({x:d.x,y:i})):e!==null&&(o.push({x:e,y:f.y}),o.push({x:e,y:d.y}))}),o}function Sm(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function bx(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function PR(n,t){let e=[],i=!1;return xe(n)?(i=!0,e=n):e=q6(n,t),e.length?new Tm({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function Ex(n){return n&&n.fill!==!1}function G6(n,t,e){let r=n[t].fill;const o=[t];let l;if(!e)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!Me(r))return r;if(l=n[r],!l)return!1;if(l.visible)return r;o.push(r),r=l.fill}return!1}function Y6(n,t,e){const i=X6(n);if(Yt(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return Me(r)&&Math.floor(r)===r?W6(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function W6(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function $6(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:Yt(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function K6(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:Yt(n)?i=n.value:i=t.getBaseValue(),i}function X6(n){const t=n.options,e=t.fill;let i=Ot(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function Q6(n){const{scale:t,index:e,line:i}=n,r=[],o=i.segments,l=i.points,u=J6(t,e);u.push(PR({x:null,y:t.bottom},i));for(let f=0;f<o.length;f++){const d=o[f];for(let g=d.start;g<=d.end;g++)Z6(r,l[g],u)}return new Tm({points:r,options:{}})}function J6(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const o=i[r];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function Z6(n,t,e){const i=[];for(let r=0;r<e.length;r++){const o=e[r],{first:l,last:u,point:f}=tz(o,t,"x");if(!(!f||l&&u)){if(l)i.unshift(f);else if(n.push(f),!u)break}}n.push(...i)}function tz(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],o=n.segments,l=n.points;let u=!1,f=!1;for(let d=0;d<o.length;d++){const g=o[d],y=l[g.start][e],v=l[g.end][e];if(or(r,y,v)){u=r===y,f=r===v;break}}return{first:u,last:f,point:i}}class LR{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:o,radius:l}=this;return e=e||{start:0,end:be},t.arc(r,o,l,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,o=t.angle;return{x:e+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}}function ez(n){const{chart:t,fill:e,line:i}=n;if(Me(e))return nz(t,e);if(e==="stack")return Q6(n);if(e==="shape")return!0;const r=iz(n);return r instanceof LR?r:PR(r,i)}function nz(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function iz(n){return(n.scale||{}).getPointPositionForValue?rz(n):sz(n)}function sz(n){const{scale:t={},fill:e}=n,i=$6(e,t);if(Me(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function rz(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,o=i.reverse?t.max:t.min,l=K6(e,t,o),u=[];if(i.grid.circular){const f=t.getPointPositionForValue(0,o);return new LR({x:f.x,y:f.y,radius:t.getDistanceFromCenterForValue(l)})}for(let f=0;f<r;++f)u.push(t.getPointPositionForValue(f,l));return u}function Jg(n,t,e){const i=ez(t),{chart:r,index:o,line:l,scale:u,axis:f}=t,d=l.options,g=d.fill,y=d.backgroundColor,{above:v=y,below:T=y}=g||{},x=r.getDatasetMeta(o),A=pR(r,x);i&&l.points.length&&(_m(n,e),az(n,{line:l,target:i,above:v,below:T,area:e,scale:u,axis:f,clip:A}),vm(n))}function az(n,t){const{line:e,target:i,above:r,below:o,area:l,scale:u,clip:f}=t,d=e._loop?"angle":t.axis;n.save();let g=o;o!==r&&(d==="x"?(Tx(n,i,l.top),Zg(n,{line:e,target:i,color:r,scale:u,property:d,clip:f}),n.restore(),n.save(),Tx(n,i,l.bottom)):d==="y"&&(Sx(n,i,l.left),Zg(n,{line:e,target:i,color:o,scale:u,property:d,clip:f}),n.restore(),n.save(),Sx(n,i,l.right),g=r)),Zg(n,{line:e,target:i,color:g,scale:u,property:d,clip:f}),n.restore()}function Tx(n,t,e){const{segments:i,points:r}=t;let o=!0,l=!1;n.beginPath();for(const u of i){const{start:f,end:d}=u,g=r[f],y=r[Sm(f,d,r)];o?(n.moveTo(g.x,g.y),o=!1):(n.lineTo(g.x,e),n.lineTo(g.x,g.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(y.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function Sx(n,t,e){const{segments:i,points:r}=t;let o=!0,l=!1;n.beginPath();for(const u of i){const{start:f,end:d}=u,g=r[f],y=r[Sm(f,d,r)];o?(n.moveTo(g.x,g.y),o=!1):(n.lineTo(e,g.y),n.lineTo(g.x,g.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(e,y.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function Zg(n,t){const{line:e,target:i,property:r,color:o,scale:l,clip:u}=t,f=H6(e,i,r);for(const{source:d,target:g,start:y,end:v}of f){const{style:{backgroundColor:T=o}={}}=d,x=i!==!0;n.save(),n.fillStyle=T,oz(n,l,u,x&&jy(r,y,v)),n.beginPath();const A=!!e.pathSegment(n,d);let w;if(x){A?n.closePath():xx(n,i,v,r);const O=!!i.pathSegment(n,g,{move:A,reverse:!0});w=A&&O,w||xx(n,i,y,r)}n.closePath(),n.fill(w?"evenodd":"nonzero"),n.restore()}}function oz(n,t,e,i){const r=t.chart.chartArea,{property:o,start:l,end:u}=i||{};if(o==="x"||o==="y"){let f,d,g,y;o==="x"?(f=l,d=r.top,g=u,y=r.bottom):(f=r.left,d=l,g=r.right,y=u),n.beginPath(),e&&(f=Math.max(f,e.left),g=Math.min(g,e.right),d=Math.max(d,e.top),y=Math.min(y,e.bottom)),n.rect(f,d,g-f,y-d),n.clip()}}function xx(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var lz={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let o,l,u,f;for(l=0;l<i;++l)o=n.getDatasetMeta(l),u=o.dataset,f=null,u&&u.options&&u instanceof Tm&&(f={visible:n.isDatasetVisible(l),index:l,fill:Y6(u,l,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:u}),o.$filler=f,r.push(f);for(l=0;l<i;++l)f=r[l],!(!f||f.fill===!1)&&(f.fill=G6(r,l,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let l=r.length-1;l>=0;--l){const u=r[l].$filler;u&&(u.line.updateControlPoints(o,u.axis),i&&u.fill&&Jg(n.ctx,u,o))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const o=i[r].$filler;Ex(o)&&Jg(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!Ex(i)||e.drawTime!=="beforeDatasetDraw"||Jg(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const wx=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},cz=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class Ax extends vr{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=de(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=Ze(i.font),o=r.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:f}=wx(i,o);let d,g;e.font=r.string,this.isHorizontal()?(d=this.maxWidth,g=this._fitRows(l,o,u,f)+10):(g=this.maxHeight,d=this._fitCols(l,r,u,f)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(g,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:l,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],d=this.lineWidths=[0],g=r+u;let y=t;o.textAlign="left",o.textBaseline="middle";let v=-1,T=-g;return this.legendItems.forEach((x,A)=>{const w=i+e/2+o.measureText(x.text).width;(A===0||d[d.length-1]+w+2*u>l)&&(y+=g,d[d.length-(A>0?0:1)]=0,T+=g,v++),f[A]={left:0,top:T,row:v,width:w,height:r},d[d.length-1]+=w+u}),y}_fitCols(t,e,i,r){const{ctx:o,maxHeight:l,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],d=this.columnSizes=[],g=l-t;let y=u,v=0,T=0,x=0,A=0;return this.legendItems.forEach((w,O)=>{const{itemWidth:V,itemHeight:j}=uz(i,e,o,w,r);O>0&&T+j+2*u>g&&(y+=v+u,d.push({width:v,height:T}),x+=v+u,A++,v=T=0),f[O]={left:x,top:T,col:A,width:V,height:j},v=Math.max(v,V),T+=j+u}),y+=v,d.push({width:v,height:T}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,l=Nl(o,this.left,this.width);if(this.isHorizontal()){let u=0,f=wn(i,this.left+r,this.right-this.lineWidths[u]);for(const d of e)u!==d.row&&(u=d.row,f=wn(i,this.left+r,this.right-this.lineWidths[u])),d.top+=this.top+t+r,d.left=l.leftForLtr(l.x(f),d.width),f+=d.width+r}else{let u=0,f=wn(i,this.top+t+r,this.bottom-this.columnSizes[u].height);for(const d of e)d.col!==u&&(u=d.col,f=wn(i,this.top+t+r,this.bottom-this.columnSizes[u].height)),d.top=f,d.left+=this.left+r,d.left=l.leftForLtr(l.x(d.left),d.width),f+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;_m(t,this),this._draw(),vm(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:l}=t,u=we.color,f=Nl(t.rtl,this.left,this.width),d=Ze(l.font),{padding:g}=l,y=d.size,v=y/2;let T;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:x,boxHeight:A,itemHeight:w}=wx(l,y),O=function(Y,I,R){if(isNaN(x)||x<=0||isNaN(A)||A<0)return;r.save();const M=Ot(R.lineWidth,1);if(r.fillStyle=Ot(R.fillStyle,u),r.lineCap=Ot(R.lineCap,"butt"),r.lineDashOffset=Ot(R.lineDashOffset,0),r.lineJoin=Ot(R.lineJoin,"miter"),r.lineWidth=M,r.strokeStyle=Ot(R.strokeStyle,u),r.setLineDash(Ot(R.lineDash,[])),l.usePointStyle){const L={radius:A*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:M},P=f.xPlus(Y,x/2),z=I+v;nR(r,L,P,z,l.pointStyleWidth&&x)}else{const L=I+Math.max((y-A)/2,0),P=f.leftForLtr(Y,x),z=bo(R.borderRadius);r.beginPath(),Object.values(z).some(k=>k!==0)?Yu(r,{x:P,y:L,w:x,h:A,radius:z}):r.rect(P,L,x,A),r.fill(),M!==0&&r.stroke()}r.restore()},V=function(Y,I,R){Io(r,R.text,Y,I+w/2,d,{strikethrough:R.hidden,textAlign:f.textAlign(R.textAlign)})},j=this.isHorizontal(),$=this._computeTitleHeight();j?T={x:wn(o,this.left+g,this.right-i[0]),y:this.top+g+$,line:0}:T={x:this.left+g,y:wn(o,this.top+$+g,this.bottom-e[0].height),line:0},uR(this.ctx,t.textDirection);const B=w+g;this.legendItems.forEach((Y,I)=>{r.strokeStyle=Y.fontColor,r.fillStyle=Y.fontColor;const R=r.measureText(Y.text).width,M=f.textAlign(Y.textAlign||(Y.textAlign=l.textAlign)),L=x+v+R;let P=T.x,z=T.y;f.setWidth(this.width),j?I>0&&P+L+g>this.right&&(z=T.y+=B,T.line++,P=T.x=wn(o,this.left+g,this.right-i[T.line])):I>0&&z+B>this.bottom&&(P=T.x=P+e[T.line].width+g,T.line++,z=T.y=wn(o,this.top+$+g,this.bottom-e[T.line].height));const k=f.x(P);if(O(k,z,Y),P=b4(M,P+x+v,j?P+L:this.right,t.rtl),V(f.x(P),z,Y),j)T.x+=L+g;else if(typeof Y.text!="string"){const lt=d.lineHeight;T.y+=VR(Y,lt)+g}else T.y+=B}),hR(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Ze(e.font),r=Mn(e.padding);if(!e.display)return;const o=Nl(t.rtl,this.left,this.width),l=this.ctx,u=e.position,f=i.size/2,d=r.top+f;let g,y=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),g=this.top+d,y=wn(t.align,y,this.right-v);else{const x=this.columnSizes.reduce((A,w)=>Math.max(A,w.height),0);g=d+wn(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}const T=wn(u,y,y+v);l.textAlign=o.textAlign(Y_(u)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=i.string,Io(l,e.text,T,g,i)}_computeTitleHeight(){const t=this.options.title,e=Ze(t.font),i=Mn(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(or(t,this.left,this.right)&&or(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],or(t,r.left,r.left+r.width)&&or(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!dz(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=cz(r,i);r&&!o&&de(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&de(e.onHover,[t,i,this],this)}else i&&de(e.onClick,[t,i,this],this)}}function uz(n,t,e,i,r){const o=hz(i,n,t,e),l=fz(r,i,t.lineHeight);return{itemWidth:o,itemHeight:l}}function hz(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,l)=>o.length>l.length?o:l)),t+e.size/2+i.measureText(r).width}function fz(n,t,e){let i=n;return typeof t.text!="string"&&(i=VR(t,e)),i}function VR(n,t){const e=n.text?n.text.length:0;return t*e}function dz(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var mz={id:"legend",_element:Ax,start(n,t,e){const i=n.legend=new Ax({ctx:n.ctx,options:e,chart:n});In.configure(n,i,e),In.addBox(n,i)},stop(n){In.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;In.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const d=f.controller.getStyle(e?0:void 0),g=Mn(d.borderWidth);return{text:t[f.index].label,fillStyle:d.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:l&&(u||d.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class iv extends vr{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=xe(i.text)?i.text.length:1;this._padding=Mn(i.padding);const o=r*Ze(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:l}=this,u=l.align;let f=0,d,g,y;return this.isHorizontal()?(g=wn(u,i,o),y=e+t,d=o-i):(l.position==="left"?(g=i+t,y=wn(u,r,e),f=Qt*-.5):(g=o-t,y=wn(u,e,r),f=Qt*.5),d=r-e),{titleX:g,titleY:y,maxWidth:d,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Ze(e.font),o=i.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:f,rotation:d}=this._drawArgs(o);Io(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:d,textAlign:Y_(e.align),textBaseline:"middle",translation:[l,u]})}}function pz(n,t){const e=new iv({ctx:n.ctx,options:t,chart:n});In.configure(n,e,t),In.addBox(n,e),n.titleBlock=e}var gz={id:"title",_element:iv,start(n,t,e){pz(n,e)},stop(n){const t=n.titleBlock;In.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;In.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Zf=new WeakMap;var yz={id:"subtitle",start(n,t,e){const i=new iv({ctx:n.ctx,options:e,chart:n});In.configure(n,i,e),In.addBox(n,i),Zf.set(n,i)},stop(n){In.removeBox(n,Zf.get(n)),Zf.delete(n)},beforeUpdate(n,t,e){const i=Zf.get(n);In.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const yu={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const u=n[t].element;if(u&&u.hasValue()){const f=u.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((u,f)=>u+f)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,l,u;for(o=0,l=n.length;o<l;++o){const f=n[o].element;if(f&&f.hasValue()){const d=f.getCenterPoint(),g=Oy(t,d);g<r&&(r=g,u=f)}}if(u){const f=u.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function Es(n,t){return t&&(xe(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function ir(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function _z(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:l,value:u}=o.getLabelAndValue(r);return{chart:n,label:l,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function Rx(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:l,boxHeight:u}=t,f=Ze(t.bodyFont),d=Ze(t.titleFont),g=Ze(t.footerFont),y=o.length,v=r.length,T=i.length,x=Mn(t.padding);let A=x.height,w=0,O=i.reduce(($,B)=>$+B.before.length+B.lines.length+B.after.length,0);if(O+=n.beforeBody.length+n.afterBody.length,y&&(A+=y*d.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),O){const $=t.displayColors?Math.max(u,f.lineHeight):f.lineHeight;A+=T*$+(O-T)*f.lineHeight+(O-1)*t.bodySpacing}v&&(A+=t.footerMarginTop+v*g.lineHeight+(v-1)*t.footerSpacing);let V=0;const j=function($){w=Math.max(w,e.measureText($).width+V)};return e.save(),e.font=d.string,oe(n.title,j),e.font=f.string,oe(n.beforeBody.concat(n.afterBody),j),V=t.displayColors?l+2+t.boxPadding:0,oe(i,$=>{oe($.before,j),oe($.lines,j),oe($.after,j)}),V=0,e.font=g.string,oe(n.footer,j),e.restore(),w+=x.width,{width:w,height:A}}function vz(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function bz(n,t,e,i){const{x:r,width:o}=i,l=e.caretSize+e.caretPadding;if(n==="left"&&r+o+l>t.width||n==="right"&&r-o-l<0)return!0}function Ez(n,t,e,i){const{x:r,width:o}=e,{width:l,chartArea:{left:u,right:f}}=n;let d="center";return i==="center"?d=r<=(u+f)/2?"left":"right":r<=o/2?d="left":r>=l-o/2&&(d="right"),bz(d,n,t,e)&&(d="center"),d}function Cx(n,t,e){const i=e.yAlign||t.yAlign||vz(n,e);return{xAlign:e.xAlign||t.xAlign||Ez(n,t,e,i),yAlign:i}}function Tz(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function Sz(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function Ix(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:l}=n,{xAlign:u,yAlign:f}=e,d=r+o,{topLeft:g,topRight:y,bottomLeft:v,bottomRight:T}=bo(l);let x=Tz(t,u);const A=Sz(t,f,d);return f==="center"?u==="left"?x+=d:u==="right"&&(x-=d):u==="left"?x-=Math.max(g,v)+r:u==="right"&&(x+=Math.max(y,T)+r),{x:ln(x,0,i.width-t.width),y:ln(A,0,i.height-t.height)}}function td(n,t,e){const i=Mn(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function Dx(n){return Es([],ir(n))}function xz(n,t,e){return Oa(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function Mx(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const zR={beforeTitle:tr,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:tr,beforeBody:tr,beforeLabel:tr,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Ut(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:tr,afterBody:tr,beforeFooter:tr,footer:tr,afterFooter:tr};function Gn(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?zR[t].call(e,i):r}class Ox extends vr{static positioners=yu;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new gR(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=xz(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=Gn(i,"beforeTitle",this,t),o=Gn(i,"title",this,t),l=Gn(i,"afterTitle",this,t);let u=[];return u=Es(u,ir(r)),u=Es(u,ir(o)),u=Es(u,ir(l)),u}getBeforeBody(t,e){return Dx(Gn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return oe(t,o=>{const l={before:[],lines:[],after:[]},u=Mx(i,o);Es(l.before,ir(Gn(u,"beforeLabel",this,o))),Es(l.lines,Gn(u,"label",this,o)),Es(l.after,ir(Gn(u,"afterLabel",this,o))),r.push(l)}),r}getAfterBody(t,e){return Dx(Gn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=Gn(i,"beforeFooter",this,t),o=Gn(i,"footer",this,t),l=Gn(i,"afterFooter",this,t);let u=[];return u=Es(u,ir(r)),u=Es(u,ir(o)),u=Es(u,ir(l)),u}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],l=[];let u=[],f,d;for(f=0,d=e.length;f<d;++f)u.push(_z(this.chart,e[f]));return t.filter&&(u=u.filter((g,y,v)=>t.filter(g,y,v,i))),t.itemSort&&(u=u.sort((g,y)=>t.itemSort(g,y,i))),oe(u,g=>{const y=Mx(t.callbacks,g);r.push(Gn(y,"labelColor",this,g)),o.push(Gn(y,"labelPointStyle",this,g)),l.push(Gn(y,"labelTextColor",this,g))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=u,u}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,l=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const u=yu[i.position].call(this,r,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const f=this._size=Rx(this,i),d=Object.assign({},u,f),g=Cx(this.chart,i,d),y=Ix(i,d,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,o={opacity:1,x:y.x,y:y.y,width:f.width,height:f.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:f,topRight:d,bottomLeft:g,bottomRight:y}=bo(u),{x:v,y:T}=t,{width:x,height:A}=e;let w,O,V,j,$,B;return o==="center"?($=T+A/2,r==="left"?(w=v,O=w-l,j=$+l,B=$-l):(w=v+x,O=w+l,j=$-l,B=$+l),V=w):(r==="left"?O=v+Math.max(f,g)+l:r==="right"?O=v+x-Math.max(d,y)-l:O=this.caretX,o==="top"?(j=T,$=j-l,w=O-l,V=O+l):(j=T+A,$=j+l,w=O+l,V=O-l),B=j),{x1:w,x2:O,x3:V,y1:j,y2:$,y3:B}}drawTitle(t,e,i){const r=this.title,o=r.length;let l,u,f;if(o){const d=Nl(i.rtl,this.x,this.width);for(t.x=td(this,i.titleAlign,i),e.textAlign=d.textAlign(i.titleAlign),e.textBaseline="middle",l=Ze(i.titleFont),u=i.titleSpacing,e.fillStyle=i.titleColor,e.font=l.string,f=0;f<o;++f)e.fillText(r[f],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+u,f+1===o&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,e,i,r,o){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:f,boxWidth:d}=o,g=Ze(o.bodyFont),y=td(this,"left",o),v=r.x(y),T=f<g.lineHeight?(g.lineHeight-f)/2:0,x=e.y+T;if(o.usePointStyle){const A={radius:Math.min(d,f)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},w=r.leftForLtr(v,d)+d/2,O=x+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,ky(t,A,w,O),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,ky(t,A,w,O)}else{t.lineWidth=Yt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const A=r.leftForLtr(v,d),w=r.leftForLtr(r.xPlus(v,1),d-2),O=bo(l.borderRadius);Object.values(O).some(V=>V!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Yu(t,{x:A,y:x,w:d,h:f,radius:O}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Yu(t,{x:w,y:x+1,w:d-2,h:f-2,radius:O}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(A,x,d,f),t.strokeRect(A,x,d,f),t.fillStyle=l.backgroundColor,t.fillRect(w,x+1,d-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:l,displayColors:u,boxHeight:f,boxWidth:d,boxPadding:g}=i,y=Ze(i.bodyFont);let v=y.lineHeight,T=0;const x=Nl(i.rtl,this.x,this.width),A=function(R){e.fillText(R,x.x(t.x+T),t.y+v/2),t.y+=v+o},w=x.textAlign(l);let O,V,j,$,B,Y,I;for(e.textAlign=l,e.textBaseline="middle",e.font=y.string,t.x=td(this,w,i),e.fillStyle=i.bodyColor,oe(this.beforeBody,A),T=u&&w!=="right"?l==="center"?d/2+g:d+2+g:0,$=0,Y=r.length;$<Y;++$){for(O=r[$],V=this.labelTextColors[$],e.fillStyle=V,oe(O.before,A),j=O.lines,u&&j.length&&(this._drawColorBox(e,t,$,x,i),v=Math.max(y.lineHeight,f)),B=0,I=j.length;B<I;++B)A(j[B]),v=y.lineHeight;oe(O.after,A)}T=0,v=y.lineHeight,oe(this.afterBody,A),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let l,u;if(o){const f=Nl(i.rtl,this.x,this.width);for(t.x=td(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",l=Ze(i.footerFont),e.fillStyle=i.footerColor,e.font=l.string,u=0;u<o;++u)e.fillText(r[u],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:l}=this,{x:u,y:f}=t,{width:d,height:g}=i,{topLeft:y,topRight:v,bottomLeft:T,bottomRight:x}=bo(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(u+y,f),l==="top"&&this.drawCaret(t,e,i,r),e.lineTo(u+d-v,f),e.quadraticCurveTo(u+d,f,u+d,f+v),l==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(u+d,f+g-x),e.quadraticCurveTo(u+d,f+g,u+d-x,f+g),l==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(u+T,f+g),e.quadraticCurveTo(u,f+g,u,f+g-T),l==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(u,f+y),e.quadraticCurveTo(u,f,u+y,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const l=yu[t.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=Rx(this,t),f=Object.assign({},l,this._size),d=Cx(e,t,f),g=Ix(t,f,d,e);(r._to!==g.x||o._to!==g.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=Mn(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),uR(t,e.textDirection),o.y+=l.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),hR(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:u,index:f})=>{const d=this.chart.getDatasetMeta(u);if(!d)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:d.data[f],index:f}}),o=!Pd(i,r),l=this._positionChanged(r,e);(o||l)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],l=this._getActiveElements(t,o,e,i),u=this._positionChanged(l,t),f=e||!Pd(l,o)||u;return f&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,l=yu[o.position].call(this,t,e);return l!==!1&&(i!==l.x||r!==l.y)}}var wz={id:"tooltip",_element:Ox,positioners:yu,afterInit(n,t,e){e&&(n.tooltip=new Ox({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:zR},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Az=Object.freeze({__proto__:null,Colors:z6,Decimation:F6,Filler:lz,Legend:mz,SubTitle:yz,Title:gz,Tooltip:wz});const Rz=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function Cz(n,t,e,i){const r=n.indexOf(t);if(r===-1)return Rz(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const Iz=(n,t)=>n===null?null:ln(Math.round(n),0,t);function Nx(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class Dz extends ko{static id="category";static defaults={ticks:{callback:Nx}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Ut(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:Cz(i,t,Ot(e,t),this._addedLabels),Iz(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=e;l++)r.push({value:l});return r}getLabelForValue(t){return Nx.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function Mz(n,t){const e=[],{bounds:r,step:o,min:l,max:u,precision:f,count:d,maxTicks:g,maxDigits:y,includeBounds:v}=n,T=o||1,x=g-1,{min:A,max:w}=t,O=!Ut(l),V=!Ut(u),j=!Ut(d),$=(w-A)/(y+1);let B=RS((w-A)/x/T)*T,Y,I,R,M;if(B<1e-14&&!O&&!V)return[{value:A},{value:w}];M=Math.ceil(w/B)-Math.floor(A/B),M>x&&(B=RS(M*B/x/T)*T),Ut(f)||(Y=Math.pow(10,f),B=Math.ceil(B*Y)/Y),r==="ticks"?(I=Math.floor(A/B)*B,R=Math.ceil(w/B)*B):(I=A,R=w),O&&V&&o&&d4((u-l)/o,B/1e3)?(M=Math.round(Math.min((u-l)/B,g)),B=(u-l)/M,I=l,R=u):j?(I=O?l:I,R=V?u:R,M=d-1,B=(R-I)/M):(M=(R-I)/B,wu(M,Math.round(M),B/1e3)?M=Math.round(M):M=Math.ceil(M));const L=Math.max(CS(B),CS(I));Y=Math.pow(10,Ut(f)?L:f),I=Math.round(I*Y)/Y,R=Math.round(R*Y)/Y;let P=0;for(O&&(v&&I!==l?(e.push({value:l}),I<l&&P++,wu(Math.round((I+P*B)*Y)/Y,l,kx(l,$,n))&&P++):I<l&&P++);P<M;++P){const z=Math.round((I+P*B)*Y)/Y;if(V&&z>u)break;e.push({value:z})}return V&&v&&R!==u?e.length&&wu(e[e.length-1].value,u,kx(u,$,n))?e[e.length-1].value=u:e.push({value:u}):(!V||R===u)&&e.push({value:R}),e}function kx(n,t,{horizontal:e,minRotation:i}){const r=Wi(i),o=(e?Math.sin(r):Math.cos(r))||.001,l=.75*t*(""+n).length;return Math.min(t/o,l)}class Fd extends ko{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Ut(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const l=f=>r=e?r:f,u=f=>o=i?o:f;if(t){const f=Ds(r),d=Ds(o);f<0&&d<0?u(0):f>0&&d>0&&l(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);u(o+f),t||l(r-f)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,l=Mz(r,o);return t.bounds==="ticks"&&WA(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return fh(t,this.chart.options.locale,this.options.ticks.format)}}class Oz extends Fd{static id="linear";static defaults={ticks:{callback:ym.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Me(t)?t:0,this.max=Me(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Wi(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const $u=n=>Math.floor(oa(n)),ho=(n,t)=>Math.pow(10,$u(n)+t);function Px(n){return n/Math.pow(10,$u(n))===1}function Lx(n,t,e){const i=Math.pow(10,e),r=Math.floor(n/i);return Math.ceil(t/i)-r}function Nz(n,t){const e=t-n;let i=$u(e);for(;Lx(n,t,i)>10;)i++;for(;Lx(n,t,i)<10;)i--;return Math.min(i,$u(n))}function kz(n,{min:t,max:e}){t=ui(n.min,t);const i=[],r=$u(t);let o=Nz(t,e),l=o<0?Math.pow(10,Math.abs(o)):1;const u=Math.pow(10,o),f=r>o?Math.pow(10,r):0,d=Math.round((t-f)*l)/l,g=Math.floor((t-f)/u/10)*u*10;let y=Math.floor((d-g)/Math.pow(10,o)),v=ui(n.min,Math.round((f+g+y*Math.pow(10,o))*l)/l);for(;v<e;)i.push({value:v,major:Px(v),significand:y}),y>=10?y=y<15?15:20:y++,y>=20&&(o++,y=2,l=o>=0?1:l),v=Math.round((f+g+y*Math.pow(10,o))*l)/l;const T=ui(n.max,v);return i.push({value:T,major:Px(T),significand:y}),i}class Pz extends ko{static id="logarithmic";static defaults={ticks:{callback:ym.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=Fd.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return Me(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Me(t)?Math.max(0,t):null,this.max=Me(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Me(this._userMin)&&(this.min=t===ho(this.min,0)?ho(this.min,-1):ho(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,r=this.max;const o=u=>i=t?i:u,l=u=>r=e?r:u;i===r&&(i<=0?(o(1),l(10)):(o(ho(i,-1)),l(ho(r,1)))),i<=0&&o(ho(r,-1)),r<=0&&l(ho(i,1)),this.min=i,this.max=r}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},i=kz(e,this);return t.bounds==="ticks"&&WA(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":fh(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=oa(t),this._valueRange=oa(this.max)-oa(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(oa(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function Uy(n){const t=n.ticks;if(t.display&&n.display){const e=Mn(t.backdropPadding);return Ot(t.font&&t.font.size,we.font.size)+e.height}return 0}function Lz(n,t,e){return e=xe(e)?e:[e],{w:D4(n,t.string,e),h:e.length*t.lineHeight}}function Vx(n,t,e,i,r){return n===i||n===r?{start:t-e/2,end:t+e/2}:n<i||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function Vz(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],r=[],o=n._pointLabels.length,l=n.options.pointLabels,u=l.centerPointLabels?Qt/o:0;for(let f=0;f<o;f++){const d=l.setContext(n.getPointLabelContext(f));r[f]=d.padding;const g=n.getPointPosition(f,n.drawingArea+r[f],u),y=Ze(d.font),v=Lz(n.ctx,y,n._pointLabels[f]);i[f]=v;const T=Rn(n.getIndexAngle(f)+u),x=Math.round(q_(T)),A=Vx(x,g.x,v.w,0,180),w=Vx(x,g.y,v.h,90,270);zz(e,t,T,A,w)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=Bz(n,i,r)}function zz(n,t,e,i,r){const o=Math.abs(Math.sin(e)),l=Math.abs(Math.cos(e));let u=0,f=0;i.start<t.l?(u=(t.l-i.start)/o,n.l=Math.min(n.l,t.l-u)):i.end>t.r&&(u=(i.end-t.r)/o,n.r=Math.max(n.r,t.r+u)),r.start<t.t?(f=(t.t-r.start)/l,n.t=Math.min(n.t,t.t-f)):r.end>t.b&&(f=(r.end-t.b)/l,n.b=Math.max(n.b,t.b+f))}function jz(n,t,e){const i=n.drawingArea,{extra:r,additionalAngle:o,padding:l,size:u}=e,f=n.getPointPosition(t,i+r+l,o),d=Math.round(q_(Rn(f.angle+ze))),g=qz(f.y,u.h,d),y=Fz(d),v=Hz(f.x,u.w,y);return{visible:!0,x:f.x,y:g,textAlign:y,left:v,top:g,right:v+u.w,bottom:g+u.h}}function Uz(n,t){if(!t)return!0;const{left:e,top:i,right:r,bottom:o}=n;return!(cr({x:e,y:i},t)||cr({x:e,y:o},t)||cr({x:r,y:i},t)||cr({x:r,y:o},t))}function Bz(n,t,e){const i=[],r=n._pointLabels.length,o=n.options,{centerPointLabels:l,display:u}=o.pointLabels,f={extra:Uy(o)/2,additionalAngle:l?Qt/r:0};let d;for(let g=0;g<r;g++){f.padding=e[g],f.size=t[g];const y=jz(n,g,f);i.push(y),u==="auto"&&(y.visible=Uz(y,d),y.visible&&(d=y))}return i}function Fz(n){return n===0||n===180?"center":n<180?"left":"right"}function Hz(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function qz(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function Gz(n,t,e){const{left:i,top:r,right:o,bottom:l}=e,{backdropColor:u}=t;if(!Ut(u)){const f=bo(t.borderRadius),d=Mn(t.backdropPadding);n.fillStyle=u;const g=i-d.left,y=r-d.top,v=o-i+d.width,T=l-r+d.height;Object.values(f).some(x=>x!==0)?(n.beginPath(),Yu(n,{x:g,y,w:v,h:T,radius:f}),n.fill()):n.fillRect(g,y,v,T)}}function Yz(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let r=t-1;r>=0;r--){const o=n._pointLabelItems[r];if(!o.visible)continue;const l=i.setContext(n.getPointLabelContext(r));Gz(e,l,o);const u=Ze(l.font),{x:f,y:d,textAlign:g}=o;Io(e,n._pointLabels[r],f,d+u.lineHeight/2,u,{color:l.color,textAlign:g,textBaseline:"middle"})}}function jR(n,t,e,i){const{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,be);else{let o=n.getPointPosition(0,t);r.moveTo(o.x,o.y);for(let l=1;l<i;l++)o=n.getPointPosition(l,t),r.lineTo(o.x,o.y)}}function Wz(n,t,e,i,r){const o=n.ctx,l=t.circular,{color:u,lineWidth:f}=t;!l&&!i||!u||!f||e<0||(o.save(),o.strokeStyle=u,o.lineWidth=f,o.setLineDash(r.dash||[]),o.lineDashOffset=r.dashOffset,o.beginPath(),jR(n,e,l,i),o.closePath(),o.stroke(),o.restore())}function $z(n,t,e){return Oa(n,{label:e,index:t,type:"pointLabel"})}class Kz extends Fd{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ym.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Mn(Uy(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Me(t)&&!isNaN(t)?t:0,this.max=Me(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Uy(this.options))}generateTickLabels(t){Fd.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const r=de(this.options.pointLabels.callback,[e,i],this);return r||r===0?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?Vz(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){const e=be/(this._pointLabels.length||1),i=this.options.startAngle||0;return Rn(t*e+Wi(i))}getDistanceFromCenterForValue(t){if(Ut(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Ut(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return $z(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const r=this.getIndexAngle(t)-ze+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:r,bottom:o}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),jR(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:r,border:o}=e,l=this._pointLabels.length;let u,f,d;if(e.pointLabels.display&&Yz(this,l),r.display&&this.ticks.forEach((g,y)=>{if(y!==0||y===0&&this.min<0){f=this.getDistanceFromCenterForValue(g.value);const v=this.getContext(y),T=r.setContext(v),x=o.setContext(v);Wz(this,T,f,l,x)}}),i.display){for(t.save(),u=l-1;u>=0;u--){const g=i.setContext(this.getPointLabelContext(u)),{color:y,lineWidth:v}=g;!v||!y||(t.lineWidth=v,t.strokeStyle=y,t.setLineDash(g.borderDash),t.lineDashOffset=g.borderDashOffset,f=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),d=this.getPointPosition(u,f),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let o,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((u,f)=>{if(f===0&&this.min>=0&&!e.reverse)return;const d=i.setContext(this.getContext(f)),g=Ze(d.font);if(o=this.getDistanceFromCenterForValue(this.ticks[f].value),d.showLabelBackdrop){t.font=g.string,l=t.measureText(u.label).width,t.fillStyle=d.backdropColor;const y=Mn(d.backdropPadding);t.fillRect(-l/2-y.left,-o-g.size/2-y.top,l+y.width,g.size+y.height)}Io(t,u.label,0,-o,g,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}const xm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Kn=Object.keys(xm);function zx(n,t){return n-t}function jx(n,t){if(Ut(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),Me(l)||(l=typeof i=="string"?e.parse(l,i):e.parse(l)),l===null?null:(r&&(l=r==="week"&&(Fl(o)||o===!0)?e.startOf(l,"isoWeek",o):e.startOf(l,r)),+l)}function Ux(n,t,e,i){const r=Kn.length;for(let o=Kn.indexOf(n);o<r-1;++o){const l=xm[Kn[o]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(u*l.size))<=i)return Kn[o]}return Kn[r-1]}function Xz(n,t,e,i,r){for(let o=Kn.length-1;o>=Kn.indexOf(e);o--){const l=Kn[o];if(xm[l].common&&n._adapter.diff(r,i,l)>=t-1)return l}return Kn[e?Kn.indexOf(e):0]}function Qz(n){for(let t=Kn.indexOf(n)+1,e=Kn.length;t<e;++t)if(xm[Kn[t]].common)return Kn[t]}function Bx(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=G_(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function Jz(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),l=t[t.length-1].value;let u,f;for(u=o;u<=l;u=+r.add(u,1,i))f=e[u],f>=0&&(t[f].major=!0);return t}function Fx(n,t,e){const i=[],r={},o=t.length;let l,u;for(l=0;l<o;++l)u=t[l],r[u]=l,i.push({value:u,major:!1});return o===0||!e?i:Jz(n,i,r,e)}class By extends ko{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new Z5._date(t.adapters.date);r.init(e),xu(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:jx(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:l,maxDefined:u}=this.getUserBounds();function f(d){!l&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!u&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!l||!u)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=Me(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=Me(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,l=this.max,u=y4(r,o,l);return this._unit=e.unit||(i.autoSkip?Ux(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):Xz(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Qz(this._unit),this.initOffsets(r),t.reverse&&u.reverse(),Fx(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=ln(e,0,l),i=ln(i,0,l),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,l=o.unit||Ux(o.minUnit,e,i,this._getLabelCapacity(e)),u=Ot(r.ticks.stepSize,1),f=l==="week"?o.isoWeekday:!1,d=Fl(f)||f===!0,g={};let y=e,v,T;if(d&&(y=+t.startOf(y,"isoWeek",f)),y=+t.startOf(y,d?"day":l),t.diff(i,e,l)>1e5*u)throw new Error(e+" and "+i+" are too far apart with stepSize of "+u+" "+l);const x=r.ticks.source==="data"&&this.getDataTimestamps();for(v=y,T=0;v<i;v=+t.add(v,u,l),T++)Bx(g,v,x);return(v===i||r.bounds==="ticks"||T===1)&&Bx(g,v,x),Object.keys(g).sort(zx).map(A=>+A)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,l=e||r[o];return this._adapter.format(t,l)}_tickFormatFunction(t,e,i,r){const o=this.options,l=o.ticks.callback;if(l)return de(l,[t,e,i],this);const u=o.time.displayFormats,f=this._unit,d=this._majorUnit,g=f&&u[f],y=d&&u[d],v=i[e],T=d&&y&&v&&v.major;return this._adapter.format(t,r||(T?y:g))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Wi(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),l=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*l,h:i*l+u*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,Fx(this,[t],this._majorUnit),r),l=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(jx(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return XA(t.sort(zx))}}function ed(n,t,e){let i=0,r=n.length-1,o,l,u,f;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=lr(n,"pos",t)),{pos:o,time:u}=n[i],{pos:l,time:f}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=lr(n,"time",t)),{time:o,pos:u}=n[i],{time:l,pos:f}=n[r]);const d=l-o;return d?u+(f-u)*(t-o)/d:u}class Zz extends By{static id="timeseries";static defaults=By.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=ed(e,this.min),this._tableRange=ed(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let l,u,f,d,g;for(l=0,u=t.length;l<u;++l)d=t[l],d>=e&&d<=i&&r.push(d);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,u=r.length;l<u;++l)g=r[l+1],f=r[l-1],d=r[l],Math.round((g+f)/2)!==d&&o.push({time:d,pos:l/(u-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(ed(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return ed(this._table,i*this._tableRange+this._minPos,!0)}}var tj=Object.freeze({__proto__:null,CategoryScale:Dz,LinearScale:Oz,LogarithmicScale:Pz,RadialLinearScale:Kz,TimeScale:By,TimeSeriesScale:Zz});const ej=[J5,M6,Az,tj];nv.register(...ej);const nj=()=>{const{toggleSidebar:n}=Wl(),t=W.useRef(null),e=W.useRef(null),[i,r]=W.useState(0),[o,l]=W.useState([]),[u,f]=W.useState([]),[d,g]=W.useState(!0),y=w=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(w),v=()=>{const w=new Date,O=w.getFullYear(),V=String(w.getMonth()+1).padStart(2,"0"),j=String(w.getDate()).padStart(2,"0");return`${O}-${V}-${j}`},[T,x]=W.useState({});W.useEffect(()=>{(async()=>{try{const O=await yr(Ln(Ve,"users"));let V=[],j={};O.forEach(k=>{const lt=k.data(),ut={id:k.id,name:lt.name,nickname:lt.nickname,photo:lt.photo};V.push(ut),j[k.id]=ut}),x(j);const $=Ln(Ve,"transactions"),B=ga($,Uu("date","asc")),Y=await yr(B);let I=0,R=0,M=[],L=new Set,P={};const z=v();Y.forEach(k=>{const lt=k.data(),ut=parseInt(lt.amount)||0;lt.type==="income"?I+=ut:lt.type==="expense"&&(R+=ut),lt.date===z&&lt.type==="income"&&(M.push(lt),L.add(lt.userId)),lt.type==="income"&&(P[lt.date]=(P[lt.date]||0)+ut)}),r(I-R),l(M.reverse()),f(V.filter(k=>!L.has(k.id))),A(P),g(!1)}catch(O){console.error("Error fetching dashboard:",O)}})()},[]);const A=w=>{e.current&&e.current.destroy();const O=t.current.getContext("2d"),V=[],j=[];for(let $=29;$>=0;$--){const B=new Date;B.setDate(B.getDate()-$);const Y=B.toISOString().split("T")[0],I=B.toLocaleDateString("en-US",{day:"numeric",month:"short"});V.push(I),j.push(w[Y]||0)}e.current=new nv(O,{type:"line",data:{labels:V,datasets:[{label:"Income (Rp)",data:j,borderColor:"#2563eb",backgroundColor:"rgba(37, 99, 235, 0.1)",borderWidth:2,tension:.4,fill:!0,pointRadius:0,pointHoverRadius:4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{color:"#f1f5f9"},ticks:{font:{size:10}}},x:{grid:{display:!1},ticks:{font:{size:10},maxTicksLimit:10}}}}})};return C.jsxs("div",{style:{width:"100%"},children:[C.jsx("div",{className:"header-section",children:C.jsxs("div",{className:"page-title-wrapper",style:{display:"flex",alignItems:"center"},children:[C.jsx("button",{className:"mobile-toggle-btn",onClick:n,children:C.jsx("i",{className:"fa-solid fa-bars"})}),C.jsxs("div",{className:"page-title",children:[C.jsx("h1",{children:"Dashboard"}),C.jsx("p",{children:"Overview of school finance"})]})]})}),C.jsx("div",{className:"stat-card",children:C.jsxs("div",{className:"stat-header",children:[C.jsxs("div",{children:[C.jsxs("div",{className:"stat-title",children:[C.jsx("i",{className:"fa-solid fa-dollar-sign"})," Total Profit"]}),C.jsx("div",{className:"stat-value",children:y(i)}),C.jsxs("div",{className:"stat-desc",children:[C.jsx("i",{className:"fa-solid fa-arrow-trend-up"})," Based on all transactions"]})]}),C.jsx("div",{className:"stat-icon",children:C.jsx("i",{className:"fa-solid fa-wallet"})})]})}),C.jsxs("div",{className:"chart-section",children:[C.jsx("h3",{className:"section-title",children:"Daily Income (Last 30 Days)"}),C.jsx("div",{style:{height:"320px"},children:C.jsx("canvas",{ref:t})})]}),C.jsxs("div",{className:"dashboard-grid",children:[C.jsxs("div",{className:"list-box",children:[C.jsx("h3",{className:"section-title",children:"Recent Income (Today)"}),d?C.jsx("p",{style:{color:"#9ca3af",fontSize:"13px"},children:"Loading data..."}):o.length===0?C.jsx("p",{style:{color:"#9ca3af",fontSize:"13px"},children:"No income recorded today."}):o.map((w,O)=>C.jsxs("div",{className:"list-item",children:[C.jsxs("div",{className:"user-meta",children:[C.jsx("div",{className:"avatar-sm",style:{backgroundColor:T[w.userId]?.photo?"transparent":"var(--primary-blue)",backgroundImage:T[w.userId]?.photo?`url(${T[w.userId]?.photo})`:"none",backgroundSize:"cover",backgroundPosition:"center",color:T[w.userId]?.photo?"transparent":"white",border:"1px solid #e2e8f0"},children:!T[w.userId]?.photo&&(w.userName?w.userName.substring(0,2).toUpperCase():"US")}),C.jsxs("div",{className:"meta-text",children:[C.jsx("h4",{children:w.userName}),C.jsx("p",{children:w.date})]})]}),C.jsxs("div",{className:"amount-plus",children:["+",y(w.amount)]})]},O))]}),C.jsxs("div",{className:"list-box",children:[C.jsxs("h3",{className:"section-title",children:[C.jsx("i",{className:"fa-regular fa-user"})," Users Without Income (Today)"]}),d?C.jsx("p",{style:{color:"#9ca3af",fontSize:"13px"},children:"Checking users..."}):u.length===0?C.jsxs("p",{style:{color:"#16a34a",fontSize:"13px"},children:[C.jsx("i",{className:"fa-solid fa-check"})," Great! All users contributed."]}):u.map(w=>C.jsxs("div",{className:"list-item",children:[C.jsxs("div",{className:"user-meta",children:[C.jsx("div",{className:"avatar-sm",style:{backgroundColor:w.photo?"transparent":"#9ca3af",backgroundImage:w.photo?`url(${w.photo})`:"none",backgroundSize:"cover",backgroundPosition:"center",color:w.photo?"transparent":"white",border:"1px solid #e2e8f0"},children:!w.photo&&w.name.substring(0,2).toUpperCase()}),C.jsxs("div",{className:"meta-text",children:[C.jsx("h4",{children:w.name}),C.jsx("p",{children:"No record today"})]})]}),C.jsx("div",{className:"status-pending",children:"Waiting"})]},w.id))]})]})]})},ij=()=>{const{toggleSidebar:n}=Wl(),[t,e]=W.useState([]),[i,r]=W.useState("income"),[o,l]=W.useState(!1),[u,f]=W.useState(!1),[d,g]=W.useState(new Set),[y,v]=W.useState(!1),[T,x]=W.useState({currentBalance:0,inputAmount:0,fee:0,total:0,newBalance:0}),[A,w]=W.useState({userId:"",amount:"",date:new Date().toISOString().split("T")[0],note:""});W.useEffect(()=>{(async()=>{try{const P=(await yr(Ln(Ve,"users"))).docs.map(z=>({id:z.id,name:z.data().name}));e(P)}catch{me.error("Gagal memuat data user")}})()},[]),W.useEffect(()=>{if(!A.date)return;const M=ga(Ln(Ve,"transactions"),sa("date","==",A.date),sa("type","==",i)),L=pm(M,P=>{const z=new Set;P.docs.forEach(k=>z.add(k.data().userId)),g(z)});return()=>L()},[A.date,i]);const O=M=>{const{name:L,value:P}=M.target;w(z=>({...z,[L]:P}))},V=M=>{r(M),y||w(L=>({...L,userId:""}))},j=async M=>{const L=ga(Ln(Ve,"transactions"),sa("userId","==",M)),P=await yr(L);let z=0;return P.forEach(k=>{const lt=k.data();lt.type==="income"?z+=lt.amount:lt.type==="expense"&&(z-=lt.amount)}),z},$=async M=>{if(M.preventDefault(),!A.userId||!A.amount||!A.date){me.error("Mohon lengkapi data wajib (*)");return}const L=await j(A.userId),P=parseInt(A.amount)*1e3;let z=0,k=P,lt=0;i==="expense"?(z=P*.1,k=P+z,lt=L-k):lt=L+P,x({currentBalance:L,inputAmount:P,fee:z,total:k,newBalance:lt}),f(!0)},B=async()=>{l(!0);try{const M=t.find(z=>z.id===A.userId),L=M?M.name:"Unknown";let P=A.note;if(i==="expense"&&T.fee>0){const z=T.fee.toLocaleString("id-ID");P=`[Withdraw: Rp ${T.inputAmount.toLocaleString("id-ID")} + Adm: Rp ${z}] ${A.note}`}await UA(Ln(Ve,"transactions"),{userId:A.userId,userName:L,amount:i==="expense"?T.total:T.inputAmount,date:A.date,note:P,type:i,createdAt:Bu()}),me.success("Transaksi berhasil disimpan!"),f(!1),w(z=>({userId:y?z.userId:"",amount:"",date:z.date,note:""}))}catch(M){me.error("Gagal: "+M.message)}finally{l(!1)}},Y=()=>{const M=t.find(L=>L.id===A.userId);return M?M.name:"-"},I=t.filter(M=>!d.has(M.id)||M.id===A.userId),R=M=>M.toLocaleString("id-ID");return C.jsxs("div",{style:{width:"100%"},children:[C.jsx("div",{className:"centered-header",children:C.jsxs("div",{className:"page-title-wrapper",style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[C.jsx("button",{className:"mobile-toggle-btn",onClick:n,children:C.jsx("i",{className:"fa-solid fa-bars"})}),C.jsxs("div",{children:[C.jsx("h1",{children:"Income Management"}),C.jsx("p",{children:"Add or subtract income for users"})]})]})}),C.jsxs("div",{className:"form-card",children:[C.jsxs("div",{className:"toggle-container",children:[C.jsxs("button",{type:"button",className:`toggle-btn ${i==="income"?"active-income":""}`,onClick:()=>V("income"),children:[C.jsx("i",{className:"fa-solid fa-plus"})," Add Income"]}),C.jsxs("button",{type:"button",className:`toggle-btn ${i==="expense"?"active-expense":""}`,onClick:()=>V("expense"),children:[C.jsx("i",{className:"fa-solid fa-minus"})," Subtract Income"]})]}),C.jsxs("form",{onSubmit:$,children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{className:"form-label",children:"Select User *"}),C.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[C.jsxs("select",{name:"userId",className:"form-control",required:!0,value:A.userId,onChange:O,style:{flex:1},children:[C.jsx("option",{value:"",disabled:!0,children:I.length===0?"Semua user sudah lunas hari ini":"Choose a user"}),I.map(M=>C.jsx("option",{value:M.id,children:M.name},M.id))]}),C.jsx("button",{type:"button",onClick:()=>v(!y),style:{background:y?"var(--primary-blue)":"#f1f5f9",color:y?"white":"#94a3b8",border:"1px solid var(--border-color)",borderRadius:"8px",width:"46px",height:"46px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",cursor:"pointer"},children:C.jsx("i",{className:"fa-solid fa-thumbtack",style:{transform:y?"rotate(-45deg)":"none"}})})]})]}),C.jsxs("div",{className:"form-group",children:[C.jsxs("label",{className:"form-label",children:["Amount (Dalam Ribuan) * ",C.jsxs("span",{style:{fontSize:"11px",color:"#64748b",fontWeight:"normal"},children:["Contoh: ",C.jsx("b",{children:"20"})," = Rp 20.000"]})]}),C.jsxs("div",{style:{position:"relative"},children:[C.jsx("input",{type:"number",name:"amount",className:"form-control",placeholder:"0",required:!0,min:"1",value:A.amount,onChange:O}),A.amount&&C.jsxs("div",{style:{position:"absolute",right:"10px",top:"12px",fontSize:"12px",color:"green",fontWeight:"bold"},children:["= Rp ",(parseInt(A.amount)*1e3).toLocaleString("id-ID")]})]})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{className:"form-label",children:"Date *"}),C.jsx("input",{type:"date",name:"date",className:"form-control",required:!0,value:A.date,onChange:O})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{className:"form-label",children:"Notes (Optional)"}),C.jsx("textarea",{name:"note",className:"form-control",placeholder:"Add notes",value:A.note,onChange:O})]}),C.jsx("button",{type:"submit",className:"btn-submit",style:{backgroundColor:i==="income"?"var(--success-green)":"var(--danger-red)"},children:i==="income"?"Add Income":"Subtract Income"})]})]}),u&&C.jsx("div",{className:"popup-overlay",style:{display:"flex"},children:C.jsxs("div",{className:"popup-box",children:[C.jsx("h3",{children:"Confirm Transaction"}),C.jsx("p",{style:{marginBottom:"15px",color:"#64748b"},children:"Please review the financial details:"}),C.jsxs("div",{className:"popup-details",style:{background:"#f8fafc",padding:"15px",borderRadius:"8px",fontSize:"13px"},children:[C.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px",borderBottom:"1px solid #e2e8f0",paddingBottom:"10px"},children:[C.jsxs("span",{children:["User: ",C.jsx("b",{children:Y()})]}),C.jsx("span",{children:A.date})]}),C.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",color:"#64748b"},children:[C.jsx("span",{children:"Current Savings:"}),C.jsxs("span",{children:["Rp ",R(T.currentBalance)]})]}),C.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",color:i==="income"?"green":"#b91c1c",fontWeight:"bold"},children:[C.jsxs("span",{children:[i==="income"?"Deposit":"Withdrawal",":"]}),C.jsxs("span",{children:[i==="income"?"+":"-"," Rp ",R(T.inputAmount)]})]}),i==="expense"&&C.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px",color:"#b91c1c",fontSize:"12px"},children:[C.jsx("span",{children:"@ : (Admin 10%)"}),C.jsxs("span",{children:["- Rp ",R(T.fee)]})]}),C.jsx("div",{style:{borderTop:"1px dashed #cbd5e1",margin:"10px 0"}}),C.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"15px",fontWeight:"bold",color:"var(--text-dark)"},children:[C.jsx("span",{children:"New Balance:"}),C.jsxs("span",{style:{color:T.newBalance<0?"red":"blue"},children:["Rp ",R(T.newBalance)]})]})]}),C.jsxs("div",{className:"popup-actions",children:[C.jsx("button",{className:"cancel-btn",onClick:()=>f(!1),disabled:o,children:"Cancel"}),C.jsx("button",{className:"confirm-btn",onClick:B,disabled:o,children:o?"Processing...":"Confirm"})]})]})})]})},sj=()=>{const{toggleSidebar:n}=Wl(),[t,e]=W.useState([]),[i,r]=W.useState(!0),[o,l]=W.useState(!1),[u,f]=W.useState(!1),[d,g]=W.useState(!1),[y,v]=W.useState({id:"",fullName:"",nickname:"",className:"A",photo:""});W.useEffect(()=>{const j=ga(Ln(Ve,"users"),Uu("createdAt","desc")),$=pm(j,B=>{const Y=B.docs.map(I=>({id:I.id,...I.data()}));e(Y),r(!1)},B=>{me.error("Gagal memuat users"),r(!1)});return()=>$()},[]);const T=j=>{const $=j.target.files[0];if(!$)return;if($.size>2*1024*1024){me.error("Ukuran file terlalu besar (Max 2MB)");return}const B=new FileReader;B.readAsDataURL($),B.onload=Y=>{const I=new Image;I.src=Y.target.result,I.onload=()=>{const R=document.createElement("canvas"),M=300,L=M/I.width;R.width=M,R.height=I.height*L,R.getContext("2d").drawImage(I,0,0,R.width,R.height);const z=R.toDataURL("image/jpeg",.7);v(k=>({...k,photo:z}))}}},x=()=>{f(!1),v({id:"",fullName:"",nickname:"",className:"A",photo:""}),l(!0)},A=j=>{f(!0),v({id:j.id,fullName:j.fullName||j.name,nickname:j.nickname||j.name,className:j.className||"A",photo:j.photo||""}),l(!0)},w=async j=>{if(j.preventDefault(),!y.fullName.trim()||!y.nickname.trim()){me.error("Nama Lengkap & Panggilan wajib diisi");return}g(!0);try{const $={name:y.nickname,fullName:y.fullName,nickname:y.nickname,className:y.className,photo:y.photo,updatedAt:Bu()};if(u){const B=Bl(Ve,"users",y.id);await zA(B,$),me.success("Data siswa diperbarui!")}else await UA(Ln(Ve,"users"),{...$,createdAt:Bu()}),me.success("Siswa baru ditambahkan!");l(!1)}catch($){me.error("Gagal menyimpan: "+$.message)}finally{g(!1)}},O=async(j,$)=>{if(window.confirm(`Yakin ingin menghapus data "${$}"? Data absensi & tabungan mungkin akan kehilangan referensi nama.`))try{await jA(Bl(Ve,"users",j)),me.success("User dihapus.")}catch(B){me.error("Gagal menghapus: "+B.message)}},V=j=>j?j.substring(0,2).toUpperCase():"U";return C.jsxs("div",{style:{width:"100%"},children:[C.jsxs("div",{className:"header-section",children:[C.jsxs("div",{className:"page-title-wrapper",style:{display:"flex",alignItems:"center"},children:[C.jsx("button",{className:"mobile-toggle-btn",onClick:n,children:C.jsx("i",{className:"fa-solid fa-bars"})}),C.jsxs("div",{className:"page-title",children:[C.jsx("h1",{children:"User Management"}),C.jsx("p",{children:"Kelola data siswa, kelas, dan foto"})]})]}),C.jsxs("button",{className:"btn-add",onClick:x,children:[C.jsx("i",{className:"fa-solid fa-user-plus"})," Add User"]})]}),C.jsx("div",{className:"user-grid",children:i?C.jsx("p",{style:{color:"var(--text-gray)"},children:"Loading users..."}):t.length===0?C.jsx("p",{style:{color:"var(--text-gray)"},children:"Belum ada siswa."}):t.map(j=>C.jsxs("div",{className:"user-card",style:{position:"relative",paddingRight:"10px"},children:[C.jsxs("div",{className:"user-info-wrapper",children:[C.jsx("div",{className:"avatar",style:{backgroundColor:j.photo?"transparent":"var(--primary-blue)",backgroundImage:j.photo?`url(${j.photo})`:"none",backgroundSize:"cover",backgroundPosition:"center",border:"1px solid #e2e8f0"},children:!j.photo&&V(j.nickname||j.name)}),C.jsxs("div",{className:"info",children:[C.jsx("h3",{style:{fontSize:"16px"},children:j.nickname||j.name}),C.jsxs("p",{style:{fontSize:"12px",color:"#64748b"},children:["Kelas ",j.className||"A","  ",j.fullName||j.name]})]})]}),C.jsxs("div",{style:{display:"flex",gap:"8px"},children:[C.jsx("button",{className:"btn-delete",onClick:()=>A(j),style:{color:"var(--primary-blue)"},title:"Edit User",children:C.jsx("i",{className:"fa-regular fa-pen-to-square"})}),C.jsx("button",{className:"btn-delete",onClick:()=>O(j.id,j.nickname||j.name),title:"Hapus User",children:C.jsx("i",{className:"fa-regular fa-trash-can"})})]})]},j.id))}),o&&C.jsx("div",{className:"modal-overlay active",style:{display:"flex"},children:C.jsxs("div",{className:"modal-box",children:[C.jsxs("div",{className:"modal-header",children:[C.jsxs("div",{children:[C.jsx("h3",{children:u?"Edit Siswa":"Tambah Siswa Baru"}),C.jsx("p",{children:"Lengkapi data profil siswa di bawah ini."})]}),C.jsx("button",{className:"close-modal",onClick:()=>l(!1),children:""})]}),C.jsxs("form",{onSubmit:w,children:[C.jsxs("div",{className:"modal-body",children:[C.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"20px"},children:C.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:y.photo?`url(${y.photo}) center/cover`:"#f1f5f9",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid #e2e8f0"},children:!y.photo&&C.jsx("i",{className:"fa-solid fa-camera",style:{color:"#94a3b8",fontSize:"24px"}})})}),C.jsx("label",{style:{fontSize:"13px",fontWeight:"600"},children:"Foto Profil"}),C.jsx("input",{type:"file",accept:"image/*",className:"form-control",onChange:T,style:{padding:"8px",fontSize:"12px",marginBottom:"15px"}}),C.jsx("label",{style:{fontSize:"13px",fontWeight:"600"},children:"Nama Lengkap *"}),C.jsx("input",{type:"text",className:"form-control",placeholder:"Contoh: Muhammad Budi Santoso",required:!0,value:y.fullName,onChange:j=>v({...y,fullName:j.target.value}),style:{marginBottom:"15px"}}),C.jsxs("div",{style:{display:"flex",gap:"15px"},children:[C.jsxs("div",{style:{flex:1},children:[C.jsx("label",{style:{fontSize:"13px",fontWeight:"600"},children:"Nama Panggilan *"}),C.jsx("input",{type:"text",className:"form-control",placeholder:"Contoh: Budi",required:!0,value:y.nickname,onChange:j=>v({...y,nickname:j.target.value})})]}),C.jsxs("div",{style:{width:"100px"},children:[C.jsx("label",{style:{fontSize:"13px",fontWeight:"600"},children:"Kelas"}),C.jsxs("select",{className:"form-control",value:y.className,onChange:j=>v({...y,className:j.target.value}),children:[C.jsx("option",{value:"A",children:"Kelas A"}),C.jsx("option",{value:"B",children:"Kelas B"})]})]})]})]}),C.jsxs("div",{className:"modal-footer",style:{marginTop:"25px"},children:[C.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>l(!1),disabled:d,children:"Batal"}),C.jsx("button",{type:"submit",className:"btn-save",disabled:d,children:d?"Menyimpan...":"Simpan Data"})]})]})]})})]})},rj=()=>{const{toggleSidebar:n}=Wl(),[t,e]=W.useState([]),[i,r]=W.useState(new Date().toISOString().split("T")[0]),[o,l]=W.useState([]),[u,f]=W.useState({}),[d,g]=W.useState({}),[y,v]=W.useState(!0),[T,x]=W.useState(!1),A={"-":{label:"-",color:"#94a3b8",bg:"#f1f5f9",title:"Tanpa Keterangan"},"?":{label:"?",color:"#7c3aed",bg:"#ede9fe",title:"Hadir (No Income)"},H:{label:"H",color:"#15803d",bg:"#dcfce7",title:"Hadir (Income)"},S:{label:"S",color:"#854d0e",bg:"#fef9c3",title:"Sakit"},I:{label:"I",color:"#1e40af",bg:"#dbeafe",title:"Izin"},A:{label:"A",color:"#991b1b",bg:"#fee2e2",title:"Alpha"}};W.useEffect(()=>{const B=[];let Y=new Date(i),I=0;for(;I<7;){const R=Y.getDay();R!==0&&R!==6&&(B.unshift(Y.toISOString().split("T")[0]),I++),Y.setDate(Y.getDate()-1)}l(B)},[i]),W.useEffect(()=>{const B=ga(Ln(Ve,"users"),Uu("name","asc")),Y=pm(B,I=>{e(I.docs.map(R=>({id:R.id,name:R.data().name})))});return()=>Y()},[]),W.useEffect(()=>{if(o.length===0)return;(async()=>{v(!0);const Y=o[0],I=o[o.length-1];try{const R=ga(Ln(Ve,"attendance"),sa("date",">=",Y),sa("date","<=",I)),M=await yr(R),L={};M.forEach(lt=>{L[lt.id]=lt.data().records||{}}),f(L);const P=ga(Ln(Ve,"transactions"),sa("type","==","income"),sa("date",">=",Y),sa("date","<=",I)),z=await yr(P),k={};z.forEach(lt=>{const ut=lt.data();k[ut.date]||(k[ut.date]=new Set),k[ut.date].add(ut.userId)}),g(k)}catch(R){console.error(R),me.error("Gagal memuat data matriks")}finally{v(!1)}})()},[o]);const w=(B,Y)=>{const I=u[B]&&u[B][Y],R=d[B]&&d[B].has(Y);return I&&I!=="-"?I:R?"H":I||"-"},O=(B,Y,I)=>{f(R=>({...R,[B]:{...R[B]||{},[Y]:I}}))},V=async()=>{x(!0);try{const B=IV(Ve);o.forEach(Y=>{const I=Bl(Ve,"attendance",Y),R={};t.forEach(M=>{const L=w(Y,M.id);L!=="-"&&(R[M.id]=L)}),B.set(I,{date:Y,records:R,updatedAt:Bu()})}),await B.commit(),me.success("Data absensi berhasil disimpan!")}catch(B){me.error("Gagal: "+B.message)}finally{x(!1)}},j=B=>{const Y=new Date(B),I=String(Y.getDate()).padStart(2,"0"),R=String(Y.getMonth()+1).padStart(2,"0");return`${I}/${R}`},$=B=>{if(!B)return"";const[Y,I,R]=B.split("-");return`${R}/${I}/${Y}`};return C.jsxs("div",{style:{width:"100%"},children:[C.jsxs("div",{className:"header-section",children:[C.jsxs("div",{className:"page-title-wrapper",style:{display:"flex",alignItems:"center"},children:[C.jsx("button",{className:"mobile-toggle-btn",onClick:n,children:C.jsx("i",{className:"fa-solid fa-bars"})}),C.jsxs("div",{className:"page-title",children:[C.jsx("h1",{children:"Absensi Matriks"}),C.jsx("p",{children:"Rekap kehadiran 7 hari terakhir"})]})]}),C.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[C.jsx("label",{style:{fontSize:"11px",color:"var(--text-gray)",marginBottom:"4px"},children:"Pilih Hari Terakhir:"}),C.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[C.jsxs("div",{className:"form-control",style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"10px",cursor:"pointer",background:"white",width:"160px",padding:"8px 12px",border:"1px solid var(--border-color)",borderRadius:"8px"},children:[C.jsx("span",{style:{fontWeight:"600",color:"#334155",fontSize:"14px"},children:$(i)}),C.jsx("i",{className:"fa-regular fa-calendar",style:{color:"#64748b"}})]}),C.jsx("input",{type:"date",value:i,onChange:B=>r(B.target.value),style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:0,cursor:"pointer",zIndex:10},onClick:B=>B.target.showPicker&&B.target.showPicker()})]})]})]}),C.jsx("div",{className:"form-card",style:{padding:"0",overflow:"hidden"},children:y?C.jsx("p",{style:{padding:"40px",textAlign:"center",color:"#9ca3af"},children:"Loading data..."}):C.jsx("div",{style:{overflowX:"auto"},children:C.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"800px"},children:[C.jsx("thead",{children:C.jsxs("tr",{style:{background:"#f8fafc",borderBottom:"2px solid #e2e8f0"},children:[C.jsx("th",{style:{padding:"12px",textAlign:"left",width:"200px",position:"sticky",left:0,background:"#f8fafc",zIndex:10},children:"Nama Siswa"}),o.map(B=>{const Y=B===i;return C.jsxs("th",{style:{padding:"12px",textAlign:"center",fontSize:"13px",background:Y?"#eff6ff":"transparent",borderLeft:"1px solid #f1f5f9",color:Y?"var(--primary-blue)":"var(--text-dark)",fontWeight:Y?"700":"500"},children:[C.jsx("div",{style:{fontSize:"10px",color:Y?"var(--primary-blue)":"#94a3b8",marginBottom:"2px"},children:new Date(B).toLocaleDateString("id-ID",{weekday:"short"})}),j(B)]},B)})]})}),C.jsx("tbody",{children:t.map(B=>C.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[C.jsx("td",{style:{padding:"12px",fontSize:"14px",fontWeight:"500",color:"#0f172a",position:"sticky",left:0,background:"white",zIndex:5,boxShadow:"2px 0 5px rgba(0,0,0,0.02)"},children:B.name}),o.map(Y=>{const I=w(Y,B.id),R=A[I]||A["-"],M=Y===i;return C.jsx("td",{style:{padding:"8px",textAlign:"center",background:M?"#fbfdff":"transparent",borderLeft:"1px solid #f1f5f9"},children:C.jsxs("select",{value:I,onChange:L=>O(Y,B.id,L.target.value),style:{appearance:"none",backgroundColor:R.bg,color:R.color,border:`1px solid ${R.bg}`,borderRadius:"6px",padding:"6px 2px",width:"100%",minWidth:"40px",textAlign:"center",fontWeight:"bold",fontSize:"13px",cursor:"pointer",outline:"none"},children:[C.jsx("option",{value:"-",children:"-"}),C.jsx("option",{value:"?",children:"?"}),C.jsx("option",{value:"H",children:"H"}),C.jsx("option",{value:"S",children:"S"}),C.jsx("option",{value:"I",children:"I"}),C.jsx("option",{value:"A",children:"A"})]})},`${B.id}-${Y}`)})]},B.id))})]})})}),C.jsxs("div",{style:{marginTop:"20px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"15px"},children:[C.jsx("div",{style:{display:"flex",gap:"15px",fontSize:"12px",flexWrap:"wrap"},children:Object.keys(A).map(B=>{const Y=A[B];return C.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[C.jsx("span",{style:{width:"12px",height:"12px",borderRadius:"3px",background:Y.bg,border:`1px solid ${Y.color}`}}),C.jsx("span",{style:{color:Y.color,fontWeight:"600"},children:Y.title})]},B)})}),C.jsx("button",{className:"btn-submit",onClick:V,disabled:T||y,style:{width:"auto",padding:"12px 30px",margin:0},children:T?"Menyimpan...":"Simpan Perubahan"})]})]})},aj=()=>{const{toggleSidebar:n}=Wl(),[t,e]=W.useState([]),[i,r]=W.useState({}),[o,l]=W.useState(!0),[u,f]=W.useState(""),[d,g]=W.useState(null),[y,v]=W.useState(!1),[T,x]=W.useState("edit"),[A,w]=W.useState(!1),[O,V]=W.useState({id:"",userId:"",userName:"",amount:"",date:"",note:"",type:"income"}),[j,$]=W.useState({});W.useEffect(()=>{(async()=>{try{const ut=await yr(Ln(Ve,"users"));let q={};ut.forEach(et=>{q[et.id]=et.data()}),$(q)}catch(ut){console.error("Error fetching users:",ut)}})()},[]),W.useEffect(()=>{const lt=ga(Ln(Ve,"transactions"),Uu("date","desc"),Uu("createdAt","desc")),ut=pm(lt,q=>{const et=q.docs.map(ft=>({id:ft.id,...ft.data()}));e(et),l(!1)},q=>{console.error(q),me.error("Gagal memuat data."),l(!1)});return()=>ut()},[]),W.useEffect(()=>{if(t.length===0){r({});return}let lt=t;u&&(lt=t.filter(q=>q.date===u));const ut=lt.reduce((q,et)=>{const ft=et.date;return q[ft]||(q[ft]=[]),q[ft].push(et),q},{});r(ut)},[t,u]);const B=lt=>{d!==lt&&g(lt)},Y=lt=>{lt.stopPropagation(),g(null)},I=(lt,ut)=>{lt.stopPropagation(),x("edit"),V({id:ut.id,userId:ut.userId,userName:ut.userName,amount:ut.amount/1e3,date:ut.date,note:ut.note||"",type:ut.type}),v(!0),g(null)},R=(lt,ut)=>{lt.stopPropagation(),x("delete"),V(ut),v(!0),g(null)},M=async lt=>{lt.preventDefault(),w(!0);try{const ut=Bl(Ve,"transactions",O.id);await zA(ut,{amount:parseInt(O.amount)*1e3,date:O.date,note:O.note,updatedAt:Bu()}),me.success("Data berhasil diperbarui!"),v(!1)}catch(ut){me.error("Gagal update: "+ut.message)}finally{w(!1)}},L=async()=>{w(!0);try{await jA(Bl(Ve,"transactions",O.id)),me.success("Data dihapus."),v(!1)}catch(lt){me.error("Gagal hapus: "+lt.message)}finally{w(!1)}},P=lt=>"Rp "+new Intl.NumberFormat("id-ID").format(lt),z=lt=>lt?lt.substring(0,2).toUpperCase():"?",k=lt=>{if(!lt)return"";const ut=new Date(lt),q=String(ut.getDate()).padStart(2,"0"),et=String(ut.getMonth()+1).padStart(2,"0"),ft=ut.getFullYear();return`${q}/${et}/${ft}`};return C.jsxs("div",{style:{width:"100%"},children:[C.jsxs("div",{className:"header-section",children:[C.jsxs("div",{className:"page-title-wrapper",style:{display:"flex",alignItems:"center"},children:[C.jsx("button",{className:"mobile-toggle-btn",onClick:n,children:C.jsx("i",{className:"fa-solid fa-bars"})}),C.jsxs("div",{className:"page-title",children:[C.jsx("h1",{children:"Daily Flow"}),C.jsx("p",{children:"Monitor Pemasukan & Pengeluaran"})]})]}),C.jsxs("div",{className:"date-filter-wrapper",children:[C.jsx("input",{type:"date",className:"form-control",style:{cursor:"pointer",maxWidth:"180px"},value:u,onChange:lt=>f(lt.target.value)}),u&&C.jsx("button",{onClick:()=>f(""),style:{marginLeft:"8px",background:"none",border:"none",color:"var(--danger-red)",cursor:"pointer",fontSize:"12px"},children:"Clear"})]})]}),C.jsx("div",{className:"daily-content",children:o?C.jsx("p",{style:{color:"var(--text-gray)"},children:"Loading data..."}):Object.keys(i).length===0?C.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"var(--text-gray)"},children:[C.jsx("i",{className:"fa-regular fa-calendar-xmark",style:{fontSize:"32px",marginBottom:"10px"}}),C.jsx("p",{children:"No records found."})]}):Object.keys(i).map(lt=>C.jsxs("div",{style:{marginBottom:"40px"},children:[C.jsxs("div",{style:{marginBottom:"16px"},children:[C.jsx("h3",{style:{fontSize:"16px",fontWeight:"700",color:"var(--text-dark)"},children:k(lt)}),C.jsx("div",{style:{height:"1px",background:"var(--border-color)",marginTop:"8px",width:"100%"}})]}),C.jsx("div",{className:"user-grid",children:i[lt].map(ut=>{const q=ut.type==="expense",et=j[ut.userId]?.photo,ft=j[ut.userId]?.nickname||ut.userName;return C.jsx("div",{className:"user-card",style:{minHeight:"auto",cursor:"pointer",position:"relative",overflow:"hidden",transition:"all 0.3s",borderLeft:`4px solid ${q?"var(--danger-red)":"var(--success-green)"}`},onClick:()=>B(ut.id),children:d===ut.id?C.jsxs("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center",width:"100%",height:"100%",animation:"fadeIn 0.2s"},children:[C.jsx("button",{onClick:vt=>I(vt,ut),style:{background:"#3b82f6",color:"white",border:"none",padding:"10px",borderRadius:"50%",width:"40px",height:"40px",cursor:"pointer"},children:C.jsx("i",{className:"fa-solid fa-pen-to-square"})}),C.jsx("button",{onClick:vt=>R(vt,ut),style:{background:"#ef4444",color:"white",border:"none",padding:"10px",borderRadius:"50%",width:"40px",height:"40px",cursor:"pointer"},children:C.jsx("i",{className:"fa-solid fa-trash-can"})}),C.jsx("button",{onClick:Y,style:{background:"#9ca3af",color:"white",border:"none",padding:"10px",borderRadius:"50%",width:"40px",height:"40px",cursor:"pointer"},children:C.jsx("i",{className:"fa-solid fa-rotate-left"})})]}):C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"user-info-wrapper",children:[C.jsx("div",{className:"avatar",style:{backgroundColor:et?"transparent":q?"#ef4444":"#2563eb",backgroundImage:et?`url(${et})`:"none",backgroundSize:"cover",backgroundPosition:"center",border:"1px solid #e2e8f0",color:et?"transparent":"white"},children:!et&&z(ft)}),C.jsxs("div",{className:"info",children:[C.jsx("h3",{children:ft}),C.jsx("div",{style:{fontSize:"11px",color:q?"var(--danger-red)":"var(--success-green)",fontWeight:"600",textTransform:"uppercase"},children:q?"Expense":"Income"}),ut.note&&C.jsxs("p",{style:{fontSize:"11px",fontStyle:"italic",color:"#64748b"},children:['"',ut.note,'"']})]})]}),C.jsxs("div",{style:{fontWeight:"700",color:q?"var(--danger-red)":"var(--success-green)",fontSize:"15px"},children:[q?"-":"+",P(ut.amount)]})]})},ut.id)})})]},lt))}),y&&C.jsx("div",{className:"modal-overlay active",style:{display:"flex"},children:C.jsxs("div",{className:"modal-box",children:[C.jsxs("div",{className:"modal-header",children:[C.jsx("h3",{children:T==="edit"?"Edit Transaction":"Delete Transaction"}),C.jsx("button",{className:"close-modal",onClick:()=>v(!1),children:""})]}),T==="edit"?C.jsxs("form",{onSubmit:M,children:[C.jsxs("div",{className:"modal-body",children:[C.jsxs("p",{style:{marginBottom:"15px",fontWeight:"600"},children:["User: ",O.userName]}),C.jsx("div",{style:{display:"inline-block",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"bold",marginBottom:"15px",backgroundColor:O.type==="expense"?"#fee2e2":"#dcfce7",color:O.type==="expense"?"#991b1b":"#166534"},children:O.type==="expense"?"Substract Income (Expense)":"Add Income"}),C.jsx("label",{style:{display:"block",marginBottom:"5px",fontSize:"13px"},children:"Amount (Dalam Ribuan)"}),C.jsx("input",{type:"number",className:"form-control",style:{marginBottom:"15px"},value:O.amount,onChange:lt=>V({...O,amount:lt.target.value}),required:!0}),C.jsx("label",{style:{display:"block",marginBottom:"5px",fontSize:"13px"},children:"Date"}),C.jsx("input",{type:"date",className:"form-control",style:{marginBottom:"15px"},value:O.date,onChange:lt=>V({...O,date:lt.target.value}),required:!0}),C.jsx("label",{style:{display:"block",marginBottom:"5px",fontSize:"13px"},children:"Note"}),C.jsx("textarea",{className:"form-control",value:O.note,onChange:lt=>V({...O,note:lt.target.value})})]}),C.jsxs("div",{className:"modal-footer",children:[C.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>v(!1),children:"Cancel"}),C.jsx("button",{type:"submit",className:"btn-save",disabled:A,children:A?"Saving...":"Save Changes"})]})]}):C.jsxs("div",{children:[C.jsxs("div",{className:"modal-body",children:[C.jsxs("p",{children:["Yakin ingin menghapus data ",C.jsx("b",{children:O.type==="expense"?"pengeluaran":"pemasukan"})," dari ",C.jsx("b",{children:O.userName})," sebesar ",C.jsx("b",{children:P(O.amount)}),"?"]}),C.jsx("p",{style:{fontSize:"12px",color:"red",marginTop:"10px"},children:"Tindakan ini tidak dapat dibatalkan."})]}),C.jsxs("div",{className:"modal-footer",children:[C.jsx("button",{className:"btn-cancel",onClick:()=>v(!1),children:"Cancel"}),C.jsx("button",{className:"btn-save",style:{backgroundColor:"var(--danger-red)"},onClick:L,disabled:A,children:A?"Deleting...":"Delete Permanently"})]})]})]})})]})},oj=()=>{const{toggleSidebar:n}=Wl(),[t,e]=W.useState([]),[i,r]=W.useState({}),[o,l]=W.useState(!0);W.useEffect(()=>{(async()=>{try{const y=(await yr(Ln(Ve,"users"))).docs.map(x=>({id:x.id,name:x.data().name,nickname:x.data().nickname,photo:x.data().photo})),v=await yr(Ln(Ve,"transactions")),T={};v.forEach(x=>{const A=x.data(),w=A.userId,O=parseInt(A.amount)||0;T[w]||(T[w]=0),A.type==="income"?T[w]+=O:A.type==="expense"&&(T[w]-=O)}),e(y),r(T),l(!1)}catch(g){console.error(g),me.error("Gagal memuat data tabungan."),l(!1)}})()},[]);const u=d=>"Rp "+new Intl.NumberFormat("id-ID").format(d),f=d=>d?d.substring(0,2).toUpperCase():"S";return C.jsxs("div",{style:{width:"100%"},children:[C.jsx("div",{className:"header-section",children:C.jsxs("div",{className:"page-title-wrapper",style:{display:"flex",alignItems:"center"},children:[C.jsx("button",{className:"mobile-toggle-btn",onClick:n,children:C.jsx("i",{className:"fa-solid fa-bars"})}),C.jsxs("div",{className:"page-title",children:[C.jsx("h1",{children:"Student Savings"}),C.jsx("p",{children:"Total saldo tabungan setiap siswa"})]})]})}),C.jsx("div",{className:"user-grid",children:o?C.jsx("p",{style:{color:"var(--text-gray)"},children:"Menghitung saldo..."}):t.length===0?C.jsx("p",{style:{color:"var(--text-gray)"},children:"Belum ada siswa."}):t.map(d=>{const g=i[d.id]||0;return C.jsxs("div",{className:"user-card",style:{alignItems:"center"},children:[C.jsxs("div",{className:"user-info-wrapper",children:[C.jsx("div",{className:"avatar",style:{backgroundColor:d.photo?"transparent":"var(--primary-blue)",backgroundImage:d.photo?`url(${d.photo})`:"none",backgroundSize:"cover",backgroundPosition:"center",border:"1px solid #e2e8f0",color:d.photo?"transparent":"white"},children:!d.photo&&f(d.nickname||d.name)}),C.jsxs("div",{className:"info",children:[C.jsx("h3",{style:{fontSize:"15px"},children:d.name}),C.jsx("p",{style:{fontSize:"12px"},children:"Total Saldo"})]})]}),C.jsx("div",{style:{textAlign:"right"},children:C.jsx("div",{style:{fontSize:"16px",fontWeight:"700",color:g>=0?"var(--primary-blue)":"var(--danger-red)"},children:u(g)})})]},d.id)})})]})};function lj(){return C.jsx(B2,{basename:"/paud-rohani-fsr/",children:C.jsxs(_2,{children:[C.jsx(er,{path:"/",element:C.jsx(MV,{})}),C.jsxs(er,{element:C.jsx(NV,{}),children:[C.jsx(er,{path:"/dashboard",element:C.jsx(nj,{})}),C.jsx(er,{path:"/income",element:C.jsx(ij,{})}),C.jsx(er,{path:"/daily-income",element:C.jsx(aj,{})}),C.jsx(er,{path:"/savings",element:C.jsx(oj,{})}),C.jsx(er,{path:"/users",element:C.jsx(sj,{})}),C.jsx(er,{path:"/absensi",element:C.jsx(rj,{})})]})]})})}wI.createRoot(document.getElementById("root")).render(C.jsx(mt.StrictMode,{children:C.jsx(lj,{})}));
